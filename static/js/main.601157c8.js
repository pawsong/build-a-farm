!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="/build-a-farm/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var o=t.slice(1),n=e[t[0]];return function(e,t,r){n.apply(this,[e,t,r].concat(o))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,o){o(410),e.exports=o(468)},function(e,t,o){(function(e,n){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,o){if(i()<o)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(o),t.__proto__=e.prototype):(null===t&&(t=new e(o)),t.length=o),t}function e(t,o,n){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,o,n);if("number"==typeof t){if("string"==typeof o)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,o,n)}function s(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,o,n):"string"==typeof t?h(e,t,o):f(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,o,n){return l(t),t<=0?a(e,t):void 0!==o?"string"==typeof n?a(e,t).fill(o,n):a(e,t).fill(o):a(e,t)}function u(t,o){if(l(o),t=a(t,o<0?0:0|p(o)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;n<o;++n)t[n]=0;return t}function h(t,o,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(o,n);t=a(t,r);var i=t.write(o,n);return i!==r&&(t=t.slice(0,i)),t}function g(e,t){var o=t.length<0?0:0|p(t.length);e=a(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function d(t,o,n,r){if(o.byteLength,n<0||o.byteLength<n)throw new RangeError("'offset' is out of bounds");if(o.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return o=void 0===n&&void 0===r?new Uint8Array(o):void 0===r?new Uint8Array(o,n):new Uint8Array(o,n,r),e.TYPED_ARRAY_SUPPORT?(t=o,t.__proto__=e.prototype):t=g(t,o),t}function f(t,o){if(e.isBuffer(o)){var n=0|p(o.length);return t=a(t,n),0===t.length?t:(o.copy(t,0,0,n),t)}if(o){if("undefined"!=typeof ArrayBuffer&&o.buffer instanceof ArrayBuffer||"length"in o)return"number"!=typeof o.length||q(o.length)?a(t,0):g(t,o);if("Buffer"===o.type&&$(o.data))return g(t,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function y(t){return+t!=t&&(t=0),e.alloc(+t)}function b(t,o){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(o){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return z(t).length;o=(""+o).toLowerCase(),r=!0}}function _(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if(o>>>=0,t>>>=0,o<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,o);case"utf8":case"utf-8":return I(this,t,o);case"ascii":return R(this,t,o);case"latin1":case"binary":return M(this,t,o);case"base64":return w(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function v(t,o,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof o&&(o=e.from(o,r)),e.isBuffer(o))return 0===o.length?-1:E(t,o,n,r,i);if("number"==typeof o)return o=255&o,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,o,n):Uint8Array.prototype.lastIndexOf.call(t,o,n):E(t,[o],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,o,n,r){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}var c;if(r){var u=-1;for(c=o;c<s;c++)if(i(e,c)===i(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===l)return u*a}else u!==-1&&(c-=c-u),u=-1}else for(o+l>s&&(o=s-l),c=o;c>=0;c--){for(var h=!0,g=0;g<l;g++)if(i(e,c+g)!==i(t,g)){h=!1;break}if(h)return c}return-1}function k(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n),n>r&&(n=r)):n=r;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function T(e,t,o,n){return J(z(t,e.length-o),e,o,n)}function S(e,t,o,n){return J(K(t),e,o,n)}function C(e,t,o,n){return S(e,t,o,n)}function B(e,t,o,n){return J(Y(t),e,o,n)}function A(e,t,o,n){return J(X(t,e.length-o),e,o,n)}function w(e,t,o){return 0===t&&o===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,o))}function I(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;r<o;){var i=e[r],a=null,s=i>239?4:i>223?3:i>191?2:1;if(r+s<=o){var l,c,u,h;switch(s){case 1:i<128&&(a=i);break;case 2:l=e[r+1],128===(192&l)&&(h=(31&i)<<6|63&l,h>127&&(a=h));break;case 3:l=e[r+1],c=e[r+2],128===(192&l)&&128===(192&c)&&(h=(15&i)<<12|(63&l)<<6|63&c,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:l=e[r+1],c=e[r+2],u=e[r+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&i)<<18|(63&l)<<12|(63&c)<<6|63&u,h>65535&&h<1114112&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),r+=s}return O(n)}function O(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var o="",n=0;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=ee));return o}function R(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(127&e[r]);return n}function M(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(e[r]);return n}function x(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var r="",i=t;i<o;++i)r+=W(e[i]);return r}function N(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function L(e,t,o){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function D(t,o,n,r,i,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>i||o<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(e,t,o,n){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-o,2);r<i;++r)e[o+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function F(e,t,o,n){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-o,4);r<i;++r)e[o+r]=t>>>8*(n?r:3-r)&255}function U(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function H(e,t,o,n,r){return r||U(e,t,o,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,o,n,23,4),o+4}function V(e,t,o,n,r){return r||U(e,t,o,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,o,n,52,8),o+8}function j(e){if(e=G(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var o,n=e.length,r=null,i=[],a=0;a<n;++a){if(o=e.charCodeAt(a),o>55295&&o<57344){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=(r-55296<<10|o-56320)+65536}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function K(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}function X(e,t){for(var o,n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),n=o>>8,r=o%256,i.push(r),i.push(n);return i}function Y(e){return Z.toByteArray(j(e))}function J(e,t,o,n){for(var r=0;r<n&&!(r+o>=t.length||r>=e.length);++r)t[r+o]=e[r];return r}function q(e){return e!==e}var Z=o(530),Q=o(148),$=o(541);t.Buffer=e,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:r(),t.kMaxLength=i(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,o){return s(null,e,t,o)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,o){return c(null,e,t,o)},e.allocUnsafe=function(e){return u(null,e)},e.allocUnsafeSlow=function(e){return u(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,o){if(!e.isBuffer(t)||!e.isBuffer(o))throw new TypeError("Arguments must be Buffers");if(t===o)return 0;for(var n=t.length,r=o.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==o[i]){n=t[i],r=o[i];break}return n<r?-1:r<n?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,o){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var n;if(void 0===o)for(o=0,n=0;n<t.length;++n)o+=t[n].length;var r=e.allocUnsafe(o),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},e.byteLength=b,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):_.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,o,n,r,i){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===o&&(o=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),o<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&o>=n)return 0;if(r>=i)return-1;if(o>=n)return 1;if(o>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-o,l=Math.min(a,s),c=this.slice(r,i),u=t.slice(o,n),h=0;h<l;++h)if(c[h]!==u[h]){a=c[h],s=u[h];break}return a<s?-1:s<a?1:0},e.prototype.includes=function(e,t,o){return this.indexOf(e,t,o)!==-1},e.prototype.indexOf=function(e,t,o){return v(this,e,t,o,!0)},e.prototype.lastIndexOf=function(e,t,o){return v(this,e,t,o,!1)},e.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(o)?(o=0|o,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return k(this,e,t,o);case"utf8":case"utf-8":return T(this,e,t,o);case"ascii":return S(this,e,t,o);case"latin1":case"binary":return C(this,e,t,o);case"base64":return B(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,o){var n=this.length;t=~~t,o=void 0===o?n:~~o,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),o<0?(o+=n,o<0&&(o=0)):o>n&&(o=n),o<t&&(o=t);var r;if(e.TYPED_ARRAY_SUPPORT)r=this.subarray(t,o),r.__proto__=e.prototype;else{var i=o-t;r=new e(i,(void 0));for(var a=0;a<i;++a)r[a]=this[a+t]}return r},e.prototype.readUIntLE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},e.prototype.readUIntBE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},e.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},e.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},e.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),Q.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),Q.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),Q.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),Q.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,o,n){if(e=+e,t=0|t,o=0|o,!n){var r=Math.pow(2,8*o)-1;D(this,e,t,o,r,0)}var i=1,a=0;for(this[t]=255&e;++a<o&&(i*=256);)this[t+a]=e/i&255;return t+o},e.prototype.writeUIntBE=function(e,t,o,n){if(e=+e,t=0|t,o=0|o,!n){var r=Math.pow(2,8*o)-1;D(this,e,t,o,r,0)}var i=o-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+o},e.prototype.writeUInt8=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[o]=255&t,o+1},e.prototype.writeUInt16LE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[o]=255&t,this[o+1]=t>>>8):P(this,t,o,!0),o+2},e.prototype.writeUInt16BE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[o]=t>>>8,this[o+1]=255&t):P(this,t,o,!1),o+2},e.prototype.writeUInt32LE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[o+3]=t>>>24,this[o+2]=t>>>16,this[o+1]=t>>>8,this[o]=255&t):F(this,t,o,!0),o+4},e.prototype.writeUInt32BE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t):F(this,t,o,!1),o+4},e.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t=0|t,!n){var r=Math.pow(2,8*o-1);D(this,e,t,o,r-1,-r)}var i=0,a=1,s=0;for(this[t]=255&e;++i<o&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},e.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t=0|t,!n){var r=Math.pow(2,8*o-1);D(this,e,t,o,r-1,-r)}var i=o-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},e.prototype.writeInt8=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[o]=255&t,o+1},e.prototype.writeInt16LE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[o]=255&t,this[o+1]=t>>>8):P(this,t,o,!0),o+2},e.prototype.writeInt16BE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[o]=t>>>8,this[o+1]=255&t):P(this,t,o,!1),o+2},e.prototype.writeInt32LE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[o]=255&t,this[o+1]=t>>>8,this[o+2]=t>>>16,this[o+3]=t>>>24):F(this,t,o,!0),o+4},e.prototype.writeInt32BE=function(t,o,n){return t=+t,o=0|o,n||D(this,t,o,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t):F(this,t,o,!1),o+4},e.prototype.writeFloatLE=function(e,t,o){return H(this,e,t,!0,o)},e.prototype.writeFloatBE=function(e,t,o){return H(this,e,t,!1,o)},e.prototype.writeDoubleLE=function(e,t,o){return V(this,e,t,!0,o)},e.prototype.writeDoubleBE=function(e,t,o){return V(this,e,t,!1,o)},e.prototype.copy=function(t,o,n,r){if(n||(n=0),r||0===r||(r=this.length),o>=t.length&&(o=t.length),o||(o=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-o<r-n&&(r=t.length-o+n);var i,a=r-n;if(this===t&&n<o&&o<r)for(i=a-1;i>=0;--i)t[i+o]=this[i+n];else if(a<1e3||!e.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+o]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),o);return a},e.prototype.fill=function(t,o,n,r){if("string"==typeof t){if("string"==typeof o?(r=o,o=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!e.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t=255&t);if(o<0||this.length<o||this.length<n)throw new RangeError("Out of range index");if(n<=o)return this;o>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=o;a<n;++a)this[a]=t;else{var s=e.isBuffer(t)?t:z(new e(t,r).toString()),l=s.length;for(a=0;a<n-o;++a)this[a+o]=s[a%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,o(1).Buffer,function(){return this}())},function(e,t,o){"use strict";function n(e,t,o,n,r,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,i,a,s],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=n},function(e,t){"use strict";function o(e){for(var t=arguments.length-1,o="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)o+="&args[]="+encodeURIComponent(arguments[n+1]);o+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=new Error(o);throw r.name="Invariant Violation",r.framesToPop=1,r}e.exports=o},function(e,t,o){"use strict";var n=o(16),r=n;e.exports=r},function(e,t){function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===o||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){p&&d&&(p=!1,d.length?f=d.concat(f):y=-1,f.length&&s())}function s(){if(!p){var e=r(a);p=!0;for(var t=f.length;t;){for(d=f,f=[];++y<t;)d&&d[y].run();y=-1,t=f.length}d=null,p=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,h,g=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:o}catch(e){u=o}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var d,f=[],p=!1,y=-1;g.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];f.push(new l(e,t)),1!==f.length||p||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=c,g.addListener=c,g.once=c,g.off=c,g.removeListener=c,g.removeAllListeners=c,g.emit=c,g.binding=function(e){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(e){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(e,t,o){"use strict";e.exports=o(301)},function(e,t){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,t){for(var n,a,s=o(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)r.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var u=0;u<a.length;u++)i.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},function(e,t,o){function n(){r.call(this)}e.exports=n;var r=o(11).EventEmitter,i=o(32);i(n,r),n.Readable=o(857),n.Writable=o(859),n.Duplex=o(855),n.Transform=o(858),n.PassThrough=o(856),n.Stream=n,n.prototype.pipe=function(e,t){function o(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function n(){c.readable&&c.resume&&c.resume()}function i(){u||(u=!0,e.end())}function a(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){c.removeListener("data",o),e.removeListener("drain",n),c.removeListener("end",i),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",l),c.removeListener("close",l),e.removeListener("close",l)}var c=this;c.on("data",o),e.on("drain",n),e._isStdio||t&&t.end===!1||(c.on("end",i),c.on("close",a));var u=!1;return c.on("error",s),e.on("error",s),c.on("end",l),c.on("close",l),e.on("close",l),e.emit("pipe",c),e}},[1226,50,264,105,542,87],[1226,54,363,124,925,91],function(e,t){function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emit=function(e){var t,o,r,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o=this._events[e],a(o))return!1;if(n(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),o.apply(this,s)}else if(i(o))for(s=Array.prototype.slice.call(arguments,1),c=o.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,s);return!0},o.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?o.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){function o(){this.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return o.listener=t,this.on(e,o),this},o.prototype.removeListener=function(e,t){var o,r,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=this._events[e],a=o.length,r=-1,o===t||n(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(o)){for(s=a;s-- >0;)if(o[s]===t||o[s].listener&&o[s].listener===t){r=s;break}if(r<0)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o=this._events[e],n(o))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},o.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,o){"use strict";function n(e){for(var t;t=e._renderedComponent;)e=t;return e}function r(e,t){var o=n(e);o._hostNode=t,t[p]=o}function i(e){var t=e._hostNode;t&&(delete t[p],e._hostNode=null)}function a(e,t){if(!(e._flags&f.hasCachedChildNodes)){var o=e._renderedChildren,i=t.firstChild;e:for(var a in o)if(o.hasOwnProperty(a)){var s=o[a],l=n(s)._domID;if(0!==l){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(d)===String(l)||8===i.nodeType&&i.nodeValue===" react-text: "+l+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+l+" "){r(s,i);continue e}u("32",l)}}e._flags|=f.hasCachedChildNodes}}function s(e){if(e[p])return e[p];for(var t=[];!e[p];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var o,n;e&&(n=e[p]);e=t.pop())o=n,t.length&&a(n,e);return o}function l(e){var t=s(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode?u("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:u("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode}var u=o(3),h=o(71),g=o(303),d=(o(2),h.ID_ATTRIBUTE_NAME),f=g,p="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:s,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:r,uncacheNode:i};e.exports=y},function(e,t,o){(function(e,n){function r(e,o){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(o)?n.showHidden=o:o&&t._extend(n,o),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),l(n,e,n.depth)}function i(e,t){var o=r.styles[t];return o?"["+r.colors[o][0]+"m"+e+"["+r.colors[o][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,o){t[e]=!0}),t}function l(e,o,n){if(e.customInspect&&o&&B(o.inspect)&&o.inspect!==t.inspect&&(!o.constructor||o.constructor.prototype!==o)){var r=o.inspect(n,e);return m(r)||(r=l(e,r,n)),r}var i=c(e,o);if(i)return i;var a=Object.keys(o),p=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(o)),C(o)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(o);if(0===a.length){if(B(o)){var y=o.name?": "+o.name:"";return e.stylize("[Function"+y+"]","special")}if(k(o))return e.stylize(RegExp.prototype.toString.call(o),"regexp");if(S(o))return e.stylize(Date.prototype.toString.call(o),"date");if(C(o))return u(o)}var b="",_=!1,v=["{","}"];if(f(o)&&(_=!0,v=["[","]"]),B(o)){var E=o.name?": "+o.name:"";b=" [Function"+E+"]"}if(k(o)&&(b=" "+RegExp.prototype.toString.call(o)),S(o)&&(b=" "+Date.prototype.toUTCString.call(o)),C(o)&&(b=" "+u(o)),0===a.length&&(!_||0==o.length))return v[0]+b+v[1];if(n<0)return k(o)?e.stylize(RegExp.prototype.toString.call(o),"regexp"):e.stylize("[Object]","special");e.seen.push(o);var T;return T=_?h(e,o,n,p,a):a.map(function(t){return g(e,o,n,p,t,_)}),e.seen.pop(),d(T,b,v)}function c(e,t){if(E(t))return e.stylize("undefined","undefined");if(m(t)){var o="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(o,"string")}return _(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,o,n,r){for(var i=[],a=0,s=t.length;a<s;++a)R(t,String(a))?i.push(g(e,t,o,n,String(a),!0)):i.push("");
return r.forEach(function(r){r.match(/^\d+$/)||i.push(g(e,t,o,n,r,!0))}),i}function g(e,t,o,n,r,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),R(n,r)||(a="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=y(o)?l(e,c.value,null):l(e,c.value,o-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),E(a)){if(i&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,o){var n=0,r=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?o[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+o[1]:o[0]+t+" "+e.join(", ")+" "+o[1]}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return null==e}function _(e){return"number"==typeof e}function m(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function E(e){return void 0===e}function k(e){return T(e)&&"[object RegExp]"===w(e)}function T(e){return"object"==typeof e&&null!==e}function S(e){return T(e)&&"[object Date]"===w(e)}function C(e){return T(e)&&("[object Error]"===w(e)||e instanceof Error)}function B(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function w(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],o=0;o<arguments.length;o++)t.push(r(arguments[o]));return t.join(" ")}for(var o=1,n=arguments,i=n.length,a=String(e).replace(M,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}default:return e}}),s=n[o];o<i;s=n[++o])a+=y(s)||!T(s)?" "+s:" "+r(s);return a},t.deprecate=function(o,r){function i(){if(!a){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),a=!0}return o.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(o,r).apply(this,arguments)};if(n.noDeprecation===!0)return o;var a=!1;return i};var x,N={};t.debuglog=function(e){if(E(x)&&(x={NODE_ENV:"production",PUBLIC_URL:"/build-a-farm"}.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(x)){var o=n.pid;N[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,o,n)}}else N[e]=function(){};return N[e]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=y,t.isNullOrUndefined=b,t.isNumber=_,t.isString=m,t.isSymbol=v,t.isUndefined=E,t.isRegExp=k,t.isObject=T,t.isDate=S,t.isError=C,t.isFunction=B,t.isPrimitive=A,t.isBuffer=o(876);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=o(875),t._extend=function(e,t){if(!t||!T(t))return e;for(var o=Object.keys(t),n=o.length;n--;)e[o[n]]=t[o[n]];return e}}).call(t,function(){return this}(),o(5))},[1234,205,1026],function(e,t){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};e.exports=n},function(e,t){"use strict";function o(e){return function(){return e}}var n=function(){};n.thatReturns=o,n.thatReturnsFalse=o(!1),n.thatReturnsTrue=o(!0),n.thatReturnsNull=o(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t){var o={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};e.exports=o},function(e,t,o){"use strict";function n(e){return"[object Array]"===T.call(e)}function r(e){return"[object ArrayBuffer]"===T.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function l(e){return"number"==typeof e}function c(e){return"undefined"==typeof e}function u(e){return null!==e&&"object"==typeof e}function h(e){return"[object Date]"===T.call(e)}function g(e){return"[object File]"===T.call(e)}function d(e){return"[object Blob]"===T.call(e)}function f(e){return"[object Function]"===T.call(e)}function p(e){return u(e)&&f(e.pipe)}function y(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function b(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function m(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||n(e)||(e=[e]),n(e))for(var o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function v(){function e(e,o){"object"==typeof t[o]&&"object"==typeof e?t[o]=v(t[o],e):t[o]=e}for(var t={},o=0,n=arguments.length;o<n;o++)m(arguments[o],e);return t}function E(e,t,o){return m(t,function(t,n){o&&"function"==typeof t?e[n]=k(t,o):e[n]=t}),e}var k=o(218),T=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:r,isFormData:i,isArrayBufferView:a,isString:s,isNumber:l,isObject:u,isUndefined:c,isDate:h,isFile:g,isBlob:d,isFunction:f,isStream:p,isURLSearchParams:y,isStandardBrowserEnv:_,forEach:m,merge:v,extend:E,trim:b}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){var o=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=o)},function(e,t){"use strict";function o(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var o=0;o<this._listeners[e].length;o++)this._listeners[e][o].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=o},function(e,t,o){function n(e){return"string"==typeof e?s.call(this,e):l(this).from(e)}function r(e){return l(this).alloc(e)}function i(e,o){function n(e){o+=e.length}function i(e){l+=v.copy.call(e,s,l)}o||(o=0,Array.prototype.forEach.call(e,n));var a=this!==t&&this||e[0],s=r.call(a,o),l=0;return Array.prototype.forEach.call(e,i),s}function a(e){return e instanceof ArrayBuffer||E(e)}function s(e){var t=3*e.length,o=r.call(this,t),n=v.write.call(o,e);return t!==n&&(o=v.slice.call(o,0,n)),o}function l(e){return p(e)?_:y(e)?m:f(e)?b:g?_:d?m:b}function c(){return!1}function u(e,t){return e="[object "+e+"]",function(o){return null!=o&&{}.toString.call(t?o[t]:o)===e}}var h=t.global=o(714),g=t.hasBuffer=h&&!!h.isBuffer,d=t.hasArrayBuffer="undefined"!=typeof ArrayBuffer,f=t.isArray=o(160);t.isArrayBuffer=d?a:c;var p=t.isBuffer=g?h.isBuffer:c,y=t.isView=d?ArrayBuffer.isView||u("ArrayBuffer","buffer"):c;t.alloc=r,t.concat=i,t.from=n;var b=t.Array=o(716),_=t.Buffer=o(717),m=t.Uint8Array=o(718),v=t.prototype=o(156),E=u("ArrayBuffer")},[1187,42],21,function(e,t,o){e.exports={default:o(490),__esModule:!0}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(480),i=n(r);t.default=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}()},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(482),i=n(r),a=o(479),s=n(a),l=o(127),c=n(l);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(127),i=n(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,o){"use strict";function n(e){return void 0!==e.ref}function r(e){return void 0!==e.key}var i=o(7),a=o(53),s=(o(4),o(315),Object.prototype.hasOwnProperty),l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,c={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,o,n,r,i,a){var s={$$typeof:l,type:e,key:t,ref:o,props:a,_owner:i};return s};u.createElement=function(e,t,o){var i,l={},h=null,g=null,d=null,f=null;if(null!=t){n(t)&&(g=t.ref),r(t)&&(h=""+t.key),d=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!c.hasOwnProperty(i)&&(l[i]=t[i])}var p=arguments.length-2;if(1===p)l.children=o;else if(p>1){for(var y=Array(p),b=0;b<p;b++)y[b]=arguments[b+2];l.children=y}if(e&&e.defaultProps){var _=e.defaultProps;for(i in _)void 0===l[i]&&(l[i]=_[i])}return u(e,h,g,d,f,a.current,l)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var o=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return o},u.cloneElement=function(e,t,o){var l,h=i({},e.props),g=e.key,d=e.ref,f=e._self,p=e._source,y=e._owner;if(null!=t){n(t)&&(d=t.ref,y=a.current),r(t)&&(g=""+t.key);var b;e.type&&e.type.defaultProps&&(b=e.type.defaultProps);for(l in t)s.call(t,l)&&!c.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==b?h[l]=b[l]:h[l]=t[l])}var _=arguments.length-2;if(1===_)h.children=o;else if(_>1){for(var m=Array(_),v=0;v<_;v++)m[v]=arguments[v+2];h.children=m}return u(e.type,g,d,f,p,y,h)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===l},u.REACT_ELEMENT_TYPE=l,e.exports=u},function(e,t,o){"use strict";var n=null;e.exports={debugTool:n}},function(e,t,o){var n=o(137)("wks"),r=o(96),i=o(46).Symbol,a="function"==typeof i,s=e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:r)("Symbol."+e))};s.store=n},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},function(e,t,o){"use strict";var n=o(100),r=n({bubbled:null,captured:null}),i=n({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:r};e.exports=a},function(e,t,o){"use strict";function n(){A.ReactReconcileTransaction&&E?void 0:u("123")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=g.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!0)}function i(e,t,o,r,i,a){n(),E.batchedUpdates(e,t,o,r,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==b.length?u("124",t,b.length):void 0,b.sort(a),_++;for(var o=0;o<t;o++){var n=b[o],r=n._pendingCallbacks;n._pendingCallbacks=null;var i;if(f.logTopLevelRenders){var s=n;n._currentElement.props===n._renderedComponent._currentElement&&(s=n._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(p.performUpdateIfNecessary(n,e.reconcileTransaction,_),i&&console.timeEnd(i),r)for(var l=0;l<r.length;l++)e.callbackQueue.enqueue(r[l],n.getPublicInstance())}}function l(e){return n(),E.isBatchingUpdates?(b.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=_+1))):void E.batchedUpdates(l,e)}function c(e,t){E.isBatchingUpdates?void 0:u("125"),m.enqueue(e,t),v=!0}var u=o(3),h=o(7),g=o(299),d=o(52),f=o(306),p=o(75),y=o(90),b=(o(2),[]),_=0,m=g.getPooled(),v=!1,E=null,k={initialize:function(){this.dirtyComponentsLength=b.length},close:function(){this.dirtyComponentsLength!==b.length?(b.splice(0,this.dirtyComponentsLength),C()):b.length=0}},T={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[k,T];h(r.prototype,y.Mixin,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,g.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,o){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,o)}}),d.addPoolingTo(r);var C=function(){for(;b.length||v;){if(b.length){var e=r.getPooled();e.perform(s,null,e),r.release(e)}if(v){v=!1;var t=m;m=g.getPooled(),t.notifyAll(),g.release(t)}}},B={injectReconcileTransaction:function(e){e?void 0:u("126"),A.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:u("127"),"function"!=typeof e.batchedUpdates?u("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?u("129"):void 0,E=e}},A={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:l,flushBatchedUpdates:C,injection:B,asap:c};e.exports=A},function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}},function(e,t,o){(function(e){function o(e){return Array.isArray?Array.isArray(e):"[object Array]"===y(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function u(e){return"[object RegExp]"===y(e)}function h(e){return"object"==typeof e&&null!==e}function g(e){return"[object Date]"===y(e)}function d(e){return"[object Error]"===y(e)||e instanceof Error}function f(e){return"function"==typeof e}function p(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function y(e){return Object.prototype.toString.call(e)}t.isArray=o,t.isBoolean=n,t.isNull=r,t.isNullOrUndefined=i,t.isNumber=a,t.isString=s,t.isSymbol=l,t.isUndefined=c,t.isRegExp=u,t.isObject=h,t.isDate=g,t.isError=d,t.isFunction=f,t.isPrimitive=p,t.isBuffer=e.isBuffer}).call(t,o(1).Buffer)},[1185,42],32,36,function(e,t,o){"use strict";e.exports=o(802)},function(e,t,o){"use strict";function n(e,t,o,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=o;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s?this[i]=s(o):"target"===i?this.target=n:this[i]=o[i]}var l=null!=o.defaultPrevented?o.defaultPrevented:o.returnValue===!1;return l?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var r=o(7),i=o(52),a=o(16),s=(o(4),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var o=0;o<s.length;o++)this[s[o]]=null}}),n.Interface=l,n.augmentClass=function(e,t){var o=this,n=function(){};n.prototype=o.prototype;var a=new n;r(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=r({},o.Interface,t),e.augmentClass=o.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(n,i.fourArgumentPooler),e.exports=n},function(e,t){var o={};o.EPSILON=1e-6,o.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,o.RANDOM=Math.random,o.ENABLE_SIMD=!1,o.SIMD_AVAILABLE=o.ARRAY_TYPE===Float32Array&&"SIMD"in this,o.USE_SIMD=o.ENABLE_SIMD&&o.SIMD_AVAILABLE,o.setMatrixArrayType=function(e){o.ARRAY_TYPE=e};var n=Math.PI/180;o.toRadian=function(e){return e*n},o.equals=function(e,t){return Math.abs(e-t)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},e.exports=o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(478),i=n(r);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}},[1161,46,20,129,66],function(e,t){var o=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},[1164,64,230,139,57],function(e,t){"use strict";var o=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){return o?[e,t]:e},e.exports=t.default},[1224,267],function(e,t){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var o=t.shift();if(o){if("object"!=typeof o)throw new TypeError(o+"must be non-object");for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,o,n,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(o,o+n),r);for(var i=0;i<n;i++)e[r+i]=t[o+i]},flattenChunks:function(e){var t,o,n,r,i,a;for(n=0,t=0,o=e.length;t<o;t++)n+=e[t].length;for(a=new Uint8Array(n),r=0,t=0,o=e.length;t<o;t++)i=e[t],a.set(i,r),r+=i.length;return a}},r={arraySet:function(e,t,o,n,r){for(var i=0;i<n;i++)e[r+i]=t[o+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(o)},function(e,t,o){"use strict";var n=o(3),r=(o(2),function(e){var t=this;if(t.instancePool.length){var o=t.instancePool.pop();return t.call(o,e),o}return new t(e)}),i=function(e,t){var o=this;if(o.instancePool.length){var n=o.instancePool.pop();return o.call(n,e,t),n}return new o(e,t)},a=function(e,t,o){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t,o),r}return new n(e,t,o)},s=function(e,t,o,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,o,n),i}return new r(e,t,o,n)},l=function(e,t,o,n,r){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,o,n,r),a}return new i(e,t,o,n,r)},c=function(e){var t=this;e instanceof t?void 0:n("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=10,h=r,g=function(e,t){var o=e;return o.instancePool=[],o.getPooled=t||h,o.poolSize||(o.poolSize=u),o.release=c,o},d={addPoolingTo:g,oneArgumentPooler:r,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};e.exports=d},function(e,t){"use strict";var o={current:null};e.exports=o},[1224,366],51,function(e,t){"use strict";function o(e,t){for(var o=1,n=e.length,r=e[0],i=e[0],a=1;a<n;++a)if(i=r,r=e[a],t(r,i)){if(a===o){o++;continue}e[o++]=r}return e.length=o,e}function n(e){for(var t=1,o=e.length,n=e[0],r=e[0],i=1;i<o;++i,r=n)if(r=n,n=e[i],n!==r){if(i===t){t++;continue}e[t++]=n}return e.length=t,e}function r(e,t,r){return 0===e.length?e:t?(r||e.sort(t),o(e,t)):(r||e.sort(),n(e))}e.exports=r},[1159,65],function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},function(e,t,o){var n=o(231),r=o(130);e.exports=function(e){return n(r(e))}},function(e,t,o){(function(e,n){function r(t,o,n){function r(){for(var e;null!==(e=t.read());)s.push(e),l+=e.length;t.once("readable",r)}function i(e){t.removeListener("end",a),t.removeListener("readable",r),n(e)}function a(){var o=e.concat(s,l);s=[],n(null,o),t.close()}var s=[],l=0;t.on("error",i),t.on("end",a),t.end(o),r()}function i(t,o){if("string"==typeof o&&(o=new e(o)),!e.isBuffer(o))throw new TypeError("Not a string or buffer");var n=p.Z_FINISH;return t._processChunk(o,n)}function a(e){return this instanceof a?void d.call(this,e,p.DEFLATE):new a(e)}function s(e){return this instanceof s?void d.call(this,e,p.INFLATE):new s(e)}function l(e){return this instanceof l?void d.call(this,e,p.GZIP):new l(e)}function c(e){return this instanceof c?void d.call(this,e,p.GUNZIP):new c(e)}function u(e){return this instanceof u?void d.call(this,e,p.DEFLATERAW):new u(e)}function h(e){return this instanceof h?void d.call(this,e,p.INFLATERAW):new h(e)}function g(e){return this instanceof g?void d.call(this,e,p.UNZIP):new g(e)}function d(o,n){if(this._opts=o=o||{},this._chunkSize=o.chunkSize||t.Z_DEFAULT_CHUNK,f.call(this,o),o.flush&&o.flush!==p.Z_NO_FLUSH&&o.flush!==p.Z_PARTIAL_FLUSH&&o.flush!==p.Z_SYNC_FLUSH&&o.flush!==p.Z_FULL_FLUSH&&o.flush!==p.Z_FINISH&&o.flush!==p.Z_BLOCK)throw new Error("Invalid flush flag: "+o.flush);if(this._flushFlag=o.flush||p.Z_NO_FLUSH,o.chunkSize&&(o.chunkSize<t.Z_MIN_CHUNK||o.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+o.chunkSize);if(o.windowBits&&(o.windowBits<t.Z_MIN_WINDOWBITS||o.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+o.windowBits);if(o.level&&(o.level<t.Z_MIN_LEVEL||o.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+o.level);if(o.memLevel&&(o.memLevel<t.Z_MIN_MEMLEVEL||o.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+o.memLevel);if(o.strategy&&o.strategy!=t.Z_FILTERED&&o.strategy!=t.Z_HUFFMAN_ONLY&&o.strategy!=t.Z_RLE&&o.strategy!=t.Z_FIXED&&o.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+o.strategy);if(o.dictionary&&!e.isBuffer(o.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new p.Zlib(n);var r=this;this._hadError=!1,this._binding.onerror=function(e,o){r._binding=null,r._hadError=!0;var n=new Error(e);n.errno=o,n.code=t.codes[o],r.emit("error",n)};var i=t.Z_DEFAULT_COMPRESSION;"number"==typeof o.level&&(i=o.level);var a=t.Z_DEFAULT_STRATEGY;"number"==typeof o.strategy&&(a=o.strategy),this._binding.init(o.windowBits||t.Z_DEFAULT_WINDOWBITS,i,o.memLevel||t.Z_DEFAULT_MEMLEVEL,a,o.dictionary),this._buffer=new e(this._chunkSize),this._offset=0,this._closed=!1,this._level=i,this._strategy=a,this.once("end",this.close)}var f=o(735),p=o(540),y=o(13),b=o(212).ok;p.Z_MIN_WINDOWBITS=8,p.Z_MAX_WINDOWBITS=15,p.Z_DEFAULT_WINDOWBITS=15,p.Z_MIN_CHUNK=64,p.Z_MAX_CHUNK=1/0,p.Z_DEFAULT_CHUNK=16384,p.Z_MIN_MEMLEVEL=1,p.Z_MAX_MEMLEVEL=9,p.Z_DEFAULT_MEMLEVEL=8,p.Z_MIN_LEVEL=-1,p.Z_MAX_LEVEL=9,p.Z_DEFAULT_LEVEL=p.Z_DEFAULT_COMPRESSION,Object.keys(p).forEach(function(e){e.match(/^Z/)&&(t[e]=p[e])}),t.codes={Z_OK:p.Z_OK,Z_STREAM_END:p.Z_STREAM_END,Z_NEED_DICT:p.Z_NEED_DICT,Z_ERRNO:p.Z_ERRNO,Z_STREAM_ERROR:p.Z_STREAM_ERROR,Z_DATA_ERROR:p.Z_DATA_ERROR,Z_MEM_ERROR:p.Z_MEM_ERROR,Z_BUF_ERROR:p.Z_BUF_ERROR,Z_VERSION_ERROR:p.Z_VERSION_ERROR},Object.keys(t.codes).forEach(function(e){t.codes[t.codes[e]]=e}),t.Deflate=a,t.Inflate=s,t.Gzip=l,t.Gunzip=c,t.DeflateRaw=u,t.InflateRaw=h,t.Unzip=g,t.createDeflate=function(e){return new a(e)},t.createInflate=function(e){return new s(e)},t.createDeflateRaw=function(e){return new u(e)},t.createInflateRaw=function(e){return new h(e)},t.createGzip=function(e){return new l(e)},t.createGunzip=function(e){return new c(e)},t.createUnzip=function(e){return new g(e)},t.deflate=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new a(t),e,o)},t.deflateSync=function(e,t){return i(new a(t),e)},t.gzip=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new l(t),e,o)},t.gzipSync=function(e,t){return i(new l(t),e)},t.deflateRaw=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new u(t),e,o)},t.deflateRawSync=function(e,t){return i(new u(t),e)},t.unzip=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new g(t),e,o)},t.unzipSync=function(e,t){return i(new g(t),e)},t.inflate=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new s(t),e,o)},t.inflateSync=function(e,t){return i(new s(t),e)},t.gunzip=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new c(t),e,o)},t.gunzipSync=function(e,t){return i(new c(t),e)},t.inflateRaw=function(e,t,o){return"function"==typeof t&&(o=t,t={}),r(new h(t),e,o)},t.inflateRawSync=function(e,t){return i(new h(t),e)},y.inherits(d,f),d.prototype.params=function(e,o,r){if(e<t.Z_MIN_LEVEL||e>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(o!=t.Z_FILTERED&&o!=t.Z_HUFFMAN_ONLY&&o!=t.Z_RLE&&o!=t.Z_FIXED&&o!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+o);if(this._level!==e||this._strategy!==o){var i=this;this.flush(p.Z_SYNC_FLUSH,function(){i._binding.params(e,o),i._hadError||(i._level=e,i._strategy=o,r&&r())})}else n.nextTick(r)},d.prototype.reset=function(){return this._binding.reset()},d.prototype._flush=function(t){this._transform(new e(0),"",t)},d.prototype.flush=function(t,o){var r=this._writableState;if(("function"==typeof t||void 0===t&&!o)&&(o=t,t=p.Z_FULL_FLUSH),r.ended)o&&n.nextTick(o);else if(r.ending)o&&this.once("end",o);else if(r.needDrain){var i=this;this.once("drain",function(){i.flush(o)})}else this._flushFlag=t,this.write(new e(0),"",o)},d.prototype.close=function(e){if(e&&n.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;n.nextTick(function(){t.emit("close")})}},d.prototype._transform=function(t,o,n){var r,i=this._writableState,a=i.ending||i.ended,s=a&&(!t||i.length===t.length);if(null===!t&&!e.isBuffer(t))return n(new Error("invalid input"));s?r=p.Z_FINISH:(r=this._flushFlag,t.length>=i.length&&(this._flushFlag=this._opts.flush||p.Z_NO_FLUSH));this._processChunk(t,r,n)},d.prototype._processChunk=function(t,o,n){function r(u,d){if(!l._hadError){var f=a-d;if(b(f>=0,"have should not go down"),f>0){var p=l._buffer.slice(l._offset,l._offset+f);l._offset+=f,c?l.push(p):(h.push(p),g+=p.length)}if((0===d||l._offset>=l._chunkSize)&&(a=l._chunkSize,l._offset=0,l._buffer=new e(l._chunkSize)),0===d){if(s+=i-u,i=u,!c)return!0;var y=l._binding.write(o,t,s,i,l._buffer,l._offset,l._chunkSize);return y.callback=r,void(y.buffer=t)}return!!c&&void n()}}var i=t&&t.length,a=this._chunkSize-this._offset,s=0,l=this,c="function"==typeof n;if(!c){var u,h=[],g=0;this.on("error",function(e){u=e});do var d=this._binding.writeSync(o,t,s,i,this._buffer,this._offset,a);while(!this._hadError&&r(d[0],d[1]));if(this._hadError)throw u;var f=e.concat(h,g);return this.close(),f}var p=this._binding.write(o,t,s,i,this._buffer,this._offset,a);p.buffer=t,p.callback=r},y.inherits(a,d),y.inherits(s,d),y.inherits(l,d),y.inherits(c,d),y.inherits(u,d),y.inherits(h,d),y.inherits(g,d)}).call(t,o(1).Buffer,o(5))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={easeOutFunction:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutFunction:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeOut:function(e,t,o,n){if(n=n||this.easeOutFunction,t&&"[object Array]"===Object.prototype.toString.call(t)){for(var r="",i=0;i<t.length;i++)r&&(r+=","),r+=this.create(e,t[i],o,n);return r}return this.create(e,t,o,n)},create:function(e,t,o,n){return e=e||"450ms",t=t||"all",o=o||"0ms",n=n||"linear",t+" "+e+" "+n+" "+o;
}}},function(e,t){function o(e){for(var t=[[e.x,e.y]];e.parent;)e=e.parent,t.push([e.x,e.y]);return t.reverse()}function n(e,t){var n=o(e),r=o(t);return n.concat(r.reverse())}function r(e){var t,o,n,r,i,a=0;for(t=1;t<e.length;++t)o=e[t-1],n=e[t],r=o[0]-n[0],i=o[1]-n[1],a+=Math.sqrt(r*r+i*i);return a}function i(e,t,o,n){var r,i,a,s,l,c,u=Math.abs,h=[];for(a=u(o-e),s=u(n-t),r=e<o?1:-1,i=t<n?1:-1,l=a-s;;){if(h.push([e,t]),e===o&&t===n)break;c=2*l,c>-s&&(l-=s,e+=r),c<a&&(l+=a,t+=i)}return h}function a(e){var t,o,n,r,a,s,l=[],c=e.length;if(c<2)return l;for(a=0;a<c-1;++a)for(t=e[a],o=e[a+1],n=i(t[0],t[1],o[0],o[1]),r=n.length,s=0;s<r-1;++s)l.push(n[s]);return l.push(e[c-1]),l}function s(e,t){var o,n,r,a,s,l,c,u,h,g,d,f=t.length,p=t[0][0],y=t[0][1],b=t[f-1][0],_=t[f-1][1];for(o=p,n=y,s=[[o,n]],l=2;l<f;++l){for(u=t[l],r=u[0],a=u[1],h=i(o,n,r,a),d=!1,c=1;c<h.length;++c)if(g=h[c],!e.isWalkableAt(g[0],g[1])){d=!0;break}d&&(lastValidCoord=t[l-1],s.push(lastValidCoord),o=lastValidCoord[0],n=lastValidCoord[1])}return s.push([b,_]),s}function l(e){if(e.length<3)return e;var t,o,n,r,i,a,s=[],l=e[0][0],c=e[0][1],u=e[1][0],h=e[1][1],g=u-l,d=h-c;for(i=Math.sqrt(g*g+d*d),g/=i,d/=i,s.push([l,c]),a=2;a<e.length;a++)t=u,o=h,n=g,r=d,u=e[a][0],h=e[a][1],g=u-t,d=h-o,i=Math.sqrt(g*g+d*d),g/=i,d/=i,g===n&&d===r||s.push([t,o]);return s.push([u,h]),s}t.backtrace=o,t.biBacktrace=n,t.pathLength=r,t.interpolate=i,t.expandPath=a,t.smoothenPath=s,t.compressPath=l},function(e,t,o){e.exports=o(866)},[1157,82],function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},[1162,47,84,57],function(e,t,o){var n=o(236),r=o(131);e.exports=Object.keys||function(e){return n(e,r)}},[1187,146],[1225,9,50,105,21],function(e,t,o){"use strict";function n(e){if(y){var t=e.node,o=e.children;if(o.length)for(var n=0;n<o.length;n++)b(t,o[n],null);else null!=e.html?h(t,e.html):null!=e.text&&d(t,e.text)}}function r(e,t){e.parentNode.replaceChild(t.node,e),n(t)}function i(e,t){y?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){y?e.html=t:h(e.node,t)}function s(e,t){y?e.text=t:d(e.node,t)}function l(){return this.node.nodeName}function c(e){return{node:e,children:[],html:null,text:null,toString:l}}var u=o(167),h=o(114),g=o(182),d=o(323),f=1,p=11,y="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),b=g(function(e,t,o){t.node.nodeType===p||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===u.html)?(n(t),e.insertBefore(t.node,o)):(e.insertBefore(t.node,o),n(t))});c.insertTreeBefore=b,c.replaceChildWithTree=r,c.queueChild=i,c.queueHTML=a,c.queueText=s,e.exports=c},function(e,t,o){"use strict";function n(e,t){return(e&t)===t}var r=o(3),i=(o(2),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,o=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},u=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var h in o){s.properties.hasOwnProperty(h)?r("48",h):void 0;var g=h.toLowerCase(),d=o[h],f={attributeName:g,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseProperty:n(d,t.MUST_USE_PROPERTY),hasBooleanValue:n(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:n(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r("50",h),l.hasOwnProperty(h)){var p=l[h];f.attributeName=p}a.hasOwnProperty(h)&&(f.attributeNamespace=a[h]),c.hasOwnProperty(h)&&(f.propertyName=c[h]),u.hasOwnProperty(h)&&(f.mutationMethod=u[h]),s.properties[h]=f}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var o=s._isCustomAttributeFunctions[t];if(o(e))return!0}return!1},injection:i};e.exports=s},function(e,t,o){"use strict";var n=o(3),r=o(168),i=o(110),a=o(175),s=o(314),l=o(317),c=(o(2),{}),u=null,h=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},g=function(e){return h(e,!0)},d=function(e){return h(e,!1)},f=function(e){return"."+e._rootNodeID},p={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,o){"function"!=typeof o?n("94",t,typeof o):void 0;var i=f(e),a=c[t]||(c[t]={});a[i]=o;var s=r.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,o)},getListener:function(e,t){var o=c[t],n=f(e);return o&&o[n]},deleteListener:function(e,t){var o=r.registrationNameModules[t];o&&o.willDeleteListener&&o.willDeleteListener(e,t);var n=c[t];if(n){var i=f(e);delete n[i]}},deleteAllListeners:function(e){var t=f(e);for(var o in c)if(c.hasOwnProperty(o)&&c[o][t]){var n=r.registrationNameModules[o];n&&n.willDeleteListener&&n.willDeleteListener(e,o),delete c[o][t]}},extractEvents:function(e,t,o,n){for(var i,a=r.plugins,l=0;l<a.length;l++){var c=a[l];if(c){var u=c.extractEvents(e,t,o,n);u&&(i=s(i,u))}}return i},enqueueEvents:function(e){e&&(u=s(u,e))},processEventQueue:function(e){var t=u;u=null,e?l(t,g):l(t,d),u?n("95"):void 0,a.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=p},function(e,t,o){"use strict";function n(e,t,o){var n=t.dispatchConfig.phasedRegistrationNames[o];return m(e,n)}function r(e,t,o){var r=t?_.bubbled:_.captured,i=n(e,o,r);i&&(o._dispatchListeners=y(o._dispatchListeners,i),o._dispatchInstances=y(o._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.traverseTwoPhase(e._targetInst,r,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,o=t?p.getParentInstance(t):null;p.traverseTwoPhase(o,r,e)}}function s(e,t,o){if(o&&o.dispatchConfig.registrationName){var n=o.dispatchConfig.registrationName,r=m(e,n);r&&(o._dispatchListeners=y(o._dispatchListeners,r),o._dispatchInstances=y(o._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function c(e){b(e,i)}function u(e){b(e,a)}function h(e,t,o,n){p.traverseEnterLeave(o,n,s,e,t)}function g(e){b(e,l)}var d=o(33),f=o(72),p=o(110),y=o(314),b=o(317),_=(o(4),d.PropagationPhases),m=f.getListener,v={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:g,accumulateEnterLeaveDispatches:h};e.exports=v},function(e,t){"use strict";var o={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=o},function(e,t,o){"use strict";function n(){r.attachRefs(this,this._currentElement)}var r=o(827),i=(o(30),o(4),{mountComponent:function(e,t,o,r,i,a){var s=e.mountComponent(t,o,r,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(n,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,o,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=r.shouldUpdateRefs(a,t);s&&r.detachRefs(e,a),e.receiveComponent(t,o,i),s&&e._currentElement&&null!=e._currentElement.ref&&o.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t,o){e._updateBatchNumber===o&&e.performUpdateIfNecessary(t)}});e.exports=i},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(41),i=o(185),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var o=t.ownerDocument;return o?o.defaultView||o.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(n,a),e.exports=n},[1235,36,38,344,346],[1225,10,54,124,24],[1233,341],[1180,336,948],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModeState=void 0;var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(450),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.State),c=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"init",value:function(e,t){this.states=e,this.current=t,this.current.onEnter()}}]),t}(s.Fsm);t.ModeState=l,t.default=c},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){var n=o(130);e.exports=function(e){return Object(n(e))}},function(e,t,o){"use strict";var n={};e.exports=n},[1204,685],[1235,39,32,732,734],function(e,t){e.exports={manhattan:function(e,t){return e+t},euclidean:function(e,t){return Math.sqrt(e*e+t*t)},octile:function(e,t){var o=Math.SQRT2-1;return e<t?o*e+t:o*t+e},chebyshev:function(e,t){return Math.max(e,t)}}},function(e,t,o){"use strict";var n=o(3),r=(o(2),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,o,r,i,a,s,l){this.isInTransaction()?n("27"):void 0;var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,o,r,i,a,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,o=e;o<t.length;o++){var n=t[o];try{this.wrapperInitData[o]=i.OBSERVED_ERROR,this.wrapperInitData[o]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[o]===i.OBSERVED_ERROR)try{this.initializeAll(o+1)}catch(r){}}}},closeAll:function(e){this.isInTransaction()?void 0:n("28");for(var t=this.transactionWrappers,o=e;o<t.length;o++){var r,a=t[o],s=this.wrapperInitData[o];try{r=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(o+1)}catch(l){}}}this.wrapperInitData.length=0}}),i={Mixin:r,OBSERVED_ERROR:{}};e.exports=i},[1204,1042],function(e,t){"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},[1187,1151],function(e,t){"use strict";function o(){var e=document.createElement("div");return document.body.appendChild(e),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var o=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+n).toString(36))}},51,function(e,t,o){var n,r;!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===r)for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=o:(n=[],r=function(){return o}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},46,function(e,t,o){"use strict";var n=o(2),r=function(e){var t,o={};e instanceof Object&&!Array.isArray(e)?void 0:n(!1);for(t in e)e.hasOwnProperty(t)&&(o[t]=t);return o};e.exports=r},function(e,t){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){function o(e,t,o){this.shortMessage=t||"",this.longMessage=o||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(o?"\n"+o:""),this.stack=(new Error).stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,e.exports=o},function(e,t,o){e.exports=o(641)},function(e,t){"use strict";function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(e,t){return e+t}:arguments[2];return o({},e,["-webkit-","-moz-",""].map(function(e){return n(e,t)}))},e.exports=t.default},function(e,t,o){(function(t){"use strict";e.exports={isNode:"undefined"!=typeof t,newBuffer:function(e,o){return new t(e,o)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,o(1).Buffer)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.red50="#ffebee",t.red100="#ffcdd2",t.red200="#ef9a9a",t.red300="#e57373",t.red400="#ef5350",t.red500="#f44336",t.red600="#e53935",t.red700="#d32f2f",t.red800="#c62828",t.red900="#b71c1c",t.redA100="#ff8a80",t.redA200="#ff5252",t.redA400="#ff1744",t.redA700="#d50000",t.pink50="#fce4ec",t.pink100="#f8bbd0",t.pink200="#f48fb1",t.pink300="#f06292",t.pink400="#ec407a",t.pink500="#e91e63",t.pink600="#d81b60",t.pink700="#c2185b",t.pink800="#ad1457",t.pink900="#880e4f",t.pinkA100="#ff80ab",t.pinkA200="#ff4081",t.pinkA400="#f50057",t.pinkA700="#c51162",t.purple50="#f3e5f5",t.purple100="#e1bee7",t.purple200="#ce93d8",t.purple300="#ba68c8",t.purple400="#ab47bc",t.purple500="#9c27b0",t.purple600="#8e24aa",t.purple700="#7b1fa2",t.purple800="#6a1b9a",t.purple900="#4a148c",t.purpleA100="#ea80fc",t.purpleA200="#e040fb",t.purpleA400="#d500f9",t.purpleA700="#aa00ff",t.deepPurple50="#ede7f6",t.deepPurple100="#d1c4e9",t.deepPurple200="#b39ddb",t.deepPurple300="#9575cd",t.deepPurple400="#7e57c2",t.deepPurple500="#673ab7",t.deepPurple600="#5e35b1",t.deepPurple700="#512da8",t.deepPurple800="#4527a0",t.deepPurple900="#311b92",t.deepPurpleA100="#b388ff",t.deepPurpleA200="#7c4dff",t.deepPurpleA400="#651fff",t.deepPurpleA700="#6200ea",t.indigo50="#e8eaf6",t.indigo100="#c5cae9",t.indigo200="#9fa8da",t.indigo300="#7986cb",t.indigo400="#5c6bc0",t.indigo500="#3f51b5",t.indigo600="#3949ab",t.indigo700="#303f9f",t.indigo800="#283593",t.indigo900="#1a237e",t.indigoA100="#8c9eff",t.indigoA200="#536dfe",t.indigoA400="#3d5afe",t.indigoA700="#304ffe",t.blue50="#e3f2fd",t.blue100="#bbdefb",t.blue200="#90caf9",t.blue300="#64b5f6",t.blue400="#42a5f5",t.blue500="#2196f3",t.blue600="#1e88e5",t.blue700="#1976d2",t.blue800="#1565c0",t.blue900="#0d47a1",t.blueA100="#82b1ff",t.blueA200="#448aff",t.blueA400="#2979ff",t.blueA700="#2962ff",t.lightBlue50="#e1f5fe",t.lightBlue100="#b3e5fc",t.lightBlue200="#81d4fa",t.lightBlue300="#4fc3f7",t.lightBlue400="#29b6f6",t.lightBlue500="#03a9f4",t.lightBlue600="#039be5",t.lightBlue700="#0288d1",t.lightBlue800="#0277bd",t.lightBlue900="#01579b",t.lightBlueA100="#80d8ff",t.lightBlueA200="#40c4ff",t.lightBlueA400="#00b0ff",t.lightBlueA700="#0091ea",t.cyan50="#e0f7fa",t.cyan100="#b2ebf2",t.cyan200="#80deea",t.cyan300="#4dd0e1",t.cyan400="#26c6da",t.cyan500="#00bcd4",t.cyan600="#00acc1",t.cyan700="#0097a7",t.cyan800="#00838f",t.cyan900="#006064",t.cyanA100="#84ffff",t.cyanA200="#18ffff",t.cyanA400="#00e5ff",t.cyanA700="#00b8d4",t.teal50="#e0f2f1",t.teal100="#b2dfdb",t.teal200="#80cbc4",t.teal300="#4db6ac",t.teal400="#26a69a",t.teal500="#009688",t.teal600="#00897b",t.teal700="#00796b",t.teal800="#00695c",t.teal900="#004d40",t.tealA100="#a7ffeb",t.tealA200="#64ffda",t.tealA400="#1de9b6",t.tealA700="#00bfa5",t.green50="#e8f5e9",t.green100="#c8e6c9",t.green200="#a5d6a7",t.green300="#81c784",t.green400="#66bb6a",t.green500="#4caf50",t.green600="#43a047",t.green700="#388e3c",t.green800="#2e7d32",t.green900="#1b5e20",t.greenA100="#b9f6ca",t.greenA200="#69f0ae",t.greenA400="#00e676",t.greenA700="#00c853",t.lightGreen50="#f1f8e9",t.lightGreen100="#dcedc8",t.lightGreen200="#c5e1a5",t.lightGreen300="#aed581",t.lightGreen400="#9ccc65",t.lightGreen500="#8bc34a",t.lightGreen600="#7cb342",t.lightGreen700="#689f38",t.lightGreen800="#558b2f",t.lightGreen900="#33691e",t.lightGreenA100="#ccff90",t.lightGreenA200="#b2ff59",t.lightGreenA400="#76ff03",t.lightGreenA700="#64dd17",t.lime50="#f9fbe7",t.lime100="#f0f4c3",t.lime200="#e6ee9c",t.lime300="#dce775",t.lime400="#d4e157",t.lime500="#cddc39",t.lime600="#c0ca33",t.lime700="#afb42b",t.lime800="#9e9d24",t.lime900="#827717",t.limeA100="#f4ff81",t.limeA200="#eeff41",t.limeA400="#c6ff00",t.limeA700="#aeea00",t.yellow50="#fffde7",t.yellow100="#fff9c4",t.yellow200="#fff59d",t.yellow300="#fff176",t.yellow400="#ffee58",t.yellow500="#ffeb3b",t.yellow600="#fdd835",t.yellow700="#fbc02d",t.yellow800="#f9a825",t.yellow900="#f57f17",t.yellowA100="#ffff8d",t.yellowA200="#ffff00",t.yellowA400="#ffea00",t.yellowA700="#ffd600",t.amber50="#fff8e1",t.amber100="#ffecb3",t.amber200="#ffe082",t.amber300="#ffd54f",t.amber400="#ffca28",t.amber500="#ffc107",t.amber600="#ffb300",t.amber700="#ffa000",t.amber800="#ff8f00",t.amber900="#ff6f00",t.amberA100="#ffe57f",t.amberA200="#ffd740",t.amberA400="#ffc400",t.amberA700="#ffab00",t.orange50="#fff3e0",t.orange100="#ffe0b2",t.orange200="#ffcc80",t.orange300="#ffb74d",t.orange400="#ffa726",t.orange500="#ff9800",t.orange600="#fb8c00",t.orange700="#f57c00",t.orange800="#ef6c00",t.orange900="#e65100",t.orangeA100="#ffd180",t.orangeA200="#ffab40",t.orangeA400="#ff9100",t.orangeA700="#ff6d00",t.deepOrange50="#fbe9e7",t.deepOrange100="#ffccbc",t.deepOrange200="#ffab91",t.deepOrange300="#ff8a65",t.deepOrange400="#ff7043",t.deepOrange500="#ff5722",t.deepOrange600="#f4511e",t.deepOrange700="#e64a19",t.deepOrange800="#d84315",t.deepOrange900="#bf360c",t.deepOrangeA100="#ff9e80",t.deepOrangeA200="#ff6e40",t.deepOrangeA400="#ff3d00",t.deepOrangeA700="#dd2c00",t.brown50="#efebe9",t.brown100="#d7ccc8",t.brown200="#bcaaa4",t.brown300="#a1887f",t.brown400="#8d6e63",t.brown500="#795548",t.brown600="#6d4c41",t.brown700="#5d4037",t.brown800="#4e342e",t.brown900="#3e2723",t.blueGrey50="#eceff1",t.blueGrey100="#cfd8dc",t.blueGrey200="#b0bec5",t.blueGrey300="#90a4ae",t.blueGrey400="#78909c",t.blueGrey500="#607d8b",t.blueGrey600="#546e7a",t.blueGrey700="#455a64",t.blueGrey800="#37474f",t.blueGrey900="#263238",t.grey50="#fafafa",t.grey100="#f5f5f5",t.grey200="#eeeeee",t.grey300="#e0e0e0",t.grey400="#bdbdbd",t.grey500="#9e9e9e",t.grey600="#757575",t.grey700="#616161",t.grey800="#424242",t.grey900="#212121",t.black="#000000",t.white="#ffffff",t.transparent="rgba(0, 0, 0, 0)",t.fullBlack="rgba(0, 0, 0, 1)",t.darkBlack="rgba(0, 0, 0, 0.87)",t.lightBlack="rgba(0, 0, 0, 0.54)",t.minBlack="rgba(0, 0, 0, 0.26)",t.faintBlack="rgba(0, 0, 0, 0.12)",t.fullWhite="rgba(255, 255, 255, 1)",t.darkWhite="rgba(255, 255, 255, 0.87)",t.lightWhite="rgba(255, 255, 255, 0.54)"},function(e,t,o){function n(e){return this instanceof n?(this.options=e,void this.init()):new n(e)}function r(e){for(var t in e)n.prototype[t]=i(n.prototype[t],e[t])}function i(e,t){function o(){return e.apply(this,arguments),t.apply(this,arguments)}return e&&t?o:e||t}function a(e){function t(e,t){return t(e)}return e=e.slice(),function(o){return e.reduce(t,o)}}function s(e){return c(e)?a(e):e}function l(e){return new n(e)}var c=o(160);t.createCodec=l,t.install=r,t.filter=s;var u=o(22);n.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=u.Uint8Array),this},t.preset=l({preset:!0})},function(e,t,o){function n(e){e=e||{},this.heuristic=e.heuristic||a.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}var r=o(103),i=o(62),a=o(89);o(17);n.prototype.findPath=function(e,t,o,n,a){var s,l=this.openList=new r(function(e,t){return e.f-t.f}),c=this.startNode=a.getNodeAt(e,t),u=this.endNode=a.getNodeAt(o,n);for(this.grid=a,c.g=0,c.f=0,l.push(c),c.opened=!0;!l.empty();){if(s=l.pop(),s.closed=!0,s===u)return i.expandPath(i.backtrace(u));this._identifySuccessors(s)}return[]},n.prototype._identifySuccessors=function(e){var t,o,n,r,i,s,l,c,u,h,g=this.grid,d=this.heuristic,f=this.openList,p=this.endNode.x,y=this.endNode.y,b=e.x,_=e.y,m=Math.abs;Math.max;for(t=this._findNeighbors(e),r=0,i=t.length;r<i;++r)if(o=t[r],n=this._jump(o[0],o[1],b,_)){if(s=n[0],l=n[1],h=g.getNodeAt(s,l),h.closed)continue;c=a.octile(m(s-b),m(l-_)),u=e.g+c,(!h.opened||u<h.g)&&(h.g=u,h.h=h.h||d(m(s-p),m(l-y)),h.f=h.g+h.h,h.parent=e,h.opened?f.updateItem(h):(f.push(h),h.opened=!0))}},e.exports=n},function(e,t){"use strict";var o={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},n={getHostProps:function(e,t){if(!t.disabled)return t;var n={};for(var r in t)!o[r]&&t.hasOwnProperty(r)&&(n[r]=t[r]);return n}};e.exports=n},function(e,t,o){"use strict";function n(e){return e===_.topMouseUp||e===_.topTouchEnd||e===_.topTouchCancel}function r(e){return e===_.topMouseMove||e===_.topTouchMove}function i(e){return e===_.topMouseDown||e===_.topTouchStart}function a(e,t,o,n){var r=e.type||"unknown-event";e.currentTarget=m.getNodeFromInstance(n),t?y.invokeGuardedCallbackWithCatch(r,o,e):y.invokeGuardedCallback(r,o,e),e.currentTarget=null}function s(e,t){var o=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(o))for(var r=0;r<o.length&&!e.isPropagationStopped();r++)a(e,t,o[r],n[r]);else o&&a(e,t,o,n);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,o=e._dispatchInstances;if(Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,o[n]))return o[n]}else if(t&&t(e,o))return o;return null}function c(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function u(e){var t=e._dispatchListeners,o=e._dispatchInstances;Array.isArray(t)?f("103"):void 0,e.currentTarget=t?m.getNodeFromInstance(o):null;var n=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function h(e){return!!e._dispatchListeners}var g,d,f=o(3),p=o(33),y=o(175),b=(o(2),o(4),{injectComponentTree:function(e){g=e},injectTreeTraversal:function(e){d=e}}),_=p.topLevelTypes,m={isEndish:n,isMoveish:r,isStartish:i,executeDirectDispatch:u,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getInstanceFromNode:function(e){return g.getInstanceFromNode(e)},getNodeFromInstance:function(e){return g.getNodeFromInstance(e)},isAncestor:function(e,t){return d.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return d.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return d.getParentInstance(e)},traverseTwoPhase:function(e,t,o){return d.traverseTwoPhase(e,t,o)},traverseEnterLeave:function(e,t,o,n,r){return d.traverseEnterLeave(e,t,o,n,r)},injection:b};e.exports=m},function(e,t,o){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,y)||(e[y]=f++,g[e[y]]={}),g[e[y]]}var r,i=o(7),a=o(33),s=o(168),l=o(818),c=o(181),u=o(851),h=o(186),g={},d=!1,f=0,p={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),b=i({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(b.handleTopLevel),b.ReactEventListener=e}},setEnabled:function(e){b.ReactEventListener&&b.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!b.ReactEventListener||!b.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var o=t,r=n(o),i=s.registrationNameDependencies[e],l=a.topLevelTypes,c=0;c<i.length;c++){var u=i[c];r.hasOwnProperty(u)&&r[u]||(u===l.topWheel?h("wheel")?b.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",o):h("mousewheel")?b.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",o):b.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",o):u===l.topScroll?h("scroll",!0)?b.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",o):b.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",b.ReactEventListener.WINDOW_HANDLE):u===l.topFocus||u===l.topBlur?(h("focus",!0)?(b.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",o),b.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",o)):h("focusin")&&(b.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",o),b.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",o)),r[l.topBlur]=!0,r[l.topFocus]=!0):p.hasOwnProperty(u)&&b.ReactEventListener.trapBubbledEvent(u,p[u],o),r[u]=!0)}},trapBubbledEvent:function(e,t,o){return b.ReactEventListener.trapBubbledEvent(e,t,o)},trapCapturedEvent:function(e,t,o){return b.ReactEventListener.trapCapturedEvent(e,t,o)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=b.supportsEventPageXY()),!r&&!d){var e=c.refreshScrollValues;b.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=b},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(76),i=o(181),a=o(184),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};r.augmentClass(n,s),e.exports=n},function(e,t){"use strict";function o(e){var t=""+e,o=r.exec(t);if(!o)return t;var n,i="",a=0,s=0;for(a=o.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=n}return s!==a?i+t.substring(s,a):i}function n(e){return"boolean"==typeof e||"number"==typeof e?""+e:o(e)}var r=/["'&<>]/;e.exports=n},function(e,t,o){"use strict";var n,r=o(15),i=o(167),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=o(182),c=l(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{n=n||document.createElement("div"),n.innerHTML="<svg>"+t+"</svg>";for(var o=n.firstChild;o.firstChild;)e.appendChild(o.firstChild)}});if(r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(c=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var o=e.firstChild;1===o.data.length?e.removeChild(o):o.deleteData(0,1)}else e.innerHTML=t}),u=null}e.exports=c},[1235,39,32,325,191],function(e,t,o){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=o(1).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var o=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,o),this.charReceived+=o,this.charReceived<this.charLength)return"";e=e.slice(o,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,n=t.charCodeAt(r);if(n>=55296&&n<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,r)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var o=e[e.length-t];if(1==t&&o>>5==6){this.charLength=2;break}if(t<=2&&o>>4==14){
this.charLength=3;break}if(t<=3&&o>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var o=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,o).toString(r)}return t}},function(e,t,o){"use strict";var n=o(37),r=function(){function e(e,t,o){this.fov=e,this.near=t,this.far=o,this.viewMatrix=n.create(),this.projectionMatrix=n.create()}return e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t){"use strict";!function(e){e[e.PLAIN=0]="PLAIN",e[e.SPRITE=1]="SPRITE",e[e.TEXTURE_SOLID=2]="TEXTURE_SOLID",e[e.TEXTURE_POROUS=3]="TEXTURE_POROUS"}(t.ShaderType||(t.ShaderType={}));t.ShaderType},function(e,t,o){"use strict";function n(e,t,o){var n=t[0],r=t[1],i=t[2];return e[0]=o[0]*n+o[4]*r+o[8]*i,e[1]=o[1]*n+o[5]*r+o[9]*i,e[2]=o[2]*n+o[6]*r+o[10]*i,a.normalize(e,e)}function r(e,t,o,n){return a.sub(u,t,o),a.normalize(u,u),0===a.squaredLength(u)&&(u[2]=1),a.cross(l,n,u),a.normalize(l,l),0===a.squaredLength(l)&&(u[2]+=1e-4,a.cross(l,n,u),a.normalize(l,l)),a.cross(c,u,l),e[0]=l[0],e[4]=c[0],e[8]=u[0],e[1]=l[1],e[5]=c[1],e[9]=u[1],e[2]=l[2],e[6]=c[2],e[10]=u[2],e}function i(e,t,o,n,r,i,a,l){var c=2*o*Math.tan(t/2),u=r/i*c,h=c/2-l*c/i,g=-u/2+a*u/r;return s.frustum(e,g,g+u,h-c,h,o,n)}var a=o(23),s=o(37);t.transformDirection=n;var l=a.create(),c=a.create(),u=a.create();t.lookAt=r,t.perspective=i},46,[1179,80,79,14],102,[1194,990,989],105,116,function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(224),c=n(l),u=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.me=e,o.locks=new Set,o}return a(t,e),s(t,[{key:"lock",value:function(e){return!this.locks.has(e)&&(this.locks.add(e),!0)}},{key:"unlock",value:function(e){this.locks.delete(e)}},{key:"sendMessage",value:function(e,t){var o=this;return new Promise(function(n){return e.emit("message",o.me,t,n)})}}]),t}(c.default);t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(484),i=n(r),a=o(483),s=n(a),l="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===l(i.default)?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},[1158,495],function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=!0},function(e,t,o){var n=o(64),r=o(511),i=o(131),a=o(136)("IE_PROTO"),s=function(){},l="prototype",c=function(){var e,t=o(229)("iframe"),n=i.length,r="<",a=">";for(t.style.display="none",o(501).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+a+"document.F=Object"+r+"/script"+a),e.close(),c=e.F;n--;)delete c[l][i[n]];return c()};e.exports=Object.create||function(e,t){var o;return null!==e?(s[l]=n(e),o=new s,s[l]=null,o[a]=e):o=c(),void 0===t?o:r(o,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){var n=o(47).f,r=o(58),i=o(31)("toStringTag");e.exports=function(e,t,o){e&&!r(e=o?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,o){var n=o(137)("keys"),r=o(96);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,o){var n=o(46),r="__core-js_shared__",i=n[r]||(n[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var o=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:o)(e)}},[1165,82],function(e,t,o){var n=o(46),r=o(20),i=o(132),a=o(141),s=o(47).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,o){t.f=o(31)},[1159,247],82,[1174,557],[1178,558,144],42,[1185,146],function(e,t){t.read=function(e,t,o,n,r){var i,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=o?r-1:0,g=o?-1:1,d=e[t+h];for(h+=g,i=d&(1<<-u)-1,d>>=-u,u+=s;u>0;i=256*i+e[t+h],h+=g,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=g,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,o,n,r,i){var a,s,l,c=8*i-r-1,u=(1<<c)-1,h=u>>1,g=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,f=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+h>=1?g/l:g*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[o+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[o+d]=255&a,d+=f,a/=256,c-=8);e[o+d-f]|=128*p}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.isArray(e)&&(e=e.join(",")),null!==e.match(/-webkit-|-moz-|-ms-/)},e.exports=t.default},function(e,t,o){(function(e){var o,n,r,i;!function(t){function a(e,o,n){function r(e,t,o,n){return this instanceof r?a(this,e,t,o,n):new r(e,t,o,n)}function i(e){return!(!e||!e[H])}function a(e,t,o,n,r){if(E&&k&&(t instanceof k&&(t=new E(t)),n instanceof k&&(n=new E(n))),!(t||o||n||_))return void(e.buffer=g(T,0));if(!u(t,o)){var i=_||Array;r=o,n=t,o=0,t=new i(8)}e.buffer=t,e.offset=o|=0,m!==typeof n&&("string"==typeof n?b(t,o,n,r||10):u(n,r)?h(t,o,n,r):"number"==typeof r?(w(t,o+O,n),w(t,o+R,r)):n>0?D(t,o,n):n<0?P(t,o,n):h(t,o,T,0))}function b(e,t,o,n){var r=0,i=o.length,a=0,s=0;"-"===o[0]&&r++;for(var l=r;r<i;){var c=parseInt(o[r++],n);if(!(c>=0))break;s=s*n+c,a=a*n+Math.floor(s/C),s%=C}l&&(a=~a,s?s=C-s:a++),w(e,t+O,a),w(e,t+R,s)}function S(){var e=this.buffer,t=this.offset,o=I(e,t+O),r=I(e,t+R);return n||(o|=0),o?o*C+r:r}function A(e){var t=this.buffer,o=this.offset,r=I(t,o+O),i=I(t,o+R),a="",s=!n&&2147483648&r;for(s&&(r=~r,i=C-i),e=e||10;;){var l=r%e*C+i;if(r=Math.floor(r/e),i=Math.floor(l/e),a=(l%e).toString(e)+a,!r&&!i)break}return s&&(a="-"+a),a}function w(e,t,o){e[t+L]=255&o,o>>=8,e[t+N]=255&o,o>>=8,e[t+x]=255&o,o>>=8,e[t+M]=255&o}function I(e,t){return e[t+M]*B+(e[t+x]<<16)+(e[t+N]<<8)+e[t+L]}var O=o?0:4,R=o?4:0,M=o?0:3,x=o?1:2,N=o?2:1,L=o?3:0,D=o?d:p,P=o?f:y,F=r.prototype,U="is"+e,H="_"+U;return F.buffer=void 0,F.offset=0,F[H]=!0,F.toNumber=S,F.toString=A,F.toJSON=S,F.toArray=s,v&&(F.toBuffer=l),E&&(F.toArrayBuffer=c),r[U]=i,t[e]=r,r}function s(e){var t=this.buffer,o=this.offset;return _=null,e!==!1&&0===o&&8===t.length&&S(t)?t:g(t,o)}function l(t){var o=this.buffer,n=this.offset;if(_=v,t!==!1&&0===n&&8===o.length&&e.isBuffer(o))return o;var r=new v(8);return h(r,0,o,n),r}function c(e){var t=this.buffer,o=this.offset,n=t.buffer;if(_=E,e!==!1&&0===o&&n instanceof k&&8===n.byteLength)return n;var r=new E(8);return h(r,0,t,o),r.buffer}function u(e,t){var o=e&&e.length;return t|=0,o&&t+8<=o&&"string"!=typeof e[t]}function h(e,t,o,n){t|=0,n|=0;for(var r=0;r<8;r++)e[t++]=255&o[n++]}function g(e,t){return Array.prototype.slice.call(e,t,t+8)}function d(e,t,o){for(var n=t+8;n>t;)e[--n]=255&o,o/=256}function f(e,t,o){var n=t+8;for(o++;n>t;)e[--n]=255&-o^255,o/=256}function p(e,t,o){for(var n=t+8;t<n;)e[t++]=255&o,o/=256}function y(e,t,o){var n=t+8;for(o++;t<n;)e[t++]=255&-o^255,o/=256}function b(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)}var _,m="undefined",v=m!==typeof e&&e,E=m!==typeof Uint8Array&&Uint8Array,k=m!==typeof ArrayBuffer&&ArrayBuffer,T=[0,0,0,0,0,0,0,0],S=Array.isArray||b,C=4294967296,B=16777216;o=a("Uint64BE",!0,!0),n=a("Int64BE",!0,!1),r=a("Uint64LE",!1,!0),i=a("Int64LE",!1,!1)}("object"==typeof t&&"string"!=typeof t.nodeName?t:this||{})}).call(t,o(1).Buffer)},[1201,87,275,274,273,274],[1203,9],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e,t,o){e[t]=o}}},function(e,t){"use strict";function o(e,t,o){return e<t?t:e>o?o:e}function n(e){var t=e.type,o=e.values;if(t.indexOf("rgb")>-1)for(var n=0;n<3;n++)o[n]=parseInt(o[n]);var r=void 0;return r=t.indexOf("hsl")>-1?e.type+"("+o[0]+", "+o[1]+"%, "+o[2]+"%":e.type+"("+o[0]+", "+o[1]+", "+o[2],r+=4===o.length?", "+e.values[3]+")":")"}function r(e){if(4===e.length){for(var t="#",o=1;o<e.length;o++)t+=e.charAt(o)+e.charAt(o);e=t}var n={r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)};return"rgb("+n.r+", "+n.g+", "+n.b+")"}function i(e){if("#"===e.charAt(0))return i(r(e));var t=e.indexOf("("),o=e.substring(0,t),n=e.substring(t+1,e.length-1).split(",");return n=n.map(function(e){return parseFloat(e)}),{type:o,values:n}}function a(e,t){var o=s(e),n=s(t),r=(Math.max(o,n)+.05)/(Math.min(o,n)+.05);return Number(r.toFixed(2))}function s(e){if(e=i(e),e.type.indexOf("rgb")>-1){var t=e.values.map(function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}if(e.type.indexOf("hsl")>-1)return e.values[2]/100}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?u(e,t):h(e,t)}function c(e,t){return e=i(e),t=o(t,0,1),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,n(e)}function u(e,t){if(e=i(e),t=o(t,0,1),e.type.indexOf("hsl")>-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")>-1)for(var r=0;r<3;r++)e.values[r]*=1-t;return n(e)}function h(e,t){if(e=i(e),t=o(t,0,1),e.type.indexOf("hsl")>-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")>-1)for(var r=0;r<3;r++)e.values[r]+=(255-e.values[r])*t;return n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertColorToString=n,t.convertHexToRGB=r,t.decomposeColor=i,t.getContrastRatio=a,t.getLuminance=s,t.emphasize=l,t.fade=c,t.darken=u,t.lighten=h},function(e,t,o){function n(e,t,o,n){var i=l.isBuffer(this),a=l.isBuffer(e);if(i&&a)return this.copy(e,t,o,n);if(h||i||a||!l.isView(this)||!l.isView(e))return s.copy.call(this,e,t,o,n);var c=o||null!=n?r.call(this,o,n):this;return e.set(c,t),c.length}function r(e,t){var o=this.slice||!h&&this.subarray;if(o)return o.call(this,e,t);var r=l.alloc.call(this,t-e);return n.call(this,r,0,e,t),r}function i(e,t,o){var n=!u&&l.isBuffer(this)?this.toString:s.toString;return n.apply(this,arguments)}function a(e){function t(){var t=this[e]||s[e];return t.apply(this,arguments)}return t}var s=o(715);t.copy=n,t.slice=r,t.toString=i,t.write=a("write");var l=o(22),c=l.global,u=l.hasBuffer&&"TYPED_ARRAY_SUPPORT"in c,h=u&&!c.TYPED_ARRAY_SUPPORT},function(e,t,o){function n(e,t){return this instanceof n?(this.buffer=r.from(e),void(this.type=t)):new n(e,t)}t.ExtBuffer=n;var r=o(22)},function(e,t,o){function n(e){function t(e){var t=c(e),n=o[t];if(!n)throw new Error("Invalid type: "+(t?"0x"+t.toString(16):t));return n(e)}var o=u.getReadToken(e);return t}function r(){var e=this.options;return this.decode=n(e),e&&e.preset&&l.setExtUnpackers(this),this}function i(e,t){var o=this.extUnpackers||(this.extUnpackers=[]);o[e]=h.filter(t)}function a(e){function t(t){return new s(t,e)}var o=this.extUnpackers||(this.extUnpackers=[]);return o[e]||t}var s=o(157).ExtBuffer,l=o(723),c=o(285).readUint8,u=o(725),h=o(107);h.install({addExtUnpacker:i,getExtUnpacker:a,init:r}),t.preset=r.call(h.preset)},function(e,t,o){function n(e){function t(e,t){var n=o[typeof t];if(!n)throw new Error('Unsupported type "'+typeof t+'": '+t);n(e,t)}var o=c.getWriteType(e);return t}function r(){var e=this.options;return this.encode=n(e),e&&e.preset&&l.setExtPackers(this),this}function i(e,t,o){function n(t){return o&&(t=o(t)),new s(t,e)}o=u.filter(o);var r=t.name;if(r&&"Object"!==r){var i=this.extPackers||(this.extPackers={});i[r]=n}else{var a=this.extEncoderList||(this.extEncoderList=[]);a.unshift([t,n])}}function a(e){var t=this.extPackers||(this.extPackers={}),o=e.constructor,n=o&&o.name&&t[o.name];if(n)return n;for(var r=this.extEncoderList||(this.extEncoderList=[]),i=r.length,a=0;a<i;a++){var s=r[a];if(o===s[0])return s[1]}}var s=o(157).ExtBuffer,l=o(722),c=o(727),u=o(107);u.install({addExtPacker:i,getExtPacker:a,init:r}),t.preset=r.call(u.preset)},function(e,t){var o={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},[1234,666,667],function(e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t){function o(e,t,o){this.x=e,this.y=t,this.walkable=void 0===o||o}e.exports=o},function(e,t,o){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||a.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=e.heuristic||a.manhattan:this.heuristic=e.heuristic||a.octile}var r=o(103),i=o(62),a=o(89),s=o(17);n.prototype.findPath=function(e,t,o,n,a){var s,l,c,u,h,g,d,f,p=new r(function(e,t){return e.f-t.f}),y=a.getNodeAt(e,t),b=a.getNodeAt(o,n),_=this.heuristic,m=this.diagonalMovement,v=this.weight,E=Math.abs,k=Math.SQRT2;for(y.g=0,y.f=0,p.push(y),y.opened=!0;!p.empty();){if(s=p.pop(),s.closed=!0,s===b)return i.backtrace(b);for(l=a.getNeighbors(s,m),u=0,h=l.length;u<h;++u)c=l[u],c.closed||(g=c.x,d=c.y,f=s.g+(g-s.x===0||d-s.y===0?1:k),(!c.opened||f<c.g)&&(c.g=f,c.h=c.h||v*_(E(g-o),E(d-n)),c.f=c.g+c.h,c.parent=s,c.opened?p.updateItem(c):(p.push(c),c.opened=!0)))}return[]},e.exports=n},function(e,t,o){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||a.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=e.heuristic||a.manhattan:this.heuristic=e.heuristic||a.octile}var r=o(103),i=o(62),a=o(89),s=o(17);n.prototype.findPath=function(e,t,o,n,a){var s,l,c,u,h,g,d,f,p=function(e,t){return e.f-t.f},y=new r(p),b=new r(p),_=a.getNodeAt(e,t),m=a.getNodeAt(o,n),v=this.heuristic,E=this.diagonalMovement,k=this.weight,T=Math.abs,S=Math.SQRT2,C=1,B=2;for(_.g=0,_.f=0,y.push(_),_.opened=C,m.g=0,m.f=0,b.push(m),m.opened=B;!y.empty()&&!b.empty();){for(s=y.pop(),s.closed=!0,l=a.getNeighbors(s,E),u=0,h=l.length;u<h;++u)if(c=l[u],!c.closed){if(c.opened===B)return i.biBacktrace(s,c);g=c.x,d=c.y,f=s.g+(g-s.x===0||d-s.y===0?1:S),(!c.opened||f<c.g)&&(c.g=f,c.h=c.h||k*v(T(g-o),T(d-n)),c.f=c.g+c.h,c.parent=s,c.opened?y.updateItem(c):(y.push(c),c.opened=C))}for(s=b.pop(),s.closed=!0,l=a.getNeighbors(s,E),u=0,h=l.length;u<h;++u)if(c=l[u],!c.closed){if(c.opened===C)return i.biBacktrace(c,s);g=c.x,d=c.y,f=s.g+(g-s.x===0||d-s.y===0?1:S),(!c.opened||f<c.g)&&(c.g=f,c.h=c.h||k*v(T(g-e),T(d-t)),c.f=c.g+c.h,c.parent=s,c.opened?b.updateItem(c):(b.push(c),c.opened=B))}}return[]},e.exports=n},function(e,t,o){"use strict";function n(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function r(e,t,o){u.insertTreeBefore(e,t,o)}function i(e,t,o){Array.isArray(t)?s(e,t[0],t[1],o):y(e,t,o)}function a(e,t){if(Array.isArray(t)){var o=t[1];t=t[0],l(e,t,o),e.removeChild(o)}e.removeChild(t)}function s(e,t,o,n){for(var r=t;;){var i=r.nextSibling;if(y(e,r,n),r===o)break;r=i}}function l(e,t,o){for(;;){var n=t.nextSibling;if(n===o)break;e.removeChild(n)}}function c(e,t,o){var n=e.parentNode,r=e.nextSibling;r===t?o&&y(n,document.createTextNode(o),r):o?(p(r,o),l(n,r,t)):l(n,e,t)}var u=o(70),h=o(794),g=o(310),d=(o(12),o(30),o(182)),f=o(114),p=o(323),y=d(function(e,t,o){e.insertBefore(t,o)}),b=h.dangerouslyReplaceNodeWithMarkup,_={dangerouslyReplaceNodeWithMarkup:b,replaceDelimitedText:c,processUpdates:function(e,t){for(var o=0;o<t.length;o++){var s=t[o];switch(s.type){case g.INSERT_MARKUP:r(e,s.content,n(e,s.afterNode));break;case g.MOVE_EXISTING:i(e,s.fromNode,n(e,s.afterNode));break;case g.SET_MARKUP:f(e,s.content);break;case g.TEXT_CONTENT:p(e,s.content);break;case g.REMOVE_NODE:a(e,s.fromNode)}}}};e.exports=_},function(e,t){"use strict";var o={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=o},function(e,t,o){"use strict";function n(){if(s)for(var e in l){var t=l[e],o=s.indexOf(e);if(o>-1?void 0:a("96",e),!c.plugins[o]){t.extractEvents?void 0:a("97",e),c.plugins[o]=t;var n=t.eventTypes;for(var i in n)r(n[i],t,i)?void 0:a("98",i,e)}}}function r(e,t,o){c.eventNameDispatchConfigs.hasOwnProperty(o)?a("99",o):void 0,c.eventNameDispatchConfigs[o]=e;var n=e.phasedRegistrationNames;if(n){for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];i(s,t,o)}return!0}return!!e.registrationName&&(i(e.registrationName,t,o),!0)}function i(e,t,o){c.registrationNameModules[e]?a("100",e):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[o].dependencies}var a=o(3),s=(o(2),null),l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];l.hasOwnProperty(o)&&l[o]===r||(l[o]?a("102",o):void 0,l[o]=r,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var o in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(o)){var n=c.registrationNameModules[t.phasedRegistrationNames[o]];if(n)return n}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var o in t)t.hasOwnProperty(o)&&delete t[o];var n=c.registrationNameModules;for(var r in n)n.hasOwnProperty(r)&&delete n[r]}};e.exports=c},function(e,t){"use strict";function o(e){var t=/[=:]/g,o={"=":"=0",":":"=2"},n=(""+e).replace(t,function(e){return o[e]});return"$"+n}function n(e){var t=/(=0|=2)/g,o={"=0":"=","=2":":"},n="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+n).replace(t,function(e){return o[e]})}var r={escape:o,unescape:n};e.exports=r},function(e,t,o){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function r(e){n(e),null!=e.value||null!=e.onChange?s("88"):void 0}function i(e){n(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=o(3),l=o(312),c=o(178),u=o(179),h=(o(2),o(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),g={value:function(e,t,o){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,o){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func},d={},f={checkPropTypes:function(e,t,o){for(var n in g){if(g.hasOwnProperty(n))var r=g[n](t,n,e,c.prop,null,u);if(r instanceof Error&&!(r.message in d)){d[r.message]=!0;a(o)}}},getValue:function(e){return e.valueLink?(r(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(r(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,o){"use strict";function n(e){return(""+e).replace(v,"$&/")}function r(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,o){var n=e.func,r=e.context;n.call(r,t,e.count++)}function a(e,t,o){if(null==e)return e;var n=r.getPooled(t,o);b(e,i,n),r.release(n)}function s(e,t,o,n){this.result=e,this.keyPrefix=t,this.func=o,this.context=n,this.count=0}function l(e,t,o){var r=e.result,i=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?c(l,r,o,y.thatReturnsArgument):null!=l&&(p.isValidElement(l)&&(l=p.cloneAndReplaceKey(l,i+(!l.key||t&&t.key===l.key?"":n(l.key)+"/")+o)),r.push(l))}function c(e,t,o,r,i){var a="";null!=o&&(a=n(o)+"/");var c=s.getPooled(t,a,r,i);b(e,l,c),s.release(c)}function u(e,t,o){if(null==e)return e;var n=[];return c(e,n,null,t,o),n}function h(e,t,o){return null}function g(e,t){return b(e,h,null)}function d(e){var t=[];return c(e,t,null,y.thatReturnsArgument),t}var f=o(52),p=o(29),y=o(16),b=o(188),_=f.twoArgumentPooler,m=f.fourArgumentPooler,v=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,_),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,m);var E={forEach:a,map:u,mapIntoWithKeyPrefixInternal:c,count:g,toArray:d};e.exports=E},function(e,t,o){"use strict";function n(e,t,o){this.props=e,this.context=t,this.refs=a,this.updater=o||i}var r=o(3),i=o(176),a=(o(315),o(86));o(2),o(4);n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?r("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=n},function(e,t,o){"use strict";var n=o(3),r=(o(2),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?n("104"):void 0,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};e.exports=i},function(e,t,o){"use strict";function n(e){var t=Function.prototype.toString,o=Object.prototype.hasOwnProperty,n=RegExp("^"+t.call(o).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=t.call(e);return n.test(r)}catch(i){return!1}}function r(e){return"."+e}function i(e){return parseInt(e.substr(1),10)}function a(e){if(T)return b.get(e);var t=r(e);return m[t]}function s(e){if(T)b.delete(e);else{var t=r(e);delete m[t]}}function l(e,t,o){var n={element:t,parentID:o,text:null,childIDs:[],isMounted:!1,updateCount:0};if(T)b.set(e,n);else{var i=r(e);m[i]=n}}function c(e){if(T)_.add(e);else{var t=r(e);v[t]=!0}}function u(e){if(T)_.delete(e);else{var t=r(e);delete v[t]}}function h(){return T?Array.from(b.keys()):Object.keys(m).map(i)}function g(){return T?Array.from(_.keys()):Object.keys(v).map(i)}function d(e){var t=a(e);if(t){var o=t.childIDs;s(e),o.forEach(d)}}function f(e,t,o){return"\n    in "+e+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":o?" (created by "+o+")":"")}function p(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function y(e){var t,o=C.getDisplayName(e),n=C.getElement(e),r=C.getOwnerID(e);return r&&(t=C.getDisplayName(r)),f(o,n&&n._source,t)}var b,_,m,v,E=o(3),k=o(53),T=(o(2),o(4),"function"==typeof Array.from&&"function"==typeof Map&&n(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&n(Map.prototype.keys)&&"function"==typeof Set&&n(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&n(Set.prototype.keys));T?(b=new Map,_=new Set):(m={},v={});var S=[],C={onSetChildren:function(e,t){var o=a(e);o.childIDs=t;for(var n=0;n<t.length;n++){var r=t[n],i=a(r);i?void 0:E("140"),null==i.childIDs&&"object"==typeof i.element&&null!=i.element?E("141"):void 0,i.isMounted?void 0:E("71"),null==i.parentID&&(i.parentID=e),i.parentID!==e?E("142",r,i.parentID,e):void 0}},onBeforeMountComponent:function(e,t,o){l(e,t,o)},onBeforeUpdateComponent:function(e,t){var o=a(e);o&&o.isMounted&&(o.element=t)},onMountComponent:function(e){var t=a(e);t.isMounted=!0;var o=0===t.parentID;o&&c(e)},onUpdateComponent:function(e){var t=a(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=a(e);if(t){t.isMounted=!1;var o=0===t.parentID;o&&u(e)}S.push(e)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var e=0;e<S.length;e++){var t=S[e];d(t)}S.length=0}},isMounted:function(e){var t=a(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var o=e.type,n="function"==typeof o?o.displayName||o.name:o,r=e._owner;t+=f(n||"Unknown",e._source,r&&r.getName())}var i=k.current,a=i&&i._debugID;return t+=C.getStackAddendumByID(a)},getStackAddendumByID:function(e){for(var t="";e;)t+=y(e),e=C.getParentID(e);return t},getChildIDs:function(e){var t=a(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=C.getElement(e);return t?p(t):null},getElement:function(e){var t=a(e);return t?t.element:null},getOwnerID:function(e){var t=C.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=a(e);return t?t.parentID:null},getSource:function(e){var t=a(e),o=t?t.element:null,n=null!=o?o._source:null;return n},getText:function(e){var t=C.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=a(e);return t?t.updateCount:0},getRegisteredIDs:h,getRootIDs:g};e.exports=C},function(e,t,o){"use strict";function n(e,t,o,n){try{return t(o,n)}catch(i){return void(null===r&&(r=i))}}var r=null,i={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=i},function(e,t,o){"use strict";function n(e,t){}var r=(o(4),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e,t){n(e,"replaceState")},enqueueSetState:function(e,t){n(e,"setState")}});e.exports=r},function(e,t,o){"use strict";var n={};e.exports=n},function(e,t,o){"use strict";var n=o(100),r=n({prop:null,context:null,childContext:null});e.exports=r},function(e,t){"use strict";var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=o},function(e,t,o){"use strict";function n(e){l.enqueueUpdate(e)}function r(e){var t=typeof e;if("object"!==t)return t;var o=e.constructor&&e.constructor.name||t,n=Object.keys(e);return n.length>0&&n.length<20?o+" (keys: "+n.join(", ")+")":o}function i(e,t){var o=s.get(e);if(!o){return null}return o}var a=o(3),s=(o(53),o(74)),l=(o(30),o(34)),c=(o(2),o(4),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,o){c.validateCallback(t,o);var r=i(e);return r?(r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],void n(r)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t){var o=i(e,"replaceState");o&&(o._pendingStateQueue=[t],o._pendingReplaceState=!0,n(o))},enqueueSetState:function(e,t){var o=i(e,"setState");if(o){var r=o._pendingStateQueue||(o._pendingStateQueue=[]);r.push(t),n(o)}},enqueueElementInternal:function(e,t,o){e._pendingElement=t,e._context=o,n(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,r(e)):void 0}});e.exports=c},function(e,t){"use strict";var o={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){o.currentScrollLeft=e.x,o.currentScrollTop=e.y}};e.exports=o},function(e,t){"use strict";var o=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,o,n,r){MSApp.execUnsafeLocalFunction(function(){return e(t,o,n,r)})}:e};e.exports=o},function(e,t){"use strict";function o(e){var t,o=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===o&&(t=13)):t=o,t>=32||13===t?t:0}e.exports=o},function(e,t){"use strict";function o(e){var t=this,o=t.nativeEvent;if(o.getModifierState)return o.getModifierState(e);var n=r[e];return!!n&&!!o[n]}function n(e){return o}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n},function(e,t){"use strict";function o(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=o},function(e,t,o){"use strict";function n(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var o="on"+e,n=o in document;if(!n){var a=document.createElement("div");a.setAttribute(o,"return;"),n="function"==typeof a[o]}return!n&&r&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var r,i=o(15);i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=n},function(e,t){"use strict";function o(e,t){var o=null===e||e===!1,n=null===t||t===!1;if(o||n)return o===n;var r=typeof e,i=typeof t;return"string"===r||"number"===r?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}e.exports=o},function(e,t,o){"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function r(e,t,o,i){var g=typeof e;if("undefined"!==g&&"boolean"!==g||(e=null),null===e||"string"===g||"number"===g||s.isValidElement(e))return o(i,e,""===t?u+n(e,0):t),1;var d,f,p=0,y=""===t?u:t+h;if(Array.isArray(e))for(var b=0;b<e.length;b++)d=e[b],f=y+n(d,b),p+=r(d,f,o,i);else{var _=l(e);if(_){var m,v=_.call(e);if(_!==e.entries)for(var E=0;!(m=v.next()).done;)d=m.value,f=y+n(d,E++),p+=r(d,f,o,i);else for(;!(m=v.next()).done;){var k=m.value;k&&(d=k[1],f=y+c.escape(k[0])+h+n(d,0),p+=r(d,f,o,i))}}else if("object"===g){var T="",S=String(e);a("31","[object Object]"===S?"object with keys {"+Object.keys(e).join(", ")+"}":S,T)}}return p}function i(e,t,o){return null==e?0:r(e,"",t,o)}var a=o(3),s=(o(53),o(29)),l=o(319),c=(o(2),o(169)),u=(o(4),"."),h=":";e.exports=i},function(e,t,o){"use strict";var n=(o(7),o(16)),r=(o(4),n);e.exports=r},[1248,115,39,32],[1249,39,32,115],function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e
}}t.__esModule=!0;var r=o(101),i=n(r);t.default=i.default},function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},function(e,t,o){"use strict";var n=function(){};e.exports=n},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(37),i=o(119),a=o(376),s=o(117),l=function(e){function t(){var t=45,o=.1,n=200;e.call(this,t,o,n)}return n(t,e),t.prototype.resizeViewport=function(e,t){this.viewWidth=e,this.viewHeight=t},t.prototype.update=function(e,t,o,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),i.perspective(this.projectionMatrix,this.fov*Math.PI/180,this.near,this.far,this.viewWidth,this.viewHeight,n,0),!!a(this.viewMatrix,e,t,o)||(r.copy(this.viewMatrix,t),!1)},t}(s.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,o){"use strict";var n=o(886);t.Game=n.default;var r=o(887);t.GameObject=r.default;var i=o(117);t.Camera=i.default;var a=o(332);t.FpsCamera=a.default;var s=o(195);t.TransitionCamera=s.default;var l=o(902);t.TopDownCamera=l.default;var c=o(334);t.FpsControl=c.default;var u=o(330);t.Chunk=u.default},function(e,t,o){"use strict";function n(e,t,o){return e&&t?1:3-(e+t+o)}function r(e,o,r,i,a,s,l,c){var u=e&t.OPAQUE_BIT?1:0,h=o&t.OPAQUE_BIT?1:0,g=r&t.OPAQUE_BIT?1:0,d=i&t.OPAQUE_BIT?1:0,f=a&t.OPAQUE_BIT?1:0,p=s&t.OPAQUE_BIT?1:0,y=l&t.OPAQUE_BIT?1:0,b=c&t.OPAQUE_BIT?1:0;return(n(d,h,u)<<t.AO_SHIFT)+(n(h,f,g)<<t.AO_SHIFT+t.AO_BITS)+(n(f,y,b)<<t.AO_SHIFT+2*t.AO_BITS)+(n(y,d,p)<<t.AO_SHIFT+3*t.AO_BITS)}function i(e,o,n,i,a,s,l,c,u,h,g,d,f,p,y,b,_,m){var v=!(a&t.OPAQUE_BIT),E=!(p&t.OPAQUE_BIT);return p&&(!a||v&&!E)?p|t.FLIP_BIT|r(e,o,n,i,s,l,c,u):a&&(!p||E&&!v)?a|r(h,g,d,f,y,b,_,m):void 0}function a(e,t,o,n){return{name:e,lvalue:t,rvalue:o,count:n}}var s=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},l=o(14),c=o(80),u=(o(361),o(341)),h=o(121),g=o(123),d=o(913);t.OPAQUE_BIT=32768,t.VOXEL_MASK=32767,t.AO_SHIFT=16,t.AO_BITS=2,t.AO_MASK=(1<<t.AO_BITS)-1,t.FLIP_BIT=1<<t.AO_SHIFT+4*t.AO_BITS,t.AO_TABLE=new Uint8Array([0,153,204,255]),t.VERTEX_SIZE=12;for(var f={args:[],thisVars:[],localVars:[],body:""},p=["scalar","array","array","array","array"],y=[a("_func",!1,!0,3),a("_o0",!0,!1,1),a("_o1",!0,!1,1),a("_o2",!0,!1,1)],b=[],_=0;_<3;++_){for(var m=(_+1)%3,v=(_+2)%3,E=[],k=0;k<2;++k)for(var T=0;T<=2;++T)for(var S=0;S<=2;++S){var C=[S,T,k];E.push(["_a",C[v],C[m],C[_]].join(""))}b.push(["_o",_,"=_func(",E.join(","),")"].join(""))}for(var B=b.join("\n"),S=-1;S<=1;++S)for(var T=-1;T<=1;++T)for(var k=-1;k<=1;++k)if(1!==S||1!==T||1!==k){S===-1&&T===-1&&k===-1||p.push({offset:[S+1,T+1,k+1],array:3});var A=["_a",S+1,T+1,k+1].join("");y.push(a(A,!1,!0,B.split(A).length-1))}var w=u({args:p,pre:f,body:{args:y,body:B,thisVars:[],localVars:[]},post:f,funcName:"calcAO"}).bind(void 0,i),I=function(e){function o(t){e.call(this,{openEnd:t,margin:1}),this.vertexData=new Uint8Array(4)}return s(o,e),o.prototype.createVao=function(e,o){var n=this.computeMeshData(o),r=h(e,n),i=g(e,[{buffer:r,type:e.UNSIGNED_BYTE,size:4,offset:0,stride:t.VERTEX_SIZE,normalized:!1},{buffer:r,type:e.UNSIGNED_BYTE,size:4,offset:4,stride:t.VERTEX_SIZE,normalized:!1},{buffer:r,type:e.UNSIGNED_BYTE,size:4,offset:8,stride:t.VERTEX_SIZE,normalized:!1}]);return i.length=n.length/t.VERTEX_SIZE,i},o.prototype.computeMeshData=function(e){var t=this.unpad(e),o=t.shape[0]*t.shape[1]*t.shape[2],n=c.mallocInt32(o),r=c.mallocInt32(o),i=c.mallocInt32(o),a=l(n,t.shape),s=l(r,t.shape),u=l(i,t.shape);w(a,s,u,t),this.buffer=c.mallocUint8(1024),this.ptr=0,this.computeSurface(0,a),this.computeSurface(1,s),this.computeSurface(2,u),c.freeInt32(n),c.freeInt32(r),c.freeInt32(i);var h=this.buffer.subarray(0,this.ptr);return this.buffer=null,h},o.prototype.append=function(e,o,n,r,i){if(this.ptr+6*t.VERTEX_SIZE>this.buffer.length){var a=c.mallocUint8(2*this.buffer.length);a.set(this.buffer),c.freeUint8(this.buffer),this.buffer=a}var s=0|this.z,l=0|this.d;this.flip=!!(i&t.FLIP_BIT);var u,h,g,d=t.AO_TABLE[i>>>t.AO_SHIFT&t.AO_MASK],f=t.AO_TABLE[i>>>t.AO_SHIFT+t.AO_BITS&t.AO_MASK],p=t.AO_TABLE[i>>>t.AO_SHIFT+2*t.AO_BITS&t.AO_MASK],y=t.AO_TABLE[i>>>t.AO_SHIFT+3*t.AO_BITS&t.AO_MASK],b=this.flip?127:129;0===l?(u=b,h=128,g=128):1===l?(u=128,h=b,g=128):2===l&&(u=128,h=128,g=b);var _=d+p===f+y?Math.max(d,p)<Math.max(f,y):d+p<f+y;this.getVertexData(this.vertexData,i&t.VOXEL_MASK),_?this.flip?(this.writeBuffer(e,o,s,d,u,h,g),this.writeBuffer(n,o,s,f,u,h,g),this.writeBuffer(e,r,s,y,u,h,g),this.writeBuffer(n,r,s,p,u,h,g),this.writeBuffer(e,r,s,y,u,h,g),this.writeBuffer(n,o,s,f,u,h,g)):(this.writeBuffer(e,o,s,d,u,h,g),this.writeBuffer(e,r,s,y,u,h,g),this.writeBuffer(n,o,s,f,u,h,g),this.writeBuffer(n,r,s,p,u,h,g),this.writeBuffer(n,o,s,f,u,h,g),this.writeBuffer(e,r,s,y,u,h,g)):this.flip?(this.writeBuffer(e,r,s,y,u,h,g),this.writeBuffer(e,o,s,d,u,h,g),this.writeBuffer(n,r,s,p,u,h,g),this.writeBuffer(n,o,s,f,u,h,g),this.writeBuffer(n,r,s,p,u,h,g),this.writeBuffer(e,o,s,d,u,h,g)):(this.writeBuffer(e,o,s,d,u,h,g),this.writeBuffer(e,r,s,y,u,h,g),this.writeBuffer(n,r,s,p,u,h,g),this.writeBuffer(n,r,s,p,u,h,g),this.writeBuffer(n,o,s,f,u,h,g),this.writeBuffer(e,o,s,d,u,h,g))},o.prototype.writeBuffer=function(e,o,n,r,i,a,s){this.buffer[this.ptr+this.u]=e,this.buffer[this.ptr+this.v]=o,this.buffer[this.ptr+this.d]=n,this.buffer[this.ptr+3]=r,this.buffer[this.ptr+4]=i,this.buffer[this.ptr+5]=a,this.buffer[this.ptr+6]=s,this.buffer.set(this.vertexData,this.ptr+8),this.ptr+=t.VERTEX_SIZE},o}(d.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=I},function(e,t,o){function n(e,t){if(!(this instanceof n))return new n(e,t);var o=r.create();r.add(o,e,t),this.base=r.min(r.create(),e,o),this.vec=t,this.max=r.max(r.create(),e,o),this.mag=r.length(this.vec)}e.exports=n;var r=o(349).vec3,i=n,a=i.prototype;a.width=function(){return this.vec[0]},a.height=function(){return this.vec[1]},a.depth=function(){return this.vec[2]},a.x0=function(){return this.base[0]},a.y0=function(){return this.base[1]},a.z0=function(){return this.base[2]},a.x1=function(){return this.max[0]},a.y1=function(){return this.max[1]},a.z1=function(){return this.max[2]},a.translate=function(e){return r.add(this.max,this.max,e),r.add(this.base,this.base,e),this},a.expand=function(e){var t=r.create(),o=r.create();return r.max(t,e.max,this.max),r.min(o,e.base,this.base),r.sub(t,t,o),new n(o,t)},a.intersects=function(e){return!(e.base[0]>this.max[0])&&(!(e.base[1]>this.max[1])&&(!(e.base[2]>this.max[2])&&(!(e.max[0]<this.base[0])&&(!(e.max[1]<this.base[1])&&!(e.max[2]<this.base[2])))))},a.touches=function(e){var t=this.union(e);return null!==t&&(0==t.width()||0==t.height()||0==t.depth())},a.union=function(e){if(!this.intersects(e))return null;var t=Math.max(e.base[0],this.base[0]),o=Math.max(e.base[1],this.base[1]),r=Math.max(e.base[2],this.base[2]),i=Math.min(e.max[0],this.max[0]),a=Math.min(e.max[1],this.max[1]),s=Math.min(e.max[2],this.max[2]);return new n([t,o,r],[i-t,a-o,s-r])}},[1159,340],82,[1178,942,943],function(e,t,o){var n=o(42),r=o(350),i=o(23),a=o(351),s={};s.create=function(){var e=new n.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.rotationTo=function(){var e=i.create(),t=i.fromValues(1,0,0),o=i.fromValues(0,1,0);return function(n,r,a){var l=i.dot(r,a);return l<-.999999?(i.cross(e,t,r),i.length(e)<1e-6&&i.cross(e,o,r),i.normalize(e,e),s.setAxisAngle(n,e,Math.PI),n):l>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(i.cross(e,r,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+l,s.normalize(n,n))}}(),s.setAxes=function(){var e=r.create();return function(t,o,n,r){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-o[0],e[5]=-o[1],e[8]=-o[2],s.normalize(t,s.fromMat3(t,e))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.setAxisAngle=function(e,t,o){o=.5*o;var n=Math.sin(o);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(o),e},s.getAxisAngle=function(e,t){var o=2*Math.acos(t[3]),n=Math.sin(o/2);return 0!=n?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),o},s.add=a.add,s.multiply=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=o[0],l=o[1],c=o[2],u=o[3];return e[0]=n*u+a*s+r*c-i*l,e[1]=r*u+a*l+i*s-n*c,e[2]=i*u+a*c+n*l-r*s,e[3]=a*u-n*s-r*l-i*c,e},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(e,t,o){o*=.5;var n=t[0],r=t[1],i=t[2],a=t[3],s=Math.sin(o),l=Math.cos(o);return e[0]=n*l+a*s,e[1]=r*l+i*s,e[2]=i*l-r*s,e[3]=a*l-n*s,e},s.rotateY=function(e,t,o){o*=.5;var n=t[0],r=t[1],i=t[2],a=t[3],s=Math.sin(o),l=Math.cos(o);return e[0]=n*l-i*s,e[1]=r*l+a*s,e[2]=i*l+n*s,e[3]=a*l-r*s,e},s.rotateZ=function(e,t,o){o*=.5;var n=t[0],r=t[1],i=t[2],a=t[3],s=Math.sin(o),l=Math.cos(o);return e[0]=n*l+r*s,e[1]=r*l-n*s,e[2]=i*l+a*s,e[3]=a*l-i*s,e},s.calculateW=function(e,t){var o=t[0],n=t[1],r=t[2];return e[0]=o,e[1]=n,e[2]=r,e[3]=Math.sqrt(Math.abs(1-o*o-n*n-r*r)),e},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(e,t,o,n){var r,i,a,s,l,c=t[0],u=t[1],h=t[2],g=t[3],d=o[0],f=o[1],p=o[2],y=o[3];return i=c*d+u*f+h*p+g*y,i<0&&(i=-i,d=-d,f=-f,p=-p,y=-y),1-i>1e-6?(r=Math.acos(i),a=Math.sin(r),s=Math.sin((1-n)*r)/a,l=Math.sin(n*r)/a):(s=1-n,l=n),e[0]=s*c+l*d,e[1]=s*u+l*f,e[2]=s*h+l*p,e[3]=s*g+l*y,e},s.sqlerp=function(){var e=s.create(),t=s.create();return function(o,n,r,i,a,l){return s.slerp(e,n,a,l),s.slerp(t,r,i,l),s.slerp(o,e,t,2*l*(1-l)),o}}(),s.invert=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=o*o+n*n+r*r+i*i,s=a?1/a:0;return e[0]=-o*s,e[1]=-n*s,e[2]=-r*s,e[3]=i*s,e},s.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(e,t){var o,n=t[0]+t[4]+t[8];if(n>0)o=Math.sqrt(n+1),e[3]=.5*o,o=.5/o,e[0]=(t[5]-t[7])*o,e[1]=(t[6]-t[2])*o,e[2]=(t[1]-t[3])*o;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);var i=(r+1)%3,a=(r+2)%3;o=Math.sqrt(t[3*r+r]-t[3*i+i]-t[3*a+a]+1),e[r]=.5*o,o=.5/o,e[3]=(t[3*i+a]-t[3*a+i])*o,e[i]=(t[3*i+r]+t[3*r+i])*o,e[a]=(t[3*a+r]+t[3*r+a])*o}return e},s.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},function(e,t){function o(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}e.exports=o},function(e,t){function o(e,t){var o=t[0],n=t[1],r=t[2],i=o*o+n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}e.exports=o},function(e,t){"use strict";function o(e){for(var t=new Array(e),o=0;o<e;++o)t[o]=o;return t}e.exports=o},[1201,91,374,373,372,373],[1203,10],162,[1235,36,38,396,398],function(e,t,o){(function(n){function r(e,t,o){function r(){for(;c.length&&!h.paused;){var e=c.shift();if(null===e)return h.emit("end");h.emit("data",e)}}function a(){h.writable=!1,t.call(h),!h.readable&&h.autoDestroy&&h.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var s=!1,l=!1,c=[],u=!1,h=new i;return h.readable=h.writable=!0,h.paused=!1,h.autoDestroy=!(o&&o.autoDestroy===!1),h.write=function(t){return e.call(this,t),!h.paused},h.queue=h.push=function(e){return u?h:(null===e&&(u=!0),c.push(e),r(),h)},h.on("end",function(){h.readable=!1,!h.writable&&h.autoDestroy&&n.nextTick(function(){h.destroy()})}),h.end=function(e){if(!s)return s=!0,arguments.length&&h.write(e),a(),h},h.destroy=function(){if(!l)return l=!0,s=!0,c.length=0,h.writable=h.readable=!1,h.emit("close"),h},h.pause=function(){if(!h.paused)return h.paused=!0,h},h.resume=function(){return h.paused&&(h.paused=!1,h.emit("resume")),r(),h.paused||h.emit("drain"),h},h}var i=o(8);t=e.exports=r,r.through=r}).call(t,o(5))},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(1141),i=o(406),a=function(){function e(e,t,o,n,a){this.lo=r.fromValues(e,t),this.hi=r.fromValues(o,n),this.y=a,this.center=i.fromValues((this.hi[0]+this.lo[0])/2,a,(this.hi[1]+this.lo[1])/2)}return e}();t.Polygon=a;var s=function(e){function t(t,o,n,r,i,a){e.call(this,o,n,r,i,a),this.navmesh=t,this.edges=[]}return n(t,e),t.getDistance=function(e,t){return i.distance(e.center,t.center)},t.prototype.addEdge=function(e){var o;if(this.hi[0]<=e.lo[0])o=[i.fromValues(this.hi[0],this.y,Math.max(this.lo[1],e.lo[1])),i.fromValues(this.hi[0],this.y,Math.min(this.hi[1],e.hi[1]))];else if(this.lo[0]>=e.hi[0])o=[i.fromValues(this.lo[0],this.y,Math.min(this.hi[1],e.hi[1])),i.fromValues(this.lo[0],this.y,Math.max(this.lo[1],e.lo[1]))];else if(this.hi[1]<=e.lo[1])o=[i.fromValues(Math.min(this.hi[0],e.hi[0]),this.y,this.hi[1]),i.fromValues(Math.max(this.lo[0],e.lo[0]),this.y,this.hi[1])];else{if(!(this.lo[1]>=e.hi[1]))throw new Error("Unsupported");o=[i.fromValues(Math.max(this.lo[0],e.lo[0]),this.y,this.lo[1]),i.fromValues(Math.min(this.hi[0],e.hi[0]),this.y,this.lo[1])]}var n=t.getDistance(this,e),r={src:this,dest:e,length:n,portal:o};return this.edges.push(r),r},t.prototype.removeEdge=function(e){var t=this.edges.indexOf(e);t!==-1&&this.edges.splice(t,1),e.src=null,e.dest=null},t}(a);t.Node=s,function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM",e[e.FRONT=4]="FRONT",e[e.BACK=5]="BACK"}(t.Face||(t.Face={}));var l=t.Face;t.OppositeFace=(h={},h[l.LEFT]=l.RIGHT,h[l.RIGHT]=l.LEFT,h[l.TOP]=l.BOTTOM,h[l.BOTTOM]=l.TOP,h[l.FRONT]=l.BACK,h[l.BACK]=l.FRONT,h);var c=(g={},g[l.LEFT]=1,g[l.RIGHT]=1,g[l.FRONT]=0,g[l.BACK]=0,g),u=function(){function e(e,t,o,n,r,a){this.size=i.fromValues(n,r,a),this.offset=i.fromValues(e,t,o),this.nodes=[],this.nodesIdxY=[];for(var s=0,l=this.size[1];s<=l;++s)this.nodesIdxY.push([]);this.edgesOnFace=[[],[],[],[],[],[]],this.nodesOnFace=[[],[],[],[],[],[]]}return e.prototype.addPolygon=function(e,t,o,n,r){var i=new s(this,e+this.offset[0],t+this.offset[2],o+this.offset[0],n+this.offset[2],r+this.offset[1]);this.nodes.push(i),this.nodesIdxY[r].push(i),0===e&&this.nodesOnFace[l.RIGHT].push(i),o===this.size[0]&&this.nodesOnFace[l.LEFT].push(i),0===t&&this.nodesOnFace[l.BACK].push(i),n===this.size[2]&&this.nodesOnFace[l.FRONT].push(i),0===r&&this.nodesOnFace[l.BOTTOM].push(i),r===this.size[1]&&this.nodesOnFace[l.TOP].push(i)},e.prototype.computeEdges=function(){for(var e=0,t=this.size[1];e<=t;++e)for(var o=this.nodesIdxY[e],n=o.length,r=0;r<n;++r)for(var i=o[r],a=r+1;a<n;++a){var s=o[a],l=!1;i.lo[0]===s.hi[0]||i.hi[0]===s.lo[0]?i.lo[1]<s.hi[1]&&i.hi[1]>s.lo[1]&&(l=!0):i.lo[1]!==s.hi[1]&&i.hi[1]!==s.lo[1]||i.lo[0]<s.hi[0]&&i.hi[0]>s.lo[0]&&(l=!0),l&&(i.addEdge(s),s.addEdge(i))}},e.prototype.connectRight=function(e){return this.connectHorizontal(l.RIGHT,e)},e.prototype.connectLeft=function(e){return this.connectHorizontal(l.LEFT,e)},e.prototype.connectFront=function(e){return this.connectHorizontal(l.FRONT,e)},e.prototype.connectBack=function(e){return this.connectHorizontal(l.BACK,e)},e.prototype.connectTop=function(e){},e.prototype.connectBottom=function(e){},e.prototype.searchNode=function(e){var t=this.nodesIdxY[e[1]];if(!t)return null;for(var o=0,n=t;o<n.length;o++){var r=n[o];if(r.lo[0]<=e[0]&&r.hi[0]>=e[0]&&r.lo[1]<=e[2]&&r.hi[1]>=e[2])return r}return null},e.prototype.connect=function(e,t){switch(e){case l.LEFT:case l.RIGHT:case l.FRONT:case l.BACK:this.connectHorizontal(e,t);break;case l.TOP:case l.BOTTOM:}},e.prototype.connectHorizontal=function(e,o){for(var n=this.edgesOnFace[e],r=0,i=n;r<i.length;r++){var a=i[r];a.src.removeEdge(a)}n=this.edgesOnFace[e]=[];for(var s=c[e],l=0,u=o.nodesOnFace[t.OppositeFace[e]];l<u.length;l++)for(var h=u[l],g=0,d=this.nodesOnFace[e];g<d.length;g++){var f=d[g];f.y===h.y&&f.hi[s]>h.lo[s]&&f.lo[s]<h.hi[s]&&n.push(f.addEdge(h))}},e}();t.NavMesh=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var h,g},function(e,t,o){(function(t){"use strict";function n(e,t){if(e===t)return 0;for(var o=e.length,n=t.length,r=0,i=Math.min(o,n);r<i;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return o<n?-1:n<o?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return!r(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function s(e){if(v.isFunction(e)){if(T)return e.name;var t=e.toString(),o=t.match(C);return o&&o[1]}}function l(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(T||!v.isFunction(e))return v.inspect(e);var t=s(e),o=t?": "+t:"";return"[Function"+o+"]"}function u(e){return l(c(e.actual),128)+" "+e.operator+" "+l(c(e.expected),128)}function h(e,t,o,n,r){throw new S.AssertionError({message:o,actual:e,expected:t,operator:n,stackStartFunction:r})}function g(e,t){e||h(e,!0,t,"==",S.ok)}function d(e,t,o,s){if(e===t)return!0;if(r(e)&&r(t))return 0===n(e,t);if(v.isDate(e)&&v.isDate(t))return e.getTime()===t.getTime();if(v.isRegExp(e)&&v.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;s=s||{actual:[],expected:[]};var l=s.actual.indexOf(e);return l!==-1&&l===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),p(e,t,o,s))}return o?e===t:e==t}function f(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function p(e,t,o,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(v.isPrimitive(e)||v.isPrimitive(t))return e===t;if(o&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=f(e),i=f(t);if(r&&!i||!r&&i)return!1;if(r)return e=k.call(e),t=k.call(t),d(e,t,o);var a,s,l=B(e),c=B(t);if(l.length!==c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!==c[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!d(e[a],t[a],o,n))return!1;return!0}function y(e,t,o){d(e,t,!0)&&h(e,t,o,"notDeepStrictEqual",y)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(o){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function _(e){var t;try{e()}catch(o){t=o}return t}function m(e,t,o,n){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof o&&(n=o,o=null),r=_(t),n=(o&&o.name?" ("+o.name+").":".")+(n?" "+n:"."),e&&!r&&h(r,o,"Missing expected exception"+n);var i="string"==typeof n,a=!e&&v.isError(r),s=!e&&r&&!o;if((a&&i&&b(r,o)||s)&&h(r,o,"Got unwanted exception"+n),e&&r&&o&&!b(r,o)||!e&&r)throw r}var v=o(13),E=Object.prototype.hasOwnProperty,k=Array.prototype.slice,T=function(){return"foo"===function(){}.name}(),S=e.exports=g,C=/\s*function\s+([^\(\s]*)\s*/;S.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=u(this),this.generatedMessage=!0);var t=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var o=new Error;if(o.stack){var n=o.stack,r=s(t),i=n.indexOf("\n"+r);if(i>=0){var a=n.indexOf("\n",i+1);n=n.substring(a+1)}this.stack=n}}},v.inherits(S.AssertionError,Error),S.fail=h,S.ok=g,S.equal=function(e,t,o){e!=t&&h(e,t,o,"==",S.equal)},S.notEqual=function(e,t,o){e==t&&h(e,t,o,"!=",S.notEqual)},S.deepEqual=function(e,t,o){d(e,t,!1)||h(e,t,o,"deepEqual",S.deepEqual)},S.deepStrictEqual=function(e,t,o){d(e,t,!0)||h(e,t,o,"deepStrictEqual",S.deepStrictEqual)},S.notDeepEqual=function(e,t,o){d(e,t,!1)&&h(e,t,o,"notDeepEqual",S.notDeepEqual)},S.notDeepStrictEqual=y,S.strictEqual=function(e,t,o){e!==t&&h(e,t,o,"===",S.strictEqual)},S.notStrictEqual=function(e,t,o){e===t&&h(e,t,o,"!==",S.notStrictEqual)},S.throws=function(e,t,o){m(!0,e,t,o)},S.doesNotThrow=function(e,t,o){m(!1,e,t,o)},S.ifError=function(e){if(e)throw e};var B=Object.keys||function(e){var t=[];for(var o in e)E.call(e,o)&&t.push(o);return t}}).call(t,function(){return this}())},function(e,t,o){"use strict";var n=o(18),r=o(423),i=o(426),a=o(432),s=o(430),l=o(216),c="undefined"!=typeof window&&window.btoa||o(425);e.exports=function(e){return new Promise(function(t,u){var h=e.data,g=e.headers;n.isFormData(h)&&delete g["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",p=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,f="onload",p=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var y=e.auth.username||"",b=e.auth.password||"";g.Authorization="Basic "+c(y+":"+b)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[f]=function(){if(d&&(4===d.readyState||p)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?d.response:d.responseText,i={data:n,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:o,config:e,request:d};r(t,u,i),d=null}},d.onerror=function(){u(l("Network Error",e)),d=null},d.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),d=null},n.isStandardBrowserEnv()){var _=o(428),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;m&&(g[e.xsrfHeaderName]=m)}if("setRequestHeader"in d&&n.forEach(g,function(e,t){"undefined"==typeof h&&"content-type"===t.toLowerCase()?delete g[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(v){if("json"!==d.responseType)throw v}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===h&&(h=null),d.send(h)})}},function(e,t){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,o){"use strict";var n=o(422);e.exports=function(e,t,o,r){var i=new Error(e);return n(i,t,o,r)}},function(e,t,o){(function(t){"use strict";function n(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function r(){var e;return"undefined"!=typeof XMLHttpRequest?e=o(213):"undefined"!=typeof t&&(e=o(213)),e}var i=o(18),a=o(431),s=/^\)\]\}',?\n/,l={"Content-Type":"application/x-www-form-urlencoded"};e.exports={adapter:r(),transformRequest:[function(e,t){return a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(s,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:i.merge(l),post:i.merge(l),put:i.merge(l)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}}}).call(t,o(5))},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return e.apply(t,o)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.execScript||function(e){return window.eval.call(window,e)};n(o(778)+";"+["goog","Blockly"].map(function(e){return"window."+e+"="+e})),o(869),o(870),o(871),t.default=window.Blockly},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.media=t.initblocks=t.toolbox=t.Blockly=void 0,o(434);var r=o(219),i=n(r),a=o(435),s=n(a);t.Blockly=i.default;var l=o(777);t.toolbox=l;var c=o(776);t.initblocks=c,t.media=s.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(441),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.fpsControlOptions=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(68),c=n(l),u=o(196),h=o(224),g=n(h),d=t.fpsControlOptions={discreteFire:!1,fireRate:100,jumpTimer:25,walkMaxSpeed:2*Number(.0056)},f=new g.default,p=function(e){function t(e,o,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,{control:d,mass:n.mass,gravityMultiplier:n.gravityMultiplier}));return a.name=n.name,a.propsB=new Map,a.propsBT=new Map,a.propsN=new Map,a.pathStart=c.default.create(),a.pathEnd=c.default.create(),a.behavior=f,a.on("used",function(e){return a.behavior.onUsed(e)}),a}return a(t,e),s(t,[{key:"getPropB",value:function(e){return!!this.propsB.get(e)}},{key:"setPropsB",value:function(e,t){this.propsB.set(e,t)}},{key:"getPropBT",value:function(e){return!!this.propsBT.get(e)}},{key:"setPropBT",value:function(e,t){this.propsBT.set(e,t)}},{key:"getPropN",value:function(e){return this.propsN.get(e)||0}},{key:"setPropN",value:function(e,t){this.propsN.set(e,t)}},{key:"setBehavior",value:function(e){this.behavior=e}},{key:"onTick",value:function(e){this.behavior.onTick(e)}}]),t}(u.GameObject);t.default=p},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,o,n,r,i,a){return e[t+0]=o,e[t+1]=n,e[t+2]=r,e[t+4]=i,e[t+5]=a,t+T}function l(e,t){if(0===t.nodes.length)return null;var o=new Float32Array(6*t.nodes.length*T),n=0,r=!0,i=!1,a=void 0;try{for(var l,c=t.nodes[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;n=s(o,n,u.lo[0],u.y,u.lo[1],0,0),n=s(o,n,u.lo[0],u.y,u.hi[1],0,1),n=s(o,n,u.hi[0],u.y,u.lo[1],1,0),n=s(o,n,u.hi[0],u.y,u.hi[1],1,1),n=s(o,n,u.hi[0],u.y,u.lo[1],1,0),n=s(o,n,u.lo[0],u.y,u.hi[1],0,1)}}catch(h){i=!0,a=h}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}var g=E(e,o),d=k(e,[{buffer:g,type:e.FLOAT,size:4,offset:0,stride:T*Float32Array.BYTES_PER_ELEMENT,normalized:!1},{buffer:g,type:e.FLOAT,size:4,offset:4*Float32Array.BYTES_PER_ELEMENT,stride:T*Float32Array.BYTES_PER_ELEMENT,normalized:!1}]);return d.length=n/T,d}function c(e){var t=v(e,"\n    uniform mat4 projection;\n    uniform mat4 view;\n\n    attribute vec4 attrib0;\n    attribute vec4 attrib1;\n\n    varying vec2 uv;\n\n    void main() {\n      uv = attrib1.xy;\n      gl_Position = projection * view * vec4(attrib0.xyz, 1.0);\n    }\n  ","\n    #extension GL_OES_standard_derivatives: enable\n\n    precision highp float;\n    varying vec2 uv;\n\n    void main() {\n      float gridThickness = 0.05;\n\n      // Edge\n      vec2 eThickness = vec2(gridThickness, gridThickness) / 2.0;\n\n      vec2 ef = fract(uv);\n      ef = min(ef, 1.0 - ef);\n\n      vec2 eDelta = fwidth(ef);\n      ef = smoothstep(ef - eDelta, ef + eDelta, eThickness);\n\n      float opacity = clamp(ef.x + ef.y, 0.0, 1.0);\n      if (opacity < 0.5) discard;\n\n      gl_FragColor = vec4(vec3(0.30, 0.69, 0.31), 0.5); // #4CAF50\n    }\n  ");return t.attributes.attrib0.location=0,t.attributes.attrib1.location=1,t}function u(e,t,o,n,r){return e[t+0]=o,e[t+1]=n,e[t+2]=r,t+S}function h(e,t){if(0===t.nodes.length)return null;var o=0,n=!0,r=!1,i=void 0;try{for(var a,s=t.nodes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;o+=2*l.edges.length*S}}catch(c){r=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}var h=new Float32Array(o),g=0,d=!0,f=!1,p=void 0;try{for(var y,b=t.nodes[Symbol.iterator]();!(d=(y=b.next()).done);d=!0){var _=y.value,m=!0,v=!1,T=void 0;try{for(var C,B=_.edges[Symbol.iterator]();!(m=(C=B.next()).done);m=!0){var A=C.value;g=u(h,g,A.src.center[0],A.src.center[1],A.src.center[2]),g=u(h,g,A.dest.center[0],A.dest.center[1],A.dest.center[2])}}catch(c){v=!0,T=c}finally{try{!m&&B.return&&B.return()}finally{if(v)throw T}}}}catch(c){f=!0,p=c}finally{try{!d&&b.return&&b.return()}finally{if(f)throw p}}var w=E(e,h),I=k(e,[{buffer:w,type:e.FLOAT,size:S}]);return I.length=g/S,I}function g(e){var t=v(e,"\n    uniform mat4 projection;\n    uniform mat4 view;\n\n    attribute vec3 attrib0;\n\n    void main() {\n      gl_Position = projection * view * vec4(attrib0, 1.0);\n    }\n  ","\n    precision highp float;\n\n    void main() {\n      gl_FragColor = vec4(vec3(0.91, 0.12, 0.39), 0.5); // #E91E63\n    }\n  ");return t.attributes.attrib0.location=0,t}function d(e,t){if(0===t.nodes.length)return null;var o=6*t.nodes.length*S,n=new Float32Array(o),r=0,i=!0,a=!1,s=void 0;try{for(var l,c=t.nodes[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var h=l.value,g=h.center;r=u(n,r,g[0]-B,g[1],g[2]-B),r=u(n,r,g[0]-B,g[1],g[2]+B),r=u(n,r,g[0]+B,g[1],g[2]-B),r=u(n,r,g[0]+B,g[1],g[2]+B),r=u(n,r,g[0]+B,g[1],g[2]-B),r=u(n,r,g[0]-B,g[1],g[2]+B)}}catch(d){a=!0,s=d}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}var f=E(e,n),p=k(e,[{buffer:f,type:e.FLOAT,size:3}]);return p.length=r/S,p}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)};t.createNavMeshShader=c,t.createNavMeshStitchShader=g;var y,b=o(404),_=o(330),m=n(_),v=o(255),E=o(254),k=o(258),T=(o(145),8),S=3,C=new b.NavMesher,B=.1;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM",e[e.FRONT=4]="FRONT",e[e.BACK=5]="BACK";
}(y||(y={}));var A=new Map;A.set(y.LEFT,y.RIGHT),A.set(y.RIGHT,y.LEFT),A.set(y.TOP,y.BOTTOM),A.set(y.BOTTOM,y.TOP),A.set(y.FRONT,y.BACK),A.set(y.BACK,y.FRONT);var w=[y.LEFT,y.RIGHT,y.TOP,y.BOTTOM,y.FRONT,y.BACK],I=function(e){function t(e,o,n,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,n,a,s));return l.isSolidVoxel=e,l.navmeshNeedsToUpdate=!0,l.navmeshVaoSource=null,l.connected=[null,null,null,null,null,null],l}return a(t,e),f(t,[{key:"set",value:function(e,o,n,r){return this.navmeshNeedsToUpdate=!0,p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,o,n,r)}},{key:"connectLeft",value:function(e){return this.connect(y.LEFT,e)}},{key:"connectRight",value:function(e){return this.connect(y.RIGHT,e)}},{key:"connectTop",value:function(e){return this.connect(y.TOP,e)}},{key:"connectBottom",value:function(e){return this.connect(y.BOTTOM,e)}},{key:"connectFront",value:function(e){return this.connect(y.FRONT,e)}},{key:"connectBack",value:function(e){return this.connect(y.BACK,e)}},{key:"connect",value:function(e,t){this.navmesh.connect(e,t.getNavMesh()),this.connected[e]=t}},{key:"getNavMesh",value:function(){var e=this;if(this.navmeshNeedsToUpdate){this.navmeshNeedsToUpdate=!1;var t=C.pad(this.data,function(t){return t&&e.isSolidVoxel(t)?1:0});this.navmesh=C.build(t,this.offset[0],this.offset[1],this.offset[2]);var o=!0,n=!1,r=void 0;try{for(var i,a=w[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value,l=this.connected[s];l&&(this.connect(s,l),l.connect(A.get(s),this))}}catch(c){n=!0,r=c}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}}return this.navmesh}},{key:"getNavMeshVao",value:function(e){var t=this.getNavMesh();return this.navmeshVaoSource!==t&&(this.navmeshVao=l(e,t),this.navmeshStitchVao=h(e,t),this.navmeshCenterPointVao=d(e,t),this.navmeshVaoSource=t),{navmeshVao:this.navmeshVao,navmeshStitchVao:this.navmeshStitchVao,navmeshCenterPointVao:this.navmeshCenterPointVao}}}]),t}(m.default);t.default=I},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(){o(this,e)}return n(e,[{key:"onTick",value:function(e){}},{key:"onUsed",value:function(e){}}]),e}();t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.QuestFarmProgress=void 0;!function(e){e[e.INIT=0]="INIT",e[e.WATER_FOUND=1]="WATER_FOUND",e[e.SPROUT_FOUND=2]="SPROUT_FOUND",e[e.WHEAT_FOUND=3]="WHEAT_FOUND",e[e.ACTION_BUTTON_FOUND=4]="ACTION_BUTTON_FOUND",e[e.READY=5]="READY"}(o||(t.QuestFarmProgress=o={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.N_QUEST_FARM_PROGRESS="QUEST_FARM_PROGRESS"},function(e,t,o){e.exports={default:o(486),__esModule:!0}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(227),i=n(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return(0,i.default)(e)}},[1160,82,46],function(e,t,o){e.exports=!o(57)&&!o(65)(function(){return 7!=Object.defineProperty(o(229)("div"),"a",{get:function(){return 7}}).a})},function(e,t,o){var n=o(128);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,o){"use strict";var n=o(132),r=o(45),i=o(238),a=o(66),s=o(58),l=o(83),c=o(505),u=o(135),h=o(235),g=o(31)("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",y="values",b=function(){return this};e.exports=function(e,t,o,_,m,v,E){c(o,t,_);var k,T,S,C=function(e){if(!d&&e in I)return I[e];switch(e){case p:return function(){return new o(this,e)};case y:return function(){return new o(this,e)}}return function(){return new o(this,e)}},B=t+" Iterator",A=m==y,w=!1,I=e.prototype,O=I[g]||I[f]||m&&I[m],R=O||C(m),M=m?A?C("entries"):R:void 0,x="Array"==t?I.entries||O:O;if(x&&(S=h(x.call(new e)),S!==Object.prototype&&(u(S,B,!0),n||s(S,g)||a(S,g,b))),A&&O&&O.name!==y&&(w=!0,R=function(){return O.call(this)}),n&&!E||!d&&!w&&I[g]||a(I,g,R),l[t]=R,l[B]=b,m)if(k={values:A?R:C(y),keys:v?R:C(p),entries:M},E)for(T in k)T in I||i(I,T,k[T]);else r(r.P+r.F*(d||w),t,k);return k}},function(e,t,o){var n=o(95),r=o(84),i=o(59),a=o(139),s=o(58),l=o(230),c=Object.getOwnPropertyDescriptor;t.f=o(57)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(o){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,o){var n=o(236),r=o(131).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,o){var n=o(58),r=o(85),i=o(136)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,o){var n=o(58),r=o(59),i=o(497)(!1),a=o(136)("IE_PROTO");e.exports=function(e,t){var o,s=r(e),l=0,c=[];for(o in s)o!=a&&n(s,o)&&c.push(o);for(;t.length>l;)n(s,o=t[l++])&&(~i(c,o)||c.push(o));return c}},function(e,t,o){var n=o(45),r=o(20),i=o(65);e.exports=function(e,t){var o=(r.Object||{})[e]||Object[e],a={};a[e]=t(o),n(n.S+n.F*i(function(){o(1)}),"Object",a)}},function(e,t,o){e.exports=o(66)},function(e,t,o){var n=o(138),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,o){"use strict";var n=o(514)(!0);o(232)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=n(t,o),this._i+=e.length,{value:e,done:!1})})},function(e,t){"use strict";function o(e,t,o,n){for(var r=65535&e|0,i=e>>>16&65535|0,a=0;0!==o;){a=o>2e3?2e3:o,o-=a;do r=r+t[n++]|0,i=i+r|0;while(--a);r%=65521,i%=65521}return r|i<<16|0}e.exports=o},function(e,t){"use strict";function o(){for(var e,t=[],o=0;o<256;o++){e=o;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[o]=e}return t}function n(e,t,o,n){var i=r,a=n+o;e^=-1;for(var s=n;s<a;s++)e=e>>>8^i[255&(e^t[s])];return e^-1}var r=o();e.exports=n},162,function(e,t){var o=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=o)},[1158,543],[1160,143,99],65,function(e,t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},function(e,t,o){function n(){if(!(this instanceof n))return new n}!function(t){function o(e){for(var t in c)e[t]=c[t];return e}function n(e,t){return s(this,e).push(t),this}function r(e,t){function o(){i.call(n,e,o),t.apply(this,arguments)}var n=this;return o.originalListener=t,s(n,e).push(o),n}function i(e,t){function o(e){return e!==t&&e.originalListener!==t}var n,r=this;if(arguments.length){if(t){if(n=s(r,e,!0)){if(n=n.filter(o),!n.length)return i.call(r,e);r[l][e]=n}}else if(n=r[l],n&&(delete n[e],!Object.keys(n).length))return i.call(r)}else delete r[l];return r}function a(e,t){function o(e){e.call(i)}function n(e){e.call(i,t)}function r(e){e.apply(i,c)}var i=this,a=s(i,e,!0);if(!a)return!1;var l=arguments.length;if(1===l)a.forEach(o);else if(2===l)a.forEach(n);else{var c=Array.prototype.slice.call(arguments,1);a.forEach(r)}return!!a.length}function s(e,t,o){if(!o||e[l]){var n=e[l]||(e[l]={});return n[t]||(n[t]=[])}}e.exports=t;var l="listeners",c={on:n,once:r,off:i,emit:a};o(t.prototype),t.mixin=o}(n)},function(e,t,o){"use strict";var n=o(16),r={listen:function(e,t,o){return e.addEventListener?(e.addEventListener(t,o,!1),{remove:function(){e.removeEventListener(t,o,!1)}}):e.attachEvent?(e.attachEvent("on"+t,o),{remove:function(){e.detachEvent("on"+t,o)}}):void 0},capture:function(e,t,o){return e.addEventListener?(e.addEventListener(t,o,!0),{remove:function(){e.removeEventListener(t,o,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=r},function(e,t){"use strict";function o(e){try{e.focus()}catch(t){}}e.exports=o},function(e,t){"use strict";function o(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=o},function(e,t,o){e.exports=o.p+"static/media/wheat.5cff5d6b.png"},[1179,621,731,161],[1188,629,628,256,631,630,102],function(e,t){"use strict";function o(e,t){for(var o={},n=0;n<e.length;++n)for(var r=e[n].name,i=r.split("."),a=o,s=0;s<i.length;++s){var l=i[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var c=1;c<l.length;++c){var u=parseInt(l[c]);c<l.length-1||s<i.length-1?(u in a||(c<l.length-1?a[u]=[]:a[u]={}),a=a[u]):t?a[u]=n:a[u]=e[n].type}}else s<i.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):t?a[l[0]]=n:a[l[0]]=e[n].type}return o}e.exports=o},function(e,t){"use strict";function o(e,t,o){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var n=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(o){if(o.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var r=0;r<o.length;++r){var i=o[r];if(i.buffer){var a=i.buffer,s=i.size||4,l=i.type||e.FLOAT,c=!!i.normalized,u=i.stride||0,h=i.offset||0;a.bind(),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,s,l,c,u,h)}else{if("number"==typeof i)e.vertexAttrib1f(r,i);else if(1===i.length)e.vertexAttrib1f(r,i[0]);else if(2===i.length)e.vertexAttrib2f(r,i[0],i[1]);else if(3===i.length)e.vertexAttrib3f(r,i[0],i[1],i[2]);else{if(4!==i.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(r,i[0],i[1],i[2],i[3])}e.disableVertexAttribArray(r)}}for(;r<n;++r)e.disableVertexAttribArray(r)}else{e.bindBuffer(e.ARRAY_BUFFER,null);for(var r=0;r<n;++r)e.disableVertexAttribArray(r)}}e.exports=o},[1194,634,633],function(e,t){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(e,t){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(e,t){"use strict";function o(e){return e in i?i[e]:i[e]=e.replace(n,"-$&").toLowerCase().replace(r,"-ms-")}var n=/[A-Z]/g,r=/^ms-/,i={};e.exports=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Webkit:{transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,backfaceVisibility:!0,perspective:!0,perspectiveOrigin:!0,transformStyle:!0,transformOriginZ:!0,animation:!0,animationDelay:!0,animationDirection:!0,animationFillMode:!0,animationDuration:!0,animationIterationCount:!0,animationName:!0,animationPlayState:!0,animationTimingFunction:!0,appearance:!0,userSelect:!0,fontKerning:!0,textEmphasisPosition:!0,textEmphasis:!0,textEmphasisStyle:!0,textEmphasisColor:!0,boxDecorationBreak:!0,clipPath:!0,maskImage:!0,maskMode:!0,maskRepeat:!0,maskPosition:!0,maskClip:!0,maskOrigin:!0,maskSize:!0,maskComposite:!0,mask:!0,maskBorderSource:!0,maskBorderMode:!0,maskBorderSlice:!0,maskBorderWidth:!0,maskBorderOutset:!0,maskBorderRepeat:!0,maskBorder:!0,maskType:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,filter:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexFlow:!0,flexShrink:!0,flexWrap:!0,alignContent:!0,alignItems:!0,alignSelf:!0,justifyContent:!0,order:!0,transition:!0,transitionDelay:!0,transitionDuration:!0,transitionProperty:!0,transitionTimingFunction:!0,backdropFilter:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,shapeImageThreshold:!0,shapeImageMargin:!0,shapeImageOutside:!0,hyphens:!0,flowInto:!0,flowFrom:!0,regionFragment:!0,textSizeAdjust:!0},Moz:{appearance:!0,userSelect:!0,boxSizing:!0,textAlignLast:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,tabSize:!0,hyphens:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0},ms:{flex:!0,flexBasis:!1,flexDirection:!0,flexGrow:!1,flexFlow:!0,flexShrink:!1,flexWrap:!0,alignContent:!1,alignItems:!1,alignSelf:!1,justifyContent:!1,order:!1,transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,userSelect:!0,wrapFlow:!0,wrapThrough:!0,wrapMargin:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,touchAction:!0,hyphens:!0,flowInto:!0,flowFrom:!0,breakBefore:!0,breakAfter:!0,breakInside:!0,regionFragment:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridTemplate:!0,gridAutoColumns:!0,gridAutoRows:!0,gridAutoFlow:!0,grid:!0,gridRowStart:!0,gridColumnStart:!0,gridRowEnd:!0,gridRow:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridRowGap:!0,gridArea:!0,gridGap:!0,textSizeAdjust:!0}},e.exports=t.default},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},[1200,9,50],[1202,21,670],function(e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,o){e.exports=o(8)},[1213,269,9],[1214,9],[1217,268,9],[1218,9,50,268,679,678,270],function(e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},[1220,21,153,9],[1221,9,21],[1222,9,21],[1223,9,680,21,264,50,87,676],function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(693),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={},o=0,n=void 0;for(var r in e){var i=e[r];i&&(0===o&&(n=r),t[r]=i,o++)}if(0!==o)return 1===o?t[n]:(0,c.default)(t)}function i(e,t,o){return s.default.isValidElement(e)?s.default.Children.map(e,function(e){var n="function"==typeof t?t(e):t,r="function"==typeof o?o(e):o?o:e.props.children;return s.default.cloneElement(e,n,r)}):e}Object.defineProperty(t,"__esModule",{value:!0}),t.createChildFragment=r,t.extendChildren=i;var a=o(6),s=n(a),l=o(783),c=n(l)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(6),r=n.PropTypes.oneOf(["left","middle","right"]),i=n.PropTypes.oneOf(["top","center","bottom"]);t.default={corners:n.PropTypes.oneOf(["bottom-left","bottom-right","top-left","top-right"]),horizontal:r,vertical:i,origin:n.PropTypes.shape({horizontal:r,vertical:i}),cornersAndCenter:n.PropTypes.oneOf(["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"]),stringOrNumber:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),zDepth:n.PropTypes.oneOf([0,1,2,3,4,5])}},function(e,t,o){function n(e){if(!(this instanceof n))return new n(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}t.DecodeBuffer=n;var r=o(158).preset,i=o(284).FlexDecoder;i.mixin(n.prototype),n.prototype.codec=r,n.prototype.fetch=function(){return this.codec.decode(this)}},function(e,t,o){function n(e,t){var o=new r(t);return o.write(e),o.read()}t.decode=n;var r=o(280).DecodeBuffer},function(e,t,o){function n(e){if(!(this instanceof n))return new n(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}t.EncodeBuffer=n;var r=o(159).preset,i=o(284).FlexEncoder;i.mixin(n.prototype),n.prototype.codec=r,n.prototype.write=function(e){this.codec.encode(this,e)}},function(e,t,o){function n(e,t){var o=new r(t);return o.write(e),o.read()}t.encode=n;var r=o(282).EncodeBuffer},function(e,t,o){function n(){if(!(this instanceof n))return new n}function r(){if(!(this instanceof r))return new r}function i(){function e(e){var t=this.offset?d.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0}function t(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(o){if(o&&o.message!=y)throw o;this.offset=t;break}this.push(e)}}function o(e){var t=this.offset,o=t+e;if(o>this.buffer.length)throw new Error(y);return this.offset=o,t}return{bufferish:d,write:e,fetch:l,flush:t,push:u,pull:h,read:c,reserve:o,offset:0}}function a(){function e(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return d.prototype.slice.call(this.buffer,e,t)}}function t(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}}function o(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t}function n(e){var t=0|e;if(this.buffer){var o=this.buffer.length,n=0|this.offset,r=n+t;if(r<o)return this.offset=r,n;this.flush(),e=Math.max(e,Math.min(2*o,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0}function r(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var o=this.reserve(t);d.prototype.copy.call(e,this.buffer,o)}}return{bufferish:d,write:s,fetch:e,flush:t,push:u,pull:o,read:c,reserve:n,send:r,maxBufferSize:p,minBufferSize:f,offset:0,start:0}}function s(){throw new Error("method not implemented: write()")}function l(){throw new Error("method not implemented: fetch()")}function c(){var e=this.buffers&&this.buffers.length;return e?(this.flush(),this.pull()):this.fetch()}function u(e){var t=this.buffers||(this.buffers=[]);t.push(e)}function h(){var e=this.buffers||(this.buffers=[]);return e.shift()}function g(e){function t(t){for(var o in e)t[o]=e[o];return t}return t}t.FlexDecoder=n,t.FlexEncoder=r;var d=o(22),f=2048,p=65536,y="BUFFER_SHORTAGE";n.mixin=g(i()),n.mixin(n.prototype),r.mixin=g(a()),r.mixin(r.prototype)},function(e,t,o){function n(e){var t=w.hasArrayBuffer&&e&&e.binarraybuffer,o=e&&e.int64,n=O&&e&&e.usemap,S={map:n?i:r,array:a,str:s,bin:t?c:l,ext:u,uint8:h,uint16:d,uint32:p,uint64:b(8,o?v:_),int8:g,int16:f,int32:y,int64:b(8,o?E:m),float32:b(4,k),float64:b(8,T)};return S}function r(e,t){var o,n={},r=new Array(t),i=new Array(t),a=e.codec.decode;for(o=0;o<t;o++)r[o]=a(e),i[o]=a(e);for(o=0;o<t;o++)n[r[o]]=i[o];return n}function i(e,t){var o,n=new Map,r=new Array(t),i=new Array(t),a=e.codec.decode;for(o=0;o<t;o++)r[o]=a(e),i[o]=a(e);for(o=0;o<t;o++)n.set(r[o],i[o]);return n}function a(e,t){for(var o=new Array(t),n=e.codec.decode,r=0;r<t;r++)o[r]=n(e);return o}function s(e,t){var o=e.reserve(t),n=o+t;return I.toString.call(e.buffer,"utf-8",o,n)}function l(e,t){var o=e.reserve(t),n=o+t,r=I.slice.call(e.buffer,o,n);return w.from(r)}function c(e,t){var o=e.reserve(t),n=o+t,r=I.slice.call(e.buffer,o,n);return w.Uint8Array.from(r).buffer}function u(e,t){var o=e.reserve(t+1),n=e.buffer[o++],r=o+t,i=e.codec.getExtUnpacker(n);if(!i)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));var a=I.slice.call(e.buffer,o,r);return i(a)}function h(e){var t=e.reserve(1);return e.buffer[t]}function g(e){var t=e.reserve(1),o=e.buffer[t];return 128&o?o-256:o}function d(e){var t=e.reserve(2),o=e.buffer;return o[t++]<<8|o[t]}function f(e){var t=e.reserve(2),o=e.buffer,n=o[t++]<<8|o[t];return 32768&n?n-65536:n}function p(e){var t=e.reserve(4),o=e.buffer;return 16777216*o[t++]+(o[t++]<<16)+(o[t++]<<8)+o[t]}function y(e){var t=e.reserve(4),o=e.buffer;return o[t++]<<24|o[t++]<<16|o[t++]<<8|o[t]}function b(e,t){return function(o){var n=o.reserve(e);return t.call(o.buffer,n,R)}}function _(e){return new B(this,e).toNumber()}function m(e){return new A(this,e).toNumber()}function v(e){return new B(this,e)}function E(e){return new A(this,e)}function k(e){return S.read(this,e,!1,23,4)}function T(e){return S.read(this,e,!1,52,8)}var S=o(148),C=o(151),B=C.Uint64BE,A=C.Int64BE;t.getReadFormat=n,t.readUint8=h;var w=o(22),I=o(156),O="undefined"!=typeof Map,R=!0},function(e,t){function o(e){return function(t){var o=t.reserve(1);t.buffer[o]=e}}for(var n=t.uint8=new Array(256),r=0;r<=255;r++)n[r]=o(r)},[1232,144,728],[1241,51,737,738,291],[1244,51],241,function(e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},242,function(e,t){"use strict";function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=o},function(e,t,o){(function(e){function o(e,t){for(var o=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),o++):o&&(e.splice(n,1),o--)}if(t)for(;o--;o)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var o=[],n=0;n<e.length;n++)t(e[n],n,e)&&o.push(e[n]);return o}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=o(n(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===a(e,-1);return e=o(n(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,o){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var o=e.length-1;o>=0&&""===e[o];o--);return t>o?[]:e.slice(t,o-t+1)}e=t.resolve(e).substr(1),o=t.resolve(o).substr(1);for(var r=n(e.split("/")),i=n(o.split("/")),a=Math.min(r.length,i.length),s=a,l=0;l<a;l++)if(r[l]!==i[l]){s=l;break}for(var c=[],l=s;l<r.length;l++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),o=t[0],n=t[1];return o||n?(n&&(n=n.substr(0,n.length-1)),o+n):"."},t.basename=function(e,t){var o=i(e)[2];return t&&o.substr(-1*t.length)===t&&(o=o.substr(0,o.length-t.length)),o},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,o){return e.substr(t,o)}:function(e,t,o){return t<0&&(t=e.length+t),e.substr(t,o)}}).call(t,o(5))},function(e,t,o){"use strict";function n(){}function r(e){try{return e.then}catch(t){return b=t,_}}function i(e,t){try{return e(t)}catch(o){return b=o,_}}function a(e,t,o){try{e(t,o)}catch(n){return b=n,_}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==n&&p(e,this)}function l(e,t,o){return new e.constructor(function(r,i){var a=new s(n);a.then(r,i),c(e,new f(t,o,a))})}function c(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void u(e,t)}function u(e,t){y(function(){var o=1===e._81?t.onFulfilled:t.onRejected;if(null===o)return void(1===e._81?h(t.promise,e._65):g(t.promise,e._65));var n=i(o,e._65);n===_?g(t.promise,b):h(t.promise,n)})}function h(e,t){if(t===e)return g(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var o=r(t);if(o===_)return g(e,b);if(o===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"==typeof o)return void p(o.bind(t),e)}e._81=1,e._65=t,d(e)}function g(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(c(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)c(e,e._54[t]);e._54=null}}function f(e,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=o}function p(e,t){var o=!1,n=a(e,function(e){o||(o=!0,h(t,e))},function(e){o||(o=!0,g(t,e))});o||n!==_||(o=!0,g(t,b))}var y=o(414),b=null,_={};e.exports=s,s._10=null,s._97=null,s._61=n,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var o=new s(n);return c(this,new f(e,t,o)),o}},[1245,782],function(e,t,o){e.exports=o(831)},function(e,t){"use strict";function o(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){r.forEach(function(t){n[o(t,e)]=n[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:n,shorthandPropertyExpansions:i};e.exports=a},function(e,t,o){"use strict";function n(){this._callbacks=null,this._contexts=null}var r=o(3),i=o(7),a=o(52);o(2);i(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?r("24"):void 0,this._callbacks=null,this._contexts=null;for(var o=0;o<e.length;o++)e[o].call(t[o]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(n),e.exports=n},function(e,t,o){"use strict";function n(e){return!!c.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(s.test(e)?(c[e]=!0,!0):(l[e]=!0,!1))}function r(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=o(71),a=(o(12),o(30),o(853)),s=(o(4),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),l={},c={},u={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var o=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(o){if(r(o,t))return"";var n=o.attributeName;return o.hasBooleanValue||o.hasOverloadedBooleanValue&&t===!0?n+'=""':n+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,o){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var a=n.mutationMethod;if(a)a(e,o);else{if(r(n,o))return void this.deleteValueForProperty(e,t);if(n.mustUseProperty)e[n.propertyName]=o;else{var s=n.attributeName,l=n.attributeNamespace;l?e.setAttributeNS(l,s,""+o):n.hasBooleanValue||n.hasOverloadedBooleanValue&&o===!0?e.setAttribute(s,""):e.setAttribute(s,""+o);
}}}else if(i.isCustomAttribute(t))return void u.setValueForAttribute(e,t,o)},setValueForAttribute:function(e,t,o){if(n(t)){null==o?e.removeAttribute(t):e.setAttribute(t,""+o)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var o=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(o){var n=o.mutationMethod;if(n)n(e,void 0);else if(o.mustUseProperty){var r=o.propertyName;o.hasBooleanValue?e[r]=!1:e[r]=""}else e.removeAttribute(o.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=u},function(e,t,o){"use strict";var n=o(7),r=o(171),i=o(172),a=o(825),s=o(302),l=o(807),c=o(29),u=o(312),h=o(313),g=o(852),d=(o(4),c.createElement),f=c.createFactory,p=c.cloneElement,y=n,b={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:g},Component:i,PureComponent:a,createElement:d,cloneElement:p,isValidElement:c.isValidElement,PropTypes:u,createClass:s.createClass,createFactory:f,createMixin:function(e){return e},DOM:l,version:h,__spread:y};e.exports=b},function(e,t,o){"use strict";function n(e,t){var o=k.hasOwnProperty(t)?k[t]:null;S.hasOwnProperty(t)&&(o!==v.OVERRIDE_BASE?h("73",t):void 0),e&&(o!==v.DEFINE_MANY&&o!==v.DEFINE_MANY_MERGED?h("74",t):void 0)}function r(e,t){if(t){"function"==typeof t?h("75"):void 0,f.isValidElement(t)?h("76"):void 0;var o=e.prototype,r=o.__reactAutoBindPairs;t.hasOwnProperty(m)&&T.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==m){var a=t[i],c=o.hasOwnProperty(i);if(n(c,i),T.hasOwnProperty(i))T[i](e,a);else{var u=k.hasOwnProperty(i),g="function"==typeof a,d=g&&!u&&!c&&t.autobind!==!1;if(d)r.push(i,a),o[i]=a;else if(c){var p=k[i];!u||p!==v.DEFINE_MANY_MERGED&&p!==v.DEFINE_MANY?h("77",p,i):void 0,p===v.DEFINE_MANY_MERGED?o[i]=s(o[i],a):p===v.DEFINE_MANY&&(o[i]=l(o[i],a))}else o[i]=a}}}else;}function i(e,t){if(t)for(var o in t){var n=t[o];if(t.hasOwnProperty(o)){var r=o in T;r?h("78",o):void 0;var i=o in e;i?h("79",o):void 0,e[o]=n}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:h("80");for(var o in t)t.hasOwnProperty(o)&&(void 0!==e[o]?h("81",o):void 0,e[o]=t[o]);return e}function s(e,t){return function(){var o=e.apply(this,arguments),n=t.apply(this,arguments);if(null==o)return n;if(null==n)return o;var r={};return a(r,o),a(r,n),r}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var o=t.bind(e);return o}function u(e){for(var t=e.__reactAutoBindPairs,o=0;o<t.length;o+=2){var n=t[o],r=t[o+1];e[n]=c(e,r)}}var h=o(3),g=o(7),d=o(172),f=o(29),p=(o(178),o(177),o(176)),y=o(86),b=(o(2),o(100)),_=o(48),m=(o(4),_({mixins:null})),v=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],k={mixins:v.DEFINE_MANY,statics:v.DEFINE_MANY,propTypes:v.DEFINE_MANY,contextTypes:v.DEFINE_MANY,childContextTypes:v.DEFINE_MANY,getDefaultProps:v.DEFINE_MANY_MERGED,getInitialState:v.DEFINE_MANY_MERGED,getChildContext:v.DEFINE_MANY_MERGED,render:v.DEFINE_ONCE,componentWillMount:v.DEFINE_MANY,componentDidMount:v.DEFINE_MANY,componentWillReceiveProps:v.DEFINE_MANY,shouldComponentUpdate:v.DEFINE_ONCE,componentWillUpdate:v.DEFINE_MANY,componentDidUpdate:v.DEFINE_MANY,componentWillUnmount:v.DEFINE_MANY,updateComponent:v.OVERRIDE_BASE},T={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var o=0;o<t.length;o++)r(e,t[o])},childContextTypes:function(e,t){e.childContextTypes=g({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=g({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=g({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},C=function(){};g(C.prototype,d.prototype,S);var B={createClass:function(e){var t=function(e,o,n){this.__reactAutoBindPairs.length&&u(this),this.props=e,this.context=o,this.refs=y,this.updater=n||p,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?h("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=r};t.prototype=new C,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],E.forEach(r.bind(null,t)),r(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:h("83");for(var o in k)t.prototype[o]||(t.prototype[o]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};e.exports=B},function(e,t){"use strict";var o={hasCachedChildNodes:1};e.exports=o},function(e,t,o){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&r(this,Boolean(e.multiple),t)}}function r(e,t,o){var n,r,i=c.getNodeFromInstance(e).options;if(t){for(n={},r=0;r<o.length;r++)n[""+o[r]]=!0;for(r=0;r<i.length;r++){var a=n.hasOwnProperty(i[r].value);i[r].selected!==a&&(i[r].selected=a)}}else{for(n=""+o,r=0;r<i.length;r++)if(i[r].value===n)return void(i[r].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,o=l.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(n,this),o}var a=o(7),s=o(109),l=o(170),c=o(12),u=o(34),h=(o(4),!1),g={getHostProps:function(e,t){return a({},s.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var o=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=o?o:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||h||(h=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var o=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=l.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,r(e,Boolean(t.multiple),n)):o!==Boolean(t.multiple)&&(null!=t.defaultValue?r(e,Boolean(t.multiple),t.defaultValue):r(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=g},function(e,t){"use strict";var o,n={injectEmptyComponentFactory:function(e){o=e}},r={create:function(e){return o(e)}};r.injection=n,e.exports=r},function(e,t){"use strict";var o={logTopLevelRenders:!1};e.exports=o},function(e,t,o){"use strict";function n(e){return l?void 0:a("111",e.type),new l(e)}function r(e){return new u(e)}function i(e){return e instanceof u}var a=o(3),s=o(7),l=(o(2),null),c={},u=null,h={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){u=e},injectComponentClasses:function(e){s(c,e)}},g={createInternalComponent:n,createInstanceForText:r,isTextComponent:i,injection:h};e.exports=g},function(e,t,o){"use strict";function n(e){return i(document.documentElement,e)}var r=o(812),i=o(578),a=o(251),s=o(252),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),o=e.focusedElem,r=e.selectionRange;t!==o&&n(o)&&(l.hasSelectionCapabilities(o)&&l.setSelection(o,r),a(o))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=document.selection.createRange();o.parentElement()===e&&(t={start:-o.moveStart("character",-e.value.length),end:-o.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var o=t.start,n=t.end;if(void 0===n&&(n=o),"selectionStart"in e)e.selectionStart=o,e.selectionEnd=Math.min(n,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",o),i.moveEnd("character",n-o),i.select()}else r.setOffsets(e,t)}};e.exports=l},function(e,t,o){"use strict";function n(e,t){for(var o=Math.min(e.length,t.length),n=0;n<o;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:o}function r(e){return e?e.nodeType===N?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(R)||""}function a(e,t,o,n,r){var i;if(E.logTopLevelRenders){var a=e._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var l=S.mountComponent(e,o,null,_(e,t),r,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,U._mountImageIntoNode(l,t,e,n,o)}function s(e,t,o,n){var r=B.ReactReconcileTransaction.getPooled(!o&&m.useCreateElement);r.perform(a,null,e,t,r,o,n),B.ReactReconcileTransaction.release(r)}function l(e,t,o){for(S.unmountComponent(e,o),t.nodeType===N&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function c(e){var t=r(e);if(t){var o=b.getInstanceFromNode(t);return!(!o||!o._hostParent)}}function u(e){return!(!e||e.nodeType!==x&&e.nodeType!==N&&e.nodeType!==L)}function h(e){var t=r(e),o=t&&b.getInstanceFromNode(t);return o&&!o._hostParent?o:null}function g(e){var t=h(e);return t?t._hostContainerInfo._topLevelWrapper:null}var d=o(3),f=o(70),p=o(71),y=o(111),b=(o(53),o(12)),_=o(805),m=o(808),v=o(29),E=o(306),k=o(74),T=(o(30),o(822)),S=o(75),C=o(180),B=o(34),A=o(86),w=o(321),I=(o(2),o(114)),O=o(187),R=(o(4),p.ID_ATTRIBUTE_NAME),M=p.ROOT_ATTRIBUTE_NAME,x=1,N=9,L=11,D={},P=1,F=function(){this.rootID=P++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props};var U={TopLevelWrapper:F,_instancesByReactRootID:D,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,o,n,r){return U.scrollMonitor(n,function(){C.enqueueElementInternal(e,t,o),r&&C.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,o,n){u(t)?void 0:d("37"),y.ensureScrollValueMonitoring();var r=w(e,!1);B.batchedUpdates(s,r,t,o,n);var i=r._instance.rootID;return D[i]=r,r},renderSubtreeIntoContainer:function(e,t,o,n){return null!=e&&k.has(e)?void 0:d("38"),U._renderSubtreeIntoContainer(e,t,o,n)},_renderSubtreeIntoContainer:function(e,t,o,n){C.validateCallback(n,"ReactDOM.render"),v.isValidElement(t)?void 0:d("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v(F,null,null,null,null,null,t);if(e){var l=k.get(e);a=l._processChildContext(l._context)}else a=A;var u=g(o);if(u){var h=u._currentElement,f=h.props;if(O(f,t)){var p=u._renderedComponent.getPublicInstance(),y=n&&function(){n.call(p)};return U._updateRootComponent(u,s,a,o,y),p}U.unmountComponentAtNode(o)}var b=r(o),_=b&&!!i(b),m=c(o),E=_&&!u&&!m,T=U._renderNewRootComponent(s,o,E,a)._renderedComponent.getPublicInstance();return n&&n.call(T),T},render:function(e,t,o){return U._renderSubtreeIntoContainer(null,e,t,o)},unmountComponentAtNode:function(e){u(e)?void 0:d("40");var t=g(e);if(!t){c(e),1===e.nodeType&&e.hasAttribute(M);return!1}return delete D[t._instance.rootID],B.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,o,i,a){if(u(t)?void 0:d("41"),i){var s=r(t);if(T.canReuseMarkup(e,s))return void b.precacheNode(o,s);var l=s.getAttribute(T.CHECKSUM_ATTR_NAME);s.removeAttribute(T.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(T.CHECKSUM_ATTR_NAME,l);var h=e,g=n(h,c),p=" (client) "+h.substring(g-20,g+20)+"\n (server) "+c.substring(g-20,g+20);t.nodeType===N?d("42",p):void 0}if(t.nodeType===N?d("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);f.insertTreeBefore(t,e,null)}else I(t,e),b.precacheNode(o,t.firstChild)}};e.exports=U},function(e,t,o){"use strict";var n=o(100),r=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=r},function(e,t,o){"use strict";var n=o(3),r=o(29),i=(o(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:r.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void n("26",e)}});e.exports=i},function(e,t,o){"use strict";function n(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e){this.message=e,this.stack=""}function i(e){function t(t,o,n,i,a,s,l){i=i||B,s=s||n;if(null==o[n]){var c=k[a];return t?new r("Required "+c+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return e(o,n,i,a,s)}var o=t.bind(null,!1);return o.isRequired=t.bind(null,!0),o}function a(e){function t(t,o,n,i,a,s){var l=t[o],c=_(l);if(c!==e){var u=k[i],h=m(l);return new r("Invalid "+u+" `"+a+"` of type "+("`"+h+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function s(){return i(S.thatReturns(null))}function l(e){function t(t,o,n,i,a){if("function"!=typeof e)return new r("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[o];if(!Array.isArray(s)){var l=k[i],c=_(s);return new r("Invalid "+l+" `"+a+"` of type "+("`"+c+"` supplied to `"+n+"`, expected an array."))}for(var u=0;u<s.length;u++){var h=e(s,u,n,i,a+"["+u+"]",T);if(h instanceof Error)return h}return null}return i(t)}function c(){function e(e,t,o,n,i){var a=e[t];if(!E.isValidElement(a)){var s=k[n],l=_(a);return new r("Invalid "+s+" `"+i+"` of type "+("`"+l+"` supplied to `"+o+"`, expected a single ReactElement."))}return null}return i(e)}function u(e){function t(t,o,n,i,a){if(!(t[o]instanceof e)){var s=k[i],l=e.name||B,c=v(t[o]);return new r("Invalid "+s+" `"+a+"` of type "+("`"+c+"` supplied to `"+n+"`, expected ")+("instance of `"+l+"`."))}return null}return i(t)}function h(e){function t(t,o,i,a,s){for(var l=t[o],c=0;c<e.length;c++)if(n(l,e[c]))return null;var u=k[a],h=JSON.stringify(e);return new r("Invalid "+u+" `"+s+"` of value `"+l+"` "+("supplied to `"+i+"`, expected one of "+h+"."))}return Array.isArray(e)?i(t):S.thatReturnsNull}function g(e){function t(t,o,n,i,a){if("function"!=typeof e)return new r("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[o],l=_(s);if("object"!==l){var c=k[i];return new r("Invalid "+c+" `"+a+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an object."))}for(var u in s)if(s.hasOwnProperty(u)){var h=e(s,u,n,i,a+"."+u,T);if(h instanceof Error)return h}return null}return i(t)}function d(e){function t(t,o,n,i,a){for(var s=0;s<e.length;s++){var l=e[s];if(null==l(t,o,n,i,a,T))return null}var c=k[i];return new r("Invalid "+c+" `"+a+"` supplied to "+("`"+n+"`."))}return Array.isArray(e)?i(t):S.thatReturnsNull}function f(){function e(e,t,o,n,i){if(!y(e[t])){var a=k[n];return new r("Invalid "+a+" `"+i+"` supplied to "+("`"+o+"`, expected a ReactNode."))}return null}return i(e)}function p(e){function t(t,o,n,i,a){var s=t[o],l=_(s);if("object"!==l){var c=k[i];return new r("Invalid "+c+" `"+a+"` of type `"+l+"` "+("supplied to `"+n+"`, expected `object`."))}for(var u in e){var h=e[u];if(h){var g=h(s,u,n,i,a+"."+u,T);if(g)return g}}return null}return i(t)}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||E.isValidElement(e))return!0;var t=C(e);if(!t)return!1;var o,n=t.call(e);if(t!==e.entries){for(;!(o=n.next()).done;)if(!y(o.value))return!1}else for(;!(o=n.next()).done;){var r=o.value;if(r&&!y(r[1]))return!1}return!0;default:return!1}}function b(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function _(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":b(t,e)?"symbol":t}function m(e){var t=_(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:B}var E=o(29),k=o(177),T=o(179),S=o(16),C=o(319),B=(o(4),"<<anonymous>>"),A={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:l,element:c(),instanceOf:u,node:f(),objectOf:g,oneOf:h,oneOfType:d,shape:p};r.prototype=Error.prototype,e.exports=A},function(e,t){"use strict";e.exports="15.3.2"},function(e,t,o){"use strict";function n(e,t){return null==t?r("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var r=o(3);o(2);e.exports=n},function(e,t,o){"use strict";var n=!1;e.exports=n},function(e,t,o){(function(t){"use strict";function n(e,t,o,n){if(e&&"object"==typeof e){var r=e,i=void 0===r[o];i&&null!=t&&(r[o]=t)}}function r(e,t){if(null==e)return e;var o={};return i(e,n,o),o}var i=(o(169),o(188));o(4);e.exports=r}).call(t,o(5))},function(e,t){"use strict";function o(e,t,o){Array.isArray(e)?e.forEach(t,o):e&&t.call(o,e)}e.exports=o},function(e,t,o){"use strict";function n(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}var r=o(311);e.exports=n},function(e,t){"use strict";function o(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";e.exports=o},function(e,t,o){"use strict";function n(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=o(15),i=null;e.exports=n},function(e,t,o){"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var o;if(null===e||e===!1)o=c.create(i);else if("object"==typeof e){var s=e;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,n(s._owner)):void 0,"string"==typeof s.type?o=u.createInternalComponent(s):r(s.type)?(o=new s.type(s),o.getHostNode||(o.getHostNode=o.getNativeNode)):o=new h(s)}else"string"==typeof e||"number"==typeof e?o=u.createInstanceForText(e):a("131",typeof e);return o._mountIndex=0,o._mountImage=null,o}var a=o(3),s=o(7),l=o(801),c=o(305),u=o(307),h=(o(2),o(4),function(e){this.construct(e)});s(h.prototype,l.Mixin,{_instantiateReactComponent:i});e.exports=i},function(e,t){"use strict";function o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!n[e.type]:"textarea"===t}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=o},function(e,t,o){"use strict";var n=o(15),r=o(113),i=o(114),a=function(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&3===o.nodeType)return void(o.nodeValue=t)}e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,r(t))})),e.exports=a},[1246,190,39,32],[1247,263,39,32,116,116],function(e,t,o){"use strict";t.__esModule=!0;var n=function(e,t){arguments.length<=2||void 0===arguments[2]||arguments[2],!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return e};t.default=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(864),i=n(r),a=o(192),s=n(a),l=o(326),c=n(l),u=(0,i.default)(function(e,t){return!(0,s.default)(e,t)});t.default=(0,c.default)(u,"pure",!0,!0)},56,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,o){"use strict";var n=o(23),r=o(37),i=32,a=function(){function e(e,t,o,a){this.data=e,this.position=n.fromValues(t,o,a),this.offset=n.fromValues(this.position[0]*i,this.position[1]*i,this.position[2]*i),this.modelMatrix=r.fromTranslation(r.create(),this.offset),this.vaoNeedsToUpdate=!0}return e.prototype.get=function(e,t,o){return this.data.get(e,t,o)},e.prototype.set=function(e,t,o,n){return this.vaoNeedsToUpdate=!0,this.data.set(e,t,o,n)},e.prototype.getVao=function(e){return this.vaoNeedsToUpdate&&(this.vao=e.createVoxelMesh(this.data),this.vaoNeedsToUpdate=!1),this.vao},e}();t.Chunk=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,o){"use strict";var n=o(119),r=o(23),i=o(37),a=o(202),s=r.fromValues(1,0,0),l=r.fromValues(0,1,0),c=r.fromValues(0,0,1),u=r.create(),h=function(){function e(e,t,o){this.position=r.create(),this.quaternion=a.create(),this.scale=r.fromValues(1,1,1),this.modelMatrix=i.create(),this._modelMatrix=i.create(),this.modelMatrixNeedsUpdate=!0,this.parent=null,this.children=[],this.shaderType=t,this.vao=e,o?(this.size=r.clone(o),this.offset=r.fromValues(-this.size[0]/2,-this.size[1]/2,-this.size[2]/2)):this.offset=r.create()}return e.prototype.setPosition=function(e,t,o){return r.set(this.position,e,t,o),this.modelMatrixNeedsUpdate=!0,this},e.prototype.copyPosition=function(e){return r.copy(this.position,e),this.modelMatrixNeedsUpdate=!0,this},e.prototype.addPosition=function(e){return r.add(this.position,this.position,e),this.modelMatrixNeedsUpdate=!0,this},e.prototype.translateOnAxis=function(e,t){return r.copy(u,e),r.transformQuat(u,u,this.quaternion),r.scaleAndAdd(this.position,this.position,u,t),this.modelMatrixNeedsUpdate=!0,this},e.prototype.translateX=function(e){return this.translateOnAxis(s,e)},e.prototype.translateY=function(e){return this.translateOnAxis(l,e)},e.prototype.translateZ=function(e){return this.translateOnAxis(c,e)},e.prototype.setScale=function(e,t,o){return r.set(this.scale,e,t,o),this.modelMatrixNeedsUpdate=!0,this},e.prototype.rotateX=function(e){return a.rotateX(this.quaternion,this.quaternion,e),this.modelMatrixNeedsUpdate=!0,this},e.prototype.rotateY=function(e){return a.rotateY(this.quaternion,this.quaternion,e),this.modelMatrixNeedsUpdate=!0,this},e.prototype.rotateZ=function(e){return a.rotateZ(this.quaternion,this.quaternion,e),this.modelMatrixNeedsUpdate=!0,this},e.prototype.lookAt=function(t,o){return void 0===o&&(o=e.defaultUp),n.lookAt(this.modelMatrix,t,this.position,o),i.getRotation(this.quaternion,this.modelMatrix),this.modelMatrixNeedsUpdate=!0,this},e.prototype.add=function(e){var t=this.children.indexOf(e);t===-1&&(this.children.push(e),e.parent=this,e.modelMatrixNeedsUpdate=!0)},e.prototype.remove=function(e){var t=this.children.indexOf(e);t!==-1&&(this.children.splice(t,1),e.parent=null,e.modelMatrixNeedsUpdate=!0)},e.prototype.updateModelMatrix=function(e){void 0===e&&(e=!1);var t=e||this.modelMatrixNeedsUpdate;return t&&(i.fromRotationTranslationScale(this.modelMatrix,this.quaternion,this.position,this.scale),this.parent&&i.multiply(this.modelMatrix,this.parent.modelMatrix,this.modelMatrix),i.fromTranslation(this._modelMatrix,this.offset),i.multiply(this._modelMatrix,this.modelMatrix,this._modelMatrix),this.modelMatrixNeedsUpdate=!1),t},e.prototype.updateModelMatrixRecursively=function(e){void 0===e&&(e=!1);for(var t=this.updateModelMatrix(e),o=0,n=this.children;o<n.length;o++){var r=n[o];r.updateModelMatrixRecursively(t)}return t},e.prototype.getDirection=function(e){return e[0]=this.modelMatrix[8],e[1]=this.modelMatrix[9],e[2]=this.modelMatrix[10],e},e.defaultUp=l,e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=h},function(e,t,o){"use strict";var n=o(901);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default},function(e,t,o){"use strict";function n(e,t){return isFinite(t)?s(l(e,t),-t):e}var r=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=o(11),a=o(23),s=Math.max,l=Math.min,c=(Math.sin,Math.abs,Math.floor,Math.PI,a.create()),u=(a.create(),a.create()),h=a.create(),g=a.create(),d=function(e){function t(t,o){void 0===o&&(o={}),e.call(this),this.onfire=function(e){},this.state=t,this._pitch_target=null,this._yaw_target=null,this._target=null,this.jumping=!1,this.onfire=o.onfire||this.onfire,this.x_rotation_per_ms=o.rotationXMax||o.rotationMax||33,this.y_rotation_per_ms=o.rotationYMax||o.rotationMax||33,this.x_rotation_clamp=o.rotationXClamp||Math.PI/2,this.y_rotation_clamp=o.rotationYClamp||1/0,this.rotation_scale=o.rotationScale||.002,this.state.x_rotation_accum=0,this.state.y_rotation_accum=0,this.state.z_rotation_accum=0,this.heading=0,this.running=!1,this.jumping=!1,this.maxSpeed=10,this.moveForce=30,this.responsiveness=15,this.runningFriction=0,this.standingFriction=50,this.airMoveMult=.5,this.jumpImpulse=5,this.jumpForce=6,this.jumpTime=200,this.airJumps=0,this._jumpCount=0,this._isJumping=!1,this._currjumptime=0}return r(t,e),t.prototype.tick=function(e){if(this._target){var t=this._target,o=this.state;this.jumping=!!o.jump;var r=o.forward?o.backward?0:1:o.backward?-1:0,i=o.left?o.right?0:1:o.right?-1:0;0===(r|i)?this.running=!1:this.running=!0;var s=t.atRestY()<0,l=s||this._jumpCount<this.airJumps;if(s&&(this._isJumping=!1,this._jumpCount=0),this.jumping)if(this._isJumping){if(this._currjumptime>0){var d=this.jumpForce;this._currjumptime<e&&(d*=this._currjumptime/e),t.applyForce(a.set(c,0,d,0)),this._currjumptime-=e}}else l&&(this._isJumping=!0,s||this._jumpCount++,this._currjumptime=this.jumpTime,t.applyImpulse(a.set(c,0,this.jumpImpulse,0)),!s&&t.velocity[1]<0&&(t.velocity[1]=0));else this._isJumping=!1;if(this.running){a.set(u,0,0,1),a.transformQuat(u,u,this._yaw_target.quaternion);var f=this.maxSpeed;a.scale(u,u,f),this.heading=0,r?(r==-1&&(this.heading+=Math.PI),i&&(this.heading+=Math.PI/4*r*i)):this.heading+=i*Math.PI/2,a.rotateY(u,u,g,this.heading),a.subtract(h,u,t.velocity),h[1]=0;var p=a.length(h);if(a.normalize(h,h),p>0){var y=this.moveForce;s||(y*=this.airMoveMult);var b=this.responsiveness*p;y>b&&(y=b),a.scale(h,h,y),t.applyForce(h)}t.friction=this.runningFriction}else t.friction=this.standingFriction;if(this._yaw_target&&this.state.y_rotation_accum){var _=n(this.state.y_rotation_accum*this.rotation_scale,this.y_rotation_per_ms),m=this._yaw_target;m.rotateY(-n(_,this.y_rotation_per_ms))}if(this._pitch_target&&this.state.x_rotation_accum){var v=this._pitch_target,E=n(this.state.x_rotation_accum*this.rotation_scale,this.x_rotation_per_ms),k=n(E+v.rotationX,this.x_rotation_clamp);v.setRotationX(k)}this.state.x_rotation_accum=0,this.state.y_rotation_accum=0,this.state.z_rotation_accum=0}},t.prototype.target=function(e,t,o){return e&&(this._target=e,this._yaw_target=t,this._pitch_target=o),this._target},t}(i.EventEmitter);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(333),i=o(8),a=o(905),s=function(e){function t(t){e.call(this),this.state=t,this.state.x_rotation_accum=0,this.state.y_rotation_accum=0}return n(t,e),t.prototype.write=function(e){return this.state.x_rotation_accum-=e.dy||0,this.state.y_rotation_accum-=e.dx||0,!0},t}(i.Writable);t.RotationStream=s;var l=function(e){function t(t,o,n){void 0===n&&(n={}),e.call(this,t,n),this.pointerStream=new a.default({shell:o}),this.pointerStream.pipe(this.createWriteRotationStream())}return n(t,e),t.prototype.createWriteRotationStream=function(){return new s(this.state)},t}(r.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},[1174,915],function(e,t){"use strict";"use restrict";function o(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var n=32;t.INT_BITS=n,t.INT_MAX=2147483647,t.INT_MIN=-1<<n-1,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>n-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,o;return t=(e>65535)<<4,e>>>=t,o=(e>255)<<3,e>>>=o,t|=o,o=(e>15)<<2,e>>>=o,t|=o,o=(e>3)<<1,e>>>=o,t|=o,t|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24},t.countTrailingZeros=o,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var r=new Array(256);!function(e){for(var t=0;t<256;++t){var o=t,n=t,r=7;for(o>>>=1;o;o>>>=1)n<<=1,n|=1&o,--r;e[t]=n<<r&255}}(r),t.reverse=function(e){return r[255&e]<<24|r[e>>>8&255]<<16|r[e>>>16&255]<<8|r[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},t.interleave3=function(e,t,o){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,o&=1023,o=4278190335&(o|o<<16),o=251719695&(o|o<<8),o=3272356035&(o|o<<4),o=1227133513&(o|o<<2),e|o<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>o(e)+1}},244,[1158,926],[1160,200,120],65,function(e,t,o){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function r(e){var t=new n;t.pre=e.pre,t.body=e.body,t.post=e.post;var o=e.args.slice(0);t.argTypes=o;for(var r=0;r<o.length;++r){var a=o[r];if("array"===a||"object"==typeof a&&a.blockIndices){if(t.argTypes[r]="array",t.arrayArgs.push(r),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array args");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(r),t.shimArgs.push("scalar"+r);else if("index"===a){if(t.indexArgs.push(r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array index");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array index");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(r),r<t.pre.args.length&&t.pre.args[r].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array shape");if(r<t.post.args.length&&t.post.args[r].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+o[r]);t.argTypes[r]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(r);
}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>o.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>o.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>o.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,i(t)}var i=o(941);e.exports=r},248,function(e,t,o){(function(t,n){"use strict";function r(e,t){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height;var n=e.getContext("2d");n.drawImage(o,0,0);var r=n.getImageData(0,0,o.width,o.height);t(null,u(new Uint8Array(r.data),[o.width,o.height,4],[4,4*o.width,1],0))},o.onerror=function(e){t(e)},o.src=e}function i(e,t){var o;try{o=new h(e)}catch(n){return void t(n)}if(o.numFrames()>0){var r=[o.numFrames(),o.height,o.width,4],i=new Uint8Array(r[0]*r[1]*r[2]*r[3]),a=u(i,r);try{for(var s=0;s<o.numFrames();++s)o.decodeAndBlitFrameRGBA(s,i.subarray(a.index(s,0,0,0),a.index(s+1,0,0,0)))}catch(n){return void t(n)}t(null,a.transpose(0,2,1))}else{var r=[o.height,o.width,4],i=new Uint8Array(r[0]*r[1]*r[2]),a=u(i,r);try{o.decodeAndBlitFrameRGBA(0,i)}catch(n){return void t(n)}t(null,a.transpose(1,0))}}function a(e,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("application/binary"),o.onerror=function(e){t(e)},o.onload=function(){if(4===o.readyState){var e=new Uint8Array(o.response);i(e,t)}},o.send()}function s(e){if(void 0===e[0]){for(var t=e.length,o=new Uint8Array(t),n=0;n<t;++n)o[n]=e.get(n);return o}return new Uint8Array(e)}function l(e,o){t.nextTick(function(){try{var t=g(e);t?i(s(t),o):o(new Error("Error parsing data URI"))}catch(n){o(n)}})}var c=o(294),u=o(14),h=o(1067).GifReader,g=(o(1060),o(210),o(946));e.exports=function(e,t,o){o||(o=t,t="");var i=c.extname(e);switch(t||i.toUpperCase()){case".GIF":a(e,o);break;default:n.isBuffer(e)&&(e="data:"+t+";base64,"+e.toString("base64")),0===e.indexOf("data:image/gif;")?l(e,o):r(e,o)}}}).call(t,o(5),o(1).Buffer)},[1236,362,36,38,1154,77,125,77,125],[1237,77,36,38],[1238,36,38,77,77],function(e,t){function o(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=o},function(e,t){function o(e){var t=e[0],o=e[1],n=e[2],r=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],g=e[11],d=e[12],f=e[13],p=e[14],y=e[15],b=t*a-o*i,_=t*s-n*i,m=t*l-r*i,v=o*s-n*a,E=o*l-r*a,k=n*l-r*s,T=c*f-u*d,S=c*p-h*d,C=c*y-g*d,B=u*p-h*f,A=u*y-g*f,w=h*y-g*p;return b*w-_*A+m*B+v*C-E*S+k*T}e.exports=o},function(e,t,o){t.glMatrix=o(42),t.mat2=o(977),t.mat2d=o(978),t.mat3=o(350),t.mat4=o(37),t.quat=o(202),t.vec2=o(979),t.vec3=o(23),t.vec4=o(351)},function(e,t,o){var n=o(42),r={};r.create=function(){var e=new n.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},r.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},r.clone=function(e){var t=new n.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.fromValues=function(e,t,o,r,i,a,s,l,c){var u=new n.ARRAY_TYPE(9);return u[0]=e,u[1]=t,u[2]=o,u[3]=r,u[4]=i,u[5]=a,u[6]=s,u[7]=l,u[8]=c,u},r.set=function(e,t,o,n,r,i,a,s,l,c){return e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=i,e[5]=a,e[6]=s,e[7]=l,e[8]=c,e},r.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},r.transpose=function(e,t){if(e===t){var o=t[1],n=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=o,e[5]=t[7],e[6]=n,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},r.invert=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*a-s*c,g=-u*i+s*l,d=c*i-a*l,f=o*h+n*g+r*d;return f?(f=1/f,e[0]=h*f,e[1]=(-u*n+r*c)*f,e[2]=(s*n-r*a)*f,e[3]=g*f,e[4]=(u*o-r*l)*f,e[5]=(-s*o+r*i)*f,e[6]=d*f,e[7]=(-c*o+n*l)*f,e[8]=(a*o-n*i)*f,e):null},r.adjoint=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=r*c-n*u,e[2]=n*s-r*a,e[3]=s*l-i*u,e[4]=o*u-r*l,e[5]=r*i-o*s,e[6]=i*c-a*l,e[7]=n*l-o*c,e[8]=o*a-n*i,e},r.determinant=function(e){var t=e[0],o=e[1],n=e[2],r=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*(c*i-a*l)+o*(-c*r+a*s)+n*(l*r-i*s)},r.multiply=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=o[0],d=o[1],f=o[2],p=o[3],y=o[4],b=o[5],_=o[6],m=o[7],v=o[8];return e[0]=g*n+d*a+f*c,e[1]=g*r+d*s+f*u,e[2]=g*i+d*l+f*h,e[3]=p*n+y*a+b*c,e[4]=p*r+y*s+b*u,e[5]=p*i+y*l+b*h,e[6]=_*n+m*a+v*c,e[7]=_*r+m*s+v*u,e[8]=_*i+m*l+v*h,e},r.mul=r.multiply,r.translate=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=o[0],d=o[1];return e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=g*n+d*a+c,e[7]=g*r+d*s+u,e[8]=g*i+d*l+h,e},r.rotate=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=Math.sin(o),d=Math.cos(o);return e[0]=d*n+g*a,e[1]=d*r+g*s,e[2]=d*i+g*l,e[3]=d*a-g*n,e[4]=d*s-g*r,e[5]=d*l-g*i,e[6]=c,e[7]=u,e[8]=h,e},r.scale=function(e,t,o){var n=o[0],r=o[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},r.fromRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=o,e[2]=0,e[3]=-o,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},r.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},r.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},r.fromQuat=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=o+o,s=n+n,l=r+r,c=o*a,u=n*a,h=n*s,g=r*a,d=r*s,f=r*l,p=i*a,y=i*s,b=i*l;return e[0]=1-h-f,e[3]=u-b,e[6]=g+y,e[1]=u+b,e[4]=1-c-f,e[7]=d-p,e[2]=g-y,e[5]=d+p,e[8]=1-c-h,e},r.normalFromMat4=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],g=t[10],d=t[11],f=t[12],p=t[13],y=t[14],b=t[15],_=o*s-n*a,m=o*l-r*a,v=o*c-i*a,E=n*l-r*s,k=n*c-i*s,T=r*c-i*l,S=u*p-h*f,C=u*y-g*f,B=u*b-d*f,A=h*y-g*p,w=h*b-d*p,I=g*b-d*y,O=_*I-m*w+v*A+E*B-k*C+T*S;return O?(O=1/O,e[0]=(s*I-l*w+c*A)*O,e[1]=(l*B-a*I-c*C)*O,e[2]=(a*w-s*B+c*S)*O,e[3]=(r*w-n*I-i*A)*O,e[4]=(o*I-r*B+i*C)*O,e[5]=(n*B-o*w-i*S)*O,e[6]=(p*T-y*k+b*E)*O,e[7]=(y*v-f*T-b*m)*O,e[8]=(f*k-p*v+b*_)*O,e):null},r.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},r.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},r.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e[4]=t[4]+o[4],e[5]=t[5]+o[5],e[6]=t[6]+o[6],e[7]=t[7]+o[7],e[8]=t[8]+o[8],e},r.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e[4]=t[4]-o[4],e[5]=t[5]-o[5],e[6]=t[6]-o[6],e[7]=t[7]-o[7],e[8]=t[8]-o[8],e},r.sub=r.subtract,r.multiplyScalar=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*o,e},r.multiplyScalarAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e[3]=t[3]+o[3]*n,e[4]=t[4]+o[4]*n,e[5]=t[5]+o[5]*n,e[6]=t[6]+o[6]*n,e[7]=t[7]+o[7]*n,e[8]=t[8]+o[8]*n,e},r.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},r.equals=function(e,t){var o=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],g=t[0],d=t[1],f=t[2],p=t[3],y=t[4],b=t[5],_=e[6],m=t[7],v=t[8];return Math.abs(o-g)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(r-d)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-p)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-y)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-b)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(c-_)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(u-m)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(h-v)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))},e.exports=r},function(e,t,o){var n=o(42),r={};r.create=function(){var e=new n.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},r.clone=function(e){var t=new n.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.fromValues=function(e,t,o,r){var i=new n.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=o,i[3]=r,i},r.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.set=function(e,t,o,n,r){return e[0]=t,e[1]=o,e[2]=n,e[3]=r,e},r.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e},r.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e},r.sub=r.subtract,r.multiply=function(e,t,o){return e[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e[3]=t[3]*o[3],e},r.mul=r.multiply,r.divide=function(e,t,o){return e[0]=t[0]/o[0],e[1]=t[1]/o[1],e[2]=t[2]/o[2],e[3]=t[3]/o[3],e},r.div=r.divide,r.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},r.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},r.min=function(e,t,o){return e[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e[2]=Math.min(t[2],o[2]),e[3]=Math.min(t[3],o[3]),e},r.max=function(e,t,o){return e[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e[2]=Math.max(t[2],o[2]),e[3]=Math.max(t[3],o[3]),e},r.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},r.scale=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e},r.scaleAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e[3]=t[3]+o[3]*n,e},r.distance=function(e,t){var o=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(o*o+n*n+r*r+i*i)},r.dist=r.distance,r.squaredDistance=function(e,t){var o=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],i=t[3]-e[3];return o*o+n*n+r*r+i*i},r.sqrDist=r.squaredDistance,r.length=function(e){var t=e[0],o=e[1],n=e[2],r=e[3];return Math.sqrt(t*t+o*o+n*n+r*r)},r.len=r.length,r.squaredLength=function(e){var t=e[0],o=e[1],n=e[2],r=e[3];return t*t+o*o+n*n+r*r},r.sqrLen=r.squaredLength,r.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},r.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},r.normalize=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=o*o+n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=o*a,e[1]=n*a,e[2]=r*a,e[3]=i*a),e},r.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},r.lerp=function(e,t,o,n){var r=t[0],i=t[1],a=t[2],s=t[3];return e[0]=r+n*(o[0]-r),e[1]=i+n*(o[1]-i),e[2]=a+n*(o[2]-a),e[3]=s+n*(o[3]-s),e},r.random=function(e,t){return t=t||1,e[0]=n.RANDOM(),e[1]=n.RANDOM(),e[2]=n.RANDOM(),e[3]=n.RANDOM(),r.normalize(e,e),r.scale(e,e,t),e},r.transformMat4=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3];return e[0]=o[0]*n+o[4]*r+o[8]*i+o[12]*a,e[1]=o[1]*n+o[5]*r+o[9]*i+o[13]*a,e[2]=o[2]*n+o[6]*r+o[10]*i+o[14]*a,e[3]=o[3]*n+o[7]*r+o[11]*i+o[15]*a,e},r.transformQuat=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[0],s=o[1],l=o[2],c=o[3],u=c*n+s*i-l*r,h=c*r+l*n-a*i,g=c*i+a*r-s*n,d=-a*n-s*r-l*i;return e[0]=u*c+d*-a+h*-l-g*-s,e[1]=h*c+d*-s+g*-a-u*-l,e[2]=g*c+d*-l+u*-s-h*-a,e[3]=t[3],e},r.forEach=function(){var e=r.create();return function(t,o,n,r,i,a){var s,l;for(o||(o=4),n||(n=0),l=r?Math.min(r*o+n,t.length):t.length,s=n;s<l;s+=o)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),r.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},r.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},r.equals=function(e,t){var o=e[0],r=e[1],i=e[2],a=e[3],s=t[0],l=t[1],c=t[2],u=t[3];return Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-c)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))},e.exports=r},256,257,function(e,t){function o(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}e.exports=o},function(e,t){function o(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[0],s=o[1],l=o[2];return e[0]=r*l-i*s,e[1]=i*a-n*l,e[2]=n*s-r*a,e}e.exports=o},function(e,t){function o(e,t,o){var n=new Float32Array(3);return n[0]=e,n[1]=t,n[2]=o,n}e.exports=o},function(e,t){function o(e){var t=e[0],o=e[1],n=e[2];return Math.sqrt(t*t+o*o+n*n)}e.exports=o},function(e,t){function o(e,t,o,n){var r=t[0],i=t[1],a=t[2];return e[0]=r+n*(o[0]-r),e[1]=i+n*(o[1]-i),e[2]=a+n*(o[2]-a),e}e.exports=o},259,260,[1253,80,56,205],263,[1200,10,54],[1202,24,1028],266,267,[1213,368,10],[1214,10],[1217,367,10],[1218,10,54,367,1037,1036,369],272,[1220,24,207,10],[1221,10,24],[1222,10,24],[1223,10,1038,24,363,54,91,1034],function(e,t,o){function n(e,t,o,n){if(0===u(t)||0===u(o))return!1;var r=c(t,g.translate,g.scale,g.skew,g.perspective,g.quaternion),i=c(o,d.translate,d.scale,d.skew,d.perspective,d.quaternion);return!(!r||!i)&&(s(f.translate,g.translate,d.translate,n),s(f.skew,g.skew,d.skew,n),s(f.scale,g.scale,d.scale,n),s(f.perspective,g.perspective,d.perspective,n),h(f.quaternion,g.quaternion,d.quaternion,n),l(e,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}function r(){return{translate:i(),scale:i(1),skew:i(),perspective:a(),quaternion:a()}}function i(e){return[e||0,e||0,e||0]}function a(){return[0,0,0,1]}var s=o(358),l=o(1045),c=o(1043),u=o(348),h=o(1089),g=r(),d=r(),f=r();e.exports=n},function(e,t,o){(function(t){"use strict";var n=o(13),r=o(8),i=e.exports=function(){r.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};n.inherits(i,r),i.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))},i.prototype.write=function(e,o){return this.writable?(t.isBuffer(e)||(e=new t(e,o||this._encoding)),this._buffers.push(e),this._buffered+=e.length,this._process(),this._reads&&0==this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1)},i.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0==this._buffers.length?this._end():(this._buffers.push(null),this._process()))},i.prototype.destroySoon=i.prototype.end,i.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waitng on finished stream")),this.destroy()},i.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},i.prototype._process=function(){for(;this._buffered>0&&this._reads&&this._reads.length>0;){var e=this._reads[0];if(e.allowLess){this._reads.shift();var o=this._buffers[0];o.length>e.length?(this._buffered-=e.length,this._buffers[0]=o.slice(e.length),e.func.call(this,o.slice(0,e.length))):(this._buffered-=o.length,this._buffers.shift(),e.func.call(this,o))}else{if(!(this._buffered>=e.length))break;this._reads.shift();for(var n=0,r=0,i=new t(e.length);n<e.length;){var o=this._buffers[r++],a=Math.min(o.length,e.length-n);o.copy(i,n,0,a),n+=a,a!=o.length&&(this._buffers[--r]=o.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,i)}}this._buffers&&this._buffers.length>0&&null==this._buffers[0]&&this._end()}}).call(t,o(1).Buffer)},function(e,t){"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLOR_PALETTE:1,COLOR_COLOR:2,COLOR_ALPHA:4}},function(e,t,o){"use strict";var n=o(13),r=o(8),i=e.exports=function(){r.call(this),this._crc=-1,this.writable=!0};n.inherits(i,r),i.prototype.write=function(e){for(var t=0;t<e.length;t++)this._crc=a[255&(this._crc^e[t])]^this._crc>>>8;return!0},i.prototype.end=function(e){e&&this.write(e),this.emit("crc",this.crc32())},i.prototype.crc32=function(){return this._crc^-1},i.crc32=function(e){for(var t=-1,o=0;o<e.length;o++)t=a[255&(t^e[o])]^t>>>8;return t^-1};for(var a=[],s=0;s<256;s++){for(var l=s,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;a[s]=l}},function(e,t,o){(function(t){"use strict";var n=o(13),r=(o(60),o(377)),i=e.exports=function(e,t,o,n,i){r.call(this),this._width=e,this._height=t,this._Bpp=o,this._data=n,this._options=i,this._line=0,"filterType"in i&&i.filterType!=-1?"number"==typeof i.filterType&&(i.filterType=[i.filterType]):i.filterType=[0,1,2,3,4],this._filters={0:this._filterNone.bind(this),1:this._filterSub.bind(this),2:this._filterUp.bind(this),3:this._filterAvg.bind(this),4:this._filterPaeth.bind(this)},this.read(this._width*o+1,this._reverseFilterLine.bind(this))};n.inherits(i,r);var a={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};i.prototype._reverseFilterLine=function(e){var t=this._data,o=this._width<<2,n=this._line*o,r=e[0];if(0==r)for(var i=0;i<this._width;i++)for(var l=n+(i<<2),c=1+i*this._Bpp,u=0;u<4;u++){var h=a[this._Bpp][u];t[l+u]=255!=h?e[c+h]:255}else if(1==r)for(var i=0;i<this._width;i++)for(var l=n+(i<<2),c=1+i*this._Bpp,u=0;u<4;u++){var h=a[this._Bpp][u],g=i>0?t[l+u-4]:0;t[l+u]=255!=h?e[c+h]+g:255}else if(2==r)for(var i=0;i<this._width;i++)for(var l=n+(i<<2),c=1+i*this._Bpp,u=0;u<4;u++){var h=a[this._Bpp][u],d=this._line>0?t[l-o+u]:0;t[l+u]=255!=h?e[c+h]+d:255}else if(3==r)for(var i=0;i<this._width;i++)for(var l=n+(i<<2),c=1+i*this._Bpp,u=0;u<4;u++){var h=a[this._Bpp][u],g=i>0?t[l+u-4]:0,d=this._line>0?t[l-o+u]:0,f=Math.floor((g+d)/2);t[l+u]=255!=h?e[c+h]+f:255}else if(4==r)for(var i=0;i<this._width;i++)for(var l=n+(i<<2),c=1+i*this._Bpp,u=0;u<4;u++){var h=a[this._Bpp][u],g=i>0?t[l+u-4]:0,d=this._line>0?t[l-o+u]:0,p=i>0&&this._line>0?t[l-o+u-4]:0,f=s(g,d,p);t[l+u]=255!=h?e[c+h]+f:255}this._line++,this._line<this._height?this.read(this._width*this._Bpp+1,this._reverseFilterLine.bind(this)):this.emit("complete",this._data,this._width,this._height)},i.prototype.filter=function(){for(var e=this._data,o=new t(((this._width<<2)+1)*this._height),n=0;n<this._height;n++){for(var r=this._options.filterType,i=1/0,a=0,s=0;s<r.length;s++){var l=this._filters[r[s]](e,n,null);l<i&&(a=r[s],i=l)}this._filters[a](e,n,o)}return o},i.prototype._filterNone=function(e,t,o){var n=this._width<<2,r=n+1,i=0;if(o)o[t*r]=0,e.copy(o,r*t+1,n*t,n*(t+1));else for(var a=0;a<n;a++)i+=Math.abs(e[t*n+a]);return i},i.prototype._filterSub=function(e,t,o){var n=this._width<<2,r=n+1,i=0;o&&(o[t*r]=1);for(var a=0;a<n;a++){var s=a>=4?e[t*n+a-4]:0,l=e[t*n+a]-s;o?o[t*r+1+a]=l:i+=Math.abs(l)}return i},i.prototype._filterUp=function(e,t,o){var n=this._width<<2,r=n+1,i=0;o&&(o[t*r]=2);for(var a=0;a<n;a++){var s=t>0?e[(t-1)*n+a]:0,l=e[t*n+a]-s;o?o[t*r+1+a]=l:i+=Math.abs(l)}return i},i.prototype._filterAvg=function(e,t,o){var n=this._width<<2,r=n+1,i=0;o&&(o[t*r]=3);for(var a=0;a<n;a++){var s=a>=4?e[t*n+a-4]:0,l=t>0?e[(t-1)*n+a]:0,c=e[t*n+a]-(s+l>>1);o?o[t*r+1+a]=c:i+=Math.abs(c)}return i},i.prototype._filterPaeth=function(e,t,o){var n=this._width<<2,r=n+1,i=0;o&&(o[t*r]=4);for(var a=0;a<n;a++){var l=a>=4?e[t*n+a-4]:0,c=t>0?e[(t-1)*n+a]:0,u=a>=4&&t>0?e[(t-1)*n+a-4]:0,h=e[t*n+a]-s(l,c,u);o?o[t*r+1+a]=h:i+=Math.abs(h)}return i};var s=function(e,t,o){var n=e+t-o,r=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-o);return r<=i&&r<=a?e:i<=a?t:o}}).call(t,o(1).Buffer)},[1244,55],241,291,242,293,function(e,t,o){(function(e){"use strict";function n(e,t){function o(){if(r===e.length)throw new Error("Ran out of data");var o=e[r];r++;var i,a,s,l,c,u,h,g;switch(t){default:throw new Error("unrecognised depth");case 16:h=e[r],r++,n.push((o<<8)+h);break;case 4:h=15&o,g=o>>4,n.push(g,h);break;case 2:c=3&o,u=o>>2&3,h=o>>4&3,g=o>>6&3,n.push(g,h,u,c);break;case 1:i=1&o,a=o>>1&1,s=o>>2&1,l=o>>3&1,c=o>>4&1,u=o>>5&1,h=o>>6&1,g=o>>7&1,n.push(g,h,u,c,l,s,a,i)}}var n=[],r=0;return{get:function(e){for(;n.length<e;)o();var t=n.slice(0,e);return n=n.slice(e),t},resetAfterLine:function(){n.length=0},end:function(){if(r!==e.length)throw new Error("extra data found")}}}function r(e,t,o,n,r,i){for(var a=e.width,l=e.height,c=e.index,u=0;u<l;u++)for(var h=0;h<a;h++){for(var g=o(h,u,c),d=0;d<4;d++){var f=s[n][d];if(d===r.length)throw new Error("Ran out of data");t[g+d]=255!==f?r[f+i]:255}i+=n}return i}function i(e,t,o,n,r,i){for(var a=e.width,l=e.height,c=e.index,u=0;u<l;u++){for(var h=0;h<a;h++)for(var g=r.get(n),d=o(h,u,c),f=0;f<4;f++){var p=s[n][f];t[d+f]=255!==p?g[p]:i}r.resetAfterLine()}}var a=o(391),s={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};t.dataToBitMap=function(t,o){var s=o.width,l=o.height,c=o.depth,u=o.bpp,h=o.interlace;if(8!==c)var g=n(t,c);var d;d=c<=8?new e(s*l*4):new Uint16Array(s*l*4);var f,p,y=Math.pow(2,c)-1,b=0;if(h)f=a.getImagePasses(s,l),p=a.getInterlaceIterator(s,l);else{var _=0;p=function(){var e=_;return _+=4,e},f=[{width:s,height:l}]}for(var m=0;m<f.length;m++)8===c?b=r(f[m],d,p,u,t,b):i(f[m],d,p,u,g,y);if(8===c){if(b!==t.length)throw new Error("extra data found")}else g.end();return d}}).call(t,o(1).Buffer)},function(e,t,o){(function(t,n){"use strict";var r=o(13),i=o(8),a=e.exports=function(){i.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};r.inherits(a,i),a.prototype.read=function(e,o){this._reads.push({length:Math.abs(e),allowLess:e<0,func:o}),t.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},a.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var o;return o=n.isBuffer(e)?e:new n(e,t||this._encoding),this._buffers.push(o),this._buffered+=o.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},a.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waitng on finished stream")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(e){this._reads.shift();var t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},a.prototype._processRead=function(e){this._reads.shift();for(var t=0,o=0,r=new n(e.length);t<e.length;){var i=this._buffers[o++],a=Math.min(i.length,e.length-t);i.copy(r,t,0,a),t+=a,a!==i.length&&(this._buffers[--o]=i.slice(a))}o>0&&this._buffers.splice(0,o),this._buffered-=e.length,e.func.call(this,r)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(t){this.emit("error",t)}}}).call(t,o(5),o(1).Buffer)},function(e,t){"use strict";var o=[];!function(){for(var e=0;e<256;e++){for(var t=e,n=0;n<8;n++)1&t?t=3988292384^t>>>1:t>>>=1;o[e]=t}}();var n=e.exports=function(){this._crc=-1};n.prototype.write=function(e){for(var t=0;t<e.length;t++)this._crc=o[255&(this._crc^e[t])]^this._crc>>>8;return!0},n.prototype.crc32=function(){return this._crc^-1},n.crc32=function(e){for(var t=-1,n=0;n<e.length;n++)t=o[255&(t^e[n])]^t>>>8;return t^-1}},function(e,t,o){(function(t){"use strict";function n(e,t,o){var n=e*t;return 8!==o&&(n=Math.ceil(n/(8/o))),n}var r=o(391),i=o(393),a=e.exports=function(e,t){var o=e.width,i=e.height,a=e.interlace,s=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],a)for(var c=r.getImagePasses(o,i),u=0;u<c.length;u++)this._images.push({byteWidth:n(c[u].width,s,l),height:c[u].height,lineIndex:0});else this._images.push({byteWidth:n(o,s,l),height:i,lineIndex:0});8===l?this._xComparison=s:16===l?this._xComparison=2*s:this._xComparison=1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(e,t,o){for(var n=this._xComparison,r=n-1,i=0;i<o;i++){var a=e[1+i],s=i>r?t[i-n]:0;t[i]=a+s}},a.prototype._unFilterType2=function(e,t,o){for(var n=this._lastLine,r=0;r<o;r++){var i=e[1+r],a=n?n[r]:0;t[r]=i+a}},a.prototype._unFilterType3=function(e,t,o){for(var n=this._xComparison,r=n-1,i=this._lastLine,a=0;a<o;a++){var s=e[1+a],l=i?i[a]:0,c=a>r?t[a-n]:0,u=Math.floor((c+l)/2);t[a]=s+u}},a.prototype._unFilterType4=function(e,t,o){for(var n=this._xComparison,r=n-1,a=this._lastLine,s=0;s<o;s++){var l=e[1+s],c=a?a[s]:0,u=s>r?t[s-n]:0,h=s>r&&a?a[s-n]:0,g=i(u,c,h);t[s]=l+g}},a.prototype._reverseFilterLine=function(e){var o,n=e[0],r=this._images[this._imageIndex],i=r.byteWidth;if(0===n)o=e.slice(1,i+1);else switch(o=new t(i),n){case 1:this._unFilterType1(e,o,i);break;case 2:this._unFilterType2(e,o,i);break;case 3:this._unFilterType3(e,o,i);break;case 4:this._unFilterType4(e,o,i);break;default:throw new Error("Unrecognised filter type - "+n)}this.write(o),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=o,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(t,o(1).Buffer)},function(e,t,o){(function(t){"use strict";function o(e,t,o,n,r){for(var i=0,a=0;a<n;a++)for(var s=0;s<o;s++){var l=r[e[i]];if(!l)throw new Error("index "+e[i]+" not in palette");for(var c=0;c<4;c++)t[i+c]=l[c];i+=4}}function n(e,t,o,n,r){for(var i=0,a=0;a<n;a++)for(var s=0;s<o;s++){var l=!1;if(1===r.length?r[0]===e[i]&&(l=!0):r[0]===e[i]&&r[1]===e[i+1]&&r[2]===e[i+2]&&(l=!0),l)for(var c=0;c<4;c++)t[i+c]=0;i+=4}}function r(e,t,o,n,r){for(var i=255,a=Math.pow(2,r)-1,s=0,l=0;l<n;l++)for(var c=0;c<o;c++){for(var u=0;u<4;u++)t[s+u]=Math.floor(e[s+u]*i/a+.5);s+=4}}e.exports=function(e,i){var a=i.depth,s=i.width,l=i.height,c=i.colorType,u=i.transColor,h=i.palette,g=e;return 3===c?o(e,g,s,l,h):(u&&n(e,g,s,l,u),8!==a&&(16===a&&(g=new t(s*l*4)),r(e,g,s,l,a))),g}}).call(t,o(1).Buffer)},function(e,t){"use strict";var o=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];t.getImagePasses=function(e,t){for(var n=[],r=e%8,i=t%8,a=(e-r)/8,s=(t-i)/8,l=0;l<o.length;l++){for(var c=o[l],u=a*c.x.length,h=s*c.y.length,g=0;g<c.x.length&&c.x[g]<r;g++)u++;for(g=0;g<c.y.length&&c.y[g]<i;g++)h++;u>0&&h>0&&n.push({width:u,height:h,index:l})}return n},t.getInterlaceIterator=function(e){return function(t,n,r){var i=t%o[r].x.length,a=(t-i)/o[r].x.length*8+o[r].x[i],s=n%o[r].y.length,l=(n-s)/o[r].y.length*8+o[r].y[s];return 4*a+l*e*4}}},function(e,t,o){(function(t){"use strict";var n=o(92),r=o(388),i=o(1079),a=o(1080),s=o(60),l=e.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||s.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:n.COLORTYPE_COLOR_ALPHA,e.colorType!==n.COLORTYPE_COLOR&&e.colorType!==n.COLORTYPE_COLOR_ALPHA)throw new Error("option color type:"+e.colorType+" is not supported at present");if(8!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,o){var r=i(e,t,o,this._options),s=n.COLORTYPE_TO_BPP_MAP[this._options.colorType],l=a(r,t,o,this._options,s);return l},l.prototype._packChunk=function(e,o){var n=o?o.length:0,i=new t(n+12);return i.writeUInt32BE(n,0),i.writeUInt32BE(e,4),o&&o.copy(i,8),i.writeInt32BE(r.crc32(i.slice(4,i.length-4)),i.length-4),i},l.prototype.packGAMA=function(e){var o=new t(4);return o.writeUInt32BE(Math.floor(e*n.GAMMA_DIVISION),0),this._packChunk(n.TYPE_gAMA,o)},l.prototype.packIHDR=function(e,o){var r=new t(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(o,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(n.TYPE_IHDR,r)},l.prototype.packIDAT=function(e){return this._packChunk(n.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(n.TYPE_IEND,null)}}).call(t,o(1).Buffer)},function(e,t){"use strict";e.exports=function(e,t,o){var n=e+t-o,r=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-o);return r<=i&&r<=a?e:i<=a?t:o}},function(e,t,o){(function(t){"use strict";var n=o(92),r=o(388),i=e.exports=function(e,t){this._options=e,e.checkCRC=e.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.inflateData=t.inflateData,this.finished=t.finished};i.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))},i.prototype._parseSignature=function(e){for(var t=n.PNG_SIGNATURE,o=0;o<t.length;o++)if(e[o]!==t[o])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},i.prototype._parseChunkBegin=function(e){for(var o=e.readUInt32BE(0),i=e.readUInt32BE(4),a="",s=4;s<8;s++)a+=String.fromCharCode(e[s]);var l=Boolean(32&e[4]);return this._hasIHDR||i===n.TYPE_IHDR?(this._crc=new r,this._crc.write(new t(a)),this._chunks[i]?this._chunks[i](o):l?void this.read(o+4,this._skipChunk.bind(this)):void this.error(new Error("Unsupported critical chunk type "+a))):void this.error(new Error("Expected IHDR on beggining"))},i.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},i.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},i.prototype._parseChunkEnd=function(e){var t=e.readInt32BE(0),o=this._crc.crc32();return this._options.checkCRC&&o!==t?void this.error(new Error("Crc error - "+t+" - "+o)):void(this._hasIEND||this.read(8,this._parseChunkBegin.bind(this)))},i.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},i.prototype._parseIHDR=function(e){this._crc.write(e);
var t=e.readUInt32BE(0),o=e.readUInt32BE(4),r=e[8],i=e[9],a=e[10],s=e[11],l=e[12];if(8!==r&&4!==r&&2!==r&&1!==r&&16!==r)return void this.error(new Error("Unsupported bit depth "+r));if(!(i in n.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(0!==a)return void this.error(new Error("Unsupported compression method"));if(0!==s)return void this.error(new Error("Unsupported filter method"));if(0!==l&&1!==l)return void this.error(new Error("Unsupported interlace method"));this._colorType=i;var c=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:o,depth:r,interlace:Boolean(l),palette:Boolean(i&n.COLORTYPE_PALETTE),color:Boolean(i&n.COLORTYPE_COLOR),alpha:Boolean(i&n.COLORTYPE_ALPHA),bpp:c,colorType:i}),this._handleChunkEnd()},i.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},i.prototype._parsePLTE=function(e){this._crc.write(e);for(var t=Math.floor(e.length/3),o=0;o<t;o++)this._palette.push([e[3*o],e[3*o+1],e[3*o+2],255]);this.palette(this._palette),this._handleChunkEnd()},i.prototype._handleTRNS=function(e){this.read(e,this._parseTRNS.bind(this))},i.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===n.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===n.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===n.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},i.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},i.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/n.GAMMA_DIVISION),this._handleChunkEnd()},i.prototype._handleIDAT=function(e){this.read(-e,this._parseIDAT.bind(this,e))},i.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===n.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);var o=e-t.length;o>0?this._handleIDAT(o):this._handleChunkEnd()},i.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},i.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(t,o(1).Buffer)},function(e,t){"use strict";var o=e.exports=function(e){this._buffer=e,this._reads=[]};o.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},o.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},[1247,362,36,38,125,125],[1248,209,36,38],[1249,36,38,209],function(e,t,o){(function(t){"use strict";function n(e,t,o){if(4===e.shape.length)return n(e.pick(o),t,0);if(3===e.shape.length)if(3===e.shape[2])u.assign(c(t,[e.shape[0],e.shape[1],3],[4,4*e.shape[0],1]),e),u.assigns(c(t,[e.shape[0]*e.shape[1]],[4],3),255);else if(4===e.shape[2])u.assign(c(t,[e.shape[0],e.shape[1],4],[4,4*e.shape[0],1]),e);else{if(1!==e.shape[2])return new Error("Incompatible array shape");u.assign(c(t,[e.shape[0],e.shape[1],3],[4,4*e.shape[0],1]),c(e.data,[e.shape[0],e.shape[1],3],[e.stride[0],e.stride[1],0],e.offset)),u.assigns(c(t,[e.shape[0]*e.shape[1]],[4],3),255)}else{if(2!==e.shape.length)return new Error("Incompatible array shape");u.assign(c(t,[e.shape[0],e.shape[1],3],[4,4*e.shape[0],1]),c(e.data,[e.shape[0],e.shape[1],3],[e.stride[0],e.stride[1],0],e.offset)),u.assigns(c(t,[e.shape[0]*e.shape[1]],[4],3),255)}return t}function r(e){var t=h();return t.emit("error",e),t}var i=o(924),a=o(957),s=o(1095),l=o(1088).PNG,c=o(14),u=o(79),h=o(210);e.exports=function(e,o,c){switch(c=c||{},o.toUpperCase()){case"JPG":case".JPG":case"JPEG":case".JPEG":case"JPE":case".JPE":var u=e.shape[0],h=e.shape[1],g=new t(u*h*4);g=n(e,g);var d={data:g,width:u,height:h},f=s.encode(d,c.quality);return new i(f.data);case"GIF":case".GIF":var p=4===e.shape.length?e.shape[0]:1,u=4===e.shape.length?e.shape[1]:e.shape[0],h=4===e.shape.length?e.shape[2]:e.shape[1],g=new t(u*h*4),y=new a(u,h);y.writeHeader();for(var b=0;b<p;b++)g=n(e,g,b),y.addFrame(g);return y.finish(),y;case"PNG":case".PNG":var _=new l({width:e.shape[0],height:e.shape[1]}),g=n(e,_.data);return"Error"==typeof g?r(g):(_.data=g,_.pack());case"CANVAS":var m=document.createElement("canvas"),v=m.getContext("2d");m.width=e.shape[0],m.height=e.shape[1];var E=v.getImageData(0,0,m.width,m.height),g=E.data;return g=n(e,g),"Error"==typeof g?r(g):(v.putImageData(E,0,0),m);default:return r(new Error("Unsupported file type: "+o))}}}).call(t,o(1).Buffer)},function(e,t){"use strict";var o=function(){function e(e,t,o,n){this.x=e,this.y=t,this.w=o,this.h=n}return e.prototype.fitsIn=function(e){return e.w>=this.w&&e.h>=this.h},e.prototype.sameSizeAs=function(e){return this.w===e.w&&this.h===e.h},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},205,[1232,1117,1123],56,function(e,t,o){"use strict";var n=o(1129);t.NavMesher=n.default;var r=o(211);t.NavMesh=r.default,t.Node=r.Node;var i=o(1130);t.PathFinder=i.default;var a=o(1128);t.Channel=a.default},42,[1187,405],56,function(e,t,o){"use strict";var n=o(93),r=n.create(),i=n.create(),a=function(){},s=function(){function e(e,t,o){void 0===o&&(o=a),this.size=n.clone(t),this.base=n.create(),this.center=n.clone(e),this.max=n.create(),this.area=n.create(),this.onMove=o,this.calculateSurfaceArea(),this.calculateVertices()}return e.prototype.width=function(){return this.size[0]},e.prototype.height=function(){return this.size[1]},e.prototype.depth=function(){return this.size[2]},e.prototype.x0=function(){return this.base[0]},e.prototype.y0=function(){return this.base[1]},e.prototype.z0=function(){return this.base[2]},e.prototype.x1=function(){return this.max[0]},e.prototype.y1=function(){return this.max[1]},e.prototype.z1=function(){return this.max[2]},e.prototype.setCenter=function(e,t,o){return n.set(this.center,e,t,o),this.updateCenter()},e.prototype.copyCenter=function(e){return n.copy(this.center,e),this.updateCenter()},e.prototype.translate=function(e){return n.add(this.max,this.max,e),n.add(this.center,this.center,e),n.add(this.base,this.base,e),this.onMove(),this},e.prototype.copySize=function(e){return n.copy(this.size,e),this.calculateSurfaceArea(),this.calculateVertices(),this},e.prototype.expand=function(t){var o=n.create(),r=n.create();return n.max(o,t.max,this.max),n.min(r,t.base,this.base),n.subtract(o,o,r),new e(r,o)},e.prototype.intersects=function(e){return!(e.base[0]>this.max[0])&&(!(e.base[1]>this.max[1])&&(!(e.base[2]>this.max[2])&&(!(e.max[0]<this.base[0])&&(!(e.max[1]<this.base[1])&&!(e.max[2]<this.base[2])))))},e.prototype.touches=function(e){var t=this.union(e);return null!==t&&(0===t.width()||0===t.height()||0===t.depth())},e.prototype.union=function(t){if(!this.intersects(t))return null;var o=Math.max(t.base[0],this.base[0]),a=Math.max(t.base[1],this.base[1]),s=Math.max(t.base[2],this.base[2]),l=Math.min(t.max[0],this.max[0]),c=Math.min(t.max[1],this.max[1]),u=Math.min(t.max[2],this.max[2]);return new e(n.set(r,o,a,s),n.set(i,l-o,c-a,u-s))},e.prototype.unionSize=function(e,t){var o=n.max(r,t.base,this.base),a=n.min(i,t.max,this.max);return n.sub(e,a,o)},e.prototype.updateCenter=function(){return this.calculateVertices(),this.onMove(),this},e.prototype.calculateSurfaceArea=function(){n.set(this.area,this.size[1]*this.size[2],this.size[2]*this.size[0],this.size[0]*this.size[1])},e.prototype.calculateVertices=function(){var e=n.scale(r,this.size,.5);n.sub(this.base,this.center,e),n.add(this.max,this.center,e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,o){"use strict";function n(e,t,o){return new r.default(e,t,o)}var r=o(1147);t.Physics=r.default;var i=o(1148);t.RigidBody=i.default;var a=o(408);t.AABB=a.default,Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,o){"undefined"==typeof Promise&&(o(761).enable(),window.Promise=o(760)),o(882),Object.assign=o(7)},[1155,736],[1156,413],function(e,t,o){(function(t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return"undefined"==typeof t?ArrayBuffer:t}}}).call(t,o(1).Buffer)},function(e,t){(function(t){"use strict";function o(e){s.length||(a(),l=!0),s[s.length]=e}function n(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>u){for(var t=0,o=s.length-c;t<o;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,l=!1}function r(e){var t=1,o=new g(e),n=document.createTextNode("");return o.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}function i(e){return function(){function t(){clearTimeout(o),clearInterval(n),e()}var o=setTimeout(t,0),n=setInterval(t,50)}}e.exports=o;var a,s=[],l=!1,c=0,u=1024,h="undefined"!=typeof t?t:self,g=h.MutationObserver||h.WebKitMutationObserver;a="function"==typeof g?r(n):i(n),o.requestFlush=a,o.makeRequestCallFromTimer=i}).call(t,function(){return this}())},function(e,t){e.exports=function(e){return atob(e)}},function(e,t,o){e.exports=o(417)},function(e,t,o){"use strict";function n(e){var t=new a(e),o=i(a.prototype.request,t);return r.extend(o,a.prototype,t),r.extend(o,t),o}var r=o(18),i=o(218),a=o(419),s=n();s.Axios=a,s.create=function(e){return n(e)},s.Cancel=o(214),s.CancelToken=o(418),s.isCancel=o(215),s.all=function(e){return Promise.all(e)},s.spread=o(433),e.exports=s,e.exports.default=s},function(e,t,o){"use strict";function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var o=this;e(function(e){o.reason||(o.reason=new r(e),t(o.reason))})}var r=o(214);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e,t=new n(function(t){e=t});return{token:t,cancel:e}},e.exports=n},function(e,t,o){"use strict";function n(e){this.defaults=i.merge(r,e),this.interceptors={request:new a,response:new a}}var r=o(217),i=o(18),a=o(420),s=o(421),l=o(429),c=o(427);n.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(r,this.defaults,{method:"get"},e),e.baseURL&&!l(e.url)&&(e.url=c(e.baseURL,e.url));var t=[s,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)o=o.then(t.shift(),t.shift());return o},i.forEach(["delete","get","head"],function(e){n.prototype[e]=function(t,o){return this.request(i.merge(o||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,o,n){return this.request(i.merge(n||{},{method:e,url:t,data:o}))}}),e.exports=n},function(e,t,o){"use strict";function n(){this.handlers=[]}var r=o(18);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,o){"use strict";function n(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var r=o(18),i=o(424),a=o(215),s=o(217);e.exports=function(e){n(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||s.adapter;return t(e).then(function(t){return n(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(n(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t){"use strict";e.exports=function(e,t,o,n){return e.config=t,o&&(e.code=o),e.response=n,e}},function(e,t,o){"use strict";var n=o(216);e.exports=function(e,t,o){var r=o.config.validateStatus;o.status&&r&&!r(o.status)?t(n("Request failed with status code "+o.status,o.config,null,o)):e(o)}},function(e,t,o){"use strict";var n=o(18);e.exports=function(e,t,o){return n.forEach(o,function(o){e=o(e,t)}),e}},function(e,t){"use strict";function o(){this.message="String contains an invalid character"}function n(e){for(var t,n,i=String(e),a="",s=0,l=r;i.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&t>>8-s%1*8)){if(n=i.charCodeAt(s+=.75),n>255)throw new o;t=t<<8|n}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=n},function(e,t,o){"use strict";function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=o(18);e.exports=function(e,t,o){if(!t)return e;var i;if(o)i=o(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))}))}),i=a.join("&")}return i&&(e+=(e.indexOf("?")===-1?"?":"&")+i),e}},function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,o){"use strict";var n=o(18);e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,o,r,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,o){"use strict";var n=o(18);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return o&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,o=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(o){var r=n.isString(o)?e(o):o;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}()},function(e,t,o){"use strict";var n=o(18);e.exports=function(e,t){n.forEach(e,function(o,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[n])})}},function(e,t,o){"use strict";var n=o(18);e.exports=function(e){var t,o,r,i={};return e?(n.forEach(e.split("\n"),function(e){r=e.indexOf(":"),t=n.trim(e.substr(0,r)).toLowerCase(),o=n.trim(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+o:o)}),i):i}},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=o(106),i=o(219),a=n(i);a.default.JavaScript.STATEMENT_PREFIX="highlightBlock(%1);\n",a.default.JavaScript.addReservedWords("highlightBlock"),a.default.Blocks.math.HUE=r.blueGrey200,a.default.Blocks.loops.HUE=r.greenA700;var s={FORWARD:"[0, 0, 1]",BACK:"[0, 0, -1]",UP:"[0, 1, 0]",DOWN:"[0, -1, 0]",LEFT:"[1, 0, 0]",RIGHT:"[-1, 0, 0]"},l={FORWARD:"FORWARD",BACK:"BACK",LEFT:"LEFT",RIGHT:"RIGHT"};a.default.Blocks.when_run={helpUrl:"",init:function(){this.setColour(r.pink300),this.appendDummyInput().appendField("when run"),this.setPreviousStatement(!1),this.setNextStatement(!0),this.setDeletable(!1),this.setMovable(!1)},shouldBeGrayedOut:function(){return!1}},a.default.JavaScript.when_run=function(){return""},a.default.Blocks.move={init:function(){this.setColour(r.cyanA700),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!1),this.appendDummyInput().appendField("move").appendField(new a.default.FieldDropdown([["forward",l.FORWARD],["back",l.BACK],["left",l.LEFT],["right",l.RIGHT]]),"DIRECTION"),this.appendValueInput("DISTANCE").setCheck("Number").setAlign(a.default.ALIGN_RIGHT).appendField("by (meters)"),this.setTooltip("move")}},a.default.JavaScript.move=function(e){var t=(s[e.getFieldValue("DIRECTION")],a.default.JavaScript.valueToCode(e,"DISTANCE",a.default.JavaScript.ORDER_ADDITION));if(!t)return"";switch(e.getFieldValue("DIRECTION")){case l.FORWARD:return"moveForward("+t+");\n";case l.BACK:return"moveBack("+t+");\n";case l.LEFT:return"moveLeft("+t+");\n";case l.RIGHT:return"moveRight("+t+");\n"}return""},a.default.Blocks.moveTo={init:function(){this.setColour(r.cyanA700),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!1),this.appendValueInput("POSITION").appendField("move to"),this.setTooltip("move")}},a.default.JavaScript.moveTo=function(e){var t=a.default.JavaScript.valueToCode(e,"POSITION",a.default.JavaScript.ORDER_NONE);return t?"moveTo("+t+");\n":""},a.default.Blocks.nearestVoxel={init:function(){this.setColour(r.blueGrey200),this.setInputsInline(!1),this.appendDummyInput().appendField("nearest").appendField(new a.default.FieldDropdown([["water",[6].join(",")],["farmland",[7].join(",")],["growing crop",[8,9,10,11,12,13,14].join(",")],["grown crop",[15].join(",")]]),"BLOCK_TYPE"),this.setTooltip("move"),this.setOutput(!0)}},a.default.JavaScript.nearestVoxel=function(e){var t=e.getFieldValue("BLOCK_TYPE");return["getNearestVoxels(["+t+"])",a.default.JavaScript.ORDER_NONE]},a.default.Blocks.use={init:function(){this.setColour(r.cyanA700),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!1),this.appendValueInput("POSITION").appendField("use"),this.setTooltip("use")}},a.default.JavaScript.use=function(e){var t=a.default.JavaScript.valueToCode(e,"POSITION",a.default.JavaScript.ORDER_NONE);return t?"use("+t+");\n":""},a.default.Blocks.jump={init:function(){this.setColour(r.cyanA700),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!1),this.appendDummyInput().appendField("jump"),this.setTooltip("jump")}},a.default.JavaScript.jump=function(e){return"jump();\n"},a.default.Blocks.controls_forever={init:function(){this.appendDummyInput().appendField("forever"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(a.default.Blocks.loops.HUE),this.setTooltip(a.default.Msg.CONTROLS_REPEAT_TOOLTIP),this.setHelpUrl(a.default.Msg.CONTROLS_REPEAT_HELPURL),this.appendStatementInput("DO").appendField(a.default.Msg.CONTROLS_REPEAT_INPUT_DO)}},a.default.JavaScript.controls_forever=function(e){var t=a.default.JavaScript.statementToCode(e,"DO");return t=a.default.JavaScript.addLoopTrap(t,e.id),"while (true) {\n"+t+"}\n"}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(596);o(597),o(598),o(599),o(600),o(601),o(602),o(603),o(604),o(605),o(606),o(607),o(608),o(609),o(610),o(611),o(612),t.default=n.substr(0,n.lastIndexOf("/")+1)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.traceOn_||e.traceOn(!0)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(6),u=n(c),h=o(40),g=o(688),d=n(g),f=o(706),p=n(f),y=o(707),b=n(y),_=o(11),m=o(220),v=o(437),E=n(v),k=o(562),T=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleProcessStop=function(e){o.state.thread===e&&o.setThreadState(null)},o.handleHighlightBlock=function(e){o.state.thread===e&&o.workspaceWrapper.workspace.highlightBlock(e.blockId)},o.handleResize=function(){m.Blockly.svgResize(o.workspaceWrapper.workspace)},o.handleCloseButtonClick=function(){o.emitter.emit("close")},o.handleKeydown=function(e){switch(e.keyCode){case 27:o.emitter.emit("close")}},o.handleToggleScript=function(){if(o.state.thread)o.stop(),o.setThreadState(null);else{var e=o.play();o.setThreadState(e)}},o.state={thread:null,characterName:""},o.emitter=new _.EventEmitter,o}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.root=(0,h.findDOMNode)(this.refs.root),this.editor=(0,h.findDOMNode)(this.refs.editor),this.actionButton=(0,h.findDOMNode)(this.refs.actionButton),this.root.style.display="none",this.workspaceManager=new E.default(this.editor)}},{key:"open",value:function(e){if(!this.workspaceWrapper){var t=this.props.vm.getThreadInfo(e.id);this.setState({thread:t,characterName:e.name}),this.root.style.display="",this.workspaceWrapper=this.workspaceManager.activateWorkspace(e.id);var o=this.workspaceWrapper.workspace;s(o),t&&o.highlightBlock(t.blockId),document.addEventListener("keydown",this.handleKeydown),this.props.vm.on("stop",this.handleProcessStop),this.props.vm.on("highlight",this.handleHighlightBlock),window.addEventListener("resize",this.handleResize,!1)}}},{key:"close",value:function(){this.workspaceWrapper&&(this.setState({thread:null,characterName:""}),this.root.style.display="none",this.workspaceManager.deactivateWorkspace(this.workspaceWrapper),this.workspaceWrapper=null,document.removeEventListener("keydown",this.handleKeydown),this.props.vm.removeListener("stop",this.handleProcessStop),this.props.vm.removeListener("highlight",this.handleHighlightBlock),window.removeEventListener("resize",this.handleResize,!1))}},{key:"setOpacity",value:function(e){this.root.style.opacity=""+e}},{key:"on",value:function(e,t){return this.emitter.on(e,t),this}},{key:"once",value:function(e,t){return this.emitter.once(e,t),this}},{key:"removeListener",value:function(e,t){return this.emitter.removeListener(e,t),this}},{key:"stop",value:function(){this.props.vm.stop(this.workspaceWrapper.objectId)}},{key:"play",value:function(){var e=this.workspaceWrapper,t=e.workspace,o=e.objectId;s(t);var n=m.Blockly.Xml.workspaceToDom(t),r=(m.Blockly.Xml.domToText(n),[]),i=!0,a=!1,l=void 0;try{for(var c,u=t.getTopBlocks()[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var h=c.value;switch(h.type){case"when_run":r.push(m.Blockly.JavaScript.blockToCode(h))}}}catch(g){a=!0,l=g}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}var d=this.props.vm.run(o,r.join(""));return this.emitter.emit("play"),d}},{key:"setThreadState",value:function(e){this.setState({thread:e}),this.workspaceWrapper.workspace.highlightBlock(e?e.blockId:"")}},{key:"render",value:function(){return u.default.createElement("div",{className:k.root,ref:"root"},u.default.createElement("div",{className:k.menu},u.default.createElement("div",null,"[ ",this.state.characterName," ]"),u.default.createElement("div",{className:k.close,onClick:this.handleCloseButtonClick},"x")),u.default.createElement("div",{className:k.editor,ref:"editor"}),u.default.createElement(d.default,{className:k.actionButton,onTouchTap:this.handleToggleScript,secondary:!!this.state.thread,ref:"actionButton"},this.state.thread?u.default.createElement(b.default,null):u.default.createElement(p.default,null)))}}]),t}(u.default.Component);t.default=T},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){function o(){n!==a.Blockly.mainWorkspace&&n.markFocused()}var n=a.Blockly.mainWorkspace,r=document.createElement("div");r.style.position="absolute",r.style.height="100%",r.style.width="100%";var i=void 0;try{s.appendChild(r),i=a.Blockly.inject(r,{toolbox:a.toolbox,media:a.media});var l=a.Blockly.Xml.textToDom(t);a.Blockly.Xml.domToWorkspace(l,i)}catch(c){if(o(),"string"!=typeof c)throw c;throw new Error(c)}return o(),setTimeout(function(){r.parentElement===s&&s.removeChild(r)},0),{container:r,workspace:i,objectId:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(220),s=document.createElement("div");document.body.appendChild(s),s.style.visibility="hidden";var l=document.createElement("div");s.appendChild(l);var c=a.Blockly.inject(l,{readOnly:!0});setTimeout(function(){return s.removeChild(l)},0);var u=function(){function e(t){n(this,e),this.root=t,this.workspaces=new Map}return i(e,[{key:"activateWorkspace",value:function(e){var t=this.ensureWorkspace(e);return this.root.appendChild(t.container),a.Blockly.svgResize(t.workspace),a.Blockly.JavaScript.init(t.workspace),t.workspace.markFocused(),t}},{key:"deactivateWorkspace",value:function(e){e.container.parentElement.removeChild(e.container),c.markFocused()}},{key:"ensureWorkspace",value:function(e){var t=this.workspaces.get(e);return t?t:(t=r(e,a.initblocks),this.workspaces.set(e,t),t)}}]),e}();t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(436),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return new Promise(function(t){return setTimeout(t,e)})}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(6),u=n(c),h=o(40),g=o(563),d=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={sender:"",message:""},o.pending=Promise.resolve(),o}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.root=(0,h.findDOMNode)(this.refs.root)}},{key:"showMessage",value:function(e,t){var o=this;return this.pending=this.pending.then(function(){return o.setState({sender:e,message:t}),s(2500)}).then(function(){o.setState({sender:"",message:""})})}},{key:"setWidth",value:function(e){this.root.style.width=e+"%"}},{key:"render",value:function(){return u.default.createElement("div",{className:g.root,ref:"root"},this.renderBody())}},{key:"renderBody",value:function(){return this.state.message?u.default.createElement("div",{className:g.inner},u.default.createElement("div",{className:g.sender},this.state.sender,":"),u.default.createElement("div",{className:g.message},this.state.message)):null}}]),t}(u.default.Component);t.default=d},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(439),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(6),c=n(l),u=o(98),h=n(u),g=o(564),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,h.default)(g.root,this.props.className),style:this.props.style},this.props.children)}}]),t}(c.default.Component);t.default=d},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return new Promise(function(t){return setTimeout(t,e)})}Object.defineProperty(t,"__esModule",{value:!0});var l=o(63),c=n(l),u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),h=o(6),g=n(h),d=o(98),f=n(d),p=o(221),y=n(p),b=function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t)).next())})},_=o(565),m=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.queue=[],o.threadIsRunning=!1,o.state={query:null,animation:""},o}return a(t,e),u(t,[{key:"show",value:function(e){this.queue.push(e),this.runThread()}},{key:"runThread",
value:function(){return b(this,void 0,void 0,c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.threadIsRunning){e.next=2;break}return e.abrupt("return");case 2:if(t=this.queue.shift()){e.next=5;break}return e.abrupt("return");case 5:return this.threadIsRunning=!0,e.next=8,this.processQuery(t);case 8:this.threadIsRunning=!1,this.runThread();case 10:case"end":return e.stop()}},e,this)}))}},{key:"processQuery",value:function(e){return b(this,void 0,void 0,c.default.mark(function t(){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({query:e,animation:_.slideInDown}),t.next=3,s(3e3);case 3:return this.setState({animation:_.slideOutUp}),t.next=6,s(500);case 6:case"end":return t.stop()}},t,this)}))}},{key:"render",value:function(){return this.state.query?g.default.createElement(y.default,{className:(0,f.default)(_.root,this.state.animation)},g.default.createElement("img",{className:_.icon,src:this.state.query.imageUrl}),g.default.createElement("div",null,g.default.createElement("div",{className:_.title},"Achivement get!"),g.default.createElement("div",{className:_.content},this.state.query.message))):null}}]),t}(g.default.Component);t.default=m},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(442),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(6),c=n(l),u=o(40),h=o(459),g=n(h),d=o(438),f=n(d),p=o(447),y=n(p),b=o(443),_=n(b),m=o(440),v=n(m),E=o(449),k=n(E),T=o(476),S=n(T),C=o(566),B=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.vm=new S.default(Math.max(e.cpuCount-1,1)),o}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=(0,u.findDOMNode)(this.refs.game),t=this.refs.codeEditor,o=this.refs.statusPanel,n=this.refs.notification,r=this.refs.dialogue;(0,g.default)({container:e,codeEditor:t,notification:n,statusPanel:o,dialogue:r,vm:this.vm,overlay:this.props.overlay,loadingSpinner:this.props.loadingSpinner}).catch(function(e){console.error(e.stack)})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("div",{className:C.game,ref:"game",tabIndex:1}),c.default.createElement(_.default,{ref:"notification"}),c.default.createElement(y.default,{ref:"statusPanel"}),c.default.createElement(f.default,{ref:"codeEditor",vm:this.vm}),c.default.createElement(v.default,{ref:"dialogue"}),c.default.createElement(k.default,null))}}]),t}(c.default.Component);t.default=B},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(444),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(6),c=n(l),u=o(567),h=o(253),g=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={open:!1,cropCount:0},o}return a(t,e),s(t,[{key:"setCropCount",value:function(e){this.setState({cropCount:e})}},{key:"show",value:function(){this.setState({open:!0})}},{key:"hide",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return this.state.open?c.default.createElement("div",{className:u.root},c.default.createElement("img",{src:h}),c.default.createElement("div",{className:u.x},"x"),c.default.createElement("div",null,this.state.cropCount)):null}}]),t}(c.default.Component);t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(446),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=o(63),l=n(s),c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(6),h=n(u),g=o(98),d=n(g),f=o(221),p=n(f),y=function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t)).next())})},b=o(568),_=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={message:"good",style:b.hide},o}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.test()}},{key:"test",value:function(){return y(this,void 0,void 0,l.default.mark(function e(){var t=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){setTimeout(e,1e3)});case 2:return e.next=4,new Promise(function(e){setTimeout(function(){t.setState({style:b.slideInRight},e)},5e3)});case 4:return e.next=6,new Promise(function(e){setTimeout(function(){t.setState({style:b.slideOutRight},e)},5e3)});case 6:case"end":return e.stop()}},e,this)}))}},{key:"render",value:function(){return h.default.createElement("div",{className:b.root},h.default.createElement(p.default,{className:(0,d.default)(b.inner,this.state.style)},h.default.createElement("div",{className:b.title},"Let's move!"),h.default.createElement("div",{className:b.body},"Press W and S to move forwards and backwards")))}}]),t}(h.default.Component);t.default=_},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(448),i=n(r);t.default=i.default},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(){o(this,e)}return n(e,[{key:"transitionTo",value:function(e,t){this.current.onLeave(),this.current=e,this.current.onEnter(t)}}]),e}(),i=function(){function e(t){o(this,e),this.fsm=t}return n(e,[{key:"transitionTo",value:function(e,t){return this.fsm.transitionTo(e,t)}}]),e}();t.Fsm=r,t.State=i},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(68),c=n(l),u=o(196),h=o(404),g=6,d=c.default.fromValues(0,-1,0),f=new h.PathFinder,p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"findPath",value:function(e,t,o,n){var r=this.getNavMeshNode(e,o);if(!r)return console.warn("Cannot find fromNode"),null;var i=this.getNavMeshNode(t,n);if(!i)return console.warn("Cannot find toNode"),null;var a=f.findPath(r,i);if(!a)return console.warn("Cannot find path"),null;var s=new h.Channel;s.push(o);for(var l=a.length-1;l>=0;--l){var c=a[l].portal;s.push(c[0],c[1])}return s.push(n),s.stringPull()}},{key:"getNavMeshNode",value:function(e,t){var o=this.raycastSolidVoxels(e,d,g,t);if(!o)return console.warn("raycast missed"),null;var n=this.getChunkAtPosition(t);if(!n)return console.warn("Cannot find chunk"),null;var r=n.getNavMesh();return r.searchNode(t)}},{key:"getNearestWalkableVoxel",value:function(e,t,o){var n=1/0;return n=this.testNearestWalkable(e,n,t,o[0]-1,o[1],o[2]),n=this.testNearestWalkable(e,n,t,o[0]+1,o[1],o[2]),n=this.testNearestWalkable(e,n,t,o[0],o[1],o[2]-1),n=this.testNearestWalkable(e,n,t,o[0],o[1],o[2]+1),n!==1/0}},{key:"testNearestWalkable",value:function(e,t,o,n,r,i){if(this.isSolidVoxel(this.getVoxel(n,r,i))&&(r+=1),this.isSolidVoxel(this.getVoxel(n,r,i)))return t;var a=n+.5,s=i+.5,l=(a-o[0])*(a-o[0])+(s-o[2])*(s-o[2]);return l>t?t:(c.default.set(e,a,r,s),l)}}]),t}(u.Game);t.default=p},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(161),s=n(a),l=o(745),c=n(l),u=o(729),h=n(u),g=o(466),d=32,f=function(){function e(t,o){r(this,e),this.game=t;var n=o.reduce(function(e,t){return[Math.max(t.position[0]+1,e[0]),Math.max(t.position[1]+1,e[1]),Math.max(t.position[2]+1,e[2])]},[0,0,0]);this.ground=(0,s.default)(new Uint32Array(d*n[0]*1*d*n[2]),[d*n[0],1,d*n[2]]);var i=!0,a=!1,l=void 0;try{for(var u,g=o[Symbol.iterator]();!(i=(u=g.next()).done);i=!0){var f=u.value,p=f.matrix.hi(d,1,d),y=this.ground.lo(f.position[0]*d,0,f.position[2]*d).hi(d,1,d);(0,h.default)(y,p)}}catch(b){a=!0,l=b}finally{try{!i&&g.return&&g.return()}finally{if(a)throw l}}this.grid=new c.default.Grid(this.ground.shape[0],this.ground.shape[2]);for(var _=0;_<this.ground.shape[0];++_)for(var m=0;m<this.ground.shape[2];++m)6===this.ground.get(_,0,m)&&this.grid.setWalkableAt(_,m,!1);this.finder=new c.default.AStarFinder}return i(e,[{key:"findPath",value:function(e,t){var o=this.findWalkableAdjacent(t[0],t[2]),n=this.finder.findPath(Math.round(e[0]),Math.round(e[2]),o[0],o[1],this.grid.clone()),r=(n.length-1,n.map(function(t,o){return[t[0],e[1],t[1]]}));return r.push([t[0],t[1],t[2]]),r}},{key:"setBlock",value:function(e,t,o,n){this.game.setBlock(e,t,o,n),this.ground.set(e,0,o,n)}},{key:"searchForNearestVoxel",value:function(e,t){switch(t.length){case 1:return(0,g.searchForNearestVoxel1)(this.ground,e[0],e[2],t[0]);case 7:return(0,g.searchForNearestVoxel7)(this.ground,e[0],e[2],t[0],t[1],t[2],t[3],t[4],t[5],t[6])}return null}},{key:"findWalkableAdjacent",value:function(e,t){if(6!==this.ground.get(e,0,t))return[e,t];for(var o=1/0,n=void 0,r=[[e,t-1],[e,t+1],[e-1,t],[e+1,t]],i=0;i<r.length;i++){var a=r[i],s=this.ground.get(a[0],0,a[1]);if(6!==s){var l=a[0]-e,c=a[1]-t,u=l*l+c*c;u<o&&(o=u,n=a)}}return n}}]),e}();t.default=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(618),r=o(619),i=o(253);t.default={GET_WATER:{imageUrl:n,message:"Get Water"},GROW_A_SPROUT:{imageUrl:r,message:"Grow a sprout"},HARVEST_WHEAT:{imageUrl:i,message:"Harvest wheat"}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e>0?e-Math.min(e,d*t/1e3):e+Math.min(-e,d*t/1e3)}Object.defineProperty(t,"__esModule",{value:!0});var l,c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(126),h=n(u);!function(e){e[e.STAY_BOTTOM=0]="STAY_BOTTOM",e[e.GOING_UP=1]="GOING_UP",e[e.STAY_TOP=2]="STAY_TOP",e[e.GOING_DOWN=3]="GOING_DOWN"}(l||(l={}));var g=3,d=3,f=3e3,p=g/d,y=p*(g-.5*d*p),b=16-y,_=.5+y,m=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.stayRemain=f,o.state=l.STAY_BOTTOM,o}return a(t,e),c(t,[{key:"onTick",value:function(e){switch(this.state){case l.STAY_BOTTOM:0!==this.me.physics.velocity[1]&&(this.me.physics.velocity[1]=s(this.me.physics.velocity[1],e)),this.stayRemain-=e,this.stayRemain<0&&(this.state=l.GOING_UP);break;case l.GOING_UP:this.me.physics.velocity[1]<g&&(this.me.physics.velocity[1]+=g*e/1e3),this.me.physics.aabb.center[1]>=b&&(this.stayRemain=f,this.state=l.STAY_TOP);break;case l.STAY_TOP:0!==this.me.physics.velocity[1]&&(this.me.physics.velocity[1]=s(this.me.physics.velocity[1],e)),this.stayRemain-=e,this.stayRemain<0&&(this.state=l.GOING_DOWN);break;case l.GOING_DOWN:this.me.physics.velocity[1]>-g&&(this.me.physics.velocity[1]-=g*e/1e3),this.me.physics.aabb.center[1]<=_&&(this.stayRemain=f,this.state=l.STAY_BOTTOM)}}}]),t}(h.default);t.default=m},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=o(63),l=n(s),c=function(){function e(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),h=o(627),g=n(h),d=o(126),f=n(d),p=o(226),y=o(467),b=o(225),_=function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t)).next())})},m=g.default.create(),v=function(e){function t(e,o,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.listenGetWater=function(e){6===e&&(a.player.removeListener("getitem",a.listenGetWater),a.player.setPropN(p.N_QUEST_FARM_PROGRESS,b.QuestFarmProgress.WATER_FOUND))},a.listenUseWater=function(e){7===e&&(a.player.removeListener("voxelused",a.listenUseWater),a.player.setPropN(p.N_QUEST_FARM_PROGRESS,b.QuestFarmProgress.SPROUT_FOUND))},a.listenGetWheat=function(e){15===e&&(a.player.removeListener("getitem",a.listenGetWheat),a.player.setPropN(p.N_QUEST_FARM_PROGRESS,b.QuestFarmProgress.WHEAT_FOUND))},a.filterWorker=function(e){return e!==a.player},a.player=o,a.mapService=n,a.moving=0,a}return a(t,e),u(t,[{key:"onTick",value:function(e){this.moving<=0&&this.me.lookAt(this.player.position)}},{key:"onUsed",value:function(e){return _(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lock("used")){t.next=2;break}return t.abrupt("return");case 2:t.t0=e.getPropN(p.N_QUEST_FARM_PROGRESS),t.next=t.t0===b.QuestFarmProgress.INIT?5:t.t0===b.QuestFarmProgress.WATER_FOUND?8:t.t0===b.QuestFarmProgress.SPROUT_FOUND?11:t.t0===b.QuestFarmProgress.WHEAT_FOUND?14:17;break;case 5:return t.next=7,this.introduceWater(e);case 7:return t.abrupt("break",17);case 8:return t.next=10,this.introduceSprout(e);case 10:return t.abrupt("break",17);case 11:return t.next=13,this.requestWheat(e);case 13:return t.abrupt("break",17);case 14:return t.next=16,this.introduceWorker(e);case 16:return t.abrupt("break",17);case 17:this.unlock("used");case 18:case"end":return t.stop()}},t,this)}))}},{key:"introduceWater",value:function(e){return _(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getPropBT(y.BT_WATER_INTRODUCED)){t.next=11;break}return t.next=3,this.sendMessage(e,"This place is so nice!");case 3:return t.next=5,this.sendMessage(e,"Follow me. You can get water here.");case 5:return t.next=7,this.moveToBlock([6]);case 7:return t.next=9,this.me.stop();case 9:this.player.on("getitem",this.listenGetWater),e.setPropBT(y.BT_WATER_INTRODUCED,!0);case 11:return t.next=13,this.me.jump();case 13:return t.next=15,this.sendMessage(e,"Click water block.");case 15:case"end":return t.stop()}},t,this)}))}},{key:"introduceSprout",value:function(e){return _(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getPropBT(y.BT_SPROUT_INTRODUCED)){t.next=9;break}return t.next=3,this.sendMessage(e,"Now you can grow a sprout");case 3:return t.next=5,this.moveToBlock([7]);case 5:return t.next=7,this.me.stop();case 7:e.on("voxelused",this.listenUseWater),e.setPropBT(y.BT_SPROUT_INTRODUCED,!0);case 9:return t.next=11,this.me.jump();case 11:return t.next=13,this.sendMessage(e,"Click dirt block");case 13:case"end":return t.stop()}},t,this)}))}},{key:"requestWheat",value:function(e){return _(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isListening("getitem",this.listenGetWheat)||e.on("getitem",this.listenGetWheat),t.next=3,this.sendMessage(e,"You can grow the sprout you've just planted by watering");case 3:return t.next=5,this.sendMessage(e,"When all grown up, you can harvest wheat");case 5:case"end":return t.stop()}},t,this)}))}},{key:"introduceWorker",value:function(e){return _(this,void 0,void 0,l.default.mark(function t(){var o,n;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getPropBT(y.BT_WORKER_INTRODUCED)){t.next=17;break}return t.next=3,this.sendMessage(e,"Well done! Now you know how to get a wheat");case 3:return t.next=5,this.sendMessage(e,"We need wheat hmm... at least 20");case 5:return t.next=7,this.sendMessage(e,"It would be hard to grow the whole wheat on your own");case 7:return t.next=9,this.sendMessage(e,"Let me introduce people who can help you");case 9:return o=this.me.getNearestObject(this.filterWorker),n=g.default.set(m,o.position[0]-this.me.position[0],o.position[2]-this.me.position[2]),g.default.normalize(m,m),t.next=14,this.moveTo(Math.round(o.position[0]-m[0]),this.me.position[1],Math.round(o.position[2]-m[1]));case 14:return t.next=16,this.me.stop();case 16:e.setPropBT(y.BT_WORKER_INTRODUCED,!0);case 17:return t.next=19,this.me.jump();case 19:return t.next=21,this.sendMessage(e,"Talk to worker");case 21:case"end":return t.stop()}},t,this)}))}},{key:"moveToBlock",value:function(e){return _(this,void 0,void 0,l.default.mark(function t(){var o,n,r,i,a,s;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.me.position,n=this.mapService.searchForNearestVoxel(o,e),r=c(n,3),i=r[0],a=r[1],s=r[2],t.next=8,this.moveTo(a,o[1],s);case 8:case"end":return t.stop()}},t,this)}))}},{key:"moveTo",value:function(e,t,o){return _(this,void 0,void 0,l.default.mark(function n(){var r;return l.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.moving++,r=this.mapService.findPath(this.me.position,[e,t,o]),n.next=4,this.me.move(r);case 4:this.moving--;case 5:case"end":return n.stop()}},n,this)}))}}]),t}(f.default);t.default=v},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return new Promise(function(e){function t(){document.body.removeEventListener("mousedown",t,!0),e()}document.body.addEventListener("mousedown",t,!0)})}function l(e,t){return new Promise(function(o){function n(r){t(r)&&(o(),e.removeChangeListener(n))}e.addChangeListener(n)})}Object.defineProperty(t,"__esModule",{value:!0});var c=o(63),u=n(c),h=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),g=o(126),d=n(g),f=o(225),p=o(226),y=function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t)).next())})},b=new Error("code ended"),_=function(e){function t(e,o,n,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.handleCodeReady=function(){switch(l.player.getPropN(p.N_QUEST_FARM_PROGRESS)){case f.QuestFarmProgress.WHEAT_FOUND:break;case f.QuestFarmProgress.ACTION_BUTTON_FOUND:}},l.handleCodeBegin=function(){return y(l,void 0,void 0,u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player,e.prev=1,e.t0=t.getPropN(p.N_QUEST_FARM_PROGRESS),e.next=e.t0===f.QuestFarmProgress.WHEAT_FOUND?5:e.t0===f.QuestFarmProgress.ACTION_BUTTON_FOUND?8:11;break;case 5:return e.next=7,this.introduceActionButton(t);case 7:return e.abrupt("break",11);case 8:return e.next=10,this.introduceBasicButtons(t);case 10:return e.abrupt("break",11);case 11:e.next=15;break;case 13:e.prev=13,e.t1=e.catch(1);case 15:case"end":return e.stop()}},e,this,[[1,13]])}))},l.handleCodeEnd=function(){return y(l,void 0,void 0,u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.overlay.hide(),this.tipBalloon.hide();case 2:case"end":return e.stop()}},e,this)}))},l.codeEditor=n,l.overlay=a,l.tipBalloon=s,l.player=o,e.on("codeready",l.handleCodeReady),e.on("codebegin",l.handleCodeBegin),e.on("codeend",l.handleCodeEnd),l}return a(t,e),h(t,[{key:"onUsed",value:function(e){return y(this,void 0,void 0,u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lock("used")){t.next=2;break}return t.abrupt("return");case 2:t.t0=e.getPropN(p.N_QUEST_FARM_PROGRESS),t.next=t.t0===f.QuestFarmProgress.INIT?5:t.t0===f.QuestFarmProgress.WATER_FOUND?5:t.t0===f.QuestFarmProgress.SPROUT_FOUND?5:t.t0===f.QuestFarmProgress.WHEAT_FOUND?8:t.t0===f.QuestFarmProgress.ACTION_BUTTON_FOUND?8:t.t0===f.QuestFarmProgress.READY?8:10;break;case 5:return t.next=7,this.greet(e);case 7:return t.abrupt("break",10);case 8:return e.emit("code",this.me),t.abrupt("break",10);case 10:this.unlock("used");case 11:case"end":return t.stop()}},t,this)}))}},{key:"greet",value:function(e){return y(this,void 0,void 0,u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.me.lookAt(e.position),t.next=3,this.sendMessage(e,"Hello! Helper is waiting for you");case 3:case"end":return t.stop()}},t,this)}))}},{key:"p",value:function(e){var t=this;return new Promise(function(o,n){var r=function e(){t.me.removeListener("codeend",e),n(b)};e.then(function(e){t.me.removeListener("codeend",r),o(e)}).catch(function(e){t.me.removeListener("codeend",r),n(e)}),t.me.on("codeend",r)})}},{key:"introduceActionButton",value:function(e){return y(this,void 0,void 0,u.default.mark(function t(){var o,n=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.overlay.show(),t.next=3,this.p(this.sendMessage(e,"Let's start coding!"));case 3:return t.next=5,this.p(this.sendMessage(e,"This is coding view"));case 5:return t.next=7,this.p(this.sendMessage(e,"Remember you can always exit this by ESC or EXIT button"));case 7:return o=this.codeEditor.actionButton,this.tipBalloon.show(o,"Click this button and see what happens!"),this.overlay.setHighlighedElements([o]),t.next=12,this.p(new Promise(function(e){return n.codeEditor.once("play",e)}));case 12:return e.setPropN(p.N_QUEST_FARM_PROGRESS,f.QuestFarmProgress.ACTION_BUTTON_FOUND),this.overlay.hide(),this.tipBalloon.hide(),t.next=17,this.p(this.sendMessage(e,"Good job!"));case 17:case"end":return t.stop()}},t,this)}))}},{key:"introduceBasicButtons",value:function(e){return y(this,void 0,void 0,u.default.mark(function t(){var o,n,r,i,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.codeEditor.workspaceWrapper.workspace,n=o.getTopBlocks()[0],r=n.getSvgRoot(),this.tipBalloon.show(r,"When run button clicked, this code is executedw"),this.overlay.show([r]),t.next=7,this.p(s());case 7:return i=o.getTopBlocks()[0].getChildren()[0],a=i.getSvgRoot(),this.tipBalloon.show(a,"You can detach logic and use another one"),this.overlay.show([a]),t.next=13,this.p(l(o,function(e){return 0===n.getChildren().length}));case 13:return this.tipBalloon.hide(),this.overlay.hide(),t.next=17,this.p(this.sendMessage(e,"You successfuly detached!"));case 17:return t.next=19,this.p(this.sendMessage(e,"Let's make robot rotate!"));case 19:case"end":return t.stop()}},t,this)}))}}]),t}(d.default);t.default=_},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:1,name:"transparent_wall",hardness:1/0},{id:2,name:"bedrock",texture:"bedrock",hardness:1/0},{id:3,name:"grass",texture:["grass_top","dirt","grass_side"],hardness:1/0},{id:4,name:"logOak",texture:["log_oak_top","log_oak_top","log_oak"],hardness:1/0},{id:5,name:"sand",texture:"sand",hardness:1/0},{id:6,name:"hardened_clay_stained_light_blue",texture:"hardened_clay_stained_light_blue",hardness:1/0},{id:7,name:"farmland_dry",texture:"farmland_dry",hardness:1/0},{id:8,name:"wheat_stage_0",texture:"wheat_stage_0",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_0"}],hardness:1/0},{id:9,name:"wheat_stage_1",texture:"wheat_stage_1",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_1"}],hardness:1/0},{id:10,name:"wheat_stage_2",texture:"wheat_stage_2",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_2"}],hardness:1/0},{id:11,name:"wheat_stage_3",texture:"wheat_stage_3",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_3"}],hardness:1/0},{id:12,name:"wheat_stage_4",texture:"wheat_stage_4",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_4"}],hardness:1/0},{id:13,name:"wheat_stage_5",texture:"wheat_stage_5",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_5"}],hardness:1/0},{id:14,name:"wheat_stage_6",texture:"wheat_stage_6",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_6"}],hardness:1/0},{id:15,name:"wheat_stage_7",texture:"wheat_stage_7",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"wheat_stage_7"}],hardness:1/0},{id:16,name:"flower_tulip_orange",texture:"flower_tulip_orange",blockModel:[{from:[0,0,0],to:[16,16,16],faceData:{north:{},south:{},west:{},east:{}},texture:"flower_tulip_orange"}],hardness:1/0}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RAY_MIN_DIST=6},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return re(this,void 0,void 0,u.default.mark(function t(){var o,n,r,i,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.default.get(e,{responseType:"arraybuffer"});case 2:return o=t.sent,n=se.decode(new Uint8Array(o.data)),r=new Uint32Array(n.palette),i=P.default.inflate(new Uint8Array(n.buffer)),a=(0,U.default)(new Uint16Array(i.buffer),n.shape,n.stride,n.offset),t.abrupt("return",{matrix:a,palette:r});case 8:case"end":return t.stop()}},t,this)}))}function i(e){return re(this,void 0,void 0,u.default.mark(function t(){var o,n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.default.get(e,{responseType:"arraybuffer"});case 2:return o=t.sent,n=se.decode(new Uint8Array(o.data)),
t.abrupt("return",n.map(function(e){var t=P.default.inflate(new Uint8Array(e.buffer)),o=(0,U.default)(new Uint16Array(t.buffer),e.shape,e.stride,e.offset);return{matrix:o,position:e.position}}));case 5:case"end":return t.stop()}},t,this)}))}function a(e){return re(this,void 0,void 0,u.default.mark(function t(){var o,n,r,i;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.default.get(e,{responseType:"arraybuffer"});case 2:return o=t.sent,n=new p.default,t.next=6,n.loadAsync(o.data);case 6:return r=[],i={},n.forEach(function(e,t){r.push(t.async("arraybuffer").then(function(t){return i[e]=t}))}),t.next=11,Promise.all(r);case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}))}function s(e){return new Promise(function(t,o){var n=new Image;n.onload=function(e){return t(n)},n.onerror=function(e){return o(new Error("Image load failed"))},n.src=e})}function l(e){var t=(e.container,e.codeEditor),o=e.statusPanel,n=e.notification,l=e.dialogue,c=e.vm,g=e.overlay,f=e.loadingSpinner;return re(this,void 0,void 0,u.default.mark(function e(){var p,y,_,v,k,S,B,w,O,M,x,N,L,D,P,F,H,j,W,K,Y,q,Q,ee,oe,se,le,Ee,ke,Te,Be,Ae,we,Ie,Oe,Re,Me,xe,Ne,Le,De,Pe,Fe,Ue,He,Ve,je,Ge,We,ze,Ke=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ve=function(e){var t=e.join("|"),o=K.get(t);if(o)return o;var n=He(e);return K.set(t,n),n},He=function(e){var t=Pe[5],o=W.chunkSize,n=W.chunkPad,r=W.arrayType,i=new ArrayBuffer((o+n)*(o+n)*(o+n)*r.BYTES_PER_ELEMENT),a=(0,U.default)(new r(i),[o+n,o+n,o+n]),s=n>>1,l=a.lo(s,s,s).hi(o,o,o);if(0!==e[1])for(var c=0;c<W.chunkSize;++c)for(var u=0;u<W.chunkSize;++u)for(var h=0;h<W.chunkSize;++h)l.set(c,h,u,t);return new J.default(W.isSolidVoxel,a,e[0],e[1],e[2])},Ue=function(e){return e[1]===-1||0===e[1]},Oe=function(e,t){var n=h(t,3),r=n[0],i=n[1],a=n[2],s=W.getVoxel(r,i,a);switch(s){case 6:e.holdItem(Ae),Ie("GET_WATER"),e.emit("getitem",s);break;case 7:e.item===Ae&&(Ie("GROW_A_SPROUT"),le.setBlock(r,i+1,a,9),e.throwItem());break;case 9:e.item===Ae&&(le.setBlock(r,i,a,11),e.throwItem());break;case 11:e.item===Ae&&(le.setBlock(r,i,a,13),e.throwItem());break;case 13:e.item===Ae&&(le.setBlock(r,i,a,15),e.throwItem());break;case 15:le.setBlock(r,i,a,0),W.effectManager.add(r+.5,i+.5+.5,a+.5,Be),Ie("HARVEST_WHEAT"),Ce+=1,o.setCropCount(Ce),e.emit("getitem",s)}e.emit("voxelused",s,t)},Ie=function(e){if(!we.has(e)){var t=G.default[e];t&&(we.add(e),n.show(t))}},Y=function(e,t,o){var n=[e,t,o].join("|");return K.get(n)},p=new Z.default,e.next=9,Promise.all([X.default.initShell(),i(ce),r(ue),r(he),r(ge),r(de),r(fe),a(pe),s(ye),s(be),s(_e),s(me),s(ve)]);case 9:return y=e.sent,_=h(y,13),v=_[0],k=_[1],S=_[2],B=S.matrix,w=S.palette,O=_[3],M=_[4],x=_[5],N=_[6],L=_[7],D=_[8],P=_[9],F=_[10],H=_[11],j=_[12],v.on("gl-render",function(){return Se.update()}),W=new X.default(v,{artpacks:[L],blocks:z.default,fpsControlOptions:{discreteFire:!1,fireRate:100,jumpTimer:25,walkMaxSpeed:2*Number(.0056)},pluginOpts:{"voxel-engine-stackgl":{generateChunks:!1}}}),e.next=30,new Promise(function(e){return W.stitcher.once("addedAll",e)});case 30:K=new Map,k.forEach(function(e){var t=e.matrix,o=e.position;t.position=o;var n=o.join("|"),r=new J.default(W.isSolidVoxel,t,o[0],o[1],o[2]);K.set(n,r);var i=(r.getNavMesh(),Y(o[0]+1,o[1],o[2]));i&&(r.connectLeft(i),i.connectRight(r));var a=Y(o[0]-1,o[1],o[2]);a&&(r.connectRight(a),a.connectLeft(r));var s=Y(o[0],o[1],o[2]+1);s&&(r.connectFront(s),s.connectBack(r));var l=Y(o[0],o[1],o[2]-1);l&&(r.connectBack(l),l.connectFront(r))}),q=W.addModel("cubie",B,w),Q=W.addModel("helper",O.matrix,O.palette),ee=W.addModel("waterdrop",M.matrix,M.palette),oe=W.addModel("hooman",x.matrix,x.palette),se=W.addModel("chick",N.matrix,N.palette),le=new R.default(W,k),W.stitcher.addNonBlockTexture("icon_exclamation_mark",D),W.stitcher.addNonBlockTexture("icon_question_mark",P),W.stitcher.addNonBlockTexture("icon_wheat_plus_one_1",F),W.stitcher.addNonBlockTexture("icon_wheat_plus_one_2",H),W.stitcher.addNonBlockTexture("icon_wheat_plus_one_3",j),W.stitcher.updateTextureSideID(),Ee=(0,U.default)(new Uint16Array(4),[2,1,2]),(0,V.default)(Ee,4),ke=W.addVoxelModel("elevator",Ee),Te=W.sprites.register("icon_exclamation_mark",[1,1],["icon_exclamation_mark"]),Be=W.sprites.register("wheat_plus_one",[3,1],["icon_wheat_plus_one_1","icon_wheat_plus_one_2","icon_wheat_plus_one_3"],.5),Ae=W.addItem("waterdrop",ee),we=new Set,Re=new I.default("player",q,{name:"Player"}),Re.setScale(.09375,.09375,.09375),Re.setPosition(35,2,68),Re.lookAt(d.default.set(ie,34,2,68)),W.addObject(Re),Re.on("message",function(e,t,o){l.showMessage(e.name,t).then(function(){return o()})}),Me=new I.default("helper",Q,{name:"Neko"}),Me.setBehavior(new $.default(Me,Re,le)),Me.setPosition(20,2,45),Me.setScale(.09375,.09375,.09375),Me.addSprite(Te),W.addObject(Me),xe=new I.default("a",oe,{name:"Cubie A"}),xe.setBehavior(new te.default(xe,Re,t,g,p)),xe.setPosition(7,2,40),xe.setScale(.09375,.09375,.09375),xe.lookAt(d.default.fromValues(8,2,40)),W.addObject(xe),Ne=new I.default("b",se,{name:"Cubie B"}),Ne.setBehavior(new te.default(Ne,Re,t,g,p)),Ne.setPosition(9,7,37),Ne.setScale(.09375,.09375,.09375),Ne.lookAt(d.default.fromValues(10,7,37)),W.addObject(Ne),Le=new I.default("c",q,{name:"Cubie C"}),Le.setBehavior(new te.default(Le,Re,t,g,p)),Le.setPosition(11,4,43),Le.setScale(.09375,.09375,.09375),Le.lookAt(d.default.fromValues(12,4,43)),W.addObject(Le),De=new I.default("elevator",ke,{name:"Elevator",mass:1/0,gravityMultiplier:0}),De.setBehavior(new ne.default(De)),De.setPosition(29,3,6),W.addObject(De),Pe=[W.registry.getBlockIndex(1),W.registry.getBlockIndex(2),W.registry.getBlockIndex(3),W.registry.getBlockIndex(4),W.registry.getBlockIndex(5),W.registry.getBlockIndex(6)],Fe=0,K.forEach(function(e){return W.showChunk(e)}),c.on("stop",function(e){var t=W.getObject(e.objectId);t.stop(!1)}),c.on("api",function(e,t){return re(Ke,void 0,void 0,u.default.mark(function o(){var n,r,i,a,s,l,c,g,d,f,p,y;return u.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,n=W.getObject(t.objectId),o.t0=t.api,o.next="getNearestVoxels"===o.t0?5:"use"===o.t0?16:"jump"===o.t0?30:35;break;case 5:if(r=t.body,i=n.position,a=le.searchForNearestVoxel(i,r)){o.next=10;break}return o.abrupt("break",35);case 10:return s=h(a,3),l=s[0],c=s[1],g=s[2],e.sendResponse(t.objectId,t.requestId,[c,[8,9,10,11,12,13,14,15].indexOf(l)===-1?0:1,g]),o.abrupt("break",35);case 16:if(d=t.body,f=n.position,W.getNearestWalkableVoxel(ae,f,d)){o.next=21;break}return console.warn("Cannot find nearest walkable voxel"),o.abrupt("break",35);case 21:if(p=W.findPath(f,ae,n.pathStart,n.pathEnd)){o.next=25;break}return console.warn("Cannot find path"),o.abrupt("break",35);case 25:return o.next=27,n.move(p);case 27:return Oe(n,d),e.sendResponse(t.objectId,t.requestId),o.abrupt("break",35);case 30:return y=n.position,o.next=33,n.jump();case 33:return e.sendResponse(t.objectId,t.requestId),o.abrupt("break",35);case 35:o.next=40;break;case 37:o.prev=37,o.t1=o.catch(0),console.error(o.t1);case 40:case"end":return o.stop()}},o,this,[[0,37]])}))}),je=new m.default,Ge=new E.default(je,W,Re),We=new C.default(je,W,t),Ge.on("enter",function(){o.show()}),Ge.on("leave",function(){o.hide()}),je.init({fpsMode:Ge,transitionMode:new T.default(je,W,t),topDownMode:We,toFpsMode:new A.default(je,W,t)},Ge),v.on("gl-resize",function(){return je.current.onResize()}),v.on("gl-render",function(){return je.current.onRender()}),W.on("tick",function(e){je.current.onTick(e)}),Re.on("usevoxel",function(e){return Oe(Re,e)}),g.hide(),f.hide(),console.log("start!"),ze=new b.default.GUI,ze.add(Ge,"showAABB"),ze.add(Ge,"showChunkBounds"),ze.add(Ge,"showNavmesh");case 107:case"end":return e.stop()}},e,this)}))}Object.defineProperty(t,"__esModule",{value:!0});var c=o(63),u=n(c),h=function(){function e(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=o(68),d=n(g),f=o(673),p=n(f),y=o(559),b=n(y),_=o(81),m=n(_),v=o(462),E=n(v),k=o(465),T=n(k),S=o(464),C=n(S),B=o(463),A=n(B),w=o(222),I=n(w),O=o(452),R=n(O),M=o(873),x=n(M),N=o(416),L=n(N),D=o(288),P=n(D),F=o(161),U=n(F),H=o(730),V=n(H),j=o(453),G=n(j),W=o(457),z=n(W),K=o(451),X=n(K),Y=o(223),J=n(Y),q=o(474),Z=n(q),Q=o(455),$=n(Q),ee=o(456),te=n(ee),oe=o(454),ne=n(oe),re=function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t)).next())})},ie=d.default.create(),ae=(d.default.create(),d.default.create()),se=(d.default.create(),d.default.create(),o(296),o(713)),le=o(145),ce=o(593),ue=o(589),he=o(591),ge=o(590),de=(o(594),o(592)),fe=o(588),pe=o(595),ye=o(613),be=o(614),_e=o(615),me=o(616),ve=o(617),Ee=32,ke=4,Te=[Ee+ke,Ee+ke,Ee+ke],Se=(Te[0]*Te[1]*Te[2],new x.default);Se.showPanel(0),Se.dom.style.top="inherit",Se.dom.style.bottom="0",document.body.appendChild(Se.dom);var Ce=0;le({args:["array","scalar"],pre:function(){this.count=0},body:function(e,t){e===t&&this.count++},post:function(){return this.count}});t.default=l},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(6),c=n(l),u=o(569),h=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={visible:!1,name:""},o}return a(t,e),s(t,[{key:"setVisible",value:function(e){this.setState({visible:e})}},{key:"setName",value:function(e){this.setState({name:e})}},{key:"render",value:function(){return this.state.visible?c.default.createElement("div",{className:u.root},c.default.createElement("div",null,c.default.createElement("div",null,"Talk"),c.default.createElement("div",null,this.state.name))):null}}]),t}(c.default.Component);t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(6),c=n(l),u=o(40),h=n(u),g=o(11),d=o(68),f=n(d),p=o(147),y=n(p),b=o(94),_=n(b),m=o(81),v=o(223),E=o(222),k=o(332),T=n(k),S=o(334),C=n(S),B=o(460),A=n(B),w=o(458),I=o(296),O=o(620),R=o(255),M=o(625),x=(f.default.create(),y.default.create()),N=f.default.create(),L=f.default.create(),D=f.default.create(),P=f.default.create(),F=f.default.create(),U={W:"forward",A:"left",S:"backward",D:"right","<up>":"forward","<left>":"left","<down>":"backward","<right>":"right","<mouse 1>":"fire","<mouse 3>":"firealt","<space>":"jump","<shift>":"crouch","<control>":"alt","<tab>":"sprint"},H=function(e){function t(e,n,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.handleClick=function(e){0===e.button&&(s.focusedObject?s.focusedObject.emit("used",s.player):s.game.focusedVoxel&&s.player.emit("usevoxel",s.game.focusedVoxel))},s.handleCode=function(e){e.emit("codeready"),s.transitionTo(s.fsm.states.transitionMode,{target:e,viewMatrix:s.camera.viewMatrix})},s.emitter=new g.EventEmitter,s.fpsFocus=h.default.render(c.default.createElement(A.default,null),(0,_.default)()),s.game=n,s.player=a;var l=n.shell;s.ray=I([0,0,0],[0,0,1]),s.camera=new T.default(a),s.focusedObject=null;var u=function(e){return"<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),e=e.replace(/\s/g,"-")};for(var d in U){var f=U[d];l.bind(f,u(d))}var p={};Object.keys(l.bindings).forEach(function(e){Object.defineProperty(p,e,{get:function(){return l.pointerLock&&l.wasDown(e)}})}),s.controls=new C.default(p,l,E.fpsControlOptions),s.controls.target(a.physics,a,s.camera.camera),s.showAABB=!0;var y=O(),b=!0,m=!1,k=void 0;try{for(var S,B=y.positions[Symbol.iterator]();!(b=(S=B.next()).done);b=!0){var w=S.value;w[0]+=.5,w[1]+=.5,w[2]+=.5}}catch(x){m=!0,k=x}finally{try{!b&&B.return&&B.return()}finally{if(m)throw k}}s.box=new M(s.game.shell.gl).attr("position",y.positions).faces(y.cells),s.aabbShader=R(s.game.shell.gl,o(763),o(762)),s.showChunkBounds=!0;var N=O({size:n.chunkSize}),L=!0,D=!1,P=void 0;try{for(var F,H=N.positions[Symbol.iterator]();!(L=(F=H.next()).done);L=!0){var V=F.value;V[0]+=.5*n.chunkSize,V[1]+=.5*n.chunkSize,V[2]+=.5*n.chunkSize}}catch(x){D=!0,P=x}finally{try{!L&&H.return&&H.return()}finally{if(D)throw P}}var j=!0,G=!1,W=void 0;try{for(var z,K=N.cells[Symbol.iterator]();!(j=(z=K.next()).done);j=!0){var X=z.value,Y=X[0];X[0]=X[1],X[1]=Y}}catch(x){G=!0,W=x}finally{try{!j&&K.return&&K.return()}finally{if(G)throw W}}var J=n.shell.gl;return s.boxEdge=new M(J).attr("position",N.positions).attr("uv",N.uvs,{size:2}).faces(N.cells),s.chunkBoundsShader=R(J,o(765),o(764)),s.showNavmesh=!0,s.navmeshShader=(0,v.createNavMeshShader)(J),s.navmeshStitchShader=(0,v.createNavMeshStitchShader)(J),s}return a(t,e),s(t,[{key:"on",value:function(e,t){return this.emitter.on(e,t),this}},{key:"onEnter",value:function(){var e=this.game.shell;e.pointerLock=!0,e.stickyPointerLock=!0,this.onResize(),this.focusedObject=null,this.fpsFocus.setVisible(!1),window.addEventListener("click",this.handleClick),this.player.on("code",this.handleCode),this.emitter.emit("enter")}},{key:"onResize",value:function(){var e=this.game.shell;this.camera.resizeViewport(e.width,e.height)}},{key:"onRender",value:function(){this.camera.update(),this.camera.getPosition(N),this.camera.getVector(L),this.ray.update(N,L);var e=w.RAY_MIN_DIST*w.RAY_MIN_DIST,t=null,o=!0,n=!1,r=void 0;try{for(var i,a=this.game.objects[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;if(s!==this.player){var l=f.default.squaredDistance(s.position,N);if(!(l>e)){var c=this.ray.intersects([s.physics.aabb.base,s.physics.aabb.max]);c&&(e=l,t=s)}}}}catch(u){n=!0,r=u}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}if(this.focusedObject!==t&&(this.focusedObject=t,this.focusedObject?(this.fpsFocus.setVisible(!0),this.fpsFocus.setName(this.focusedObject.name)):this.fpsFocus.setVisible(!1)),this.focusedObject)this.game.focusedVoxel=null;else{var h=this.game.raycastVoxels(N,L,w.RAY_MIN_DIST,D,P);0===h?this.game.focusedVoxel=null:(F[0]=D[0]-P[0]/2,F[1]=D[1]-P[1]/2,F[2]=D[2]-P[2]/2,this.game.focusedVoxel=f.default.floor(F,F))}if(this.game.render(this.camera),this.showAABB){var g=this.game.shell.gl,d=this.camera,p=d.viewMatrix,b=d.projectionMatrix;g.blendFunc(g.SRC_ALPHA,g.ONE),g.disable(g.DEPTH_TEST),this.box.bind(this.aabbShader),this.aabbShader.uniforms.uProjection=b,this.aabbShader.uniforms.uView=p;var _=!0,m=!1,v=void 0;try{for(var E,k=this.game.objects[Symbol.iterator]();!(_=(E=k.next()).done);_=!0){var T=E.value;y.default.fromTranslation(x,T.physics.aabb.base),y.default.scale(x,x,T.physics.aabb.size),this.aabbShader.uniforms.uModel=x,this.box.draw()}}catch(u){m=!0,v=u}finally{try{!_&&k.return&&k.return()}finally{if(m)throw v}}this.box.unbind(),g.enable(g.DEPTH_TEST)}if(this.showChunkBounds){var S=this.game.shell.gl,C=this.camera,B=C.viewMatrix,A=C.projectionMatrix;S.blendFunc(S.SRC_ALPHA,S.ONE),S.enable(S.POLYGON_OFFSET_FILL),S.polygonOffset(-1,2),this.boxEdge.bind(this.chunkBoundsShader),this.chunkBoundsShader.uniforms.uProjection=A,this.chunkBoundsShader.uniforms.uView=B;for(var I=this.game.voxels.chunks,O=Object.keys(I),R=0,M=O.length;R<M;++R){var U=O[R],H=I[U];this.chunkBoundsShader.uniforms.uModel=H.modelMatrix,this.boxEdge.draw()}this.boxEdge.unbind(),S.disable(S.POLYGON_OFFSET_FILL)}if(this.showNavmesh){var V=this.game.shell.gl,j=this.camera,G=j.viewMatrix,W=j.projectionMatrix;V.disable(V.BLEND),V.enable(V.POLYGON_OFFSET_FILL),V.polygonOffset(-1,2),this.navmeshShader.bind(),this.navmeshShader.uniforms.projection=W,this.navmeshShader.uniforms.view=G;for(var z=this.game.voxels.chunks,K=Object.keys(z),X=0,Y=K.length;X<Y;++X){var J=K[X],q=z[J],Z=q.getNavMeshVao(V),Q=Z.navmeshVao;Q&&(Q.bind(),V.drawArrays(V.TRIANGLES,0,Q.length),Q.unbind())}V.lineWidth(5),this.navmeshStitchShader.bind(),this.navmeshStitchShader.uniforms.projection=W,this.navmeshStitchShader.uniforms.view=G;for(var $=0,ee=K.length;$<ee;++$){var te=K[$],oe=z[te],ne=oe.getNavMeshVao(V),re=ne.navmeshStitchVao,ie=ne.navmeshCenterPointVao;re&&(re.bind(),V.drawArrays(V.LINES,0,re.length),re.unbind()),ie&&(ie.bind(),V.drawArrays(V.TRIANGLES,0,ie.length),ie.unbind())}V.enable(V.BLEND),V.disable(V.POLYGON_OFFSET_FILL)}}},{key:"onTick",value:function(e){this.controls.tick(e)}},{key:"onLeave",value:function(){this.fpsFocus.setVisible(!1),window.removeEventListener("click",this.handleClick),this.emitter.emit("leave"),this.player.removeListener("code",this.handleCode)}}]),t}(m.ModeState);t.default=H},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(461),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(68),c=n(l),u=o(147),h=n(u),g=o(195),d=n(g),f=o(81),p=(c.default.create(),c.default.fromValues(7,10,7),c.default.fromValues(0,1,0),h.default.create(),500),y=function(e){function t(e,o,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.game=o,a.codeEditor=n,a.accum=0,a.camera=new d.default,a.fromMatrix=h.default.create(),a}return a(t,e),s(t,[{key:"onEnter",value:function(e){var t=e.viewMatrix;h.default.copy(this.fromMatrix,t),this.accum=0,this.onResize()}},{key:"onResize",value:function(){var e=this.game.shell;this.camera.resizeViewport(e.width,e.height)}},{key:"onRender",value:function(){var e=this.accum/p;this.codeEditor.setOpacity(1-e);var t=this.fsm.states.fpsMode;t.camera.update(),this.camera.update(this.fromMatrix,t.camera.viewMatrix,e,e*this.camera.viewWidth/4),this.game.render(this.camera)}},{key:"onTick",value:function(e){this.accum+=e,this.accum>p&&this.transitionTo(this.fsm.states.fpsMode)}},{key:"onLeave",value:function(){this.codeEditor.close()}}]),t}(f.ModeState);t.default=y},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(11),l=o(196),c=o(81),u=(o(570),function(e){function t(e,o,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.tryLeave=function(){a.transitionTo(a.fsm.states.toFpsMode,{viewMatrix:a.camera.viewMatrix})},a.game=o,a.camera=new l.TopDownCamera(.25),a.emitter=new s.EventEmitter,a.codeEditor=i,a}return i(t,e),a(t,[{key:"on",value:function(e,t){return this.emitter.on(e,t),this}},{key:"onEnter",value:function(e){var t=e.target;this.target=t,this.camera.changeTarget(this.target),this.onResize(),this.codeEditor.once("close",this.tryLeave),this.target.emit("codebegin"),this.emitter.emit("enter")}},{key:"onResize",value:function(){var e=this.game.shell;this.camera.resizeViewport(e.width,e.height)}},{key:"onRender",value:function(){this.camera.update(),this.game.render(this.camera)}},{key:"onTick",value:function(){}},{key:"onLeave",value:function(){this.codeEditor.removeListener("close",this.tryLeave),this.target.emit("codeend"),this.target=null}}]),t}(c.ModeState));t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(68),c=n(l),u=o(147),h=n(u),g=o(195),d=n(g),f=o(119),p=o(81),y=c.default.create(),b=c.default.fromValues(7,10,7),_=c.default.fromValues(0,1,0),m=h.default.create(),v=500,E=function(e){function t(e,o,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.game=o,a.accum=0,a.codeEditor=n,a.camera=new d.default,a.fromMatrix=h.default.create(),a}return a(t,e),s(t,[{key:"onEnter",value:function(e){var t=e.target,o=e.viewMatrix,n=this.game.shell;n.pointerLock=!1,n.stickyPointerLock=!1,this.target=t,h.default.copy(this.fromMatrix,o),this.codeEditor.setOpacity(0),this.codeEditor.open(this.target),this.accum=0,this.onResize()}},{key:"onResize",value:function(){var e=this.game.shell;this.camera.resizeViewport(e.width,e.height)}},{key:"onRender",value:function(){var e=this.accum/v;this.codeEditor.setOpacity(e),c.default.add(y,this.target.position,b),h.default.fromTranslation(m,y),(0,f.lookAt)(m,y,this.target.position,_),h.default.invert(m,m),this.camera.update(this.fromMatrix,m,e,e*this.camera.viewWidth/4),this.game.render(this.camera)}},{key:"onTick",value:function(e){this.accum+=e,this.accum>v&&this.transitionTo(this.fsm.states.topDownMode,{target:this.target})}},{key:"onLeave",value:function(){this.codeEditor.setOpacity(1)}}]),t}(p.ModeState);t.default=E},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(145);t.searchForNearestVoxel1=n({args:["array","scalar","scalar","scalar","index"],pre:function(){this.squaredDistance=1/0},body:function(e,t,o,n,r){if(e===n){var i=t-r[0],a=o-r[2],s=i*i+a*a;s<this.squaredDistance&&(this.squaredDistance=s,this.val=e,this.x=r[0],this.z=r[2])}},post:function(){return this.val?[this.val,this.x,this.z]:null}}),t.searchForNearestVoxel7=n({args:["array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","index"],pre:function(){this.squaredDistance=1/0},body:function(e,t,o,n,r,i,a,s,l,c,u){if(e===n||e===r||e===i||e===a||e===s||e===l||e===c){var h=t-u[0],g=o-u[2],d=h*h+g*g;d<this.squaredDistance&&(this.squaredDistance=d,this.val=e,this.x=u[0],this.z=u[2])}},post:function(){return this.val?[this.val,this.x,this.z]:null}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BT_WATER_INTRODUCED="WATER_INTRODUCED",t.BT_SPROUT_INTRODUCED="SPROUT_INTRODUCED",t.BT_WORKER_INTRODUCED="WORKER_INTRODUCED"},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return Promise.resolve(navigator.hardwareConcurrency||1)}var i=o(63),a=n(i),s=o(6),l=n(s),c=o(40),u=n(c),h=o(700),g=n(h),d=o(472),f=n(d),p=o(470),y=n(p);o(571),o(572);var b=o(445),_=n(b),m=function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t)).next())})};o(789)();var v=new f.default,E=new y.default;!function(){return m(void 0,void 0,void 0,a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:t=e.sent,u.default.render(l.default.createElement(g.default,null,l.default.createElement(_.default,{overlay:v,loadingSpinner:E,cpuCount:t})),document.getElementById("root"));case 4:case"end":return e.stop()}},e,this)}))}()},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(98),s=n(a),l=o(94),c=n(l),u=o(573),h='<div class="'+u["sk-folding-cube"]+'">\n  <div class="'+(0,s.default)(u["sk-cube1"],u["sk-cube"])+'"></div>\n  <div class="'+(0,s.default)(u["sk-cube2"],u["sk-cube"])+'"></div>\n  <div class="'+(0,s.default)(u["sk-cube4"],u["sk-cube"])+'"></div>\n  <div class="'+(0,s.default)(u["sk-cube3"],u["sk-cube"])+'"></div>\n</div>',g=function(){function e(){r(this,e),this.root=(0,c.default)(),this.root.classList.add(u.root),this.root.innerHTML=h}return i(e,[{key:"show",value:function(){this.root.parentElement||document.body.appendChild(this.root)}},{key:"hide",value:function(){this.root.parentElement&&this.root.parentElement.removeChild(this.root)}}]),e}();t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(469),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=(0,u.default)();return e.classList.add(h.overlay),e}function a(e,t){var o=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;if(s.contains(t))return!0}}catch(l){n=!0,r=l}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return!1}function s(e){var t=1/0,o=1/0,n=-(1/0),r=-(1/0),i=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,h=u.getBoundingClientRect();t=Math.min(t,h.left),o=Math.min(o,h.top),n=Math.max(n,h.right),r=Math.max(r,h.bottom)}}catch(g){a=!0,s=g}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return{x0:t,y0:o,x1:n,y1:r}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(94),u=n(c),h=o(574),g=5,d=function(){function e(){var t=this;r(this,e),this.handleResize=function(){t.render()},this.handleMouseDown=function(e){t.hightlightedElements&&(a(t.hightlightedElements,e.target)||e.stopPropagation())},this.overlayFullscreen=i(),this.overlayFullscreen.classList.add(h.fullscreen),this.overlay1=i(),this.overlay2=i(),this.overlay3=i(),this.overlay4=i(),this.show()}return l(e,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setHighlighedElements(e),document.body.addEventListener("mousedown",this.handleMouseDown,!0),window.addEventListener("resize",this.handleResize)}},{key:"hide",value:function(){this.hightlightedElements=null,this.overlayFullscreen.style.display="none",this.overlay1.style.display="none",this.overlay2.style.display="none",this.overlay3.style.display="none",this.overlay4.style.display="none",document.body.removeEventListener("mousedown",this.handleMouseDown,!0),window.removeEventListener("resize",this.handleResize)}},{key:"setHighlighedElements",value:function(e){this.hightlightedElements=e,this.render()}},{key:"renderFullscreenOverlay",value:function(){this.overlayFullscreen.style.display="block",this.overlay1.style.display="none",this.overlay2.style.display="none",this.overlay3.style.display="none",this.overlay4.style.display="none"}},{key:"renderHighlightedOverlay",value:function(e){this.overlayFullscreen.style.display="none",this.overlay1.style.display="block",this.overlay2.style.display="block",this.overlay3.style.display="block",this.overlay4.style.display="block";var t=s(e),o=t.x0-g,n=t.y0-g,r=t.x1+g,i=t.y1+g;this.overlay1.style.left="0",this.overlay1.style.top="0",this.overlay1.style.width=o+"px",this.overlay1.style.height=i+"px",this.overlay2.style.left="0",this.overlay2.style.top=i+"px",this.overlay2.style.width=r+"px",this.overlay2.style.bottom="0",this.overlay3.style.left=r+"px",this.overlay3.style.top=n+"px",this.overlay3.style.right="0",this.overlay3.style.bottom="0",this.overlay4.style.left=o+"px",this.overlay4.style.top="0",this.overlay4.style.right="0",this.overlay4.style.height=n+"px"}},{key:"render",value:function(){this.hightlightedElements?this.renderHighlightedOverlay(this.hightlightedElements):this.renderFullscreenOverlay()}}]),e}();t.default=d},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(471),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(874),s=n(a),l=o(94),c=n(l),u=o(575),h=function(){function e(){r(this,e),this.balloon=(0,c.default)(),this.balloon.classList.add(u.balloon);var t=document.createElement("div");t.classList.add(u.arrow),this.balloon.appendChild(t),this.content=document.createElement("div"),this.balloon.appendChild(this.content),this.content.innerHTML="<div>Click this button and see what happens!</div>",this.hide()}return i(e,[{key:"show",value:function(e,t){this.balloon.style.display="block",this.attach(e,t)}},{key:"hide",value:function(){this.balloon.style.display="none",this.tether&&this.tether.destroy()}},{key:"attach",value:function(e,t){this.content.innerHTML=t,this.tether&&this.tether.destroy(),this.tether=new s.default({element:this.balloon,target:e,attachment:"bottom right",targetAttachment:"bottom left",offset:"0 22px"})}}]),e}();t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(473),i=n(r);t.default=i.default},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(){o(this,e),this.id=0}return n(e,[{key:"issue",value:function(){return++this.id}}]),e}();t.default=r},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(11),c=o(477),u=o(475),h=n(u),g=o(883),d=function(){function e(t){var o=this;a(this,e),this.handleMessage=function(e){switch(e.data.type){case c.WM_THREAD_START:var t=e.data.threadId;o.threads.add(t);break;case c.WM_THREAD_STOP:var n=e.data.threadId;o.threads.delete(n)}},this.vm=t,this.threads=new Set,this.worker=new g,this.worker.addEventListener("message",this.handleMessage)}return s(e,[{key:"run",value:function(e,t,o){this.worker.postMessage({type:c.MW_RUN,objectId:e,threadId:t,code:o})}},{key:"stop",value:function(e){this.worker.postMessage({type:c.MW_STOP,objectId:e})}},{key:"sendResponse",value:function(e,t,o){this.worker.postMessage({type:c.MW_API_RESPONSE,requestId:t,params:o})}}]),e}(),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o.handleMessage=function(e){var t=e.data,n=t.objectId,r=t.threadId,i=o.threads.get(n);if(i&&i.threadId===r)switch(e.data.type){case c.WM_THREAD_START:o.emit("start",n);break;case c.WM_THREAD_STOP:o.removeThread(i);break;case c.WM_API_REQUEST:o.emit("api",i.process,e.data);break;case c.WM_HIGHLIGHT_BLOCK:var a=e.data.blockId;i.blockId=a,o.emit("highlight",i)}},o.threads=new Map,o.children=[];for(var n=0;n<e;++n){var i=new d(o);i.worker.addEventListener("message",o.handleMessage),o.children.push(i)}return o}return i(t,e),s(t,[{key:"run",value:function(e,o){this.stop(e);var n=t.threadIdIssuer.issue(),r=this.getLazyProcess();r.run(e,n,o);var i={objectId:e,threadId:n,process:r,blockId:""};return this.threads.set(e,i),i}},{key:"stop",value:function(e){var t=this.threads.get(e);t&&(t.process.stop(e),this.removeThread(t))}},{key:"getThreadInfo",value:function(e){return this.threads.get(e)}},{key:"getLazyProcess",value:function(){for(var e=this.children[0],t=1,o=this.children.length;t<o;++t){var n=this.children[t];e.threads.size>n.threads.size&&(e=n)}return e}},{key:"removeThread",value:function(e){this.threads.delete(e.objectId),this.emit("stop",e)}}]),t}(l.EventEmitter);f.threadIdIssuer=new h.default,t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WM_STOPPED="WM_STOPPED",t.MW_STOP="MW_STOP",t.MW_RUN="MW_RUN",t.MW_API_RESPONSE="MW_API_RESPONSE",t.WM_HIGHLIGHT_BLOCK="WM_HIGHLIGHT_BLOCK",t.WM_API_REQUEST="WM_API_REQUEST",t.WM_THREAD_START="WM_THREAD_START",t.WM_THREAD_STOP="WM_THREAD_STOP"},function(e,t,o){e.exports={default:o(487),__esModule:!0}},function(e,t,o){e.exports={default:o(488),__esModule:!0}},function(e,t,o){e.exports={default:o(489),__esModule:!0}},function(e,t,o){e.exports={default:o(491),__esModule:!0}},function(e,t,o){e.exports={default:o(492),__esModule:!0}},function(e,t,o){e.exports={default:o(493),__esModule:!0}},function(e,t,o){e.exports={default:o(494),__esModule:!0}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(227),i=n(r);t.default=function(e){return Array.isArray(e)?e:(0,i.default)(e)}},function(e,t,o){o(240),o(517),e.exports=o(20).Array.from},function(e,t,o){o(519),e.exports=o(20).Object.assign},function(e,t,o){o(520);var n=o(20).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,o){o(521);var n=o(20).Object;e.exports=function(e,t,o){return n.defineProperty(e,t,o)}},function(e,t,o){o(522),e.exports=o(20).Object.getPrototypeOf},function(e,t,o){o(523),e.exports=o(20).Object.keys},function(e,t,o){o(524),e.exports=o(20).Object.setPrototypeOf},function(e,t,o){o(526),o(525),o(527),o(528),e.exports=o(20).Symbol},function(e,t,o){o(240),o(529),e.exports=o(141).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,o){var n=o(59),r=o(239),i=o(515);e.exports=function(e){return function(t,o,a){var s,l=n(t),c=r(l.length),u=i(a,c);if(e&&o!=o){for(;c>u;)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===o)return e||u||0;return!e&&-1}}},function(e,t,o){var n=o(128),r=o(31)("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(o){}};e.exports=function(e){var t,o,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=a(t=Object(e),r))?o:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,o){"use strict";var n=o(47),r=o(84);e.exports=function(e,t,o){t in e?n.f(e,t,r(0,o)):e[t]=o}},function(e,t,o){var n=o(67),r=o(134),i=o(95);e.exports=function(e){var t=n(e),o=r.f;if(o)for(var a,s=o(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},[1163,46],function(e,t,o){var n=o(83),r=o(31)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[r]===e)}},function(e,t,o){var n=o(128);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,o){var n=o(64);e.exports=function(e,t,o,r){try{return r?t(n(o)[0],o[1]):t(o)}catch(i){var a=e.return;throw void 0!==a&&n(a.call(e)),i}}},function(e,t,o){"use strict";var n=o(133),r=o(84),i=o(135),a={};o(66)(a,o(31)("iterator"),function(){return this}),e.exports=function(e,t,o){e.prototype=n(a,{next:r(1,o)}),i(e,t+" Iterator")}},function(e,t,o){var n=o(31)("iterator"),r=!1;try{var i=[7][n]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!r)return!1;var o=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:o=!0}},i[n]=function(){return a},e(i)}catch(s){}return o}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,o){var n=o(67),r=o(59);e.exports=function(e,t){for(var o,i=r(e),a=n(i),s=a.length,l=0;s>l;)if(i[o=a[l++]]===t)return o}},function(e,t,o){var n=o(96)("meta"),r=o(82),i=o(58),a=o(47).f,s=0,l=Object.isExtensible||function(){return!0},c=!o(65)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},h=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},g=function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},d=function(e){return c&&f.NEED&&l(e)&&!i(e,n)&&u(e),e},f=e.exports={KEY:n,NEED:!1,fastKey:h,getWeak:g,onFreeze:d}},function(e,t,o){"use strict";var n=o(67),r=o(134),i=o(95),a=o(85),s=o(231),l=Object.assign;e.exports=!l||o(65)(function(){var e={},t={},o=Symbol(),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[o]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var o=a(e),l=arguments.length,c=1,u=r.f,h=i.f;l>c;)for(var g,d=s(arguments[c++]),f=u?n(d).concat(u(d)):n(d),p=f.length,y=0;p>y;)h.call(d,g=f[y++])&&(o[g]=d[g]);return o}:l},function(e,t,o){var n=o(47),r=o(64),i=o(67);e.exports=o(57)?Object.defineProperties:function(e,t){r(e);for(var o,a=i(t),s=a.length,l=0;s>l;)n.f(e,o=a[l++],t[o]);return e}},function(e,t,o){var n=o(59),r=o(234).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):r(n(e))}},function(e,t,o){var n=o(82),r=o(64),i=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=o(129)(Function.call,o(233).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,o){return i(e,o),t?e.__proto__=o:n(e,o),e}}({},!1):void 0),check:i}},function(e,t,o){var n=o(138),r=o(130);e.exports=function(e){return function(t,o){var i,a,s=String(r(t)),l=n(o),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):(i-55296<<10)+(a-56320)+65536)}}},function(e,t,o){var n=o(138),r=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?r(e+t,0):i(e,t)}},function(e,t,o){var n=o(498),r=o(31)("iterator"),i=o(83);e.exports=o(20).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||i[n(e)]}},function(e,t,o){"use strict";var n=o(129),r=o(45),i=o(85),a=o(504),s=o(502),l=o(239),c=o(499),u=o(516);r(r.S+r.F*!o(506)(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,r,h,g=i(e),d="function"==typeof this?this:Array,f=arguments.length,p=f>1?arguments[1]:void 0,y=void 0!==p,b=0,_=u(g);if(y&&(p=n(p,f>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(t=l(g.length),o=new d(t);t>b;b++)c(o,b,y?p(g[b],b):g[b]);else for(h=_.call(g),o=new d;!(r=h.next()).done;b++)c(o,b,y?a(h,p,[r.value,b],!0):r.value);return o.length=b,o}})},function(e,t,o){"use strict";var n=o(496),r=o(507),i=o(83),a=o(59);e.exports=o(232)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,o):"values"==t?r(0,e[o]):r(0,[o,e[o]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,o){var n=o(45);n(n.S+n.F,"Object",{assign:o(510)})},function(e,t,o){var n=o(45);n(n.S,"Object",{create:o(133)})},function(e,t,o){var n=o(45);n(n.S+n.F*!o(57),"Object",{defineProperty:o(47).f})},function(e,t,o){var n=o(85),r=o(235);o(237)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,o){var n=o(85),r=o(67);o(237)("keys",function(){return function(e){return r(n(e))}})},function(e,t,o){var n=o(45);n(n.S,"Object",{setPrototypeOf:o(513).set})},function(e,t){},function(e,t,o){"use strict";var n=o(46),r=o(58),i=o(57),a=o(45),s=o(238),l=o(509).KEY,c=o(65),u=o(137),h=o(135),g=o(96),d=o(31),f=o(141),p=o(140),y=o(508),b=o(500),_=o(503),m=o(64),v=o(59),E=o(139),k=o(84),T=o(133),S=o(512),C=o(233),B=o(47),A=o(67),w=C.f,I=B.f,O=S.f,R=n.Symbol,M=n.JSON,x=M&&M.stringify,N="prototype",L=d("_hidden"),D=d("toPrimitive"),P={}.propertyIsEnumerable,F=u("symbol-registry"),U=u("symbols"),H=u("op-symbols"),V=Object[N],j="function"==typeof R,G=n.QObject,W=!G||!G[N]||!G[N].findChild,z=i&&c(function(){return 7!=T(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,o){var n=w(V,t);n&&delete V[t],I(e,t,o),n&&e!==V&&I(V,t,n)}:I,K=function(e){var t=U[e]=T(R[N]);return t._k=e,t},X=j&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Y=function(e,t,o){return e===V&&Y(H,t,o),m(e),t=E(t,!0),m(o),r(U,t)?(o.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),o=T(o,{enumerable:k(0,!1)})):(r(e,L)||I(e,L,k(1,{})),e[L][t]=!0),z(e,t,o)):I(e,t,o)},J=function(e,t){m(e);for(var o,n=b(t=v(t)),r=0,i=n.length;i>r;)Y(e,o=n[r++],t[o]);return e},q=function(e,t){return void 0===t?T(e):J(T(e),t)},Z=function(e){var t=P.call(this,e=E(e,!0));return!(this===V&&r(U,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(U,e)||r(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=v(e),t=E(t,!0),e!==V||!r(U,t)||r(H,t)){var o=w(e,t);return!o||!r(U,t)||r(e,L)&&e[L][t]||(o.enumerable=!0),o}},$=function(e){for(var t,o=O(v(e)),n=[],i=0;o.length>i;)r(U,t=o[i++])||t==L||t==l||n.push(t);return n},ee=function(e){for(var t,o=e===V,n=O(o?H:v(e)),i=[],a=0;n.length>a;)!r(U,t=n[a++])||o&&!r(V,t)||i.push(U[t]);return i};j||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=g(arguments.length>0?arguments[0]:void 0),t=function(o){this===V&&t.call(H,o),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),z(this,e,k(1,o))};return i&&W&&z(V,e,{configurable:!0,set:t}),K(e)},s(R[N],"toString",function(){return this._k}),C.f=Q,B.f=Y,o(234).f=S.f=$,o(95).f=Z,o(134).f=ee,i&&!o(132)&&s(V,"propertyIsEnumerable",Z,!0),f.f=function(e){return K(d(e))}),a(a.G+a.W+a.F*!j,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;te.length>oe;)d(te[oe++]);for(var te=A(d.store),oe=0;te.length>oe;)p(te[oe++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return r(F,e+="")?F[e]:F[e]=R(e)},keyFor:function(e){if(X(e))return y(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!j,"Object",{create:q,defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),M&&a(a.S+a.F*(!j||c(function(){var e=R();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!X(e)){for(var t,o,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return t=n[1],"function"==typeof t&&(o=t),!o&&_(t)||(t=function(e,t){if(o&&(t=o.call(this,e,t)),!X(t))return t}),n[1]=t,x.apply(M,n)}}}),R[N][D]||o(66)(R[N],D,R[N].valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(e,t,o){o(140)("asyncIterator")},function(e,t,o){o(140)("observable")},function(e,t,o){o(518);for(var n=o(46),r=o(66),i=o(83),a=o(31)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var c=s[l],u=n[c],h=u&&u.prototype;h&&!h[a]&&r(h,a,c),i[c]=i.Array}},function(e,t){"use strict";function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-o(e)}function r(e){var t,n,r,i,a,s,l=e.length;a=o(e),s=new u(3*l/4-a),r=a>0?l-4:l;var h=0;for(t=0,n=0;t<r;t+=4,n+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],s[h++]=i>>16&255,s[h++]=i>>8&255,s[h++]=255&i;return 2===a?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,s[h++]=255&i):1===a&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,s[h++]=i>>8&255,s[h++]=255&i),s}function i(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function a(e,t,o){for(var n,r=[],a=t;a<o;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],r.push(i(n));return r.join("")}function s(e){for(var t,o=e.length,n=o%3,r="",i=[],s=16383,c=0,u=o-n;c<u;c+=s)i.push(a(e,c,c+s>u?u:c+s));return 1===n?(t=e[o-1],r+=l[t>>2],r+=l[t<<4&63],r+="=="):2===n&&(t=(e[o-2]<<8)+e[o-1],r+=l[t>>10],r+=l[t>>4&63],r+=l[t<<2&63],r+="="),i.push(r),i.join("")}t.byteLength=n,t.toByteArray=r,t.fromByteArray=s;for(var l=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,d=h.length;g<d;++g)l[g]=h[g],c[h.charCodeAt(g)]=g;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},336,function(e,t,o){!function(t,n){"undefined"!=typeof e&&e.exports?e.exports=n():o(880)(t,n)}("bowser",function(){function e(e){function t(t){var o=e.match(t);return o&&o.length>1&&o[1]||""}function o(t){var o=e.match(t);return o&&o.length>1&&o[2]||""}var n,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(e),s=!i&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),c=!l&&/nexus\s*[0-9]+/i.test(e),u=/CrOS/.test(e),h=/silk/i.test(e),g=/sailfish/i.test(e),d=/tizen/i.test(e),f=/(web|hpw)os/i.test(e),p=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!p&&/windows/i.test(e)),b=!r&&!h&&/macintosh/i.test(e),_=!s&&!g&&!d&&!f&&/linux/i.test(e),m=t(/edge\/(\d+(\.\d+)?)/i),v=t(/version\/(\d+(\.\d+)?)/i),E=/tablet/i.test(e),k=!E&&/[^-]mobi/i.test(e),T=/xbox/i.test(e);/opera/i.test(e)?n={name:"Opera",opera:a,version:v||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?n={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||v}:/SamsungBrowser/i.test(e)?n={name:"Samsung Internet for Android",samsungBrowser:a,version:v||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?n={name:"Opera Coast",coast:a,version:v||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:a,version:v||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?n={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?n={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?n={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?n={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?n={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?n={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(n={name:"Windows Phone",windowsphone:a},m?(n.msedge=a,n.version=m):(n.msie=a,n.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?n={name:"Chrome",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?n={name:"Microsoft Edge",msedge:a,version:m}:/vivaldi/i.test(e)?n={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||v}:g?n={name:"Sailfish",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(n={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=a)):h?n={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?n={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:a,version:v||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(n={name:"WebOS",webos:a,version:v||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=a)):/bada/i.test(e)?n={name:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:d?n={name:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||v}:/qupzilla/i.test(e)?n={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||v}:/chromium/i.test(e)?n={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||v}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?n={name:"Android",version:v}:/safari|applewebkit/i.test(e)?(n={name:"Safari",safari:a},v&&(n.version=v)):r?(n={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},v&&(n.version=v)):n=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||v}:{name:t(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(n.name=n.name||"Blink",n.blink=a):(n.name=n.name||"Webkit",n.webkit=a),!n.version&&v&&(n.version=v)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=a,n.version=n.version||t(/gecko\/(\d+(\.\d+)?)/i)),n.msedge||!s&&!n.silk?r?(n[r]=a,n.ios=a):b?n.mac=a:T?n.xbox=a:y?n.windows=a:_&&(n.linux=a):n.android=a;var S="";n.windowsphone?S=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r?(S=t(/os (\d+([_\s]\d+)*) like mac os x/i),S=S.replace(/[_\s]/g,".")):s?S=t(/android[ \/-](\d+(\.\d+)*)/i):n.webos?S=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?S=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?S=t(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(S=t(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(n.osversion=S);var C=S.split(".")[0];return E||c||"ipad"==r||s&&(3==C||C>=4&&!k)||n.silk?n.tablet=a:(k||"iphone"==r||"ipod"==r||s||l||n.blackberry||n.webos||n.bada)&&(n.mobile=a),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.samsungBrowser&&n.version>=4||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=a:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=a:n.x=a,n}function t(e){return e.split(".").length}function o(e,t){var o,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(o=0;o<e.length;o++)n.push(t(e[o]));return n}function n(e){for(var n=Math.max(t(e[0]),t(e[1])),r=o(e,function(e){var r=n-t(e);return e+=new Array(r+1).join(".0"),o(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--n>=0;){if(r[0][n]>r[1][n])return 1;if(r[0][n]!==r[1][n])return-1;if(0===n)return 0}}function r(t,o,r){var i=s;"string"==typeof o&&(r=o,o=void 0),void 0===o&&(o=!1),r&&(i=e(r));var a=""+i.version;for(var l in t)if(t.hasOwnProperty(l)&&i[l])return n([a,t[l]])<0;return o}function i(e,t,o){return!r(e,t,o)}var a=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var o=e[t];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=r,s.compareVersions=n,s.check=i,s._detect=e,s})},291,[1166,97,538,241,242,243],function(e,t){"use strict";var o=30,n=12;e.exports=function(e,t){var r,i,a,s,l,c,u,h,g,d,f,p,y,b,_,m,v,E,k,T,S,C,B,A,w;r=e.state,i=e.next_in,A=e.input,a=i+(e.avail_in-5),s=e.next_out,w=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=r.dmax,h=r.wsize,g=r.whave,d=r.wnext,f=r.window,p=r.hold,y=r.bits,b=r.lencode,_=r.distcode,m=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{y<15&&(p+=A[i++]<<y,y+=8,p+=A[i++]<<y,y+=8),E=b[p&m];t:for(;;){if(k=E>>>24,p>>>=k,y-=k,k=E>>>16&255,0===k)w[s++]=65535&E;else{if(!(16&k)){if(0===(64&k)){E=b[(65535&E)+(p&(1<<k)-1)];continue t}if(32&k){r.mode=n;break e}e.msg="invalid literal/length code",r.mode=o;break e}T=65535&E,k&=15,k&&(y<k&&(p+=A[i++]<<y,y+=8),T+=p&(1<<k)-1,p>>>=k,y-=k),y<15&&(p+=A[i++]<<y,y+=8,p+=A[i++]<<y,y+=8),E=_[p&v];o:for(;;){if(k=E>>>24,p>>>=k,y-=k,k=E>>>16&255,!(16&k)){if(0===(64&k)){E=_[(65535&E)+(p&(1<<k)-1)];continue o}e.msg="invalid distance code",r.mode=o;break e}if(S=65535&E,k&=15,y<k&&(p+=A[i++]<<y,y+=8,y<k&&(p+=A[i++]<<y,y+=8)),S+=p&(1<<k)-1,S>u){e.msg="invalid distance too far back",r.mode=o;break e}if(p>>>=k,y-=k,k=s-l,S>k){if(k=S-k,k>g&&r.sane){e.msg="invalid distance too far back",r.mode=o;break e}if(C=0,B=f,0===d){if(C+=h-k,k<T){T-=k;do w[s++]=f[C++];while(--k);C=s-S,B=w}}else if(d<k){if(C+=h+d-k,k-=d,k<T){T-=k;do w[s++]=f[C++];while(--k);if(C=0,d<T){k=d,T-=k;do w[s++]=f[C++];while(--k);C=s-S,B=w}}}else if(C+=d-k,k<T){T-=k;do w[s++]=f[C++];while(--k);C=s-S,B=w}for(;T>2;)w[s++]=B[C++],w[s++]=B[C++],w[s++]=B[C++],T-=3;T&&(w[s++]=B[C++],T>1&&(w[s++]=B[C++]))}else{C=s-S;do w[s++]=w[C++],w[s++]=w[C++],w[s++]=w[C++],T-=3;while(T>2);T&&(w[s++]=w[C++],T>1&&(w[s++]=w[C++]))}break}}break}}while(i<a&&s<c);T=y>>3,i-=T,y-=T<<3,p&=(1<<y)-1,e.next_in=i,e.next_out=s,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=s<c?257+(c-s):257-(s-c),r.hold=p,r.bits=y}},[1167,97,241,242,535,537],[1168,97],[1169,97],293,function(e,t,o){(function(e,n){function r(e){if(e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function i(e,t){for(var o=0;o<e.length;o++)this[t+o]=e[o]}var a=o(243),s=o(539),l=o(534),c=o(536),u=o(533);for(var h in u)t[h]=u[h];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,r.prototype.init=function(e,o,n,r,i){switch(this.windowBits=e,this.level=o,this.memLevel=n,this.strategy=r,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new s,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:var a=l.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:var a=c.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return a!==t.Z_OK?void this._error(a):(this.write_in_progress=!1,void(this.init_done=!0))},r.prototype.params=function(){throw new Error("deflateParams Not supported")},r.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===t.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},r.prototype.write=function(t,o,n,r,i,a,s){this._writeCheck(),this.write_in_progress=!0;var l=this;return e.nextTick(function(){l.write_in_progress=!1;var e=l._write(t,o,n,r,i,a,s);l.callback(e[0],e[1]),l.pending_close&&l.close()}),this},r.prototype.writeSync=function(e,t,o,n,r,i,a){return this._writeCheck(),this._write(e,t,o,n,r,i,a)},r.prototype._write=function(e,o,r,a,s,u,h){if(this.write_in_progress=!0,e!==t.Z_NO_FLUSH&&e!==t.Z_PARTIAL_FLUSH&&e!==t.Z_SYNC_FLUSH&&e!==t.Z_FULL_FLUSH&&e!==t.Z_FINISH&&e!==t.Z_BLOCK)throw new Error("Invalid flush value");null==o&&(o=new n(0),a=0,r=0),s._set?s.set=s._set:s.set=i;var g=this.strm;switch(g.avail_in=a,g.input=o,g.next_in=r,g.avail_out=h,g.output=s,g.next_out=u,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:var d=l.deflate(g,e);break;case t.UNZIP:case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:var d=c.inflate(g,e);break;default:throw new Error("Unknown mode "+this.mode)}return d!==t.Z_STREAM_END&&d!==t.Z_OK&&this._error(d),this.write_in_progress=!1,[g.avail_in,g.avail_out]},r.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?l.deflateEnd(this.strm):c.inflateEnd(this.strm),void(this.mode=t.NONE))},r.prototype.reset=function(){switch(this.mode){case t.DEFLATE:case t.DEFLATERAW:var e=l.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:var e=c.inflateReset(this.strm)}e!==t.Z_OK&&this._error(e)},r.prototype._error=function(e){this.onerror(a[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()},t.Zlib=r}).call(t,o(5),o(1).Buffer)},160,[1170,555,244],495,[1157,143],128,[1161,99,244,245,547],[1162,551,552,142],[1163,99],[1171,142,247,246],function(e,t){e.exports=function(e,t,o){var n=void 0===o;switch(t.length){case 0:return n?e():e.call(o);case 1:return n?e(t[0]):e.call(o,t[0]);case 2:return n?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},[1164,544,549,554,142],84,[1172,245,550,548,246,99,545],[1165,143],[1173,546,553],[1175,328],[1176,556],[1177,561,328],function(e,t,o){!function(t,o){e.exports=o()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=o(1),i=n(r);e.exports=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(2),i=n(r),a=o(6),s=n(a),l=o(3),c=n(l),u=o(7),h=n(u),g=o(8),d=n(g),f=o(10),p=n(f),y=o(11),b=n(y),_=o(12),m=n(_),v=o(13),E=n(v),k=o(14),T=n(k),S=o(15),C=n(S),B=o(16),A=n(B),w=o(9),I=n(w),O=o(17),R=n(O);t.default={color:{Color:i.default,math:s.default,interpret:c.default},controllers:{Controller:h.default,BooleanController:d.default,OptionController:p.default,StringController:b.default,NumberController:m.default,NumberControllerBox:E.default,NumberControllerSlider:T.default,FunctionController:C.default,ColorController:A.default},dom:{dom:I.default},gui:{GUI:R.default},GUI:R.default}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(p.recalculateRGB(this,t,o),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(p.recalculateRGB(this,t,o),this.__state.space="RGB"),this.__state[t]=e}})}function a(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(p.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(p.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}t.__esModule=!0;var s=o(3),l=n(s),c=o(6),u=n(c),h=o(4),g=n(h),d=o(5),f=n(d),p=function(){function e(){if(r(this,e),this.__state=l.default.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return e.prototype.toString=function(){return(0,g.default)(this)},e.prototype.toOriginal=function(){return this.__state.conversion.write(this)},e}();p.recalculateRGB=function(e,t,o){if("HEX"===e.__state.space)e.__state[t]=u.default.component_from_hex(e.__state.hex,o);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");f.default.extend(e.__state,u.default.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},p.recalculateHSV=function(e){var t=u.default.rgb_to_hsv(e.r,e.g,e.b);f.default.extend(e.__state,{s:t.s,v:t.v}),f.default.isNaN(t.h)?f.default.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h;
},p.COMPONENTS=["r","g","b","h","s","v","hex","a"],i(p.prototype,"r",2),i(p.prototype,"g",1),i(p.prototype,"b",0),a(p.prototype,"h"),a(p.prototype,"s"),a(p.prototype,"v"),Object.defineProperty(p.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(p.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=u.default.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),t.default=p},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(4),i=n(r),a=o(5),s=n(a),l=[{litmus:s.default.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:i.default},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:i.default},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:i.default},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:i.default}}},{litmus:s.default.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:s.default.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:s.default.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(s.default.isNumber(e.r)&&s.default.isNumber(e.g)&&s.default.isNumber(e.b)&&s.default.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(s.default.isNumber(e.r)&&s.default.isNumber(e.g)&&s.default.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(s.default.isNumber(e.h)&&s.default.isNumber(e.s)&&s.default.isNumber(e.v)&&s.default.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(s.default.isNumber(e.h)&&s.default.isNumber(e.s)&&s.default.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],c=void 0,u=void 0,h=function(){u=!1;var e=arguments.length>1?s.default.toArray(arguments):arguments[0];return s.default.each(l,function(t){if(t.litmus(e))return s.default.each(t.conversions,function(t,o){if(c=t.read(e),u===!1&&c!==!1)return u=c,c.conversionName=o,c.conversion=t,s.default.BREAK}),s.default.BREAK}),u};t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){if(1===e.a||i.default.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"};var r=o(5),i=n(r)},function(e,t){"use strict";t.__esModule=!0;var o=Array.prototype.forEach,n=Array.prototype.slice,r={BREAK:{},extend:function(e){return this.each(n.call(arguments,1),function(t){var o=this.isObject(t)?Object.keys(t):[];o.forEach(function(o){this.isUndefined(t[o])||(e[o]=t[o])}.bind(this))},this),e},defaults:function(e){return this.each(n.call(arguments,1),function(t){var o=this.isObject(t)?Object.keys(t):[];o.forEach(function(o){this.isUndefined(e[o])&&(e[o]=t[o])}.bind(this))},this),e},compose:function(){var e=n.call(arguments);return function(){for(var t=n.call(arguments),o=e.length-1;o>=0;o--)t=[e[o].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(o&&e.forEach&&e.forEach===o)e.forEach(t,n);else if(e.length===e.length+0){var r=void 0,i=void 0;for(r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===this.BREAK)return}else for(var a in e)if(t.call(n,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t){var o=void 0;return function(){function n(){o=null}var r=this,i=arguments,a=!o;clearTimeout(o),o=setTimeout(n,t),a&&e.apply(r,i)}},toArray:function(e){return e.toArray?e.toArray():n.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}};t.default=r},function(e,t){"use strict";t.__esModule=!0;var o=void 0,n={hsv_to_rgb:function(e,t,o){var n=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),i=o*(1-t),a=o*(1-r*t),s=o*(1-(1-r)*t),l=[[o,s,i],[a,o,i],[i,o,s],[i,a,o],[s,i,o],[o,i,a]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,o){var n=Math.min(e,t,o),r=Math.max(e,t,o),i=r-n,a=void 0,s=void 0;return 0===r?{h:NaN,s:0,v:0}:(s=i/r,a=e===r?(t-o)/i:t===r?2+(o-e)/i:4+(e-t)/i,a/=6,a<0&&(a+=1),{h:360*a,s:s,v:r/255})},rgb_to_hex:function(e,t,o){var n=this.hex_with_component(0,2,e);return n=this.hex_with_component(n,1,t),n=this.hex_with_component(n,0,o)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(o=8*t)|e&~(255<<o)}};t.default=n},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(t,n){o(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return e.prototype.onChange=function(e){return this.__onChange=e,this},e.prototype.onFinishChange=function(e){return this.__onFinishChange=e,this},e.prototype.setValue=function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},e.prototype.getValue=function(){return this.object[this.property]},e.prototype.updateDisplay=function(){return this},e.prototype.isModified=function(){return this.initialValue!==this.getValue()},e}();t.default=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=o(7),l=n(s),c=o(9),u=n(c),h=function(e){function t(o,n){function a(){l.setValue(!l.__prev)}r(this,t);var s=i(this,e.call(this,o,n)),l=s;return s.__prev=s.getValue(),s.__checkbox=document.createElement("input"),s.__checkbox.setAttribute("type","checkbox"),u.default.bind(s.__checkbox,"change",a,!1),s.domElement.appendChild(s.__checkbox),s.updateDisplay(),s}return a(t,e),t.prototype.setValue=function(t){var o=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),o},t.prototype.updateDisplay=function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,e.prototype.updateDisplay.call(this)},t}(l.default);t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if("0"===e||a.default.isUndefined(e))return 0;var t=e.match(c);return a.default.isNull(t)?0:parseFloat(t[1])}t.__esModule=!0;var i=o(5),a=n(i),s={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},l={};a.default.each(s,function(e,t){a.default.each(e,function(e){l[e]=t})});var c=/(\d+(\.\d+)?)px/,u={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,o){var n=o,r=t;a.default.isUndefined(r)&&(r=!0),a.default.isUndefined(n)&&(n=!0),e.style.position="absolute",r&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,o,n){var r=o||{},i=l[t];if(!i)throw new Error("Event type "+t+" not supported.");var s=document.createEvent(i);switch(i){case"MouseEvents":var c=r.x||r.clientX||0,u=r.y||r.clientY||0;s.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,c,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var h=s.initKeyboardEvent||s.initKeyEvent;a.default.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),h(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:s.initEvent(t,r.bubbles||!1,r.cancelable||!0)}a.default.defaults(s,n),e.dispatchEvent(s)},bind:function(e,t,o,n){var r=n||!1;return e.addEventListener?e.addEventListener(t,o,r):e.attachEvent&&e.attachEvent("on"+t,o),u},unbind:function(e,t,o,n){var r=n||!1;return e.removeEventListener?e.removeEventListener(t,o,r):e.detachEvent&&e.detachEvent("on"+t,o),u},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var o=e.className.split(/ +/);o.indexOf(t)===-1&&(o.push(t),e.className=o.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return u},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var o=e.className.split(/ +/),n=o.indexOf(t);n!==-1&&(o.splice(n,1),e.className=o.join(" "))}else e.className=void 0;return u},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return r(t["border-left-width"])+r(t["border-right-width"])+r(t["padding-left"])+r(t["padding-right"])+r(t.width)},getHeight:function(e){var t=getComputedStyle(e);return r(t["border-top-width"])+r(t["border-bottom-width"])+r(t["padding-top"])+r(t["padding-bottom"])+r(t.height)},getOffset:function(e){var t=e,o={left:0,top:0};if(t.offsetParent)do o.left+=t.offsetLeft,o.top+=t.offsetTop,t=t.offsetParent;while(t);return o},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=o(7),l=n(s),c=o(9),u=n(c),h=o(5),g=n(h),d=function(e){function t(o,n,a){r(this,t);var s=i(this,e.call(this,o,n)),l=a,c=s;return s.__select=document.createElement("select"),g.default.isArray(l)&&!function(){var e={};g.default.each(l,function(t){e[t]=t}),l=e}(),g.default.each(l,function(e,t){var o=document.createElement("option");o.innerHTML=t,o.setAttribute("value",e),c.__select.appendChild(o)}),s.updateDisplay(),u.default.bind(s.__select,"change",function(){var e=this.options[this.selectedIndex].value;c.setValue(e)}),s.domElement.appendChild(s.__select),s}return a(t,e),t.prototype.setValue=function(t){var o=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),o},t.prototype.updateDisplay=function(){return u.default.isActive(this.__select)?this:(this.__select.value=this.getValue(),e.prototype.updateDisplay.call(this))},t}(l.default);t.default=d},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=o(7),l=n(s),c=o(9),u=n(c),h=function(e){function t(o,n){function a(){c.setValue(c.__input.value)}function s(){c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}r(this,t);var l=i(this,e.call(this,o,n)),c=l;return l.__input=document.createElement("input"),l.__input.setAttribute("type","text"),u.default.bind(l.__input,"keyup",a),u.default.bind(l.__input,"change",a),u.default.bind(l.__input,"blur",s),u.default.bind(l.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),l.updateDisplay(),l.domElement.appendChild(l.__input),l}return a(t,e),t.prototype.updateDisplay=function(){return u.default.isActive(this.__input)||(this.__input.value=this.getValue()),e.prototype.updateDisplay.call(this)},t}(l.default);t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}t.__esModule=!0;var l=o(7),c=n(l),u=o(5),h=n(u),g=function(e){function t(o,n,a){r(this,t);var l=i(this,e.call(this,o,n)),c=a||{};return l.__min=c.min,l.__max=c.max,l.__step=c.step,h.default.isUndefined(l.__step)?0===l.initialValue?l.__impliedStep=1:l.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(l.initialValue))/Math.LN10))/10:l.__impliedStep=l.__step,l.__precision=s(l.__impliedStep),l}return a(t,e),t.prototype.setValue=function(t){var o=t;return void 0!==this.__min&&o<this.__min?o=this.__min:void 0!==this.__max&&o>this.__max&&(o=this.__max),void 0!==this.__step&&o%this.__step!==0&&(o=Math.round(o/this.__step)*this.__step),e.prototype.setValue.call(this,o)},t.prototype.min=function(e){return this.__min=e,this},t.prototype.max=function(e){return this.__max=e,this},t.prototype.step=function(e){return this.__step=e,this.__impliedStep=e,this.__precision=s(e),this},t}(c.default);t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var o=Math.pow(10,t);return Math.round(e*o)/o}t.__esModule=!0;var l=o(12),c=n(l),u=o(9),h=n(u),g=o(5),d=n(g),f=function(e){function t(o,n,a){function s(){var e=parseFloat(p.__input.value);d.default.isNaN(e)||p.setValue(e)}function l(){s(),p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}function c(e){document.activeElement.blur();var t=y-e.clientY;p.setValue(p.getValue()+t*p.__impliedStep),y=e.clientY}function u(){h.default.unbind(window,"mousemove",c),h.default.unbind(window,"mouseup",u)}function g(e){h.default.bind(window,"mousemove",c),h.default.bind(window,"mouseup",u),y=e.clientY}r(this,t);var f=i(this,e.call(this,o,n,a));f.__truncationSuspended=!1;var p=f,y=void 0;return f.__input=document.createElement("input"),f.__input.setAttribute("type","text"),h.default.bind(f.__input,"change",s),h.default.bind(f.__input,"blur",l),h.default.bind(f.__input,"mousedown",g),h.default.bind(f.__input,"keydown",function(e){13===e.keyCode&&(p.__truncationSuspended=!0,this.blur(),p.__truncationSuspended=!1)}),f.updateDisplay(),f.domElement.appendChild(f.__input),f}return a(t,e),t.prototype.updateDisplay=function(){return h.default.isActive(this.__input)?this:(this.__input.value=this.__truncationSuspended?this.getValue():s(this.getValue(),this.__precision),e.prototype.updateDisplay.call(this))},t}(c.default);t.default=f},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,o,n,r){return n+(r-n)*((e-t)/(o-t))}t.__esModule=!0;var l=o(12),c=n(l),u=o(9),h=n(u),g=function(e){function t(o,n,a,l,c){function u(e){document.activeElement.blur(),h.default.bind(window,"mousemove",g),h.default.bind(window,"mouseup",d),g(e)}function g(e){e.preventDefault();var t=h.default.getOffset(p.__background),o=h.default.getWidth(p.__background);return p.setValue(s(e.clientX,t.left,t.left+o,p.__min,p.__max)),!1}function d(){h.default.unbind(window,"mousemove",g),h.default.unbind(window,"mouseup",d),p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}r(this,t);var f=i(this,e.call(this,o,n,{min:a,max:l,step:c})),p=f;return f.__background=document.createElement("div"),f.__foreground=document.createElement("div"),h.default.bind(f.__background,"mousedown",u),h.default.addClass(f.__background,"slider"),h.default.addClass(f.__foreground,"slider-fg"),f.updateDisplay(),f.__background.appendChild(f.__foreground),f.domElement.appendChild(f.__background),f}return a(t,e),t.prototype.updateDisplay=function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",e.prototype.updateDisplay.call(this)},t}(c.default);t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=o(7),l=n(s),c=o(9),u=n(c),h=function(e){function t(o,n,a){r(this,t);var s=i(this,e.call(this,o,n)),l=s;return s.__button=document.createElement("div"),s.__button.innerHTML=void 0===a?"Fire":a,u.default.bind(s.__button,"click",function(e){return e.preventDefault(),l.fire(),!1}),u.default.addClass(s.__button,"button"),s.domElement.appendChild(s.__button),s}return a(t,e),t.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},t}(l.default);t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,o,n){e.style.background="",_.default.each(v,function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+o+" 0%, "+n+" 100%); "})}function l(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}t.__esModule=!0;var c=o(7),u=n(c),h=o(9),g=n(h),d=o(2),f=n(d),p=o(3),y=n(p),b=o(5),_=n(b),m=function(e){function t(o,n){function a(e){p(e),g.default.bind(window,"mousemove",p),g.default.bind(window,"mouseup",c)}function c(){g.default.unbind(window,"mousemove",p),g.default.unbind(window,"mouseup",c),d()}function u(){var e=(0,y.default)(this.value);e!==!1?(v.__color.__state=e,v.setValue(v.__color.toOriginal())):this.value=v.__color.toString()}function h(){g.default.unbind(window,"mousemove",b),g.default.unbind(window,"mouseup",h),d()}function d(){v.__onFinishChange&&v.__onFinishChange.call(v,v.__color.toString())}function p(e){e.preventDefault();var t=g.default.getWidth(v.__saturation_field),o=g.default.getOffset(v.__saturation_field),n=(e.clientX-o.left+document.body.scrollLeft)/t,r=1-(e.clientY-o.top+document.body.scrollTop)/t;return r>1?r=1:r<0&&(r=0),n>1?n=1:n<0&&(n=0),v.__color.v=r,v.__color.s=n,v.setValue(v.__color.toOriginal()),!1}function b(e){e.preventDefault();var t=g.default.getHeight(v.__hue_field),o=g.default.getOffset(v.__hue_field),n=1-(e.clientY-o.top+document.body.scrollTop)/t;return n>1?n=1:n<0&&(n=0),v.__color.h=360*n,v.setValue(v.__color.toOriginal()),!1}r(this,t);var m=i(this,e.call(this,o,n));m.__color=new f.default(m.getValue()),m.__temp=new f.default(0);var v=m;m.domElement=document.createElement("div"),g.default.makeSelectable(m.domElement,!1),m.__selector=document.createElement("div"),m.__selector.className="selector",m.__saturation_field=document.createElement("div"),m.__saturation_field.className="saturation-field",m.__field_knob=document.createElement("div"),m.__field_knob.className="field-knob",m.__field_knob_border="2px solid ",m.__hue_knob=document.createElement("div"),m.__hue_knob.className="hue-knob",m.__hue_field=document.createElement("div"),m.__hue_field.className="hue-field",m.__input=document.createElement("input"),m.__input.type="text",m.__input_textShadow="0 1px 1px ",g.default.bind(m.__input,"keydown",function(e){13===e.keyCode&&u.call(this)}),g.default.bind(m.__input,"blur",u),g.default.bind(m.__selector,"mousedown",function(){g.default.addClass(this,"drag").bind(window,"mouseup",function(){g.default.removeClass(v.__selector,"drag")})});var E=document.createElement("div");return _.default.extend(m.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),_.default.extend(m.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:m.__field_knob_border+(m.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),_.default.extend(m.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),_.default.extend(m.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),_.default.extend(E.style,{width:"100%",height:"100%",background:"none"}),s(E,"top","rgba(0,0,0,0)","#000"),_.default.extend(m.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),l(m.__hue_field),_.default.extend(m.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:m.__input_textShadow+"rgba(0,0,0,0.7)"}),g.default.bind(m.__saturation_field,"mousedown",a),g.default.bind(m.__field_knob,"mousedown",a),g.default.bind(m.__hue_field,"mousedown",function(e){b(e),g.default.bind(window,"mousemove",b),g.default.bind(window,"mouseup",h)}),m.__saturation_field.appendChild(E),m.__selector.appendChild(m.__field_knob),m.__selector.appendChild(m.__saturation_field),m.__selector.appendChild(m.__hue_field),m.__hue_field.appendChild(m.__hue_knob),m.domElement.appendChild(m.__input),m.domElement.appendChild(m.__selector),m.updateDisplay(),m}return a(t,e),t.prototype.updateDisplay=function(){var e=(0,y.default)(this.getValue());if(e!==!1){var t=!1;_.default.each(f.default.COMPONENTS,function(o){if(!_.default.isUndefined(e[o])&&!_.default.isUndefined(this.__color.__state[o])&&e[o]!==this.__color.__state[o])return t=!0,{}},this),t&&_.default.extend(this.__color.__state,e)}_.default.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var o=this.__color.v<.5||this.__color.s>.5?255:0,n=255-o;_.default.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+o+","+o+","+o+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,"left","#fff",this.__temp.toString()),_.default.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+o+","+o+","+o+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})},t}(u.default),v=["-moz-","-o-","-webkit-","-ms-",""];t.default=m},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){var n=document.createElement("li");return t&&n.appendChild(t),o?e.__ul.insertBefore(n,o):e.__ul.appendChild(n),e.onResize(),n}function i(e,t){var o=e.__preset_select[e.__preset_select.selectedIndex];t?o.innerHTML=o.value+"*":o.innerHTML=o.value}function a(e,t,o){if(o.__li=t,o.__gui=e,W.default.extend(o,{options:function(t){if(arguments.length>1){var n=o.__li.nextElementSibling;return o.remove(),l(e,o.object,o.property,{before:n,factoryArgs:[W.default.toArray(arguments)]})}if(W.default.isArray(t)||W.default.isObject(t)){var r=o.__li.nextElementSibling;return o.remove(),l(e,o.object,o.property,{before:r,factoryArgs:[t]})}},name:function(e){return o.__li.firstElementChild.firstElementChild.innerHTML=e,o},listen:function(){return o.__gui.listen(o),o},remove:function(){return o.__gui.remove(o),o}}),o instanceof N.default)!function(){var e=new M.default(o.object,o.property,{min:o.__min,max:o.__max,step:o.__step});W.default.each(["updateDisplay","onChange","onFinishChange","step"],function(t){var n=o[t],r=e[t];o[t]=e[t]=function(){var t=Array.prototype.slice.call(arguments);return r.apply(e,t),n.apply(o,t)}}),j.default.addClass(t,"has-slider"),o.domElement.insertBefore(e.domElement,o.domElement.firstElementChild)}();else if(o instanceof M.default){var n=function(t){return W.default.isNumber(o.__min)&&W.default.isNumber(o.__max)?(o.remove(),l(e,o.object,o.property,{before:o.__li.nextElementSibling,factoryArgs:[o.__min,o.__max,o.__step]})):t};o.min=W.default.compose(n,o.min),o.max=W.default.compose(n,o.max)}else o instanceof w.default?(j.default.bind(t,"click",function(){j.default.fakeEvent(o.__checkbox,"click")}),j.default.bind(o.__checkbox,"click",function(e){e.stopPropagation()})):o instanceof O.default?(j.default.bind(t,"click",function(){j.default.fakeEvent(o.__button,"click")}),j.default.bind(t,"mouseover",function(){j.default.addClass(o.__button,"hover")}),j.default.bind(t,"mouseout",function(){j.default.removeClass(o.__button,"hover")})):o instanceof D.default&&(j.default.addClass(t,"color"),o.updateDisplay=W.default.compose(function(e){return t.style.borderLeftColor=o.__color.toString(),e},o.updateDisplay),o.updateDisplay());o.setValue=W.default.compose(function(t){return e.getRoot().__preset_select&&o.isModified()&&i(e.getRoot(),!0),t},o.setValue)}function s(e,t){var o=e.getRoot(),n=o.__rememberedObjects.indexOf(t.object);if(n!==-1){var r=o.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(r={},o.__rememberedObjectIndecesToControllers[n]=r),r[t.property]=t,o.load&&o.load.remembered){var i=o.load.remembered,a=void 0;if(i[e.preset])a=i[e.preset];else{if(!i[q])return;a=i[q]}if(a[n]&&void 0!==a[n][t.property]){var s=a[n][t.property];t.initialValue=s,t.setValue(s)}}}}function l(e,t,o,n){if(void 0===t[o])throw new Error('Object "'+t+'" has no property "'+o+'"');var i=void 0;if(n.color)i=new D.default(t,o);else{var l=[t,o].concat(n.factoryArgs);i=S.default.apply(e,l)}n.before instanceof B.default&&(n.before=n.before.__li),s(e,i),j.default.addClass(i.domElement,"c");var c=document.createElement("span");j.default.addClass(c,"property-name"),c.innerHTML=i.property;var u=document.createElement("div");u.appendChild(c),u.appendChild(i.domElement);var h=r(e,u,n.before);return j.default.addClass(h,ne.CLASS_CONTROLLER_ROW),i instanceof D.default?j.default.addClass(h,"color"):j.default.addClass(h,_(i.getValue())),a(e,h,i),e.__controllers.push(i),i}function c(e,t){return document.location.href+"."+t}function u(e,t,o){var n=document.createElement("option");n.innerHTML=t,n.value=t,e.__preset_select.appendChild(n),o&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function h(e,t){t.style.display=e.useLocalStorage?"block":"none"}function g(e){var t=e.__save_row=document.createElement("li");j.default.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),j.default.addClass(t,"save-row");var o=document.createElement("span");o.innerHTML="&nbsp;",j.default.addClass(o,"button gears");var n=document.createElement("span");n.innerHTML="Save",j.default.addClass(n,"button"),j.default.addClass(n,"save");var r=document.createElement("span");r.innerHTML="New",j.default.addClass(r,"button"),j.default.addClass(r,"save-as");var i=document.createElement("span");i.innerHTML="Revert",j.default.addClass(i,"button"),j.default.addClass(i,"revert");var a=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?W.default.each(e.load.remembered,function(t,o){
u(e,o,o===e.preset)}):u(e,q,!1),j.default.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(i),Z&&!function(){var t=document.getElementById("dg-local-explain"),o=document.getElementById("dg-local-storage"),n=document.getElementById("dg-save-locally");n.style.display="block","true"===localStorage.getItem(c(e,"isLocal"))&&o.setAttribute("checked","checked"),h(e,t),j.default.bind(o,"change",function(){e.useLocalStorage=!e.useLocalStorage,h(e,t)})}();var s=document.getElementById("dg-new-constructor");j.default.bind(s,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||Q.hide()}),j.default.bind(o,"click",function(){s.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Q.show(),s.focus(),s.select()}),j.default.bind(n,"click",function(){e.save()}),j.default.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),j.default.bind(i,"click",function(){e.revert()})}function d(e){function t(t){return t.preventDefault(),e.width+=r-t.clientX,e.onResize(),r=t.clientX,!1}function o(){j.default.removeClass(e.__closeButton,ne.CLASS_DRAG),j.default.unbind(window,"mousemove",t),j.default.unbind(window,"mouseup",o)}function n(n){return n.preventDefault(),r=n.clientX,j.default.addClass(e.__closeButton,ne.CLASS_DRAG),j.default.bind(window,"mousemove",t),j.default.bind(window,"mouseup",o),!1}var r=void 0;e.__resize_handle=document.createElement("div"),W.default.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),j.default.bind(e.__resize_handle,"mousedown",n),j.default.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function f(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function p(e,t){var o={};return W.default.each(e.__rememberedObjects,function(n,r){var i={},a=e.__rememberedObjectIndecesToControllers[r];W.default.each(a,function(e,o){i[o]=t?e.initialValue:e.getValue()}),o[r]=i}),o}function y(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function b(e){0!==e.length&&F.default.call(window,function(){b(e)}),W.default.each(e,function(e){e.updateDisplay()})}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},m=o(18),v=n(m),E=o(19),k=n(E),T=o(20),S=n(T),C=o(7),B=n(C),A=o(8),w=n(A),I=o(15),O=n(I),R=o(13),M=n(R),x=o(14),N=n(x),L=o(16),D=n(L),P=o(21),F=n(P),U=o(22),H=n(U),V=o(9),j=n(V),G=o(5),W=n(G),z=o(23),K=n(z);v.default.inject(K.default);var X="dg",Y=72,J=20,q="Default",Z=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),Q=void 0,$=!0,ee=void 0,te=!1,oe=[],ne=function e(t){function o(){var e=n.getRoot();e.width+=1,W.default.defer(function(){e.width-=1})}var n=this,i=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),j.default.addClass(this.domElement,X),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=W.default.defaults(i,{autoPlace:!0,width:e.DEFAULT_WIDTH}),i=W.default.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),W.default.isUndefined(i.load)?i.load={preset:q}:i.preset&&(i.load.preset=i.preset),W.default.isUndefined(i.parent)&&i.hideable&&oe.push(this),i.resizable=W.default.isUndefined(i.parent)&&i.resizable,i.autoPlace&&W.default.isUndefined(i.scrollable)&&(i.scrollable=!0);var a=Z&&"true"===localStorage.getItem(c(this,"isLocal")),s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:i.load.preset},set:function(e){n.parent?n.getRoot().preset=e:i.load.preset=e,y(this),n.revert()}},width:{get:function(){return i.width},set:function(e){i.width=e,f(n,e)}},name:{get:function(){return i.name},set:function(e){i.name=e,titleRowName&&(titleRowName.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(t){i.closed=t,i.closed?j.default.addClass(n.__ul,e.CLASS_CLOSED):j.default.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return a},set:function(e){Z&&(a=e,e?j.default.bind(window,"unload",s):j.default.unbind(window,"unload",s),localStorage.setItem(c(n,"isLocal"),e))}}}),W.default.isUndefined(i.parent)){if(i.closed=!1,j.default.addClass(this.domElement,e.CLASS_MAIN),j.default.makeSelectable(this.domElement,!1),Z&&a){n.useLocalStorage=!0;var l=localStorage.getItem(c(this,"gui"));l&&(i.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,j.default.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),j.default.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===i.closed&&(i.closed=!0);var u=document.createTextNode(i.name);j.default.addClass(u,"controller-name");var h=r(n,u),g=function(e){return e.preventDefault(),n.closed=!n.closed,!1};j.default.addClass(this.__ul,e.CLASS_CLOSED),j.default.addClass(h,"title"),j.default.bind(h,"click",g),i.closed||(this.closed=!1)}i.autoPlace&&(W.default.isUndefined(i.parent)&&($&&(ee=document.createElement("div"),j.default.addClass(ee,X),j.default.addClass(ee,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ee),$=!1),ee.appendChild(this.domElement),j.default.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||f(n,i.width)),this.__resizeHandler=function(){n.onResize()},j.default.bind(window,"resize",this.__resizeHandler),j.default.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),j.default.bind(this.__ul,"transitionend",this.__resizeHandler),j.default.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&d(this),s=function(){Z&&"true"===localStorage.getItem(c(n,"isLocal"))&&localStorage.setItem(c(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,i.parent||o()};ne.toggleHide=function(){te=!te,W.default.each(oe,function(e){e.domElement.style.display=te?"none":""})},ne.CLASS_AUTO_PLACE="a",ne.CLASS_AUTO_PLACE_CONTAINER="ac",ne.CLASS_MAIN="main",ne.CLASS_CONTROLLER_ROW="cr",ne.CLASS_TOO_TALL="taller-than-window",ne.CLASS_CLOSED="closed",ne.CLASS_CLOSE_BUTTON="close-button",ne.CLASS_DRAG="drag",ne.DEFAULT_WIDTH=245,ne.TEXT_CLOSED="Close Controls",ne.TEXT_OPEN="Open Controls",ne._keydownHandler=function(e){"text"===document.activeElement.type||e.which!==Y&&e.keyCode!==Y||ne.toggleHide()},j.default.bind(window,"keydown",ne._keydownHandler,!1),W.default.extend(ne.prototype,{add:function(e,t){return l(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return l(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;W.default.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&ee.removeChild(this.domElement),j.default.unbind(window,"keydown",ne._keydownHandler,!1),j.default.unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&j.default.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var o=new ne(t);this.__folders[e]=o;var n=r(this,o.domElement);return j.default.addClass(n,"folder"),o},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:W.default.debounce(function(){var e=this.getRoot();if(e.scrollable){var t=j.default.getOffset(e.__ul).top,o=0;W.default.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(o+=j.default.getHeight(t))}),window.innerHeight-t-J<o?(j.default.addClass(e.domElement,ne.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-J+"px"):(j.default.removeClass(e.domElement,ne.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&W.default.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},200),remember:function(){if(W.default.isUndefined(Q)&&(Q=new H.default,Q.domElement.innerHTML=k.default),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;W.default.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&g(e),e.__rememberedObjects.indexOf(t)===-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&f(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=p(this)),e.folders={},W.default.each(this.__folders,function(t,o){e.folders[o]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=p(this),i(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[q]=p(this,!0)),this.load.remembered[e]=p(this),this.preset=e,u(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){W.default.each(this.__controllers,function(t){this.getRoot().load.remembered?s(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),W.default.each(this.__folders,function(e){e.revert(e)}),e||i(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&b(this.__listening)},updateDisplay:function(){W.default.each(this.__controllers,function(e){e.updateDisplay()}),W.default.each(this.__folders,function(e){e.updateDisplay()})}}),e.exports=ne},function(e,t){"use strict";e.exports={load:function(e,t){var o=t||document,n=o.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,o.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){var o=t||document,n=document.createElement("style");n.type="text/css",n.innerHTML=e;var r=o.getElementsByTagName("head")[0];try{r.appendChild(n)}catch(i){}}}},function(e,t){e.exports='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(10),i=n(r),a=o(13),s=n(a),l=o(14),c=n(l),u=o(11),h=n(u),g=o(15),d=n(g),f=o(8),p=n(f),y=o(5),b=n(y),_=function(e,t){var o=e[t];return b.default.isArray(arguments[2])||b.default.isObject(arguments[2])?new i.default(e,t,arguments[2]):b.default.isNumber(o)?b.default.isNumber(arguments[2])&&b.default.isNumber(arguments[3])?b.default.isNumber(arguments[4])?new c.default(e,t,arguments[2],arguments[3],arguments[4]):new c.default(e,t,arguments[2],arguments[3]):b.default.isNumber(arguments[4])?new s.default(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new s.default(e,t,{min:arguments[2],max:arguments[3]}):b.default.isString(o)?new h.default(e,t):b.default.isFunction(o)?new d.default(e,t,""):b.default.isBoolean(o)?new p.default(e,t):null};t.default=_},function(e,t){"use strict";function o(e){setTimeout(e,1e3/60)}t.__esModule=!0,t.default=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=o(9),a=n(i),s=o(5),l=n(s),c=function(){function e(){r(this,e),this.backgroundElement=document.createElement("div"),l.default.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),a.default.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),l.default.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;a.default.bind(this.backgroundElement,"click",function(){t.hide()})}return e.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),l.default.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},e.prototype.hide=function e(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",a.default.unbind(t.domElement,"webkitTransitionEnd",e),a.default.unbind(t.domElement,"transitionend",e),a.default.unbind(t.domElement,"oTransitionEnd",e)};a.default.bind(this.domElement,"webkitTransitionEnd",e),a.default.bind(this.domElement,"transitionend",e),a.default.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},e.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-a.default.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-a.default.getHeight(this.domElement)/2+"px"},e}();t.default=c},function(e,t,o){t=e.exports=o(24)(),t.push([e.id,".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),e.push(a))}},e}}])})},function(e,t){"use strict";function o(e,t,n){var r=0|e[n];if(r<=0)return[];var i,a=new Array(r);if(n===e.length-1)for(i=0;i<r;++i)a[i]=t;else for(i=0;i<r;++i)a[i]=o(e,t,n+1);return a}function n(e,t){var o,n;for(o=new Array(e),n=0;n<e;++n)o[n]=t;return o}function r(e,t){switch("undefined"==typeof t&&(t=0),typeof e){case"number":if(e>0)return n(0|e,t);break;case"object":if("number"==typeof e.length)return o(e,t,0)}return[]}e.exports=r},function(e,t,o){var n,r,i;!function(o,a){"use strict";r=[t],n=a,i="function"==typeof n?n.apply(t,r):n,!(void 0!==i&&(e.exports=i))}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function o(e){return e>=48&&e<=57}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function r(e){return"01234567".indexOf(e)>=0}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function a(e){return 10===e||13===e||8232===e||8233===e}function s(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&it.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function l(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&it.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function c(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function u(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function h(e){return"eval"===e||"arguments"===e}function g(e){if(lt&&u(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function d(e,o,n,r,i){var a;t("number"==typeof n,"Comment must have valid position"),pt.lastCommentStart>=n||(pt.lastCommentStart=n,a={type:e,value:o},yt.range&&(a.range=[n,r]),yt.loc&&(a.loc=i),yt.comments.push(a),yt.attachComment&&(yt.leadingComments.push(a),yt.trailingComments.push(a)))}function f(e){var t,o,n,r;for(t=ct-e,o={start:{line:ut,column:ct-ht-e}};ct<gt;)if(n=st.charCodeAt(ct),++ct,a(n))return yt.comments&&(r=st.slice(t+e,ct-1),o.end={line:ut,column:ct-ht-1},d("Line",r,t,ct-1,o)),13===n&&10===st.charCodeAt(ct)&&++ct,++ut,void(ht=ct);yt.comments&&(r=st.slice(t+e,ct),o.end={line:ut,column:ct-ht},d("Line",r,t,ct,o))}function p(){var e,t,o,n;for(yt.comments&&(e=ct-2,t={start:{line:ut,column:ct-ht-2}});ct<gt;)if(o=st.charCodeAt(ct),a(o))13===o&&10===st.charCodeAt(ct+1)&&++ct,++ut,++ct,ht=ct,ct>=gt&&V({},rt.UnexpectedToken,"ILLEGAL");else if(42===o){if(47===st.charCodeAt(ct+1))return++ct,++ct,void(yt.comments&&(n=st.slice(e+2,ct-2),t.end={line:ut,column:ct-ht},d("Block",n,e,ct,t)));++ct}else++ct;V({},rt.UnexpectedToken,"ILLEGAL")}function y(){var e,t;for(t=0===ct;ct<gt;)if(e=st.charCodeAt(ct),i(e))++ct;else if(a(e))++ct,13===e&&10===st.charCodeAt(ct)&&++ct,++ut,ht=ct,t=!0;else if(47===e)if(e=st.charCodeAt(ct+1),47===e)++ct,++ct,f(2),t=!0;else{if(42!==e)break;++ct,++ct,p()}else if(t&&45===e){if(45!==st.charCodeAt(ct+1)||62!==st.charCodeAt(ct+2))break;ct+=3,f(3)}else{if(60!==e)break;if("!--"!==st.slice(ct+1,ct+4))break;++ct,++ct,++ct,++ct,f(4)}}function b(e){var t,o,r,i=0;for(o="u"===e?4:2,t=0;t<o;++t){if(!(ct<gt&&n(st[ct])))return"";r=st[ct++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function _(){var e,t;for(e=st.charCodeAt(ct++),t=String.fromCharCode(e),92===e&&(117!==st.charCodeAt(ct)&&V({},rt.UnexpectedToken,"ILLEGAL"),++ct,e=b("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||V({},rt.UnexpectedToken,"ILLEGAL"),t=e);ct<gt&&(e=st.charCodeAt(ct),l(e));)++ct,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==st.charCodeAt(ct)&&V({},rt.UnexpectedToken,"ILLEGAL"),++ct,e=b("u"),e&&"\\"!==e&&l(e.charCodeAt(0))||V({},rt.UnexpectedToken,"ILLEGAL"),t+=e);return t}function m(){var e,t;for(e=ct++;ct<gt;){if(t=st.charCodeAt(ct),92===t)return ct=e,_();if(!l(t))break;++ct}return st.slice(e,ct)}function v(){var e,t,o;return e=ct,t=92===st.charCodeAt(ct)?_():m(),o=1===t.length?$e.Identifier:g(t)?$e.Keyword:"null"===t?$e.NullLiteral:"true"===t||"false"===t?$e.BooleanLiteral:$e.Identifier,{type:o,value:t,lineNumber:ut,lineStart:ht,start:e,end:ct}}function E(){var e,t,o,n,r=ct,i=st.charCodeAt(ct),a=st[ct];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ct,yt.tokenize&&(40===i?yt.openParenToken=yt.tokens.length:123===i&&(yt.openCurlyToken=yt.tokens.length)),{type:$e.Punctuator,value:String.fromCharCode(i),lineNumber:ut,lineStart:ht,start:r,end:ct};default:if(e=st.charCodeAt(ct+1),61===e)switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ct+=2,{type:$e.Punctuator,value:String.fromCharCode(i)+String.fromCharCode(e),lineNumber:ut,lineStart:ht,start:r,end:ct};case 33:case 61:return ct+=2,61===st.charCodeAt(ct)&&++ct,{type:$e.Punctuator,value:st.slice(r,ct),lineNumber:ut,lineStart:ht,start:r,end:ct}}}return n=st.substr(ct,4),">>>="===n?(ct+=4,{type:$e.Punctuator,value:n,lineNumber:ut,lineStart:ht,start:r,end:ct}):(o=n.substr(0,3),">>>"===o||"<<="===o||">>="===o?(ct+=3,{type:$e.Punctuator,value:o,lineNumber:ut,lineStart:ht,start:r,end:ct}):(t=o.substr(0,2),a===t[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?(ct+=2,{type:$e.Punctuator,value:t,lineNumber:ut,lineStart:ht,start:r,end:ct}):"<>=!+-*%&|^/".indexOf(a)>=0?(++ct,{type:$e.Punctuator,value:a,lineNumber:ut,lineStart:ht,start:r,end:ct}):void V({},rt.UnexpectedToken,"ILLEGAL")))}function k(e){for(var t="";ct<gt&&n(st[ct]);)t+=st[ct++];return 0===t.length&&V({},rt.UnexpectedToken,"ILLEGAL"),s(st.charCodeAt(ct))&&V({},rt.UnexpectedToken,"ILLEGAL"),{type:$e.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:ut,lineStart:ht,start:e,end:ct}}function T(e){for(var t="0"+st[ct++];ct<gt&&r(st[ct]);)t+=st[ct++];return(s(st.charCodeAt(ct))||o(st.charCodeAt(ct)))&&V({},rt.UnexpectedToken,"ILLEGAL"),{type:$e.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:ut,lineStart:ht,start:e,end:ct}}function S(){var e,t;for(e=ct+1;e<gt;++e){if(t=st[e],"8"===t||"9"===t)return!1;if(!r(t))return!0}return!0}function C(){var e,n,i;if(i=st[ct],t(o(i.charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),n=ct,e="","."!==i){if(e=st[ct++],i=st[ct],"0"===e){if("x"===i||"X"===i)return++ct,k(n);if(r(i)&&S())return T(n)}for(;o(st.charCodeAt(ct));)e+=st[ct++];i=st[ct]}if("."===i){for(e+=st[ct++];o(st.charCodeAt(ct));)e+=st[ct++];i=st[ct]}if("e"===i||"E"===i)if(e+=st[ct++],i=st[ct],"+"!==i&&"-"!==i||(e+=st[ct++]),o(st.charCodeAt(ct)))for(;o(st.charCodeAt(ct));)e+=st[ct++];else V({},rt.UnexpectedToken,"ILLEGAL");return s(st.charCodeAt(ct))&&V({},rt.UnexpectedToken,"ILLEGAL"),{type:$e.NumericLiteral,value:parseFloat(e),lineNumber:ut,lineStart:ht,start:n,end:ct}}function B(){var e,o,n,i,s,l,c,u,h="",g=!1;for(c=ut,u=ht,e=st[ct],t("'"===e||'"'===e,"String literal must starts with a quote"),o=ct,++ct;ct<gt;){if(n=st[ct++],n===e){e="";break}if("\\"===n)if(n=st[ct++],n&&a(n.charCodeAt(0)))++ut,"\r"===n&&"\n"===st[ct]&&++ct,ht=ct;else switch(n){case"u":case"x":l=ct,s=b(n),s?h+=s:(ct=l,h+=n);break;case"n":h+="\n";break;case"r":h+="\r";break;case"t":h+="\t";break;case"b":h+="\b";break;case"f":h+="\f";break;case"v":h+="\v";break;default:r(n)?(i="01234567".indexOf(n),0!==i&&(g=!0),ct<gt&&r(st[ct])&&(g=!0,i=8*i+"01234567".indexOf(st[ct++]),"0123".indexOf(n)>=0&&ct<gt&&r(st[ct])&&(i=8*i+"01234567".indexOf(st[ct++]))),h+=String.fromCharCode(i)):h+=n}else{if(a(n.charCodeAt(0)))break;h+=n}}return""!==e&&V({},rt.UnexpectedToken,"ILLEGAL"),{type:$e.StringLiteral,value:h,octal:g,startLineNumber:c,startLineStart:u,lineNumber:ut,lineStart:ht,start:o,end:ct}}function A(e,t){var o;try{o=new RegExp(e,t)}catch(n){V({},rt.InvalidRegExp);
}return o}function w(){var e,o,n,r,i;for(e=st[ct],t("/"===e,"Regular expression literal must start with a slash"),o=st[ct++],n=!1,r=!1;ct<gt;)if(e=st[ct++],o+=e,"\\"===e)e=st[ct++],a(e.charCodeAt(0))&&V({},rt.UnterminatedRegExp),o+=e;else if(a(e.charCodeAt(0)))V({},rt.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||V({},rt.UnterminatedRegExp),i=o.substr(1,o.length-2),{value:i,literal:o}}function I(){var e,t,o,n;for(t="",o="";ct<gt&&(e=st[ct],l(e.charCodeAt(0)));)if(++ct,"\\"===e&&ct<gt)if(e=st[ct],"u"===e){if(++ct,n=ct,e=b("u"))for(o+=e,t+="\\u";n<ct;++n)t+=st[n];else ct=n,o+="u",t+="\\u";j({},rt.UnexpectedToken,"ILLEGAL")}else t+="\\",j({},rt.UnexpectedToken,"ILLEGAL");else o+=e,t+=e;return{value:o,literal:t}}function O(){var e,t,o,n;return ft=null,y(),e=ct,t=w(),o=I(),n=A(t.value,o.value),yt.tokenize?{type:$e.RegularExpression,value:n,lineNumber:ut,lineStart:ht,start:e,end:ct}:{literal:t.literal+o.literal,value:n,start:e,end:ct}}function R(){var e,t,o,n;return y(),e=ct,t={start:{line:ut,column:ct-ht}},o=O(),t.end={line:ut,column:ct-ht},yt.tokenize||(yt.tokens.length>0&&(n=yt.tokens[yt.tokens.length-1],n.range[0]===e&&"Punctuator"===n.type&&("/"!==n.value&&"/="!==n.value||yt.tokens.pop())),yt.tokens.push({type:"RegularExpression",value:o.literal,range:[e,ct],loc:t})),o}function M(e){return e.type===$e.Identifier||e.type===$e.Keyword||e.type===$e.BooleanLiteral||e.type===$e.NullLiteral}function x(){var e,t;if(e=yt.tokens[yt.tokens.length-1],!e)return R();if("Punctuator"===e.type){if("]"===e.value)return E();if(")"===e.value)return t=yt.tokens[yt.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?E():R();if("}"===e.value){if(yt.tokens[yt.openCurlyToken-3]&&"Keyword"===yt.tokens[yt.openCurlyToken-3].type){if(t=yt.tokens[yt.openCurlyToken-4],!t)return E()}else{if(!yt.tokens[yt.openCurlyToken-4]||"Keyword"!==yt.tokens[yt.openCurlyToken-4].type)return E();if(t=yt.tokens[yt.openCurlyToken-5],!t)return R()}return tt.indexOf(t.value)>=0?E():R()}return R()}return"Keyword"===e.type&&"this"!==e.value?R():E()}function N(){var e;return y(),ct>=gt?{type:$e.EOF,lineNumber:ut,lineStart:ht,start:ct,end:ct}:(e=st.charCodeAt(ct),s(e)?v():40===e||41===e||59===e?E():39===e||34===e?B():46===e?o(st.charCodeAt(ct+1))?C():E():o(e)?C():yt.tokenize&&47===e?x():E())}function L(){var e,t,o;return y(),e={start:{line:ut,column:ct-ht}},t=N(),e.end={line:ut,column:ct-ht},t.type!==$e.EOF&&(o=st.slice(t.start,t.end),yt.tokens.push({type:et[t.type],value:o,range:[t.start,t.end],loc:e})),t}function D(){var e;return e=ft,ct=e.end,ut=e.lineNumber,ht=e.lineStart,ft="undefined"!=typeof yt.tokens?L():N(),ct=e.end,ut=e.lineNumber,ht=e.lineStart,e}function P(){var e,t,o;e=ct,t=ut,o=ht,ft="undefined"!=typeof yt.tokens?L():N(),ct=e,ut=t,ht=o}function F(e,t){this.line=e,this.column=t}function U(e,t,o,n){this.start=new F(e,t),this.end=new F(o,n)}function H(){var e,t,o,n;return e=ct,t=ut,o=ht,y(),n=ut!==t,ct=e,ut=t,ht=o,n}function V(e,o){var n,r=Array.prototype.slice.call(arguments,2),i=o.replace(/%(\d)/g,function(e,o){return t(o<r.length,"Message reference must be in range"),r[o]});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+i),n.index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-ht+1):(n=new Error("Line "+ut+": "+i),n.index=ct,n.lineNumber=ut,n.column=ct-ht+1),n.description=i,n}function j(){try{V.apply(null,arguments)}catch(e){if(!yt.errors)throw e;yt.errors.push(e)}}function G(e){if(e.type===$e.EOF&&V(e,rt.UnexpectedEOS),e.type===$e.NumericLiteral&&V(e,rt.UnexpectedNumber),e.type===$e.StringLiteral&&V(e,rt.UnexpectedString),e.type===$e.Identifier&&V(e,rt.UnexpectedIdentifier),e.type===$e.Keyword){if(c(e.value))V(e,rt.UnexpectedReserved);else if(lt&&u(e.value))return void j(e,rt.StrictReservedWord);V(e,rt.UnexpectedToken,e.value)}V(e,rt.UnexpectedToken,e.value)}function W(e){var t=D();t.type===$e.Punctuator&&t.value===e||G(t)}function z(e){var t=D();t.type===$e.Keyword&&t.value===e||G(t)}function K(e){return ft.type===$e.Punctuator&&ft.value===e}function X(e){return ft.type===$e.Keyword&&ft.value===e}function Y(){var e;return ft.type===$e.Punctuator&&(e=ft.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function J(){var e,t=ct,o=ut,n=ht,r=ft;return 59===st.charCodeAt(ct)||K(";")?void D():(e=ut,y(),ut!==e?(ct=t,ut=o,ht=n,void(ft=r)):void(ft.type===$e.EOF||K("}")||G(ft)))}function q(e){return e.type===ot.Identifier||e.type===ot.MemberExpression}function Z(){var e,t=[];for(e=ft,W("[");!K("]");)K(",")?(D(),t.push(null)):(t.push(ye()),K("]")||W(","));return D(),dt.markEnd(dt.createArrayExpression(t),e)}function Q(e,t){var o,n,r;return o=lt,r=ft,n=Ge(),t&&lt&&h(e[0].name)&&j(t,rt.StrictParamName),lt=o,dt.markEnd(dt.createFunctionExpression(null,e,[],n),r)}function $(){var e,t;return t=ft,e=D(),e.type===$e.StringLiteral||e.type===$e.NumericLiteral?(lt&&e.octal&&j(e,rt.StrictOctalLiteral),dt.markEnd(dt.createLiteral(e),t)):dt.markEnd(dt.createIdentifier(e.value),t)}function ee(){var e,t,o,n,r,i;return e=ft,i=ft,e.type===$e.Identifier?(o=$(),"get"!==e.value||K(":")?"set"!==e.value||K(":")?(W(":"),n=ye(),dt.markEnd(dt.createProperty("init",o,n),i)):(t=$(),W("("),e=ft,e.type!==$e.Identifier?(W(")"),j(e,rt.UnexpectedToken,e.value),n=Q([])):(r=[ve()],W(")"),n=Q(r,e)),dt.markEnd(dt.createProperty("set",t,n),i)):(t=$(),W("("),W(")"),n=Q([]),dt.markEnd(dt.createProperty("get",t,n),i))):e.type!==$e.EOF&&e.type!==$e.Punctuator?(t=$(),W(":"),n=ye(),dt.markEnd(dt.createProperty("init",t,n),i)):void G(e)}function te(){var e,t,o,n,r,i=[],a={},s=String;for(r=ft,W("{");!K("}");)e=ee(),t=e.key.type===ot.Identifier?e.key.name:s(e.key.value),n="init"===e.kind?nt.Data:"get"===e.kind?nt.Get:nt.Set,o="$"+t,Object.prototype.hasOwnProperty.call(a,o)?(a[o]===nt.Data?lt&&n===nt.Data?j({},rt.StrictDuplicateProperty):n!==nt.Data&&j({},rt.AccessorDataProperty):n===nt.Data?j({},rt.AccessorDataProperty):a[o]&n&&j({},rt.AccessorGetSet),a[o]|=n):a[o]=n,i.push(e),K("}")||W(",");return W("}"),dt.markEnd(dt.createObjectExpression(i),r)}function oe(){var e;return W("("),e=be(),W(")"),e}function ne(){var e,t,o,n;if(K("("))return oe();if(K("["))return Z();if(K("{"))return te();if(e=ft.type,n=ft,e===$e.Identifier)o=dt.createIdentifier(D().value);else if(e===$e.StringLiteral||e===$e.NumericLiteral)lt&&ft.octal&&j(ft,rt.StrictOctalLiteral),o=dt.createLiteral(D());else if(e===$e.Keyword){if(X("function"))return Ke();X("this")?(D(),o=dt.createThisExpression()):G(D())}else e===$e.BooleanLiteral?(t=D(),t.value="true"===t.value,o=dt.createLiteral(t)):e===$e.NullLiteral?(t=D(),t.value=null,o=dt.createLiteral(t)):K("/")||K("/=")?(o="undefined"!=typeof yt.tokens?dt.createLiteral(R()):dt.createLiteral(O()),P()):G(D());return dt.markEnd(o,n)}function re(){var e=[];if(W("("),!K(")"))for(;ct<gt&&(e.push(ye()),!K(")"));)W(",");return W(")"),e}function ie(){var e,t;return t=ft,e=D(),M(e)||G(e),dt.markEnd(dt.createIdentifier(e.value),t)}function ae(){return W("."),ie()}function se(){var e;return W("["),e=be(),W("]"),e}function le(){var e,t,o;return o=ft,z("new"),e=ue(),t=K("(")?re():[],dt.markEnd(dt.createNewExpression(e,t),o)}function ce(){var e,t,o,n,r=pt.allowIn;for(n=ft,pt.allowIn=!0,e=X("new")?le():ne();;){if(K("."))o=ae(),e=dt.createMemberExpression(".",e,o);else if(K("("))t=re(),e=dt.createCallExpression(e,t);else{if(!K("["))break;o=se(),e=dt.createMemberExpression("[",e,o)}dt.markEnd(e,n)}return pt.allowIn=r,e}function ue(){var e,o,n;for(t(pt.allowIn,"callee of new expression always allow in keyword."),n=ft,e=X("new")?le():ne();K(".")||K("[");)K("[")?(o=se(),e=dt.createMemberExpression("[",e,o)):(o=ae(),e=dt.createMemberExpression(".",e,o)),dt.markEnd(e,n);return e}function he(){var e,t,o=ft;return e=ce(),ft.type===$e.Punctuator&&(!K("++")&&!K("--")||H()||(lt&&e.type===ot.Identifier&&h(e.name)&&j({},rt.StrictLHSPostfix),q(e)||j({},rt.InvalidLHSInAssignment),t=D(),e=dt.markEnd(dt.createPostfixExpression(t.value,e),o))),e}function ge(){var e,t,o;return ft.type!==$e.Punctuator&&ft.type!==$e.Keyword?t=he():K("++")||K("--")?(o=ft,e=D(),t=ge(),lt&&t.type===ot.Identifier&&h(t.name)&&j({},rt.StrictLHSPrefix),q(t)||j({},rt.InvalidLHSInAssignment),t=dt.createUnaryExpression(e.value,t),t=dt.markEnd(t,o)):K("+")||K("-")||K("~")||K("!")?(o=ft,e=D(),t=ge(),t=dt.createUnaryExpression(e.value,t),t=dt.markEnd(t,o)):X("delete")||X("void")||X("typeof")?(o=ft,e=D(),t=ge(),t=dt.createUnaryExpression(e.value,t),t=dt.markEnd(t,o),lt&&"delete"===t.operator&&t.argument.type===ot.Identifier&&j({},rt.StrictDelete)):t=he(),t}function de(e,t){var o=0;if(e.type!==$e.Punctuator&&e.type!==$e.Keyword)return 0;switch(e.value){case"||":o=1;break;case"&&":o=2;break;case"|":o=3;break;case"^":o=4;break;case"&":o=5;break;case"==":case"!=":case"===":case"!==":o=6;break;case"<":case">":case"<=":case">=":case"instanceof":o=7;break;case"in":o=t?7:0;break;case"<<":case">>":case">>>":o=8;break;case"+":case"-":o=9;break;case"*":case"/":case"%":o=11}return o}function fe(){var e,t,o,n,r,i,a,s,l,c;if(e=ft,l=ge(),n=ft,r=de(n,pt.allowIn),0===r)return l;for(n.prec=r,D(),t=[e,ft],a=ge(),i=[l,n,a];(r=de(ft,pt.allowIn))>0;){for(;i.length>2&&r<=i[i.length-2].prec;)a=i.pop(),s=i.pop().value,l=i.pop(),o=dt.createBinaryExpression(s,l,a),t.pop(),e=t[t.length-1],dt.markEnd(o,e),i.push(o);n=D(),n.prec=r,i.push(n),t.push(ft),o=ge(),i.push(o)}for(c=i.length-1,o=i[c],t.pop();c>1;)o=dt.createBinaryExpression(i[c-1].value,i[c-2],o),c-=2,e=t.pop(),dt.markEnd(o,e);return o}function pe(){var e,t,o,n,r;return r=ft,e=fe(),K("?")&&(D(),t=pt.allowIn,pt.allowIn=!0,o=ye(),pt.allowIn=t,W(":"),n=ye(),e=dt.createConditionalExpression(e,o,n),dt.markEnd(e,r)),e}function ye(){var e,t,o,n,r;return e=ft,r=ft,n=t=pe(),Y()&&(q(t)||j({},rt.InvalidLHSInAssignment),lt&&t.type===ot.Identifier&&h(t.name)&&j(e,rt.StrictLHSAssignment),e=D(),o=ye(),n=dt.markEnd(dt.createAssignmentExpression(e.value,t,o),r)),n}function be(){var e,t=ft;if(e=ye(),K(",")){for(e=dt.createSequenceExpression([e]);ct<gt&&K(",");)D(),e.expressions.push(ye());dt.markEnd(e,t)}return e}function _e(){for(var e,t=[];ct<gt&&!K("}")&&(e=Xe(),"undefined"!=typeof e);)t.push(e);return t}function me(){var e,t;return t=ft,W("{"),e=_e(),W("}"),dt.markEnd(dt.createBlockStatement(e),t)}function ve(){var e,t;return t=ft,e=D(),e.type!==$e.Identifier&&G(e),dt.markEnd(dt.createIdentifier(e.value),t)}function Ee(e){var t,o,n=null;return o=ft,t=ve(),lt&&h(t.name)&&j({},rt.StrictVarName),"const"===e?(W("="),n=ye()):K("=")&&(D(),n=ye()),dt.markEnd(dt.createVariableDeclarator(t,n),o)}function ke(e){var t=[];do{if(t.push(Ee(e)),!K(","))break;D()}while(ct<gt);return t}function Te(){var e;return z("var"),e=ke(),J(),dt.createVariableDeclaration(e,"var")}function Se(e){var t,o;return o=ft,z(e),t=ke(e),J(),dt.markEnd(dt.createVariableDeclaration(t,e),o)}function Ce(){return W(";"),dt.createEmptyStatement()}function Be(){var e=be();return J(),dt.createExpressionStatement(e)}function Ae(){var e,t,o;return z("if"),W("("),e=be(),W(")"),t=je(),X("else")?(D(),o=je()):o=null,dt.createIfStatement(e,t,o)}function we(){var e,t,o;return z("do"),o=pt.inIteration,pt.inIteration=!0,e=je(),pt.inIteration=o,z("while"),W("("),t=be(),W(")"),K(";")&&D(),dt.createDoWhileStatement(e,t)}function Ie(){var e,t,o;return z("while"),W("("),e=be(),W(")"),o=pt.inIteration,pt.inIteration=!0,t=je(),pt.inIteration=o,dt.createWhileStatement(e,t)}function Oe(){var e,t,o;return o=ft,e=D(),t=ke(),dt.markEnd(dt.createVariableDeclaration(t,e.value),o)}function Re(){var e,t,o,n,r,i,a,s=pt.allowIn;return e=t=o=null,z("for"),W("("),K(";")?D():(X("var")||X("let")?(pt.allowIn=!1,e=Oe(),pt.allowIn=s,1===e.declarations.length&&X("in")&&(D(),n=e,r=be(),e=null)):(pt.allowIn=!1,e=be(),pt.allowIn=s,X("in")&&(q(e)||j({},rt.InvalidLHSInForIn),D(),n=e,r=be(),e=null)),"undefined"==typeof n&&W(";")),"undefined"==typeof n&&(K(";")||(t=be()),W(";"),K(")")||(o=be())),W(")"),a=pt.inIteration,pt.inIteration=!0,i=je(),pt.inIteration=a,"undefined"==typeof n?dt.createForStatement(e,t,o,i):dt.createForInStatement(n,r,i)}function Me(){var e,t=null;return z("continue"),59===st.charCodeAt(ct)?(D(),pt.inIteration||V({},rt.IllegalContinue),dt.createContinueStatement(null)):H()?(pt.inIteration||V({},rt.IllegalContinue),dt.createContinueStatement(null)):(ft.type===$e.Identifier&&(t=ve(),e="$"+t.name,Object.prototype.hasOwnProperty.call(pt.labelSet,e)||V({},rt.UnknownLabel,t.name)),J(),null!==t||pt.inIteration||V({},rt.IllegalContinue),dt.createContinueStatement(t))}function xe(){var e,t=null;return z("break"),59===st.charCodeAt(ct)?(D(),pt.inIteration||pt.inSwitch||V({},rt.IllegalBreak),dt.createBreakStatement(null)):H()?(pt.inIteration||pt.inSwitch||V({},rt.IllegalBreak),dt.createBreakStatement(null)):(ft.type===$e.Identifier&&(t=ve(),e="$"+t.name,Object.prototype.hasOwnProperty.call(pt.labelSet,e)||V({},rt.UnknownLabel,t.name)),J(),null!==t||pt.inIteration||pt.inSwitch||V({},rt.IllegalBreak),dt.createBreakStatement(t))}function Ne(){var e=null;return z("return"),pt.inFunctionBody||j({},rt.IllegalReturn),32===st.charCodeAt(ct)&&s(st.charCodeAt(ct+1))?(e=be(),J(),dt.createReturnStatement(e)):H()?dt.createReturnStatement(null):(K(";")||K("}")||ft.type===$e.EOF||(e=be()),J(),dt.createReturnStatement(e))}function Le(){var e,t;return lt&&(y(),j({},rt.StrictModeWith)),z("with"),W("("),e=be(),W(")"),t=je(),dt.createWithStatement(e,t)}function De(){var e,t,o,n=[];for(o=ft,X("default")?(D(),e=null):(z("case"),e=be()),W(":");ct<gt&&!(K("}")||X("default")||X("case"));)t=je(),n.push(t);return dt.markEnd(dt.createSwitchCase(e,n),o)}function Pe(){var e,t,o,n,r;if(z("switch"),W("("),e=be(),W(")"),W("{"),t=[],K("}"))return D(),dt.createSwitchStatement(e,t);for(n=pt.inSwitch,pt.inSwitch=!0,r=!1;ct<gt&&!K("}");)o=De(),null===o.test&&(r&&V({},rt.MultipleDefaultsInSwitch),r=!0),t.push(o);return pt.inSwitch=n,W("}"),dt.createSwitchStatement(e,t)}function Fe(){var e;return z("throw"),H()&&V({},rt.NewlineAfterThrow),e=be(),J(),dt.createThrowStatement(e)}function Ue(){var e,t,o;return o=ft,z("catch"),W("("),K(")")&&G(ft),e=ve(),lt&&h(e.name)&&j({},rt.StrictCatchVariable),W(")"),t=me(),dt.markEnd(dt.createCatchClause(e,t),o)}function He(){var e,t=[],o=null;return z("try"),e=me(),X("catch")&&t.push(Ue()),X("finally")&&(D(),o=me()),0!==t.length||o||V({},rt.NoCatchOrFinally),dt.createTryStatement(e,[],t,o)}function Ve(){return z("debugger"),J(),dt.createDebuggerStatement()}function je(){var e,t,o,n,r=ft.type;if(r===$e.EOF&&G(ft),r===$e.Punctuator&&"{"===ft.value)return me();if(n=ft,r===$e.Punctuator)switch(ft.value){case";":return dt.markEnd(Ce(),n);case"(":return dt.markEnd(Be(),n)}if(r===$e.Keyword)switch(ft.value){case"break":return dt.markEnd(xe(),n);case"continue":return dt.markEnd(Me(),n);case"debugger":return dt.markEnd(Ve(),n);case"do":return dt.markEnd(we(),n);case"for":return dt.markEnd(Re(),n);case"function":return dt.markEnd(ze(),n);case"if":return dt.markEnd(Ae(),n);case"return":return dt.markEnd(Ne(),n);case"switch":return dt.markEnd(Pe(),n);case"throw":return dt.markEnd(Fe(),n);case"try":return dt.markEnd(He(),n);case"var":return dt.markEnd(Te(),n);case"while":return dt.markEnd(Ie(),n);case"with":return dt.markEnd(Le(),n)}return e=be(),e.type===ot.Identifier&&K(":")?(D(),o="$"+e.name,Object.prototype.hasOwnProperty.call(pt.labelSet,o)&&V({},rt.Redeclaration,"Label",e.name),pt.labelSet[o]=!0,t=je(),delete pt.labelSet[o],dt.markEnd(dt.createLabeledStatement(e,t),n)):(J(),dt.markEnd(dt.createExpressionStatement(e),n))}function Ge(){var e,t,o,n,r,i,a,s,l,c=[];for(l=ft,W("{");ct<gt&&ft.type===$e.StringLiteral&&(t=ft,e=Xe(),c.push(e),e.expression.type===ot.Literal);)o=st.slice(t.start+1,t.end-1),"use strict"===o?(lt=!0,n&&j(n,rt.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(r=pt.labelSet,i=pt.inIteration,a=pt.inSwitch,s=pt.inFunctionBody,pt.labelSet={},pt.inIteration=!1,pt.inSwitch=!1,pt.inFunctionBody=!0;ct<gt&&!K("}")&&(e=Xe(),"undefined"!=typeof e);)c.push(e);return W("}"),pt.labelSet=r,pt.inIteration=i,pt.inSwitch=a,pt.inFunctionBody=s,dt.markEnd(dt.createBlockStatement(c),l)}function We(e){var t,o,n,r,i,a,s=[];if(W("("),!K(")"))for(r={};ct<gt&&(o=ft,t=ve(),i="$"+o.value,lt?(h(o.value)&&(n=o,a=rt.StrictParamName),Object.prototype.hasOwnProperty.call(r,i)&&(n=o,a=rt.StrictParamDupe)):e||(h(o.value)?(e=o,a=rt.StrictParamName):u(o.value)?(e=o,a=rt.StrictReservedWord):Object.prototype.hasOwnProperty.call(r,i)&&(e=o,a=rt.StrictParamDupe)),s.push(t),r[i]=!0,!K(")"));)W(",");return W(")"),{params:s,stricted:n,firstRestricted:e,message:a}}function ze(){var e,t,o,n,r,i,a,s,l,c=[];return l=ft,z("function"),o=ft,e=ve(),lt?h(o.value)&&j(o,rt.StrictFunctionName):h(o.value)?(i=o,a=rt.StrictFunctionName):u(o.value)&&(i=o,a=rt.StrictReservedWord),r=We(i),c=r.params,n=r.stricted,i=r.firstRestricted,r.message&&(a=r.message),s=lt,t=Ge(),lt&&i&&V(i,a),lt&&n&&j(n,a),lt=s,dt.markEnd(dt.createFunctionDeclaration(e,c,[],t),l)}function Ke(){var e,t,o,n,r,i,a,s,l=null,c=[];return s=ft,z("function"),K("(")||(e=ft,l=ve(),lt?h(e.value)&&j(e,rt.StrictFunctionName):h(e.value)?(o=e,n=rt.StrictFunctionName):u(e.value)&&(o=e,n=rt.StrictReservedWord)),r=We(o),c=r.params,t=r.stricted,o=r.firstRestricted,r.message&&(n=r.message),a=lt,i=Ge(),lt&&o&&V(o,n),lt&&t&&j(t,n),lt=a,dt.markEnd(dt.createFunctionExpression(l,c,[],i),s)}function Xe(){if(ft.type===$e.Keyword)switch(ft.value){case"const":case"let":return Se(ft.value);case"function":return ze();default:return je()}if(ft.type!==$e.EOF)return je()}function Ye(){for(var e,t,o,n,r=[];ct<gt&&(t=ft,t.type===$e.StringLiteral)&&(e=Xe(),r.push(e),e.expression.type===ot.Literal);)o=st.slice(t.start+1,t.end-1),"use strict"===o?(lt=!0,n&&j(n,rt.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(;ct<gt&&(e=Xe(),"undefined"!=typeof e);)r.push(e);return r}function Je(){var e,t;return y(),P(),t=ft,lt=!1,e=Ye(),dt.markEnd(dt.createProgram(e),t)}function qe(){var e,t,o,n=[];for(e=0;e<yt.tokens.length;++e)t=yt.tokens[e],o={type:t.type,value:t.value},yt.range&&(o.range=t.range),yt.loc&&(o.loc=t.loc),n.push(o);yt.tokens=n}function Ze(e,t){var o,n,r;o=String,"string"==typeof e||e instanceof String||(e=o(e)),dt=at,st=e,ct=0,ut=st.length>0?1:0,ht=0,gt=st.length,ft=null,pt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},yt={},t=t||{},t.tokens=!0,yt.tokens=[],yt.tokenize=!0,yt.openParenToken=-1,yt.openCurlyToken=-1,yt.range="boolean"==typeof t.range&&t.range,yt.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(yt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(yt.errors=[]);try{if(P(),ft.type===$e.EOF)return yt.tokens;for(n=D();ft.type!==$e.EOF;)try{n=D()}catch(i){if(n=ft,yt.errors){yt.errors.push(i);break}throw i}qe(),r=yt.tokens,"undefined"!=typeof yt.comments&&(r.comments=yt.comments),"undefined"!=typeof yt.errors&&(r.errors=yt.errors)}catch(a){throw a}finally{yt={}}return r}function Qe(e,t){var o,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),dt=at,st=e,ct=0,ut=st.length>0?1:0,ht=0,gt=st.length,ft=null,pt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},yt={},"undefined"!=typeof t&&(yt.range="boolean"==typeof t.range&&t.range,yt.loc="boolean"==typeof t.loc&&t.loc,yt.attachComment="boolean"==typeof t.attachComment&&t.attachComment,yt.loc&&null!==t.source&&void 0!==t.source&&(yt.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(yt.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(yt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(yt.errors=[]),yt.attachComment&&(yt.range=!0,yt.comments=[],yt.bottomRightStack=[],yt.trailingComments=[],yt.leadingComments=[]));try{o=Je(),"undefined"!=typeof yt.comments&&(o.comments=yt.comments),"undefined"!=typeof yt.tokens&&(qe(),o.tokens=yt.tokens),"undefined"!=typeof yt.errors&&(o.errors=yt.errors)}catch(r){throw r}finally{yt={}}return o}var $e,et,tt,ot,nt,rt,it,at,st,lt,ct,ut,ht,gt,dt,ft,pt,yt;$e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},et={},et[$e.BooleanLiteral]="Boolean",et[$e.EOF]="<end>",et[$e.Identifier]="Identifier",et[$e.Keyword]="Keyword",et[$e.NullLiteral]="Null",et[$e.NumericLiteral]="Numeric",et[$e.Punctuator]="Punctuator",et[$e.StringLiteral]="String",et[$e.RegularExpression]="RegularExpression",tt=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],ot={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},nt={Data:1,Get:2,Set:4},rt={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},it={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},at={name:"SyntaxTree",processComment:function(e){var t,o;if(!(e.type===ot.Program&&e.body.length>0)){for(yt.trailingComments.length>0?yt.trailingComments[0].range[0]>=e.range[1]?(o=yt.trailingComments,yt.trailingComments=[]):yt.trailingComments.length=0:yt.bottomRightStack.length>0&&yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments&&yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(o=yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments,delete yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments);yt.bottomRightStack.length>0&&yt.bottomRightStack[yt.bottomRightStack.length-1].range[0]>=e.range[0];)t=yt.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):yt.leadingComments.length>0&&yt.leadingComments[yt.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=yt.leadingComments,yt.leadingComments=[]),o&&(e.trailingComments=o),yt.bottomRightStack.push(e)}},markEnd:function(e,t){return yt.range&&(e.range=[t.start,ct]),yt.loc&&(e.loc=new U(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),ut,ct-ht),this.postProcess(e)),yt.attachComment&&this.processComment(e),e},postProcess:function(e){return yt.source&&(e.loc.source=yt.source),e},createArrayExpression:function(e){return{type:ot.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,o){return{type:ot.AssignmentExpression,operator:e,left:t,right:o}},createBinaryExpression:function(e,t,o){var n="||"===e||"&&"===e?ot.LogicalExpression:ot.BinaryExpression;return{type:n,operator:e,left:t,right:o}},createBlockStatement:function(e){return{type:ot.BlockStatement,body:e}},createBreakStatement:function(e){return{type:ot.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:ot.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:ot.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,o){return{type:ot.ConditionalExpression,test:e,consequent:t,alternate:o}},createContinueStatement:function(e){return{type:ot.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:ot.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:ot.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:ot.EmptyStatement}},createExpressionStatement:function(e){return{type:ot.ExpressionStatement,expression:e}},createForStatement:function(e,t,o,n){return{type:ot.ForStatement,init:e,test:t,update:o,body:n}},createForInStatement:function(e,t,o){return{type:ot.ForInStatement,left:e,right:t,body:o,each:!1}},createFunctionDeclaration:function(e,t,o,n){return{type:ot.FunctionDeclaration,id:e,params:t,defaults:o,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,o,n){return{type:ot.FunctionExpression,id:e,params:t,defaults:o,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:ot.Identifier,name:e}},createIfStatement:function(e,t,o){return{type:ot.IfStatement,test:e,consequent:t,alternate:o}},createLabeledStatement:function(e,t){return{type:ot.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:ot.Literal,value:e.value,raw:st.slice(e.start,e.end)}},createMemberExpression:function(e,t,o){return{type:ot.MemberExpression,computed:"["===e,object:t,property:o}},createNewExpression:function(e,t){return{type:ot.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:ot.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:ot.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:ot.Program,body:e}},createProperty:function(e,t,o){return{type:ot.Property,key:t,value:o,kind:e}},createReturnStatement:function(e){return{type:ot.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:ot.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:ot.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:ot.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:ot.ThisExpression}},createThrowStatement:function(e){return{type:ot.ThrowStatement,argument:e}},createTryStatement:function(e,t,o,n){return{type:ot.TryStatement,block:e,guardedHandlers:t,handlers:o,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:ot.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:ot.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:ot.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:ot.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:ot.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:ot.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=Ze,e.parse=Qe,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in ot)ot.hasOwnProperty(e)&&(t[e]=ot[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},function(e,t){e.exports={root:"CodeEditor_root_1Fz",menu:"CodeEditor_menu_24y",close:"CodeEditor_close_otZ",editor:"CodeEditor_editor_OLC",actionButton:"CodeEditor_actionButton_3LD"}},function(e,t){e.exports={root:"Dialogue_root_3cY",inner:"Dialogue_inner_2z-",sender:"Dialogue_sender_1TV"}},function(e,t){e.exports={root:"Message_root_19t"}},function(e,t){e.exports={root:"Notification_root_3Zl",icon:"Notification_icon_2rb",title:"Notification_title_3QJ",
content:"Notification_content_2Q1",slideInDown:"Notification_slideInDown_4xD",slideOutUp:"Notification_slideOutUp_2U8"}},function(e,t){e.exports={game:"Root_game_3jl"}},function(e,t){e.exports={root:"StatusPanel_root_zdx",x:"StatusPanel_x_2sK"}},function(e,t){e.exports={root:"Tip_root_2bp",inner:"Tip_inner_2Ui",title:"Tip_title_3Tx",body:"Tip_body_3TW",slideOutRight:"Tip_slideOutRight_3ux",slideInRight:"Tip_slideInRight_3oC",hide:"Tip_hide_39R"}},function(e,t){e.exports={root:"FpsFocus_root_3iL"}},function(e,t){e.exports={tour:"TopDownMode_tour_AYV"}},function(e,t){},571,function(e,t){e.exports={root:"LoadingSpinner_root_e1k","sk-folding-cube":"LoadingSpinner_sk-folding-cube_32G","sk-cube":"LoadingSpinner_sk-cube_5p2","sk-foldCubeAngle":"LoadingSpinner_sk-foldCubeAngle_1C5","sk-cube2":"LoadingSpinner_sk-cube2_2TI","sk-cube3":"LoadingSpinner_sk-cube3_39V","sk-cube4":"LoadingSpinner_sk-cube4_1bd"}},function(e,t){e.exports={overlay:"Overlay_overlay_2ih",fullscreen:"Overlay_fullscreen_emF"}},function(e,t){e.exports={balloon:"TipBalloon_balloon_1IT",arrow:"TipBalloon_arrow_3yK"}},function(e,t){"use strict";function o(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=o},function(e,t,o){"use strict";function n(e){return r(e.replace(i,"ms-"))}var r=o(576),i=/^-ms-/;e.exports=n},function(e,t,o){"use strict";function n(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var r=o(586);e.exports=n},function(e,t,o){"use strict";function n(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(o){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():n(e):[e]}var a=o(2);e.exports=i},function(e,t,o){"use strict";function n(e){var t=e.match(u);return t&&t[1].toLowerCase()}function r(e,t){var o=c;c?void 0:l(!1);var r=n(e),i=r&&s(r);if(i){o.innerHTML=i[1]+e+i[2];for(var u=i[0];u--;)o=o.lastChild}else o.innerHTML=e;var h=o.getElementsByTagName("script");h.length&&(t?void 0:l(!1),a(h).forEach(t));for(var g=Array.from(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return g}var i=o(15),a=o(579),s=o(581),l=o(2),c=i.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;e.exports=r},function(e,t,o){"use strict";function n(e){return a?void 0:i(!1),g.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?g[e]:null}var r=o(15),i=o(2),a=r.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],g={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){g[e]=h,s[e]=!0}),e.exports=n},function(e,t){"use strict";function o(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=o},function(e,t){"use strict";function o(e){return e.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;e.exports=o},function(e,t,o){"use strict";function n(e){return r(e).replace(i,"-ms-")}var r=o(583),i=/^ms-/;e.exports=n},function(e,t){"use strict";function o(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=o},function(e,t,o){"use strict";function n(e){return r(e)&&3==e.nodeType}var r=o(585);e.exports=n},function(e,t){"use strict";function o(e){var t={};return function(o){return t.hasOwnProperty(o)||(t[o]=e.call(this,o)),t[o]}}e.exports=o},function(e,t,o){e.exports=o.p+"da887f50154996f58a55769dd9d2fa21.msgpack"},function(e,t,o){e.exports=o.p+"4c099e7565866ed99fae70ea1bdbe248.msgpack"},function(e,t,o){e.exports=o.p+"35025e03b82d56f573006e61a93b0631.msgpack"},function(e,t,o){e.exports=o.p+"0b3db4ffa65705848abe5f551d9322a0.msgpack"},function(e,t,o){e.exports=o.p+"a3482ea3104b1793263f89dd1069130a.msgpack"},function(e,t,o){e.exports=o.p+"0fd21dc46a623e6b9db1b0a96102452f.msgpack"},function(e,t,o){e.exports=o.p+"1bd29f3d4f0f371366affebe23715975.msgpack"},function(e,t,o){e.exports=o.p+"01d196b1bfb9abd04147b6263d12a5de.zip"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/1x1.gif"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/click.mp3"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/click.ogg"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/click.wav"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/delete.mp3"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/delete.ogg"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/delete.wav"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/disconnect.mp3"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/disconnect.ogg"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/disconnect.wav"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/handclosed.cur"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/handdelete.cur"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/handopen.cur"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/quote0.png"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/quote1.png"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/sprites.png"},function(e,t,o){e.exports=o.p+"vendor/blockly/media/sprites.svg"},function(e,t,o){e.exports=o.p+"static/media/icon_exclamation_mark.3a0800cb.png"},function(e,t,o){e.exports=o.p+"static/media/icon_question_mark.67b99ed2.png"},function(e,t,o){e.exports=o.p+"static/media/icon_wheat_plus_one_1.a55f9217.png"},function(e,t,o){e.exports=o.p+"static/media/icon_wheat_plus_one_2.7e4f154a.png"},function(e,t,o){e.exports=o.p+"static/media/icon_wheat_plus_one_3.d46ff841.png"},function(e,t,o){e.exports=o.p+"static/media/bucket_water.273a9f29.png"},function(e,t,o){e.exports=o.p+"static/media/sprout.ead4dfce.png"},function(e,t){function o(e){var t={size:[1,1,1],segments:[1,1,1]};return e&&(Array.isArray(e.size)?t.size=e.size:"number"==typeof e.size&&(t.size=[e.size,e.size,e.size]),Array.isArray(e.segments)?t.segments=e.segments:"number"==typeof e.segments&&(t.segments=[e.segments,e.segments,e.segments])),t}function n(e){for(var t=[],o=0;o<e.length;o++)for(var n=e[o],r=0;r<n.length;r++)t.push(n[r]);return t}function r(e){var t=a(e),o=l(e,t),r=n(t),s=i(e,r);return{positions:r,cells:o,uvs:s,vertexCount:(e.sx+1)*(e.sy+1)}}function i(e,t){return t.map(function(t){return[t[0]/e.wx+.5,t[1]/e.wy+.5]})}function a(e){for(var t=e.wy/e.sy,o=e.wy/2,n=e.sy+1,r=Array(n),i=0;i<n;i++)r[i]=s(e,t*i-o);return r}function s(e,t){for(var o=e.wx/2,n=e.wx/e.sx,r=e.sx+1,i=Array(r),a=0;a<r;a++)i[a]=[n*a-o,t];return i}function l(e){function t(t,o){return(e.sx+1)*o+t}for(var o=[],n=0;n<e.sx;n++)for(var r=0;r<e.sy;r++){var i=t(n+0,r+0),a=t(n+1,r+0),s=t(n+1,r+1),l=t(n+0,r+1);o.push([i,a,s]),o.push([s,l,i])}return o}function c(e){return{positions:e.positions,cells:e.cells,uvs:e.uvs,vertexCount:e.vertexCount}}function u(e){var t=e.size,o=e.segments,n=r({wx:t[0],wy:t[1],sx:o[0],sy:o[1]}),i=r({wx:t[2],wy:t[1],sx:o[2],sy:o[1]}),a=r({wx:t[0],wy:t[2],sx:o[0],sy:o[2]}),s=c(n),l=c(i),u=c(a);return n.positions=n.positions.map(function(e){return[e[0],e[1],t[2]/2]}),s.positions=s.positions.map(function(e){return[e[0],-e[1],-t[2]/2]}),i.positions=i.positions.map(function(e){return[t[0]/2,-e[1],e[0]]}),l.positions=l.positions.map(function(e){return[-t[0]/2,e[1],e[0]]}),a.positions=a.positions.map(function(e){return[e[0],t[1]/2,-e[1]]}),u.positions=u.positions.map(function(e){return[e[0],-t[1]/2,e[1]]}),n.normals=h([0,0,1],n.positions.length),s.normals=h([0,0,-1],s.positions.length),i.normals=h([1,0,0],i.positions.length),l.normals=h([-1,0,0],l.positions.length),a.normals=h([0,1,0],a.positions.length),u.normals=h([0,-1,0],u.positions.length),[n,s,i,l,a,u]}function h(e,t){for(var o=Array(t),n=0;n<t;n++)o[n]=e.slice();return o}function g(e){var t=u(e),o=t.map(function(e){return e.positions}),r=t.map(function(e){return e.uvs}),i=t.map(function(e){return e.normals}),a=d(t);return{positions:n(o),uvs:n(r),cells:n(a),normals:n(i)}}function d(e){var t=0;return e.map(function(e){var o=e.cells.map(function(e){return e.map(function(e){return e+t})});return t+=e.vertexCount,o})}e.exports=function(e){var t=o(e);return g(t)}},[1180,531,560],function(e,t){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},[1181,622],[1182,872,623,635,411],[1183,626,632,258,248],[1184,412,668,254,669,248],[1186,146],[1189,102],[1190,256,102],function(e,t){"use strict";function o(e,t){if(!a){var o=Object.keys(i);a={};for(var n=0;n<o.length;++n){var r=o[n];a[e[r]]=i[r]}}return a[t]}function n(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var a=e.getActiveUniform(t,i);if(a){var s=o(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)r.push({name:a.name.replace("[0]","["+l+"]"),type:s});else r.push({name:a.name,type:s})}}return r}function r(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var a=e.getActiveAttrib(t,i);a&&r.push({name:a.name,type:o(e,a.type)})}return r}t.uniforms=n,t.attributes=r;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null},[1191,102,624,879],function(e,t){function o(e){switch(e){case 5126:return"float32";case 5125:return"uint32";case 5124:return"int32";case 5123:return"uint16";case 32819:return"uint16";case 32820:return"uint16";case 33635:return"uint16";case 5122:return"int16";case 5121:return"uint8";case 5120:return"int8";default:return null}}e.exports=o},[1192,257],[1193,257],[1195,640,415],[1196,260,639,259,638,637],[1197,259],[1198,260],function(e,t){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},[1199,636],function(e,t,o){(function(e){(function(){var t,o,n,r,i,a,s,l,c,u,h,g,d,f,p;n=Math.floor,u=Math.min,o=function(e,t){return e<t?-1:e>t?1:0},c=function(e,t,r,i,a){var s;if(null==r&&(r=0),null==a&&(a=o),r<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);r<i;)s=n((r+i)/2),a(t,e[s])<0?i=s:r=s+1;return[].splice.apply(e,[r,r-r].concat(t)),t},a=function(e,t,n){return null==n&&(n=o),e.push(t),f(e,0,e.length-1,n)},i=function(e,t){var n,r;return null==t&&(t=o),n=e.pop(),e.length?(r=e[0],e[0]=n,p(e,0,t)):r=n,r},l=function(e,t,n){var r;return null==n&&(n=o),r=e[0],e[0]=t,p(e,0,n),r},s=function(e,t,n){var r;return null==n&&(n=o),e.length&&n(e[0],t)<0&&(r=[e[0],t],t=r[0],e[0]=r[1],p(e,0,n)),t},r=function(e,t){var r,i,a,s,l,c;for(null==t&&(t=o),s=function(){c=[];for(var t=0,o=n(e.length/2);0<=o?t<o:t>o;0<=o?t++:t--)c.push(t);return c}.apply(this).reverse(),l=[],i=0,a=s.length;i<a;i++)r=s[i],l.push(p(e,r,t));return l},d=function(e,t,n){var r;if(null==n&&(n=o),r=e.indexOf(t),r!==-1)return f(e,0,r,n),p(e,r,n)},h=function(e,t,n){var i,a,l,c,u;if(null==n&&(n=o),a=e.slice(0,t),!a.length)return a;for(r(a,n),u=e.slice(t),l=0,c=u.length;l<c;l++)i=u[l],s(a,i,n);return a.sort(n).reverse()},g=function(e,t,n){var a,s,l,h,g,d,f,p,y,b;if(null==n&&(n=o),10*t<=e.length){if(h=e.slice(0,t).sort(n),!h.length)return h;for(l=h[h.length-1],p=e.slice(t),g=0,f=p.length;g<f;g++)a=p[g],n(a,l)<0&&(c(h,a,0,null,n),h.pop(),l=h[h.length-1]);return h}for(r(e,n),b=[],s=d=0,y=u(t,e.length);0<=y?d<y:d>y;s=0<=y?++d:--d)b.push(i(e,n));return b},f=function(e,t,n,r){var i,a,s;for(null==r&&(r=o),i=e[n];n>t&&(s=n-1>>1,a=e[s],r(i,a)<0);)e[n]=a,n=s;return e[n]=i},p=function(e,t,n){var r,i,a,s,l;for(null==n&&(n=o),i=e.length,l=t,a=e[t],r=2*t+1;r<i;)s=r+1,s<i&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],t=r,r=2*t+1;return e[t]=a,f(e,l,t,n)},t=function(){function e(e){this.cmp=null!=e?e:o,this.nodes=[]}return e.push=a,e.pop=i,e.replace=l,e.pushpop=s,e.heapify=r,e.updateItem=d,e.nlargest=h,e.nsmallest=g,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return this.nodes.indexOf(e)!==-1},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return r(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return d(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=t:window.Heap=t}).call(this)}).call(t,o(329)(e))},function(e,t){(function(t){"use strict";function o(){u=!0;for(var e,t,o=h.length;o;){for(t=h,h=[],e=-1;++e<o;)t[e]();o=h.length}u=!1}function n(e){1!==h.push(e)||u||r()}var r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,s=new i(o),l=t.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){o(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(o,0)};else{var c=new t.MessageChannel;c.port1.onmessage=o,r=function(){c.port2.postMessage(0)}}var u,h=[];e.exports=n}).call(t,function(){return this}())},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments[2],n=arguments[3];Object.keys(t).forEach(function(r){var i=e[r];Array.isArray(i)?[].concat(t[r]).forEach(function(t){e[r].indexOf(t)===-1&&e[r].splice(i.indexOf(o),n?0:1,t)}):e[r]=t[r]})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(662),l=n(s),c=o(663),u=n(c),h=o(664),g=n(h),d=o(149),f=n(d),p=o(653),y=n(p),b=o(644),_=n(b),m=o(652),v=n(m),E=o(648),k=n(E),T=o(645),S=n(T),C=o(650),B=n(C),A=o(649),w=n(A),I=o(651),O=n(I),R=o(646),M=n(R),x=o(647),N=n(x),L=[_.default,v.default,k.default,B.default,w.default,O.default,M.default,N.default,S.default],D=function(){function e(){var t=this,o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e);var n="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=o.userAgent||n,this._keepUnprefixed=o.keepUnprefixed||!1,this._browserInfo=(0,u.default)(this._userAgent),!this._browserInfo||!this._browserInfo.prefix)return this._usePrefixAllFallback=!0,!1;this.cssPrefix=this._browserInfo.prefix.css,this.jsPrefix=this._browserInfo.prefix.inline,this.prefixedKeyframes=(0,g.default)(this._browserInfo);var i=this._browserInfo.browser&&y.default[this._browserInfo.browser];i?(this._requiresPrefix=Object.keys(i).filter(function(e){return i[e]>=t._browserInfo.version}).reduce(function(e,t){return e[t]=!0,e},{}),this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0):this._usePrefixAllFallback=!0}return a(e,[{key:"prefix",value:function(e){var t=this;return this._usePrefixAllFallback?(0,l.default)(e):this._hasPropsRequiringPrefix?(Object.keys(e).forEach(function(o){var n=e[o];n instanceof Object&&!Array.isArray(n)?e[o]=t.prefix(n):t._requiresPrefix[o]&&(e[t.jsPrefix+(0,f.default)(o)]=n,t._keepUnprefixed||delete e[o])}),Object.keys(e).forEach(function(o){[].concat(e[o]).forEach(function(n){L.forEach(function(r){i(e,r({property:o,value:n,styles:e,browserInfo:t._browserInfo,prefix:{js:t.jsPrefix,css:t.cssPrefix,keyframes:t.prefixedKeyframes},keepUnprefixed:t._keepUnprefixed,requiresPrefix:t._requiresPrefix}),n,t._keepUnprefixed)})})}),e):e}}],[{key:"prefixAll",value:function(e){return(0,l.default)(e)}}]),e}();t.default=D,e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){var t=e.property,o=e.value,n=e.browserInfo,i=n.browser,a=n.version,l=e.prefix.css,c=e.keepUnprefixed;if("string"==typeof o&&o.indexOf("calc(")>-1&&("firefox"===i&&a<15||"chrome"===i&&a<25||"safari"===i&&a<6.1||"ios_saf"===i&&a<7))return r({},t,(0,s.default)(o.replace(/calc\(/g,l+"calc("),o,c))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(49),s=n(a);e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.property,o=e.value,n=e.browserInfo,r=n.browser,i=n.version,l=e.prefix.css,c=e.keepUnprefixed;if("display"===t&&s[o]&&("chrome"===r&&i<29&&i>20||("safari"===r||"ios_saf"===r)&&i<9&&i>6||"opera"===r&&(15==i||16==i)))return{display:(0,a.default)(l+o,o,c)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(49),a=n(i),s={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){var t=e.property,o=e.value,n=e.styles,i=e.browserInfo,a=i.browser,u=i.version,h=e.prefix.css,g=e.keepUnprefixed;if((c[t]||"display"===t&&"string"==typeof o&&o.indexOf("flex")>-1)&&("ie_mob"===a||"ie"===a)&&10==u){if(g||Array.isArray(n[t])||delete n[t],"display"===t&&l[o])return{display:(0,s.default)(h+l[o],o,g)};if(c[t])return r({},c[t],l[o]||o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(49),s=n(a),l={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},c={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){var t=e.property,o=e.value,n=e.styles,i=e.browserInfo,a=i.browser,u=i.version,g=e.prefix.css,d=e.keepUnprefixed;if((h.indexOf(t)>-1||"display"===t&&"string"==typeof o&&o.indexOf("flex")>-1)&&("firefox"===a&&u<22||"chrome"===a&&u<21||("safari"===a||"ios_saf"===a)&&u<=6.1||"android"===a&&u<4.4||"and_uc"===a)){if(d||Array.isArray(n[t])||delete n[t],"flexDirection"===t&&"string"==typeof o)return{WebkitBoxOrient:o.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:o.indexOf("reverse")>-1?"reverse":"normal"};if("display"===t&&l[o])return{display:(0,s.default)(g+l[o],o,d)};if(c[t])return r({},c[t],l[o]||o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(49),s=n(a),l={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},c={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},u=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],h=Object.keys(c).concat(u);e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.property,o=e.value,n=e.browserInfo.browser,r=e.prefix.css,i=e.keepUnprefixed;if("cursor"===t&&s[o]&&("firefox"===n||"chrome"===n||"safari"===n||"opera"===n))return{cursor:(0,a.default)(r+o,o,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(49),a=n(i),s={grab:!0,grabbing:!0};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){var t=e.property,o=e.value,n=e.browserInfo,i=n.browser,a=n.version,c=e.prefix.css,u=e.keepUnprefixed;if("string"==typeof o&&null!==o.match(l)&&("firefox"===i&&a<16||"chrome"===i&&a<26||("safari"===i||"ios_saf"===i)&&a<7||("opera"===i||"op_mini"===i)&&a<12.1||"android"===i&&a<4.4||"and_uc"===i))return r({},t,(0,s.default)(c+o,o,u))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(49),s=n(a),l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){var t=e.property,o=e.value,n=e.prefix.css,i=e.keepUnprefixed;if(l[t]&&c[o])return r({},t,(0,s.default)(n+o,o,i))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(49),s=n(a),l={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},c={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){var t=e.property,o=e.value,n=e.prefix.css,i=e.requiresPrefix,s=e.keepUnprefixed,c=(0,u.default)(t);if("string"==typeof o&&h[c]){var g=function(){var e=Object.keys(i).map(function(e){return(0,l.default)(e)}),a=o.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return e.forEach(function(e){a.forEach(function(t,o){t.indexOf(e)>-1&&"order"!==e&&(a[o]=t.replace(e,n+e)+(s?","+t:""))})}),{v:r({},t,a.join(","))}}();if("object"===("undefined"==typeof g?"undefined":a(g)))return g.v}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=i;var s=o(261),l=n(s),c=o(665),u=n(c),h={transition:!0,transitionProperty:!0};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.property,o=e.value,n=e.browserInfo,r=n.browser,i=n.version,l=e.prefix.css,c=e.keepUnprefixed;if("cursor"===t&&s[o]&&("firefox"===r&&i<24||"chrome"===r&&i<37||"safari"===r&&i<9||"opera"===r&&i<24))return{cursor:(0,a.default)(l+o,o,c)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(49),a=n(i),s={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={chrome:{transform:35,transformOrigin:35,transformOriginX:35,transformOriginY:35,backfaceVisibility:35,perspective:35,perspectiveOrigin:35,transformStyle:35,transformOriginZ:35,animation:42,animationDelay:42,animationDirection:42,animationFillMode:42,animationDuration:42,animationIterationCount:42,animationName:42,animationPlayState:42,animationTimingFunction:42,appearance:55,userSelect:55,fontKerning:32,textEmphasisPosition:55,textEmphasis:55,textEmphasisStyle:55,textEmphasisColor:55,boxDecorationBreak:55,clipPath:55,maskImage:55,maskMode:55,maskRepeat:55,maskPosition:55,maskClip:55,maskOrigin:55,maskSize:55,maskComposite:55,mask:55,maskBorderSource:55,maskBorderMode:55,maskBorderSlice:55,maskBorderWidth:55,maskBorderOutset:55,maskBorderRepeat:55,maskBorder:55,maskType:55,
textDecorationStyle:55,textDecorationSkip:55,textDecorationLine:55,textDecorationColor:55,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:10,userSelect:10,backdropFilter:10,fontKerning:9,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,textEmphasisPosition:7,textEmphasis:7,textEmphasisStyle:7,textEmphasisColor:7,boxDecorationBreak:10,clipPath:10,maskImage:10,maskMode:10,maskRepeat:10,maskPosition:10,maskClip:10,maskOrigin:10,maskSize:10,maskComposite:10,mask:10,maskBorderSource:10,maskBorderMode:10,maskBorderSlice:10,maskBorderWidth:10,maskBorderOutset:10,maskBorderRepeat:10,maskBorder:10,maskType:10,textDecorationStyle:10,textDecorationSkip:10,textDecorationLine:10,textDecorationColor:10,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10,flowInto:10,flowFrom:10,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:10,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:51,userSelect:51,boxSizing:28,textAlignLast:48,textDecorationStyle:35,textDecorationSkip:35,textDecorationLine:35,textDecorationColor:35,tabSize:51,hyphens:42,fontFeatureSettings:33,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:41,userSelect:41,fontKerning:19,textEmphasisPosition:41,textEmphasis:41,textEmphasisStyle:41,textEmphasisColor:41,boxDecorationBreak:41,clipPath:41,maskImage:41,maskMode:41,maskRepeat:41,maskPosition:41,maskClip:41,maskOrigin:41,maskSize:41,maskComposite:41,mask:41,maskBorderSource:41,maskBorderMode:41,maskBorderSlice:41,maskBorderWidth:41,maskBorderOutset:41,maskBorderRepeat:41,maskBorder:41,maskType:41,textDecorationStyle:41,textDecorationSkip:41,textDecorationLine:41,textDecorationColor:41,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{flex:10,flexDirection:10,flexFlow:10,flexWrap:10,transform:9,transformOrigin:9,transformOriginX:9,transformOriginY:9,userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,touchAction:10,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:14,wrapFlow:14,wrapThrough:14,wrapMargin:14,scrollSnapType:14,scrollSnapPointsX:14,scrollSnapPointsY:14,scrollSnapDestination:14,scrollSnapCoordinate:14,hyphens:14,flowInto:14,flowFrom:14,breakBefore:14,breakAfter:14,breakInside:14,regionFragment:14,gridTemplateColumns:14,gridTemplateRows:14,gridTemplateAreas:14,gridTemplate:14,gridAutoColumns:14,gridAutoRows:14,gridAutoFlow:14,grid:14,gridRowStart:14,gridColumnStart:14,gridRowEnd:14,gridRow:14,gridColumn:14,gridColumnEnd:14,gridColumnGap:14,gridRowGap:14,gridArea:14,gridGap:14},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:9.3,userSelect:9.3,backdropFilter:9.3,fontKerning:9.3,scrollSnapType:9.3,scrollSnapPointsX:9.3,scrollSnapPointsY:9.3,scrollSnapDestination:9.3,scrollSnapCoordinate:9.3,boxDecorationBreak:9.3,clipPath:9.3,maskImage:9.3,maskMode:9.3,maskRepeat:9.3,maskPosition:9.3,maskClip:9.3,maskOrigin:9.3,maskSize:9.3,maskComposite:9.3,mask:9.3,maskBorderSource:9.3,maskBorderMode:9.3,maskBorderSlice:9.3,maskBorderWidth:9.3,maskBorderOutset:9.3,maskBorderRepeat:9.3,maskBorder:9.3,maskType:9.3,textSizeAdjust:9.3,textDecorationStyle:9.3,textDecorationSkip:9.3,textDecorationLine:9.3,textDecorationColor:9.3,shapeImageThreshold:9.3,shapeImageMargin:9.3,shapeImageOutside:9.3,filter:9,hyphens:9.3,flowInto:9.3,flowFrom:9.3,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:9.3,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:51,userSelect:51,fontKerning:4.4,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,filter:51,fontFeatureSettings:4.4,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},and_chr:{appearance:51,userSelect:51,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,textDecorationStyle:51,textDecorationSkip:51,textDecorationLine:51,textDecorationColor:51,filter:51},and_uc:{flex:9.9,flexBasis:9.9,flexDirection:9.9,flexGrow:9.9,flexFlow:9.9,flexShrink:9.9,flexWrap:9.9,alignContent:9.9,alignItems:9.9,alignSelf:9.9,justifyContent:9.9,order:9.9,transition:9.9,transitionDelay:9.9,transitionDuration:9.9,transitionProperty:9.9,transitionTimingFunction:9.9,transform:9.9,transformOrigin:9.9,transformOriginX:9.9,transformOriginY:9.9,backfaceVisibility:9.9,perspective:9.9,perspectiveOrigin:9.9,transformStyle:9.9,transformOriginZ:9.9,animation:9.9,animationDelay:9.9,animationDirection:9.9,animationFillMode:9.9,animationDuration:9.9,animationIterationCount:9.9,animationName:9.9,animationPlayState:9.9,animationTimingFunction:9.9,appearance:9.9,userSelect:9.9,fontKerning:9.9,textEmphasisPosition:9.9,textEmphasis:9.9,textEmphasisStyle:9.9,textEmphasisColor:9.9,maskImage:9.9,maskMode:9.9,maskRepeat:9.9,maskPosition:9.9,maskClip:9.9,maskOrigin:9.9,maskSize:9.9,maskComposite:9.9,mask:9.9,maskBorderSource:9.9,maskBorderMode:9.9,maskBorderSlice:9.9,maskBorderWidth:9.9,maskBorderOutset:9.9,maskBorderRepeat:9.9,maskBorder:9.9,maskType:9.9,textSizeAdjust:9.9,filter:9.9,hyphens:9.9,flowInto:9.9,flowFrom:9.9,breakBefore:9.9,breakAfter:9.9,breakInside:9.9,regionFragment:9.9,fontFeatureSettings:9.9,columnCount:9.9,columnFill:9.9,columnGap:9.9,columnRule:9.9,columnRuleColor:9.9,columnRuleStyle:9.9,columnRuleWidth:9.9,columns:9.9,columnSpan:9.9,columnWidth:9.9},op_mini:{}},e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("string"==typeof t&&!(0,l.default)(t)&&t.indexOf("calc(")>-1)return(0,a.default)(e,t,function(e,t){return t.replace(/calc\(/g,e+"calc(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(104),a=n(i),s=o(150),l=n(s);e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("cursor"===e&&s[t])return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(104),a=n(i),s={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t){"use strict";function o(e,t){if("display"===e&&n[t])return{display:["-webkit-box","-moz-box","-ms-"+t+"box","-webkit-"+t,t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t){"use strict";function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){if(i[e])return o({},i[e],r[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},i={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};e.exports=t.default},function(e,t){"use strict";function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){return"flexDirection"===e&&"string"==typeof t?{WebkitBoxOrient:t.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:t.indexOf("reverse")>-1?"reverse":"normal"}:i[e]?o({},i[e],r[t]||t):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("string"==typeof t&&!(0,l.default)(t)&&null!==t.match(c))return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(104),a=n(i),s=o(150),l=n(s),c=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(s[e]&&l[t])return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(104),a=n(i),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){if("string"==typeof t&&p[e]){var o,n=a(t),i=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return null===e.match(/-moz-|-ms-/)}).join(",");return e.indexOf("Webkit")>-1?r({},e,i):(o={},r(o,"Webkit"+(0,u.default)(e),i),r(o,e,n),o)}}function a(e){if((0,g.default)(e))return e;var t=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return t.forEach(function(e,o){t[o]=Object.keys(f.default).reduce(function(t,o){var n="-"+o.toLowerCase()+"-";return Object.keys(f.default[o]).forEach(function(o){var r=(0,l.default)(o);e.indexOf(r)>-1&&"order"!==r&&(t=e.replace(r,n+r)+","+t)}),t},e)}),t.join(",")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=o(261),l=n(s),c=o(149),u=n(c),h=o(150),g=n(h),d=o(262),f=n(d),p={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0};e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return Object.keys(e).forEach(function(t){var o=e[t];o instanceof Object&&!Array.isArray(o)?e[t]=r(o):Object.keys(s.default).forEach(function(n){var r=s.default[n];r[t]&&(e[n+(0,c.default)(t)]=o)})}),Object.keys(e).forEach(function(t){[].concat(e[t]).forEach(function(o,n){B.forEach(function(n){return i(e,n(t,o))})})}),e}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];Object.keys(t).forEach(function(o){var n=e[o];Array.isArray(n)?[].concat(t[o]).forEach(function(t){var r=n.indexOf(t);r>-1&&e[o].splice(r,1),e[o].push(t)}):e[o]=t[o]})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(262),s=n(a),l=o(149),c=n(l),u=o(654),h=n(u),g=o(655),d=n(g),f=o(656),p=n(f),y=o(660),b=n(y),_=o(659),m=n(_),v=o(661),E=n(v),k=o(657),T=n(k),S=o(658),C=n(S),B=[h.default,d.default,b.default,m.default,E.default,T.default,C.default,p.default];e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(532),i=n(r),a={Webkit:["chrome","safari","ios","android","phantom","opera","webos","blackberry","bada","tizen","chromium","vivaldi"],Moz:["firefox","seamonkey","sailfish"],ms:["msie","msedge"]},s={chrome:[["chrome"],["chromium"]],safari:[["safari"]],firefox:[["firefox"]],edge:[["msedge"]],opera:[["opera"],["vivaldi"]],ios_saf:[["ios","mobile"],["ios","tablet"]],ie:[["msie"]],op_mini:[["opera","mobile"],["opera","tablet"]],and_uc:[["android","mobile"],["android","tablet"]],android:[["android","mobile"],["android","tablet"]]},l=function(e){if(e.firefox)return"firefox";var t="";return Object.keys(s).forEach(function(o){s[o].forEach(function(n){var r=0;n.forEach(function(t){e[t]&&(r+=1)}),n.length===r&&(t=o)})}),t};t.default=function(e){if(!e)return!1;var t=i.default._detect(e);return Object.keys(a).forEach(function(e){a[e].forEach(function(o){t[o]&&(t.prefix={inline:e,css:"-"+e.toLowerCase()+"-"})})}),t.browser=l(t),t.version=t.version?parseFloat(t.version):parseInt(parseFloat(t.osversion),10),t.osversion=parseFloat(t.osversion),"ios_saf"===t.browser&&t.version>t.osversion&&(t.version=t.osversion,t.safari=!0),"android"===t.browser&&t.chrome&&t.version>37&&(t.browser="and_chr"),"android"===t.browser&&t.osversion<5&&(t.version=t.osversion),t},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.browser,o=e.version,n=e.prefix,r="keyframes";return("chrome"===t&&o<43||("safari"===t||"ios_saf"===t)&&o<9||"opera"===t&&o<30||"android"===t&&o<=4.4||"and_uc"===t)&&(r=n.css+r),r},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.replace(/^(ms|Webkit|Moz|O)/,"");return t.charAt(0).toLowerCase()+t.slice(1)},e.exports=t.default},205,function(e,t){function o(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&o(e.slice(0,0))}e.exports=function(e){return null!=e&&(o(e)||n(e)||!!e._isBuffer)}},function(e,t){function o(e){return n(e)||r(e)}function n(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function r(e){return a[i.call(e)]}e.exports=o,o.strict=n,o.loose=r;var i=Object.prototype.toString,a={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(e,t){e.exports=function(e){if(!e)return!1;if(!e.dtype)return!1;var t=new RegExp("function View[0-9]+d(:?"+e.dtype+")+");return t.test(String(e.constructor))}},[1205,288,9,21],[1206,9,21,69,153,272],[1207,265,671],[1208,677,674,50,266,87],[1209,9,87,69,9,681,273,105],[1210,9,21],[1211,267],[1212,69,9,21,276,266,152,683,672,105,675],[1215,270,9],[1216,269,9],[1219,21,9],[1227,271,9,272,682,69,50],[1228,271,9,152,153,69,265,50],[1229,276,275,69,152,21],function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return i[e];var r=String(e),a=o[r.toLowerCase()];if(a)return a;var a=n[r.toLowerCase()];return a?a:1===r.length?r.charCodeAt(0):void 0};var o=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)o[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)o[r-48]=r;for(r=1;r<13;r++)o["f"+r]=r+111;for(r=0;r<10;r++)o["numpad "+r]=r+96;var i=t.names=t.title={};for(r in o)i[o[r]]=r;for(var a in n)o[a]=n[a]},[1230,642],function(e,t,o){(function(e,o){function n(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function i(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function a(e,t){for(var o=-1,n=e?e.length:0;++o<n&&t(e[o],o,e)!==!1;);return e}function s(e,t){for(var o=-1,n=t.length,r=e.length;++o<n;)e[r+o]=t[o];return e}function l(e,t,o,n){var r=-1,i=e?e.length:0;for(n&&i&&(o=e[++r]);++r<i;)o=t(o,e[r],r,e);return o}function c(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}function u(e){return function(t){return e(t)}}function h(e,t){return null==e?void 0:e[t]}function g(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(o){}return t}function d(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}function f(e,t){return function(o){return e(t(o))}}function p(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}function y(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function b(){this.__data__=ro?ro(null):{}}function _(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(ro){var o=t[e];return o===je?void 0:o}return Ft.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return ro?void 0!==t[e]:Ft.call(t,e)}function E(e,t){var o=this.__data__;return o[e]=ro&&void 0===t?je:t,this}function k(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function T(){this.__data__=[]}function S(e){var t=this.__data__,o=G(t,e);if(o<0)return!1;var n=t.length-1;return o==n?t.pop():Yt.call(t,o,1),!0}function C(e){var t=this.__data__,o=G(t,e);return o<0?void 0:t[o][1]}function B(e){return G(this.__data__,e)>-1}function A(e,t){var o=this.__data__,n=G(o,e);return n<0?o.push([e,t]):o[n][1]=t,this}function w(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function I(){this.__data__={hash:new y,map:new(eo||k),string:new y}}function O(e){return pe(this,e).delete(e)}function R(e){return pe(this,e).get(e)}function M(e){return pe(this,e).has(e)}function x(e,t){return pe(this,e).set(e,t),this}function N(e){this.__data__=new k(e)}function L(){this.__data__=new k}function D(e){return this.__data__.delete(e)}function P(e){return this.__data__.get(e)}function F(e){return this.__data__.has(e)}function U(e,t){var o=this.__data__;if(o instanceof k){var n=o.__data__;if(!eo||n.length<Ve-1)return n.push([e,t]),this;o=this.__data__=new w(n)}return o.set(e,t),this}function H(e,t){var o=po(e)||we(e)?c(e.length,String):[],n=o.length,r=!!n;for(var i in e)!t&&!Ft.call(e,i)||r&&("length"==i||ve(i,n))||o.push(i);return o}function V(e,t,o){(void 0===o||Ae(e[t],o))&&("number"!=typeof t||void 0!==o||t in e)||(e[t]=o)}function j(e,t,o){var n=e[t];Ft.call(e,t)&&Ae(n,o)&&(void 0!==o||t in e)||(e[t]=o)}function G(e,t){for(var o=e.length;o--;)if(Ae(e[o][0],t))return o;return-1}function W(e,t){return e&&he(t,Pe(t),e)}function z(e,t,o,n,r,i,s){var l;if(n&&(l=i?n(e,r,i,s):n(e)),void 0!==l)return l;if(!xe(e))return e;var c=po(e);if(c){if(l=be(e),!t)return ue(e,l)}else{var u=fo(e),h=u==Je||u==qe;if(yo(e))return oe(e,t);if(u==$e||u==We||h&&!i){if(g(e))return i?e:{};if(l=_e(h?{}:e),!t)return ge(e,W(l,e))}else{if(!kt[u])return i?e:{};l=me(e,u,z,t)}}s||(s=new N);var d=s.get(e);if(d)return d;if(s.set(e,l),!c)var f=o?fe(e):Pe(e);return a(f||e,function(r,i){f&&(i=r,r=e[i]),j(l,i,z(r,t,o,n,i,e,s))}),l}function K(e){return xe(e)?Kt(e):{}}function X(e,t,o){var n=t(e);return po(e)?n:s(n,o(e))}function Y(e){return Ht.call(e)}function J(e){if(!xe(e)||Te(e))return!1;var t=Re(e)||g(e)?Vt:mt;return t.test(Be(e))}function q(e){return Ne(e)&&Me(e.length)&&!!Et[Ht.call(e)]}function Z(e){if(!Se(e))return Zt(e);var t=[];for(var o in Object(e))Ft.call(e,o)&&"constructor"!=o&&t.push(o);return t}function Q(e){if(!xe(e))return Ce(e);var t=Se(e),o=[];for(var n in e)("constructor"!=n||!t&&Ft.call(e,n))&&o.push(n);return o}function $(e,t,o,n,r){if(e!==t){if(!po(t)&&!bo(t))var i=Q(t);a(i||t,function(a,s){if(i&&(s=a,a=t[s]),xe(a))r||(r=new N),ee(e,t,s,o,$,n,r);else{var l=n?n(e[s],a,s+"",e,t,r):void 0;void 0===l&&(l=a),V(e,s,l)}})}}function ee(e,t,o,n,r,i,a){var s=e[o],l=t[o],c=a.get(l);if(c)return void V(e,o,c);var u=i?i(s,l,o+"",e,t,a):void 0,h=void 0===u;h&&(u=l,po(l)||bo(l)?po(s)?u=s:Oe(s)?u=ue(s):(h=!1,u=z(l,!0)):Le(l)||we(l)?we(s)?u=De(s):!xe(s)||n&&Re(s)?(h=!1,u=z(l,!0)):u=s:h=!1),h&&(a.set(l,u),r(u,l,n,i,a),a.delete(l)),V(e,o,u)}function te(e,t){return t=Qt(void 0===t?e.length-1:t,0),function(){for(var o=arguments,n=-1,r=Qt(o.length-t,0),a=Array(r);++n<r;)a[n]=o[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=o[n];return s[t]=a,i(e,this,s)}}function oe(e,t){if(t)return e.slice();var o=new e.constructor(e.length);return e.copy(o),o}function ne(e){var t=new e.constructor(e.byteLength);return new Wt(t).set(new Wt(e)),t}function re(e,t){var o=t?ne(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function ie(e,t,o){var r=t?o(d(e),!0):d(e);return l(r,n,new e.constructor)}function ae(e){var t=new e.constructor(e.source,_t.exec(e));return t.lastIndex=e.lastIndex,t}function se(e,t,o){var n=t?o(p(e),!0):p(e);return l(n,r,new e.constructor)}function le(e){return ho?Object(ho.call(e)):{}}function ce(e,t){var o=t?ne(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function ue(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}function he(e,t,o,n){o||(o={});for(var r=-1,i=t.length;++r<i;){var a=t[r],s=n?n(o[a],e[a],a,o,e):void 0;j(o,a,void 0===s?e[a]:s)}return o}function ge(e,t){return he(e,go(e),t)}function de(e){return te(function(t,o){var n=-1,r=o.length,i=r>1?o[r-1]:void 0,a=r>2?o[2]:void 0;for(i=e.length>3&&"function"==typeof i?(r--,i):void 0,a&&Ee(o[0],o[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var s=o[n];s&&e(t,s,n,i)}return t})}function fe(e){return X(e,Pe,go)}function pe(e,t){var o=e.__data__;return ke(t)?o["string"==typeof t?"string":"hash"]:o.map}function ye(e,t){var o=h(e,t);return J(o)?o:void 0}function be(e){var t=e.length,o=e.constructor(t);return t&&"string"==typeof e[0]&&Ft.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function _e(e){return"function"!=typeof e.constructor||Se(e)?{}:K(zt(e))}function me(e,t,o,n){var r=e.constructor;switch(t){case at:return ne(e);case Ke:case Xe:return new r((+e));case st:return re(e,n);case lt:case ct:case ut:case ht:case gt:case dt:case ft:case pt:case yt:return ce(e,n);case Ze:return ie(e,n,o);case Qe:case nt:return new r(e);case tt:return ae(e);case ot:return se(e,n,o);case rt:return le(e)}}function ve(e,t){return t=null==t?Ge:t,!!t&&("number"==typeof e||vt.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e,t,o){if(!xe(o))return!1;var n=typeof t;return!!("number"==n?Ie(o)&&ve(t,o.length):"string"==n&&t in o)&&Ae(o[t],e)}function ke(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Te(e){return!!Dt&&Dt in e}function Se(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||Nt;return e===o}function Ce(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}function Be(e){if(null!=e){try{return Pt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ae(e,t){return e===t||e!==e&&t!==t}function we(e){return Oe(e)&&Ft.call(e,"callee")&&(!Xt.call(e,"callee")||Ht.call(e)==We)}function Ie(e){return null!=e&&Me(e.length)&&!Re(e)}function Oe(e){return Ne(e)&&Ie(e)}function Re(e){var t=xe(e)?Ht.call(e):"";return t==Je||t==qe}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ge}function xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ne(e){return!!e&&"object"==typeof e}function Le(e){if(!Ne(e)||Ht.call(e)!=$e||g(e))return!1;var t=zt(e);if(null===t)return!0;var o=Ft.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&Pt.call(o)==Ut}function De(e){return he(e,Fe(e))}function Pe(e){return Ie(e)?H(e):Z(e)}function Fe(e){return Ie(e)?H(e,!0):Q(e)}function Ue(){return[]}function He(){return!1}var Ve=200,je="__lodash_hash_undefined__",Ge=9007199254740991,We="[object Arguments]",ze="[object Array]",Ke="[object Boolean]",Xe="[object Date]",Ye="[object Error]",Je="[object Function]",qe="[object GeneratorFunction]",Ze="[object Map]",Qe="[object Number]",$e="[object Object]",et="[object Promise]",tt="[object RegExp]",ot="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object WeakMap]",at="[object ArrayBuffer]",st="[object DataView]",lt="[object Float32Array]",ct="[object Float64Array]",ut="[object Int8Array]",ht="[object Int16Array]",gt="[object Int32Array]",dt="[object Uint8Array]",ft="[object Uint8ClampedArray]",pt="[object Uint16Array]",yt="[object Uint32Array]",bt=/[\\^$.*+?()[\]{}|]/g,_t=/\w*$/,mt=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,Et={};Et[lt]=Et[ct]=Et[ut]=Et[ht]=Et[gt]=Et[dt]=Et[ft]=Et[pt]=Et[yt]=!0,Et[We]=Et[ze]=Et[at]=Et[Ke]=Et[st]=Et[Xe]=Et[Ye]=Et[Je]=Et[Ze]=Et[Qe]=Et[$e]=Et[tt]=Et[ot]=Et[nt]=Et[it]=!1;var kt={};kt[We]=kt[ze]=kt[at]=kt[st]=kt[Ke]=kt[Xe]=kt[lt]=kt[ct]=kt[ut]=kt[ht]=kt[gt]=kt[Ze]=kt[Qe]=kt[$e]=kt[tt]=kt[ot]=kt[nt]=kt[rt]=kt[dt]=kt[ft]=kt[pt]=kt[yt]=!0,kt[Ye]=kt[Je]=kt[it]=!1;var Tt="object"==typeof e&&e&&e.Object===Object&&e,St="object"==typeof self&&self&&self.Object===Object&&self,Ct=Tt||St||Function("return this")(),Bt="object"==typeof t&&t&&!t.nodeType&&t,At=Bt&&"object"==typeof o&&o&&!o.nodeType&&o,wt=At&&At.exports===Bt,It=wt&&Tt.process,Ot=function(){try{return It&&It.binding("util")}catch(e){}}(),Rt=Ot&&Ot.isTypedArray,Mt=Array.prototype,xt=Function.prototype,Nt=Object.prototype,Lt=Ct["__core-js_shared__"],Dt=function(){var e=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pt=xt.toString,Ft=Nt.hasOwnProperty,Ut=Pt.call(Object),Ht=Nt.toString,Vt=RegExp("^"+Pt.call(Ft).replace(bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=wt?Ct.Buffer:void 0,Gt=Ct.Symbol,Wt=Ct.Uint8Array,zt=f(Object.getPrototypeOf,Object),Kt=Object.create,Xt=Nt.propertyIsEnumerable,Yt=Mt.splice,Jt=Object.getOwnPropertySymbols,qt=jt?jt.isBuffer:void 0,Zt=f(Object.keys,Object),Qt=Math.max,$t=ye(Ct,"DataView"),eo=ye(Ct,"Map"),to=ye(Ct,"Promise"),oo=ye(Ct,"Set"),no=ye(Ct,"WeakMap"),ro=ye(Object,"create"),io=Be($t),ao=Be(eo),so=Be(to),lo=Be(oo),co=Be(no),uo=Gt?Gt.prototype:void 0,ho=uo?uo.valueOf:void 0;y.prototype.clear=b,y.prototype.delete=_,y.prototype.get=m,y.prototype.has=v,y.prototype.set=E,k.prototype.clear=T,k.prototype.delete=S,k.prototype.get=C,k.prototype.has=B,k.prototype.set=A,w.prototype.clear=I,w.prototype.delete=O,w.prototype.get=R,w.prototype.has=M,w.prototype.set=x,N.prototype.clear=L,N.prototype.delete=D,N.prototype.get=P,N.prototype.has=F,N.prototype.set=U;var go=Jt?f(Jt,Object):Ue,fo=Y;($t&&fo(new $t(new ArrayBuffer(1)))!=st||eo&&fo(new eo)!=Ze||to&&fo(to.resolve())!=et||oo&&fo(new oo)!=ot||no&&fo(new no)!=it)&&(fo=function(e){var t=Ht.call(e),o=t==$e?e.constructor:void 0,n=o?Be(o):void 0;if(n)switch(n){case io:return st;case ao:return Ze;case so:return et;case lo:return ot;case co:return it}return t});var po=Array.isArray,yo=qt||He,bo=Rt?u(Rt):q,_o=de(function(e,t,o){$(e,t,o)});o.exports=_o}).call(t,function(){return this}(),o(329)(e))},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o=t.muiTheme.floatingActionButton,n=e.backgroundColor||o.color,r=o.iconColor;return e.disabled?(n=e.disabledColor||o.disabledColor,r=o.disabledTextColor):e.secondary&&(n=o.secondaryColor,r=o.secondaryIconColor),{root:{transition:S.default.easeOut(),display:"inline-block"},container:{backgroundColor:n,transition:S.default.easeOut(),position:"relative",height:o.buttonSize,width:o.buttonSize,padding:0,overflow:"hidden",borderRadius:"50%",textAlign:"center",verticalAlign:"bottom"},containerWhenMini:{height:o.miniSize,width:o.miniSize},overlay:{transition:S.default.easeOut(),top:0},overlayWhenHovered:{backgroundColor:(0,C.fade)(r,.4)},icon:{height:o.buttonSize,lineHeight:o.buttonSize+"px",fill:r,color:r},iconWhenMini:{height:o.miniSize,lineHeight:o.miniSize+"px"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(43),a=n(i),s=o(44),l=n(s),c=o(25),u=n(c),h=o(19),g=n(h),d=o(26),f=n(d),p=o(28),y=n(p),b=o(27),_=n(b),m=o(35),v=n(m),E=o(6),k=n(E),T=o(61),S=n(T),C=o(155),B=o(695),A=n(B),w=o(690),I=n(w),O=o(692),R=n(O),M=o(278),x=o(194),N=(n(x),o(279)),L=(n(N),function(e){function t(){var e,o,n,i;(0,g.default)(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=n=(0,y.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.state={hovered:!1,touch:!1,zDepth:void 0},n.handleMouseDown=function(e){0===e.button&&n.setState({zDepth:n.props.zDepth+1}),n.props.onMouseDown&&n.props.onMouseDown(e)},n.handleMouseUp=function(e){
n.setState({zDepth:n.props.zDepth}),n.props.onMouseUp&&n.props.onMouseUp(e)},n.handleMouseLeave=function(e){n.refs.container.isKeyboardFocused()||n.setState({zDepth:n.props.zDepth,hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(e)},n.handleMouseEnter=function(e){n.refs.container.isKeyboardFocused()||n.state.touch||n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(e)},n.handleTouchStart=function(e){n.setState({touch:!0,zDepth:n.props.zDepth+1}),n.props.onTouchStart&&n.props.onTouchStart(e)},n.handleTouchEnd=function(e){n.setState({touch:!0,zDepth:n.props.zDepth}),n.props.onTouchEnd&&n.props.onTouchEnd(e)},n.handleKeyboardFocus=function(e,t){t&&!n.props.disabled?(n.setState({zDepth:n.props.zDepth+1}),n.refs.overlay.style.backgroundColor=(0,C.fade)(r(n.props,n.context).icon.color,.4)):n.state.hovered||(n.setState({zDepth:n.props.zDepth}),n.refs.overlay.style.backgroundColor="transparent")},i=o,(0,y.default)(n,i)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({zDepth:this.props.disabled?0:this.props.zDepth})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t={};e.disabled!==this.props.disabled&&(t.zDepth=e.disabled?0:this.props.zDepth),e.disabled&&(t.hovered=!1),this.setState(t)}},{key:"render",value:function(){var e=this.props,t=(e.backgroundColor,e.className),o=e.children,n=e.disabled,i=e.mini,s=(e.secondary,e.iconStyle),c=e.iconClassName,u=(e.zDepth,(0,l.default)(e,["backgroundColor","className","children","disabled","mini","secondary","iconStyle","iconClassName","zDepth"])),h=this.context.muiTheme.prepareStyles,g=r(this.props,this.context),d=void 0;c&&(d=k.default.createElement(I.default,{className:c,style:(0,v.default)({},g.icon,i&&g.iconWhenMini,s)}));var f=void 0;o&&(f=(0,M.extendChildren)(o,{style:(0,v.default)({},g.icon,i&&g.iconWhenMini,s,o.props.style)}));var p=n?null:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus};return k.default.createElement(R.default,{className:t,style:(0,v.default)(g.root,this.props.style),zDepth:this.state.zDepth,circle:!0},k.default.createElement(A.default,(0,a.default)({},u,p,{ref:"container",disabled:n,style:(0,v.default)(g.container,this.props.mini&&g.containerWhenMini,s),focusRippleColor:g.icon.color,touchRippleColor:g.icon.color}),k.default.createElement("div",{ref:"overlay",style:h((0,v.default)(g.overlay,this.state.hovered&&!this.props.disabled&&g.overlayWhenHovered))},d,f)))}}]),t}(E.Component));L.defaultProps={disabled:!1,mini:!1,secondary:!1,zDepth:2},L.contextTypes={muiTheme:E.PropTypes.object.isRequired},t.default=L},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(687),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){var n=e.color,r=e.hoverColor,i=t.muiTheme.baseTheme,a=n||i.palette.textColor,s=r||a;return{root:{color:o.hovered?s:a,position:"relative",fontSize:i.spacing.iconSize,display:"inline-block",userSelect:"none",transition:S.default.easeOut()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(43),a=n(i),s=o(44),l=n(s),c=o(25),u=n(c),h=o(19),g=n(h),d=o(26),f=n(d),p=o(28),y=n(p),b=o(27),_=n(b),m=o(35),v=n(m),E=o(6),k=n(E),T=o(61),S=n(T),C=function(e){function t(){var e,o,n,r;(0,g.default)(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=(0,y.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.state={hovered:!1},n.handleMouseLeave=function(e){void 0!==n.props.hoverColor&&n.setState({hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(e)},n.handleMouseEnter=function(e){void 0!==n.props.hoverColor&&n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(e)},r=o,(0,y.default)(n,r)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.hoverColor,e.onMouseLeave,e.onMouseEnter,e.style),o=(0,l.default)(e,["hoverColor","onMouseLeave","onMouseEnter","style"]),n=this.context.muiTheme.prepareStyles,i=r(this.props,this.context,this.state);return k.default.createElement("span",(0,a.default)({},o,{onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,style:n((0,v.default)(i.root,t))}))}}]),t}(E.Component);C.muiName="FontIcon",C.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},C.contextTypes={muiTheme:E.PropTypes.object.isRequired},t.default=C},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(689),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o=e.rounded,n=e.circle,r=e.transitionEnabled,i=e.zDepth,a=t.muiTheme,s=a.baseTheme,l=a.paper;return{root:{color:l.color,backgroundColor:l.backgroundColor,transition:r&&C.default.easeOut(),boxSizing:"border-box",fontFamily:s.fontFamily,WebkitTapHighlightColor:"rgba(0,0,0,0)",boxShadow:l.zDepthShadows[i-1],borderRadius:n?"50%":o?"2px":"0px"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(43),a=n(i),s=o(44),l=n(s),c=o(25),u=n(c),h=o(19),g=n(h),d=o(26),f=n(d),p=o(28),y=n(p),b=o(27),_=n(b),m=o(35),v=n(m),E=o(6),k=n(E),T=o(279),S=(n(T),o(61)),C=n(S),B=function(e){function t(){return(0,g.default)(this,t),(0,y.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=(e.circle,e.rounded,e.style),n=(e.transitionEnabled,e.zDepth,(0,l.default)(e,["children","circle","rounded","style","transitionEnabled","zDepth"])),i=this.context.muiTheme.prepareStyles,s=r(this.props,this.context);return k.default.createElement("div",(0,a.default)({},n,{style:i((0,v.default)(s.root,o))}),t)}}]),t}(E.Component);B.defaultProps={circle:!1,rounded:!0,transitionEnabled:!0,zDepth:1},B.contextTypes={muiTheme:E.PropTypes.object.isRequired},t.default=B},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(691),i=n(r);t.default=i.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(43),i=n(r),a=o(44),s=n(a),l=o(25),c=n(l),u=o(19),h=n(u),g=o(26),d=n(g),f=o(28),p=n(f),y=o(27),b=n(y),_=o(35),m=n(_),v=o(6),E=n(v),k=o(61),T=n(k),S=function(e){function t(){var e,o,n,r;(0,h.default)(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=(0,p.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(a))),n.state={hovered:!1},n.handleMouseLeave=function(e){n.setState({hovered:!1}),n.props.onMouseLeave(e)},n.handleMouseEnter=function(e){n.setState({hovered:!0}),n.props.onMouseEnter(e)},r=o,(0,p.default)(n,r)}return(0,b.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.color,n=e.hoverColor,r=(e.onMouseEnter,e.onMouseLeave,e.style),a=e.viewBox,l=(0,s.default)(e,["children","color","hoverColor","onMouseEnter","onMouseLeave","style","viewBox"]),c=this.context.muiTheme,u=c.svgIcon,h=c.prepareStyles,g=o?o:"currentColor",d=n?n:g,f=(0,m.default)({display:"inline-block",color:u.color,fill:this.state.hovered?d:g,height:24,width:24,userSelect:"none",transition:T.default.easeOut()},r);return E.default.createElement("svg",(0,i.default)({},l,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:h(f),viewBox:a}),t)}}]),t}(v.Component);S.muiName="SvgIcon",S.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){},viewBox:"0 0 24 24"},S.contextTypes={muiTheme:v.PropTypes.object.isRequired},t.default=S},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(43),i=n(r),a=o(44),s=n(a),l=o(25),c=n(l),u=o(19),h=n(u),g=o(26),d=n(g),f=o(28),p=n(f),y=o(27),b=n(y),_=o(35),m=n(_),v=o(6),E=n(v),k=o(40),T=n(k),S=o(192),C=n(S),B=o(154),A=n(B),w=o(61),I=n(w),O=function(e){function t(){return(0,h.default)(this,t),(0,p.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,d.default)(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,C.default)(this.props,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(e){this.initializeAnimation(e)}},{key:"componentWillEnter",value:function(e){this.initializeAnimation(e)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(e){var t=T.default.findDOMNode(this).style;t.opacity=0;var o=this.props.aborted?0:2e3;this.enterTimer=setTimeout(e,o)}},{key:"animate",value:function(){var e=T.default.findDOMNode(this).style,t=I.default.easeOut("2s","opacity")+", "+I.default.easeOut("1s","transform");A.default.set(e,"transition",t),A.default.set(e,"transform","scale(1)")}},{key:"initializeAnimation",value:function(e){var t=T.default.findDOMNode(this).style;t.opacity=this.props.opacity,A.default.set(t,"transform","scale(0)"),this.leaveTimer=setTimeout(e,0)}},{key:"render",value:function(){var e=this.props,t=(e.aborted,e.color),o=(e.opacity,e.style),n=(e.touchGenerated,(0,s.default)(e,["aborted","color","opacity","style","touchGenerated"])),r=this.context.muiTheme.prepareStyles,a=(0,m.default)({position:"absolute",top:0,left:0,height:"100%",width:"100%",borderRadius:"50%",backgroundColor:t},o);return E.default.createElement("div",(0,i.default)({},n,{style:r(a)}))}}]),t}(v.Component);O.defaultProps={opacity:.1,aborted:!1},O.contextTypes={muiTheme:v.PropTypes.object.isRequired},t.default=O},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){if(!x){var e=document.createElement("style");e.innerHTML="\n      button::-moz-focus-inner,\n      input::-moz-focus-inner {\n        border: 0;\n        padding: 0;\n      }\n    ",document.body.appendChild(e),x=!0}}function i(){N||(B.default.on(window,"keydown",function(e){L="tab"===(0,w.default)(e)}),N=!0)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(43),s=n(a),l=o(44),c=n(l),u=o(25),h=n(u),g=o(19),d=n(g),f=o(26),p=n(f),y=o(28),b=n(y),_=o(27),m=n(_),v=o(35),E=n(v),k=o(6),T=n(k),S=o(278),C=o(711),B=n(C),A=o(684),w=n(A),I=o(696),O=n(I),R=o(699),M=n(R),x=!1,N=!1,L=!1,D=function(e){function t(){var e,o,n,r;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=(0,b.default)(this,(e=t.__proto__||(0,h.default)(t)).call.apply(e,[this].concat(a))),n.state={isKeyboardFocused:!1},n.handleKeyDown=function(e){n.props.disabled||n.props.disableKeyboardFocus||("enter"===(0,w.default)(e)&&n.state.isKeyboardFocused&&n.handleTouchTap(e),"esc"===(0,w.default)(e)&&n.state.isKeyboardFocused&&n.removeKeyboardFocus(e)),n.props.onKeyDown(e)},n.handleKeyUp=function(e){n.props.disabled||n.props.disableKeyboardFocus||"space"===(0,w.default)(e)&&n.state.isKeyboardFocused&&n.handleTouchTap(e),n.props.onKeyUp(e)},n.handleBlur=function(e){n.cancelFocusTimeout(),n.removeKeyboardFocus(e),n.props.onBlur(e)},n.handleFocus=function(e){e&&e.persist(),n.props.disabled||n.props.disableKeyboardFocus||(n.focusTimeout=setTimeout(function(){L&&(n.setKeyboardFocus(e),L=!1)},150),n.props.onFocus(e))},n.handleClick=function(e){n.props.disabled||(L=!1,n.props.onClick(e))},n.handleTouchTap=function(e){n.cancelFocusTimeout(),n.props.disabled||(L=!1,n.removeKeyboardFocus(e),n.props.onTouchTap(e))},r=o,(0,b.default)(n,r)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disabled,o=e.disableKeyboardFocus,n=e.keyboardFocused;t||!n||o||this.setState({isKeyboardFocused:!0})}},{key:"componentDidMount",value:function(){r(),i(),this.state.isKeyboardFocused&&(this.refs.enhancedButton.focus(),this.props.onKeyboardFocus(null,!0))}},{key:"componentWillReceiveProps",value:function(e){(e.disabled||e.disableKeyboardFocus)&&this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),e.onKeyboardFocus&&e.onKeyboardFocus(null,!1))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusTimeout)}},{key:"isKeyboardFocused",value:function(){return this.state.isKeyboardFocused}},{key:"removeKeyboardFocus",value:function(e){this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),this.props.onKeyboardFocus(e,!1))}},{key:"setKeyboardFocus",value:function(e){this.state.isKeyboardFocused||(this.setState({isKeyboardFocused:!0}),this.props.onKeyboardFocus(e,!0))}},{key:"cancelFocusTimeout",value:function(){this.focusTimeout&&(clearTimeout(this.focusTimeout),this.focusTimeout=null)}},{key:"createButtonChildren",value:function(){var e=this.props,t=e.centerRipple,o=e.children,n=e.disabled,r=e.disableFocusRipple,i=e.disableKeyboardFocus,a=e.disableTouchRipple,s=e.focusRippleColor,l=e.focusRippleOpacity,c=e.touchRippleColor,u=e.touchRippleOpacity,h=this.state.isKeyboardFocused,g=!h||n||r||i?void 0:T.default.createElement(O.default,{color:s,opacity:l,show:h}),d=n||a?void 0:T.default.createElement(M.default,{centerRipple:t,color:c,opacity:u},o);return(0,S.createChildFragment)({focusRipple:g,touchRipple:d,children:d?void 0:o})}},{key:"render",value:function(){var e=this.props,t=(e.centerRipple,e.children),o=e.containerElement,n=e.disabled,r=e.disableFocusRipple,i=(e.disableKeyboardFocus,e.disableTouchRipple),a=(e.focusRippleColor,e.focusRippleOpacity,e.href),l=(e.keyboardFocused,e.touchRippleColor,e.touchRippleOpacity,e.onBlur,e.onClick,e.onFocus,e.onKeyUp,e.onKeyDown,e.onKeyboardFocus,e.onTouchTap,e.style),u=e.tabIndex,h=e.type,g=(0,c.default)(e,["centerRipple","children","containerElement","disabled","disableFocusRipple","disableKeyboardFocus","disableTouchRipple","focusRippleColor","focusRippleOpacity","href","keyboardFocused","touchRippleColor","touchRippleOpacity","onBlur","onClick","onFocus","onKeyUp","onKeyDown","onKeyboardFocus","onTouchTap","style","tabIndex","type"]),d=this.context.muiTheme,f=d.prepareStyles,p=d.enhancedButton,y=(0,E.default)({border:10,boxSizing:"border-box",display:"inline-block",fontFamily:this.context.muiTheme.baseTheme.fontFamily,WebkitTapHighlightColor:p.tapHighlightColor,cursor:n?"default":"pointer",textDecoration:"none",margin:0,padding:0,outline:"none",fontSize:"inherit",fontWeight:"inherit",transform:i&&r?null:"translate(0, 0)",verticalAlign:a?"middle":null},l);if(y.backgroundColor||y.background||(y.background="none"),n&&a)return T.default.createElement("span",(0,s.default)({},g,{style:y}),t);var b=(0,s.default)({},g,{style:f(y),ref:"enhancedButton",disabled:n,href:a,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onTouchTap:this.handleTouchTap,tabIndex:u,type:h}),_=this.createButtonChildren();return T.default.isValidElement(o)?T.default.cloneElement(o,b,_):T.default.createElement(a?"a":o,b,_)}}]),t}(k.Component);D.defaultProps={containerElement:"button",onBlur:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},onKeyUp:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseUp:function(){},onTouchEnd:function(){},onTouchStart:function(){},onTouchTap:function(){},tabIndex:0,type:"button"},D.contextTypes={muiTheme:k.PropTypes.object.isRequired},t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(25),i=n(r),a=o(19),s=n(a),l=o(26),c=n(l),u=o(28),h=n(u),g=o(27),d=n(g),f=o(35),p=n(f),y=o(6),b=n(y),_=o(40),m=n(_),v=o(192),E=n(v),k=o(154),T=n(k),S=o(61),C=n(S),B=o(697),A=n(B),w=750,I=function(e){function t(){var e,o,n,r;(0,s.default)(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=n=(0,h.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.pulsate=function(){var e=m.default.findDOMNode(n.refs.innerCircle);if(e){var t="scale(1)",o="scale(0.85)",r=e.style.transform||t,i=r===t?o:t;T.default.set(e.style,"transform",i),n.timeout=setTimeout(n.pulsate,w)}},r=o,(0,h.default)(n,r)}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.show&&(this.setRippleSize(),this.pulsate())}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,E.default)(this.props,e)||!(0,E.default)(this.state,t)}},{key:"componentDidUpdate",value:function(){this.props.show?(this.setRippleSize(),this.pulsate()):this.timeout&&clearTimeout(this.timeout)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"getRippleElement",value:function(e){var t=e.color,o=e.innerStyle,n=e.opacity,r=this.context.muiTheme,i=r.prepareStyles,a=r.ripple,s=(0,p.default)({position:"absolute",height:"100%",width:"100%",borderRadius:"50%",opacity:n?n:.16,backgroundColor:t||a.color,transition:C.default.easeOut(w+"ms","transform",null,C.default.easeInOutFunction)},o);return b.default.createElement("div",{ref:"innerCircle",style:i((0,p.default)({},s))})}},{key:"setRippleSize",value:function(){var e=m.default.findDOMNode(this.refs.innerCircle),t=e.offsetHeight,o=e.offsetWidth,n=Math.max(t,o),r=0;e.style.top.indexOf("px",e.style.top.length-2)!==-1&&(r=parseInt(e.style.top)),e.style.height=n+"px",e.style.top=t/2-n/2+r+"px"}},{key:"render",value:function(){var e=this.props,t=e.show,o=e.style,n=(0,p.default)({height:"100%",width:"100%",position:"absolute",top:0,left:0},o),r=t?this.getRippleElement(this.props):null;return b.default.createElement(A.default,{maxScale:.85,style:n},r)}}]),t}(y.Component);I.contextTypes={muiTheme:y.PropTypes.object.isRequired},t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(43),i=n(r),a=o(44),s=n(a),l=o(25),c=n(l),u=o(19),h=n(u),g=o(26),d=n(g),f=o(28),p=n(f),y=o(27),b=n(y),_=o(35),m=n(_),v=o(6),E=n(v),k=o(297),T=n(k),S=o(698),C=n(S),B=function(e){function t(){return(0,h.default)(this,t),(0,p.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.childStyle,n=e.enterDelay,r=e.maxScale,a=e.minScale,l=e.style,c=(0,s.default)(e,["children","childStyle","enterDelay","maxScale","minScale","style"]),u=this.context.muiTheme.prepareStyles,h=(0,m.default)({},{position:"relative",overflow:"hidden",height:"100%"},l),g=E.default.Children.map(t,function(e){return E.default.createElement(C.default,{key:e.key,enterDelay:n,maxScale:r,minScale:a,style:o},e)});return E.default.createElement(T.default,(0,i.default)({},c,{style:u(h),component:"div"}),g)}}]),t}(v.Component);B.defaultProps={enterDelay:0},B.contextTypes={muiTheme:v.PropTypes.object.isRequired},t.default=B},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(43),i=n(r),a=o(44),s=n(a),l=o(25),c=n(l),u=o(19),h=n(u),g=o(26),d=n(g),f=o(28),p=n(f),y=o(27),b=n(y),_=o(35),m=n(_),v=o(6),E=n(v),k=o(40),T=n(k),S=o(154),C=n(S),B=o(61),A=n(B),w=function(e){function t(){return(0,h.default)(this,t),(0,p.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,d.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(e){this.initializeAnimation(e)}},{key:"componentWillEnter",value:function(e){this.initializeAnimation(e)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(e){var t=T.default.findDOMNode(this).style;t.opacity="0",C.default.set(t,"transform","scale("+this.props.minScale+")"),this.leaveTimer=setTimeout(e,450)}},{key:"animate",value:function(){var e=T.default.findDOMNode(this).style;e.opacity="1",C.default.set(e,"transform","scale("+this.props.maxScale+")")}},{key:"initializeAnimation",value:function(e){var t=T.default.findDOMNode(this).style;t.opacity="0",C.default.set(t,"transform","scale(0)"),this.enterTimer=setTimeout(e,this.props.enterDelay)}},{key:"render",value:function(){var e=this.props,t=e.children,o=(e.enterDelay,e.maxScale,e.minScale,e.style),n=(0,s.default)(e,["children","enterDelay","maxScale","minScale","style"]),r=this.context.muiTheme.prepareStyles,a=(0,m.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:A.default.easeOut(null,["transform","opacity"])},o);return E.default.createElement("div",(0,i.default)({},n,{style:r(a)}),t)}}]),t}(v.Component);w.defaultProps={enterDelay:0,maxScale:1,minScale:0},w.contextTypes={muiTheme:v.PropTypes.object.isRequired},t.default=w},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(228),i=n(r),a=o(25),s=n(a),l=o(19),c=n(l),u=o(26),h=n(u),g=o(28),d=n(g),f=o(27),p=n(f),y=o(485),b=n(y),_=o(35),m=n(_),v=o(6),E=n(v),k=o(40),T=n(k),S=o(297),C=n(S),B=o(710),A=n(B),w=o(694),I=n(w),O=function(e){var t=(0,b.default)(e),o=t.slice(1);return o},R=function(e){function t(e,o){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,o));return n.handleMouseDown=function(e){0===e.button&&n.start(e,!1)},n.handleMouseUp=function(){n.end()},n.handleMouseLeave=function(){n.end()},n.handleTouchStart=function(e){e.stopPropagation(),n.props.abortOnScroll&&e.touches&&(n.startListeningForScrollAbort(e),n.startTime=Date.now()),n.start(e,!0)},n.handleTouchEnd=function(){n.end()},n.handleTouchMove=function(e){var t=Math.abs(Date.now()-n.startTime);if(t>300)return void n.stopListeningForScrollAbort();var o=Math.abs(e.touches[0].clientY-n.firstTouchY),r=Math.abs(e.touches[0].clientX-n.firstTouchX);if(o>6||r>6){var a=n.state.ripples,s=a[0],l=E.default.cloneElement(s,{aborted:!0});a=O(a),a=[].concat((0,i.default)(a),[l]),n.setState({ripples:a},function(){n.end()})}},n.ignoreNextMouseDown=!1,n.state={hasRipples:!1,nextKey:0,ripples:[]},n}return(0,p.default)(t,e),(0,h.default)(t,[{key:"start",value:function(e,t){var o=this.context.muiTheme.ripple;if(this.ignoreNextMouseDown&&!t)return void(this.ignoreNextMouseDown=!1);var n=this.state.ripples;n=[].concat((0,i.default)(n),[E.default.createElement(I.default,{key:this.state.nextKey,style:this.props.centerRipple?{}:this.getRippleStyle(e),color:this.props.color||o.color,opacity:this.props.opacity,touchGenerated:t})]),this.ignoreNextMouseDown=t,this.setState({hasRipples:!0,nextKey:this.state.nextKey+1,ripples:n})}},{key:"end",value:function(){var e=this.state.ripples;this.setState({ripples:O(e)}),this.props.abortOnScroll&&this.stopListeningForScrollAbort()}},{key:"startListeningForScrollAbort",value:function(e){this.firstTouchY=e.touches[0].clientY,this.firstTouchX=e.touches[0].clientX,document.body.addEventListener("touchmove",this.handleTouchMove)}},{key:"stopListeningForScrollAbort",value:function(){document.body.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getRippleStyle",value:function(e){var t=T.default.findDOMNode(this),o=t.offsetHeight,n=t.offsetWidth,r=A.default.offset(t),i=e.touches&&e.touches.length,a=i?e.touches[0].pageX:e.pageX,s=i?e.touches[0].pageY:e.pageY,l=a-r.left,c=s-r.top,u=this.calcDiag(l,c),h=this.calcDiag(n-l,c),g=this.calcDiag(n-l,o-c),d=this.calcDiag(l,o-c),f=Math.max(u,h,g,d),p=2*f,y=l-f,b=c-f;return{directionInvariant:!0,height:p,width:p,top:b,left:y}}},{key:"calcDiag",value:function(e,t){return Math.sqrt(e*e+t*t)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.style,n=this.state,r=n.hasRipples,i=n.ripples,a=this.context.muiTheme.prepareStyles,s=void 0;if(r){var l=(0,m.default)({height:"100%",width:"100%",position:"absolute",top:0,left:0,overflow:"hidden"},o);s=E.default.createElement(C.default,{style:a(l)},i)}return E.default.createElement("div",{onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},s,t)}}]),t}(v.Component);R.defaultProps={abortOnScroll:!0},R.contextTypes={muiTheme:v.PropTypes.object.isRequired},t.default=R},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(25),i=n(r),a=o(19),s=n(a),l=o(26),c=n(l),u=o(28),h=n(u),g=o(27),d=n(g),f=o(6),p=o(702),y=n(p),b=function(e){function t(){return(0,s.default)(this,t),(0,h.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,c.default)(t,[{key:"getChildContext",value:function(){return{muiTheme:this.props.muiTheme||(0,y.default)()}}},{key:"render",value:function(){return this.props.children}}]),t}(f.Component);b.childContextTypes={muiTheme:f.PropTypes.object.isRequired},t.default=b},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(106),i=o(155),a=o(703),s=n(a);t.default={spacing:s.default,fontFamily:"Roboto, sans-serif",palette:{primary1Color:r.cyan500,primary2Color:r.cyan700,primary3Color:r.grey400,accent1Color:r.pinkA200,accent2Color:r.grey100,accent3Color:r.grey500,textColor:r.darkBlack,secondaryTextColor:(0,i.fade)(r.darkBlack,.54),alternateTextColor:r.white,canvasColor:r.white,borderColor:r.grey300,disabledColor:(0,i.fade)(r.darkBlack,.3),pickerHeaderColor:r.cyan500,clockCircleColor:(0,i.fade)(r.darkBlack,.07),shadowColor:r.fullBlack}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=arguments.length,o=Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];e=l.default.apply(void 0,[{zIndex:d.default,isRtl:!1,userAgent:void 0},h.default,e].concat(o));var r=e,i=r.spacing,s=r.fontFamily,u=r.palette,g={spacing:i,fontFamily:s,palette:u};e=(0,l.default)({appBar:{color:u.primary1Color,textColor:u.alternateTextColor,height:i.desktopKeylineIncrement,titleFontWeight:T.default.fontWeightNormal,padding:i.desktopGutter},avatar:{color:u.canvasColor,backgroundColor:(0,c.emphasize)(u.canvasColor,.26)},badge:{color:u.alternateTextColor,textColor:u.textColor,primaryColor:u.primary1Color,primaryTextColor:u.alternateTextColor,secondaryColor:u.accent1Color,secondaryTextColor:u.alternateTextColor,fontWeight:T.default.fontWeightMedium},bottomNavigation:{backgroundColor:u.canvasColor,unselectedColor:(0,c.fade)(u.textColor,.54),selectedColor:u.primary1Color,height:56,unselectedFontSize:12,selectedFontSize:14},button:{height:36,minWidth:88,iconButtonSize:2*i.iconSize},card:{titleColor:(0,c.fade)(u.textColor,.87),subtitleColor:(0,c.fade)(u.textColor,.54),fontWeight:T.default.fontWeightMedium},cardMedia:{color:S.darkWhite,overlayContentBackground:S.lightBlack,titleColor:S.darkWhite,subtitleColor:S.lightWhite},cardText:{textColor:u.textColor},checkbox:{boxColor:u.textColor,checkedColor:u.primary1Color,requiredColor:u.primary1Color,disabledColor:u.disabledColor,labelColor:u.textColor,labelDisabledColor:u.disabledColor},chip:{backgroundColor:(0,c.emphasize)(u.canvasColor,.12),deleteIconColor:(0,c.fade)(u.textColor,.26),textColor:(0,c.fade)(u.textColor,.87),fontSize:14,fontWeight:T.default.fontWeightNormal,shadow:"0 1px 6px "+(0,c.fade)(u.shadowColor,.12)+",\n        0 1px 4px "+(0,c.fade)(u.shadowColor,.12)},datePicker:{color:u.primary1Color,textColor:u.alternateTextColor,calendarTextColor:u.textColor,selectColor:u.primary2Color,selectTextColor:u.alternateTextColor,calendarYearBackgroundColor:u.canvasColor},dialog:{titleFontSize:22,bodyFontSize:16,bodyColor:(0,c.fade)(u.textColor,.6)},dropDownMenu:{accentColor:u.borderColor},enhancedButton:{tapHighlightColor:S.transparent},flatButton:{color:S.transparent,buttonFilterColor:"#999999",disabledTextColor:(0,c.fade)(u.textColor,.3),textColor:u.textColor,primaryTextColor:u.primary1Color,secondaryTextColor:u.accent1Color,fontSize:T.default.fontStyleButtonFontSize,fontWeight:T.default.fontWeightMedium},floatingActionButton:{buttonSize:56,miniSize:40,color:u.primary1Color,iconColor:u.alternateTextColor,secondaryColor:u.accent1Color,secondaryIconColor:u.alternateTextColor,disabledTextColor:u.disabledColor,disabledColor:(0,c.emphasize)(u.canvasColor,.12)},gridTile:{textColor:S.white},icon:{color:u.canvasColor,backgroundColor:u.primary1Color},inkBar:{backgroundColor:u.accent1Color},drawer:{width:4*i.desktopKeylineIncrement,color:u.canvasColor},listItem:{nestedLevelDepth:18,secondaryTextColor:u.secondaryTextColor,leftIconColor:S.grey600,rightIconColor:S.grey600},menu:{backgroundColor:u.canvasColor,containerBackgroundColor:u.canvasColor},menuItem:{dataHeight:32,height:48,hoverColor:(0,c.fade)(u.textColor,.035),padding:i.desktopGutter,selectedTextColor:u.accent1Color,rightIconDesktopFill:S.grey600},menuSubheader:{padding:i.desktopGutter,borderColor:u.borderColor,textColor:u.primary1Color},overlay:{backgroundColor:S.lightBlack},paper:{color:u.textColor,backgroundColor:u.canvasColor,zDepthShadows:[[1,6,.12,1,4,.12],[3,10,.16,3,10,.23],[10,30,.19,6,10,.23],[14,45,.25,10,18,.22],[19,60,.3,15,20,.22]].map(function(e){return"0 "+e[0]+"px "+e[1]+"px "+(0,c.fade)(u.shadowColor,e[2])+",\n         0 "+e[3]+"px "+e[4]+"px "+(0,c.fade)(u.shadowColor,e[5])})},radioButton:{borderColor:u.textColor,backgroundColor:u.alternateTextColor,checkedColor:u.primary1Color,requiredColor:u.primary1Color,disabledColor:u.disabledColor,size:24,labelColor:u.textColor,labelDisabledColor:u.disabledColor},raisedButton:{color:u.alternateTextColor,textColor:u.textColor,primaryColor:u.primary1Color,primaryTextColor:u.alternateTextColor,secondaryColor:u.accent1Color,secondaryTextColor:u.alternateTextColor,disabledColor:(0,c.darken)(u.alternateTextColor,.1),disabledTextColor:(0,c.fade)(u.textColor,.3),fontSize:T.default.fontStyleButtonFontSize,fontWeight:T.default.fontWeightMedium},refreshIndicator:{strokeColor:u.borderColor,loadingStrokeColor:u.primary1Color},ripple:{color:(0,c.fade)(u.textColor,.87)},slider:{trackSize:2,trackColor:u.primary3Color,trackColorSelected:u.accent3Color,handleSize:12,handleSizeDisabled:8,handleSizeActive:18,handleColorZero:u.primary3Color,handleFillColor:u.alternateTextColor,selectionColor:u.primary1Color,rippleColor:u.primary1Color},snackbar:{textColor:u.alternateTextColor,backgroundColor:u.textColor,actionColor:u.accent1Color},subheader:{color:(0,c.fade)(u.textColor,.54),fontWeight:T.default.fontWeightMedium},stepper:{backgroundColor:"transparent",hoverBackgroundColor:(0,c.fade)(S.black,.06),iconColor:u.primary1Color,hoveredIconColor:S.grey700,inactiveIconColor:S.grey500,textColor:(0,c.fade)(S.black,.87),disabledTextColor:(0,c.fade)(S.black,.26),connectorLineColor:S.grey400},svgIcon:{color:u.textColor},table:{backgroundColor:u.canvasColor},tableFooter:{borderColor:u.borderColor,textColor:u.accent3Color},tableHeader:{borderColor:u.borderColor},tableHeaderColumn:{textColor:u.accent3Color,height:56,spacing:24},tableRow:{hoverColor:u.accent2Color,stripeColor:(0,c.fade)((0,c.lighten)(u.primary1Color,.5),.4),selectedColor:u.borderColor,textColor:u.textColor,borderColor:u.borderColor,height:48},tableRowColumn:{height:48,spacing:24},tabs:{backgroundColor:u.primary1Color,textColor:(0,c.fade)(u.alternateTextColor,.7),selectedTextColor:u.alternateTextColor},textField:{textColor:u.textColor,hintColor:u.disabledColor,floatingLabelColor:u.textColor,disabledTextColor:u.disabledColor,errorColor:S.red500,focusColor:u.primary1Color,backgroundColor:"transparent",
borderColor:u.borderColor},timePicker:{color:u.alternateTextColor,textColor:u.accent3Color,accentColor:u.primary1Color,clockColor:u.textColor,clockCircleColor:u.clockCircleColor,headerColor:u.pickerHeaderColor||u.primary1Color,selectColor:u.primary2Color,selectTextColor:u.alternateTextColor},toggle:{thumbOnColor:u.primary1Color,thumbOffColor:u.accent2Color,thumbDisabledColor:u.borderColor,thumbRequiredColor:u.primary1Color,trackOnColor:(0,c.fade)(u.primary1Color,.5),trackOffColor:u.primary3Color,trackDisabledColor:u.primary3Color,labelColor:u.textColor,labelDisabledColor:u.disabledColor,trackRequiredColor:(0,c.fade)(u.primary1Color,.5)},toolbar:{color:(0,c.fade)(u.textColor,.54),hoverColor:(0,c.fade)(u.textColor,.87),backgroundColor:(0,c.darken)(u.accent2Color,.05),height:56,titleFontSize:20,iconColor:(0,c.fade)(u.textColor,.4),separatorColor:(0,c.fade)(u.textColor,.175),menuHoverColor:(0,c.fade)(u.textColor,.1)},tooltip:{color:S.white,rippleBackgroundColor:S.grey700}},e,{baseTheme:g,rawTheme:g});var f=[p.default,m.default,b.default].map(function(t){return t(e)}).filter(function(e){return e});return e.prepareStyles=E.default.apply(void 0,(0,a.default)(f)),e}Object.defineProperty(t,"__esModule",{value:!0});var i=o(228),a=n(i);t.default=r;var s=o(686),l=n(s),c=o(155),u=o(701),h=n(u),g=o(705),d=n(g),f=o(708),p=n(f),y=o(709),b=n(y),_=o(712),m=n(_),v=o(860),E=n(v),k=o(704),T=n(k),S=o(106)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={iconSize:24,desktopGutter:24,desktopGutterMore:32,desktopGutterLess:16,desktopGutterMini:8,desktopKeylineIncrement:64,desktopDropDownMenuItemHeight:32,desktopDropDownMenuFontSize:15,desktopDrawerMenuItemHeight:48,desktopSubheaderHeight:48,desktopToolbarHeight:56}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(19),i=n(r),a=o(106),s=function e(){(0,i.default)(this,e),this.textFullBlack=a.fullBlack,this.textDarkBlack=a.darkBlack,this.textLightBlack=a.lightBlack,this.textMinBlack=a.minBlack,this.textFullWhite=a.fullWhite,this.textDarkWhite=a.darkWhite,this.textLightWhite=a.lightWhite,this.fontWeightLight=300,this.fontWeightNormal=400,this.fontWeightMedium=500,this.fontStyleButtonFontSize=14};t.default=new s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={menu:1e3,appBar:1100,drawerOverlay:1200,drawer:1300,dialogOverlay:1400,dialog:1500,layer:2e3,popover:2100,snackbar:2900,tooltip:3e3}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),i=n(r),a=o(327),s=n(a),l=o(277),c=n(l),u=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M8 5v14l11-7z"}))};u=(0,s.default)(u),u.displayName="AvPlayArrow",u.muiName="SvgIcon",t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),i=n(r),a=o(327),s=n(a),l=o(277),c=n(l),u=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M6 6h12v12H6z"}))};u=(0,s.default)(u),u.displayName="AvStop",u.muiName="SvgIcon",t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(127),i=n(r);t.default=function(e){var t=e.userAgent;if(void 0===t&&"undefined"!=typeof navigator&&(t=navigator.userAgent),void 0!==t||c||(c=!0),t===!1)return null;if("all"===t||void 0===t)return function(e){return s.default.prefixAll(e)};var o=function(){var e=new s.default({userAgent:t});return{v:function(t){return e.prefix(t)}}}();return"object"===("undefined"==typeof o?"undefined":(0,i.default)(o))?o.v:void 0};var a=o(643),s=n(a),l=o(194),c=(n(l),!1)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(194);n(i)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isDescendant:function(e,t){for(var o=t.parentNode;null!==o;){if(o===e)return!0;o=o.parentNode}return!1},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={once:function(e,t,o){for(var n=t?t.split(" "):[],r=function e(t){return t.target.removeEventListener(t.type,e),o(t)},i=n.length-1;i>=0;i--)this.on(e,n[i],r)},on:function(e,t,o){e.addEventListener?e.addEventListener(t,o):e.attachEvent("on"+t,function(){o.call(e)})},off:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o):e.detachEvent("on"+t,o)},isKeyboard:function(e){return["keydown","keypress","keyup"].indexOf(e.type)!==-1}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e.isRtl)return function(e){if(e.directionInvariant===!0)return e;var t={right:"left",left:"right",marginRight:"marginLeft",marginLeft:"marginRight",paddingRight:"paddingLeft",paddingLeft:"paddingRight",borderRight:"borderLeft",borderLeft:"borderRight"},o={};return(0,a.default)(e).forEach(function(n){var r=e[n],i=n;switch(t.hasOwnProperty(n)&&(i=t[n]),n){case"float":case"textAlign":"right"===r?r="left":"left"===r&&(r="right");break;case"direction":"ltr"===r?r="rtl":"rtl"===r&&(r="ltr");break;case"transform":if(!r)break;var a=void 0;(a=r.match(s))&&(r=r.replace(a[0],a[1]+-parseFloat(a[4]))),(a=r.match(l))&&(r=r.replace(a[0],a[1]+-parseFloat(a[4])+a[5]+a[6]?", "+(-parseFloat(a[7])+a[8]):""));break;case"transformOrigin":if(!r)break;r.indexOf("right")>-1?r=r.replace("right","left"):r.indexOf("left")>-1&&(r=r.replace("left","right"))}o[i]=r}),o}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(481),a=n(i);t.default=r;var s=/((^|\s)translate(3d|X)?\()(\-?[\d]+)/,l=/((^|\s)skew(x|y)?\()\s*(\-?[\d]+)(deg|rad|grad)(,\s*(\-?[\d]+)(deg|rad|grad))?/},function(e,t,o){t.encode=o(283).encode,t.decode=o(281).decode,t.Encoder=o(721).Encoder,t.Decoder=o(720).Decoder,t.createCodec=o(724).createCodec,t.codec=o(719).codec},function(e,t,o){(function(t){function o(e){return e&&e.isBuffer&&e}e.exports=o("undefined"!=typeof t&&t)||o(this.Buffer)||o("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(t,o(1).Buffer)},function(e,t){function o(e,t){for(var o=this,n=t||(t|=0),r=e.length,i=0,a=0;a<r;)i=e.charCodeAt(a++),i<128?o[n++]=i:i<2048?(o[n++]=192|i>>>6,o[n++]=128|63&i):i<55296||i>57343?(o[n++]=224|i>>>12,o[n++]=128|i>>>6&63,o[n++]=128|63&i):(i=(i-55296<<10|e.charCodeAt(a++)-56320)+65536,o[n++]=240|i>>>18,o[n++]=128|i>>>12&63,o[n++]=128|i>>>6&63,o[n++]=128|63&i);return n-t}function n(e,t,o){var n=this,r=0|t;o||(o=n.length);for(var i="",a=0;r<o;)a=n[r++],a<128?i+=String.fromCharCode(a):(192===(224&a)?a=(31&a)<<6|63&n[r++]:224===(240&a)?a=(15&a)<<12|(63&n[r++])<<6|63&n[r++]:240===(248&a)&&(a=(7&a)<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r++]),a>=65536?(a-=65536,i+=String.fromCharCode((a>>>10)+55296,(1023&a)+56320)):i+=String.fromCharCode(a));return i}function r(e,t,o,n){var r;o||(o=0),n||0===n||(n=this.length),t||(t=0);var i=n-o;if(e===this&&o<t&&t<n)for(r=i-1;r>=0;r--)e[r+t]=this[r+o];else for(r=0;r<i;r++)e[r+t]=this[r+o];return i}t.copy=r,t.toString=n,t.write=o},function(e,t,o){function n(e){return new Array(e)}function r(e){if(!i.isBuffer(e)&&i.isView(e))e=i.Uint8Array.from(e);else if(i.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return i.from.call(t,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}var i=o(22),t=e.exports=n(0);t.alloc=n,t.concat=i.concat,t.from=r},function(e,t,o){function n(e){return new a(e)}function r(e){if(!i.isBuffer(e)&&i.isView(e))e=i.Uint8Array.from(e);else if(i.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return i.from.call(t,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return a.from&&1!==a.from.length?a.from(e):new a(e)}var i=o(22),a=i.global,t=e.exports=i.hasBuffer?n(0):[];t.alloc=i.hasBuffer&&a.alloc||n,t.concat=i.concat,t.from=r},function(e,t,o){function n(e){return new Uint8Array(e)}function r(e){if(i.isView(e)){var o=e.byteOffset,n=e.byteLength;e=e.buffer,e.byteLength!==n&&(e.slice?e=e.slice(o,o+n):(e=new Uint8Array(e),e.byteLength!==n&&(e=Array.prototype.slice.call(e,o,o+n))))}else{if("string"==typeof e)return i.from.call(t,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}var i=o(22),t=e.exports=i.hasArrayBuffer?n(0):[];t.alloc=n,t.concat=i.concat,t.from=r},function(e,t,o){o(158),o(159),t.codec={preset:o(107).preset}},function(e,t,o){function n(e){return this instanceof n?void i.call(this,e):new n(e)}t.Decoder=n;var r=o(249),i=o(280).DecodeBuffer;n.prototype=new i,r.mixin(n.prototype),n.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},n.prototype.push=function(e){this.emit("data",e)},n.prototype.end=function(e){this.decode(e),this.emit("end")}},function(e,t,o){function n(e){return this instanceof n?void i.call(this,e):new n(e)}t.Encoder=n;var r=o(249),i=o(282).EncodeBuffer;n.prototype=new i,r.mixin(n.prototype),n.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},n.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},function(e,t,o){function n(e){e.addExtPacker(14,Error,[s,r]),e.addExtPacker(1,EvalError,[s,r]),e.addExtPacker(2,RangeError,[s,r]),e.addExtPacker(3,ReferenceError,[s,r]),e.addExtPacker(4,SyntaxError,[s,r]),e.addExtPacker(5,TypeError,[s,r]),e.addExtPacker(6,URIError,[s,r]),e.addExtPacker(10,RegExp,[a,r]),e.addExtPacker(11,Boolean,[i,r]),e.addExtPacker(12,String,[i,r]),e.addExtPacker(13,Date,[Number,r]),e.addExtPacker(15,Number,[i,r]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,h),e.addExtPacker(18,Uint8Array,h),e.addExtPacker(19,Int16Array,h),e.addExtPacker(20,Uint16Array,h),e.addExtPacker(21,Int32Array,h),e.addExtPacker(22,Uint32Array,h),e.addExtPacker(23,Float32Array,h),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,h),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,h),e.addExtPacker(26,ArrayBuffer,h),e.addExtPacker(29,DataView,h)),c.hasBuffer&&e.addExtPacker(27,u,c.from)}function r(e){return l||(l=o(283).encode),l(e)}function i(e){return e.valueOf()}function a(e){e=RegExp.prototype.toString.call(e).split("/"),e.shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function s(e){var t={};for(var o in g)t[o]=e[o];return t}t.setExtPackers=n;var l,c=o(22),u=c.global,h=c.Uint8Array.from,g={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},function(e,t,o){function n(e){e.addExtUnpacker(14,[r,a(Error)]),e.addExtUnpacker(1,[r,a(EvalError)]),e.addExtUnpacker(2,[r,a(RangeError)]),e.addExtUnpacker(3,[r,a(ReferenceError)]),e.addExtUnpacker(4,[r,a(SyntaxError)]),e.addExtUnpacker(5,[r,a(TypeError)]),e.addExtUnpacker(6,[r,a(URIError)]),e.addExtUnpacker(10,[r,i]),e.addExtUnpacker(11,[r,s(Boolean)]),e.addExtUnpacker(12,[r,s(String)]),e.addExtUnpacker(13,[r,s(Date)]),e.addExtUnpacker(15,[r,s(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,s(Int8Array)),e.addExtUnpacker(18,s(Uint8Array)),e.addExtUnpacker(19,[l,s(Int16Array)]),e.addExtUnpacker(20,[l,s(Uint16Array)]),e.addExtUnpacker(21,[l,s(Int32Array)]),e.addExtUnpacker(22,[l,s(Uint32Array)]),e.addExtUnpacker(23,[l,s(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[l,s(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,s(Uint8ClampedArray)),e.addExtUnpacker(26,l),e.addExtUnpacker(29,[l,s(DataView)])),u.hasBuffer&&e.addExtUnpacker(27,s(h))}function r(e){return c||(c=o(281).decode),c(e)}function i(e){return RegExp.apply(null,e)}function a(e){return function(t){var o=new e;for(var n in g)o[n]=t[n];return o}}function s(e){return function(t){return new e(t)}}function l(e){return new Uint8Array(e).buffer}t.setExtUnpackers=n;var c,u=o(22),h=u.global,g={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},function(e,t,o){o(158),o(159),t.createCodec=o(107).createCodec},function(e,t,o){function n(e){var t=c.getReadFormat(e);return e&&e.useraw?i(t):r(t)}function r(e){var t,o=new Array(256);for(t=0;t<=127;t++)o[t]=a(t);for(t=128;t<=143;t++)o[t]=l(t-128,e.map);for(t=144;t<=159;t++)o[t]=l(t-144,e.array);for(t=160;t<=191;t++)o[t]=l(t-160,e.str);for(o[192]=a(null),o[193]=null,o[194]=a(!1),o[195]=a(!0),o[196]=s(e.uint8,e.bin),o[197]=s(e.uint16,e.bin),o[198]=s(e.uint32,e.bin),o[199]=s(e.uint8,e.ext),o[200]=s(e.uint16,e.ext),o[201]=s(e.uint32,e.ext),o[202]=e.float32,o[203]=e.float64,o[204]=e.uint8,o[205]=e.uint16,o[206]=e.uint32,o[207]=e.uint64,o[208]=e.int8,o[209]=e.int16,o[210]=e.int32,o[211]=e.int64,o[212]=l(1,e.ext),o[213]=l(2,e.ext),o[214]=l(4,e.ext),o[215]=l(8,e.ext),o[216]=l(16,e.ext),o[217]=s(e.uint8,e.str),o[218]=s(e.uint16,e.str),o[219]=s(e.uint32,e.str),o[220]=s(e.uint16,e.array),o[221]=s(e.uint32,e.array),o[222]=s(e.uint16,e.map),o[223]=s(e.uint32,e.map),t=224;t<=255;t++)o[t]=a(t-256);return o}function i(e){var t,o=r(e).slice();for(o[217]=o[196],o[218]=o[197],o[219]=o[198],t=160;t<=191;t++)o[t]=l(t-160,e.bin);return o}function a(e){return function(){return e}}function s(e,t){return function(o){var n=e(o);return t(o,n)}}function l(e,t){return function(o){return t(o,e)}}var c=o(285);t.getReadToken=n},function(e,t,o){function n(e){return e&&e.uint8array?r():T||v.hasBuffer&&e&&e.safe?a():i()}function r(){var e=i();return e[202]=u(202,4,d),e[203]=u(203,8,f),e}function i(){var e=m.slice();return e[196]=s(196),e[197]=l(197),e[198]=c(198),e[199]=s(199),e[200]=l(200),e[201]=c(201),e[202]=u(202,4,S.writeFloatBE||d,!0),e[203]=u(203,8,S.writeDoubleBE||f,!0),e[204]=s(204),e[205]=l(205),e[206]=c(206),e[207]=u(207,8,h),e[208]=s(208),e[209]=l(209),e[210]=c(210),e[211]=u(211,8,g),e[217]=s(217),e[218]=l(218),e[219]=c(219),e[220]=l(220),e[221]=c(221),e[222]=l(222),e[223]=c(223),e}function a(){var e=m.slice();return e[196]=u(196,1,E.prototype.writeUInt8),e[197]=u(197,2,E.prototype.writeUInt16BE),e[198]=u(198,4,E.prototype.writeUInt32BE),e[199]=u(199,1,E.prototype.writeUInt8),e[200]=u(200,2,E.prototype.writeUInt16BE),e[201]=u(201,4,E.prototype.writeUInt32BE),e[202]=u(202,4,E.prototype.writeFloatBE),e[203]=u(203,8,E.prototype.writeDoubleBE),e[204]=u(204,1,E.prototype.writeUInt8),e[205]=u(205,2,E.prototype.writeUInt16BE),e[206]=u(206,4,E.prototype.writeUInt32BE),e[207]=u(207,8,h),e[208]=u(208,1,E.prototype.writeInt8),e[209]=u(209,2,E.prototype.writeInt16BE),e[210]=u(210,4,E.prototype.writeInt32BE),e[211]=u(211,8,g),e[217]=u(217,1,E.prototype.writeUInt8),e[218]=u(218,2,E.prototype.writeUInt16BE),e[219]=u(219,4,E.prototype.writeUInt32BE),e[220]=u(220,2,E.prototype.writeUInt16BE),e[221]=u(221,4,E.prototype.writeUInt32BE),e[222]=u(222,2,E.prototype.writeUInt16BE),e[223]=u(223,4,E.prototype.writeUInt32BE),e}function s(e){return function(t,o){var n=t.reserve(2),r=t.buffer;r[n++]=e,r[n]=o}}function l(e){return function(t,o){var n=t.reserve(3),r=t.buffer;r[n++]=e,r[n++]=o>>>8,r[n]=o}}function c(e){return function(t,o){var n=t.reserve(5),r=t.buffer;r[n++]=e,r[n++]=o>>>24,r[n++]=o>>>16,r[n++]=o>>>8,r[n]=o}}function u(e,t,o,n){return function(r,i){var a=r.reserve(t+1);r.buffer[a++]=e,o.call(r.buffer,i,a,n)}}function h(e,t){new b(this,t,e)}function g(e,t){new _(this,t,e)}function d(e,t){p.write(this,e,t,!1,23,4)}function f(e,t){p.write(this,e,t,!1,52,8)}var p=o(148),y=o(151),b=y.Uint64BE,_=y.Int64BE,m=o(286).uint8,v=o(22),E=v.global,k=v.hasBuffer&&"TYPED_ARRAY_SUPPORT"in E,T=k&&!E.TYPED_ARRAY_SUPPORT,S=v.hasBuffer&&E.prototype||{};t.getWriteToken=n},function(e,t,o){function n(e){function t(e,t){var o=t?195:194;I[o](e,t)}function o(e,t){var o,n=0|t;return t!==n?(o=203,void I[o](e,t)):(o=-32<=n&&n<=127?255&n:0<=n?n<=255?204:n<=65535?205:206:-128<=n?208:-32768<=n?209:210,void I[o](e,n))}function n(e,t){var o=207;I[o](e,t.toArray())}function i(e,t){var o=211;I[o](e,t.toArray())}function y(e){return e<32?1:e<=255?2:e<=65535?3:5}function b(e){return e<32?1:e<=65535?3:5}function _(e){function t(t,o){var n=o.length,r=5+3*n;t.offset=t.reserve(r);var i=t.buffer,a=e(n),s=t.offset+a;n=c.write.call(i,o,s);var l=e(n);if(a!==l){var u=s+l-a,h=s+n;c.copy.call(i,i,u,s,h)}var g=1===l?160+n:l<=3?215+l:219;I[g](t,n),t.offset+=n}return t}function m(e,t){if(null===t)return E(e,t);if(M(t))return x(e,t);if(r(t))return k(e,t);if(a.isUint64BE(t))return n(e,t);if(s.isInt64BE(t))return i(e,t);var o=e.codec.getExtPacker(t);return o&&(t=o(t)),t instanceof g?C(e,t):void L(e,t)}function v(e,t){return M(t)?w(e,t):void m(e,t)}function E(e,t){var o=192;I[o](e,t)}function k(e,t){var o=t.length,n=o<16?144+o:o<=65535?220:221;I[n](e,o);for(var r=e.codec.encode,i=0;i<o;i++)r(e,t[i])}function T(e,t){var o=t.length,n=o<255?196:o<=65535?197:198;I[n](e,o),e.send(t)}function S(e,t){T(e,new Uint8Array(t))}function C(e,t){var o=t.buffer,n=o.length,r=p[n]||(n<255?199:n<=65535?200:201);I[r](e,n),h[t.type](e),e.send(o)}function B(e,t){var o=Object.keys(t),n=o.length,r=n<16?128+n:n<=65535?222:223;I[r](e,n);var i=e.codec.encode;o.forEach(function(o){i(e,o),i(e,t[o])})}function A(e,t){if(!(t instanceof Map))return B(e,t);var o=t.size,n=o<16?128+o:o<=65535?222:223;I[n](e,o);var r=e.codec.encode;t.forEach(function(t,o,n){r(e,o),r(e,t)})}function w(e,t){var o=t.length,n=o<32?160+o:o<=65535?218:219;I[n](e,o),e.send(t)}var I=u.getWriteToken(e),O=e&&e.useraw,R=d&&e&&e.binarraybuffer,M=R?l.isArrayBuffer:l.isBuffer,x=R?S:T,N=f&&e&&e.usemap,L=N?A:B,D={boolean:t,function:E,number:o,object:O?v:m,string:_(O?b:y),symbol:E,undefined:E};return D}var r=o(160),i=o(151),a=i.Uint64BE,s=i.Int64BE,l=o(22),c=o(156),u=o(726),h=o(286).uint8,g=o(157).ExtBuffer,d="undefined"!=typeof Uint8Array,f="undefined"!=typeof Map,p=[];p[1]=212,p[2]=213,p[4]=214,p[8]=215,p[16]=216,t.getWriteType=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={body:"",args:[],thisVars:[],localVars:[]}},[1231,287],function(e,t,o){"use strict";var n=o(287);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"})},[1233,144],[1236,263,39,32,1153,88,116,88,116],[1237,88,39,32],[1238,39,32,88,88],[1239,733],[1240,868],[1242,739,51,289,162,293],[1243,742,51,289,291,162,293,740],[1166,51,744,290,292,162],function(e,t){"use strict";function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=o},535,[1167,51,290,292,741,743],[1168,51],[1169,51],function(e,t,o){e.exports=o(746)},function(e,t,o){e.exports={Heap:o(103),Node:o(163),Grid:o(747),Util:o(62),DiagonalMovement:o(17),Heuristic:o(89),AStarFinder:o(164),BestFirstFinder:o(748),BreadthFirstFinder:o(752),DijkstraFinder:o(753),BiAStarFinder:o(165),BiBestFirstFinder:o(749),BiBreadthFirstFinder:o(750),BiDijkstraFinder:o(751),IDAStarFinder:o(754),JumpPointFinder:o(759)}},function(e,t,o){function n(e,t,o){var n;"object"!=typeof e?n=e:(t=e.length,n=e[0].length,o=e),this.width=n,this.height=t,this.nodes=this._buildNodes(n,t,o)}var r=o(163),i=o(17);n.prototype._buildNodes=function(e,t,o){var n,i,a=new Array(t);for(n=0;n<t;++n)for(a[n]=new Array(e),i=0;i<e;++i)a[n][i]=new r(i,n);if(void 0===o)return a;if(o.length!==t||o[0].length!==e)throw new Error("Matrix size does not fit");for(n=0;n<t;++n)for(i=0;i<e;++i)o[n][i]&&(a[n][i].walkable=!1);return a},n.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},n.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},n.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},n.prototype.setWalkableAt=function(e,t,o){this.nodes[t][e].walkable=o},n.prototype.getNeighbors=function(e,t){var o=e.x,n=e.y,r=[],a=!1,s=!1,l=!1,c=!1,u=!1,h=!1,g=!1,d=!1,f=this.nodes;if(this.isWalkableAt(o,n-1)&&(r.push(f[n-1][o]),a=!0),this.isWalkableAt(o+1,n)&&(r.push(f[n][o+1]),l=!0),this.isWalkableAt(o,n+1)&&(r.push(f[n+1][o]),u=!0),this.isWalkableAt(o-1,n)&&(r.push(f[n][o-1]),g=!0),t===i.Never)return r;if(t===i.OnlyWhenNoObstacles)s=g&&a,c=a&&l,h=l&&u,d=u&&g;else if(t===i.IfAtMostOneObstacle)s=g||a,c=a||l,h=l||u,d=u||g;else{if(t!==i.Always)throw new Error("Incorrect value of diagonalMovement");s=!0,c=!0,h=!0,d=!0}return s&&this.isWalkableAt(o-1,n-1)&&r.push(f[n-1][o-1]),c&&this.isWalkableAt(o+1,n-1)&&r.push(f[n-1][o+1]),h&&this.isWalkableAt(o+1,n+1)&&r.push(f[n+1][o+1]),d&&this.isWalkableAt(o-1,n+1)&&r.push(f[n+1][o-1]),r},n.prototype.clone=function(){var e,t,o=this.width,i=this.height,a=this.nodes,s=new n(o,i),l=new Array(i);for(e=0;e<i;++e)for(l[e]=new Array(o),t=0;t<o;++t)l[e][t]=new r(t,e,a[e][t].walkable);return s.nodes=l,s},e.exports=n},function(e,t,o){function n(e){r.call(this,e);var t=this.heuristic;this.heuristic=function(e,o){return 1e6*t(e,o)}}var r=o(164);n.prototype=new r,n.prototype.constructor=n,e.exports=n},function(e,t,o){function n(e){r.call(this,e);var t=this.heuristic;this.heuristic=function(e,o){return 1e6*t(e,o)}}var r=o(165);n.prototype=new r,n.prototype.constructor=n,e.exports=n},function(e,t,o){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never)}var r=o(62),i=o(17);n.prototype.findPath=function(e,t,o,n,i){var a,s,l,c,u,h=i.getNodeAt(e,t),g=i.getNodeAt(o,n),d=[],f=[],p=this.diagonalMovement,y=0,b=1;for(d.push(h),h.opened=!0,h.by=y,f.push(g),g.opened=!0,g.by=b;d.length&&f.length;){for(l=d.shift(),l.closed=!0,a=i.getNeighbors(l,p),c=0,u=a.length;c<u;++c)if(s=a[c],!s.closed)if(s.opened){if(s.by===b)return r.biBacktrace(l,s)}else d.push(s),s.parent=l,s.opened=!0,s.by=y;for(l=f.shift(),l.closed=!0,a=i.getNeighbors(l,p),c=0,u=a.length;c<u;++c)if(s=a[c],!s.closed)if(s.opened){if(s.by===y)return r.biBacktrace(s,l)}else f.push(s),s.parent=l,s.opened=!0,s.by=b}return[]},e.exports=n},function(e,t,o){function n(e){r.call(this,e),this.heuristic=function(e,t){return 0}}var r=o(165);n.prototype=new r,n.prototype.constructor=n,e.exports=n},function(e,t,o){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never)}var r=o(62),i=o(17);n.prototype.findPath=function(e,t,o,n,i){var a,s,l,c,u,h=[],g=this.diagonalMovement,d=i.getNodeAt(e,t),f=i.getNodeAt(o,n);for(h.push(d),d.opened=!0;h.length;){if(l=h.shift(),l.closed=!0,l===f)return r.backtrace(f);for(a=i.getNeighbors(l,g),c=0,u=a.length;c<u;++c)s=a[c],s.closed||s.opened||(h.push(s),s.opened=!0,s.parent=l)}return[]},e.exports=n},function(e,t,o){function n(e){r.call(this,e),this.heuristic=function(e,t){return 0}}var r=o(164);n.prototype=new r,n.prototype.constructor=n,e.exports=n},function(e,t,o){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||r.manhattan,this.weight=e.weight||1,this.trackRecursion=e.trackRecursion||!1,this.timeLimit=e.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||r.manhattan:this.heuristic=e.heuristic||r.octile}var r=(o(62),o(89)),i=o(163),a=o(17);n.prototype.findPath=function(e,t,o,n,r){var a,s,l,c=0,u=(new Date).getTime(),h=function(e,t){return this.heuristic(Math.abs(t.x-e.x),Math.abs(t.y-e.y))}.bind(this),g=function(e,t){return e.x===t.x||e.y===t.y?1:Math.SQRT2},d=function(e,t,o,n,a){if(c++,this.timeLimit>0&&(new Date).getTime()-u>1e3*this.timeLimit)return 1/0;var s=t+h(e,p)*this.weight;if(s>o)return s;if(e==p)return n[a]=[e.x,e.y],e;var l,f,y,b,_=r.getNeighbors(e,this.diagonalMovement);for(y=0,l=1/0;b=_[y];++y){if(this.trackRecursion&&(b.retainCount=b.retainCount+1||1,b.tested!==!0&&(b.tested=!0)),f=d(b,t+g(e,b),o,n,a+1),f instanceof i)return n[a]=[e.x,e.y],f;this.trackRecursion&&0===--b.retainCount&&(b.tested=!1),f<l&&(l=f)}return l}.bind(this),f=r.getNodeAt(e,t),p=r.getNodeAt(o,n),y=h(f,p);for(a=0;!0;++a){if(s=[],l=d(f,0,y,s,0),l===1/0)return[];if(l instanceof i)return s;y=l}return[]},e.exports=n},function(e,t,o){function n(e){r.call(this,e)}var r=o(108),i=o(17);n.prototype=new r,n.prototype.constructor=n,n.prototype._jump=function(e,t,o,n){var r=this.grid,i=e-o,a=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i&&0!==a){if(r.isWalkableAt(e-i,t+a)&&!r.isWalkableAt(e-i,t)||r.isWalkableAt(e+i,t-a)&&!r.isWalkableAt(e,t-a))return[e,t];if(this._jump(e+i,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==i){if(r.isWalkableAt(e+i,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+i,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+a)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+a)&&!r.isWalkableAt(e-1,t))return[e,t];return this._jump(e+i,t+a,e,t)},n.prototype._findNeighbors=function(e){var t,o,n,r,a,s,l,c,u=e.parent,h=e.x,g=e.y,d=this.grid,f=[];if(u)t=u.x,o=u.y,n=(h-t)/Math.max(Math.abs(h-t),1),r=(g-o)/Math.max(Math.abs(g-o),1),0!==n&&0!==r?(d.isWalkableAt(h,g+r)&&f.push([h,g+r]),d.isWalkableAt(h+n,g)&&f.push([h+n,g]),d.isWalkableAt(h+n,g+r)&&f.push([h+n,g+r]),d.isWalkableAt(h-n,g)||f.push([h-n,g+r]),d.isWalkableAt(h,g-r)||f.push([h+n,g-r])):0===n?(d.isWalkableAt(h,g+r)&&f.push([h,g+r]),d.isWalkableAt(h+1,g)||f.push([h+1,g+r]),d.isWalkableAt(h-1,g)||f.push([h-1,g+r])):(d.isWalkableAt(h+n,g)&&f.push([h+n,g]),d.isWalkableAt(h,g+1)||f.push([h+n,g+1]),d.isWalkableAt(h,g-1)||f.push([h+n,g-1]));else for(a=d.getNeighbors(e,i.Always),l=0,c=a.length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=n},function(e,t,o){function n(e){r.call(this,e)}var r=o(108),i=o(17);n.prototype=new r,n.prototype.constructor=n,n.prototype._jump=function(e,t,o,n){var r=this.grid,i=e-o,a=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i&&0!==a){if(r.isWalkableAt(e-i,t+a)&&!r.isWalkableAt(e-i,t)||r.isWalkableAt(e+i,t-a)&&!r.isWalkableAt(e,t-a))return[e,t];if(this._jump(e+i,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==i){if(r.isWalkableAt(e+i,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+i,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+a)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+a)&&!r.isWalkableAt(e-1,t))return[e,t];return r.isWalkableAt(e+i,t)||r.isWalkableAt(e,t+a)?this._jump(e+i,t+a,e,t):null},n.prototype._findNeighbors=function(e){var t,o,n,r,a,s,l,c,u=e.parent,h=e.x,g=e.y,d=this.grid,f=[];if(u)t=u.x,o=u.y,n=(h-t)/Math.max(Math.abs(h-t),1),r=(g-o)/Math.max(Math.abs(g-o),1),0!==n&&0!==r?(d.isWalkableAt(h,g+r)&&f.push([h,g+r]),d.isWalkableAt(h+n,g)&&f.push([h+n,g]),(d.isWalkableAt(h,g+r)||d.isWalkableAt(h+n,g))&&f.push([h+n,g+r]),!d.isWalkableAt(h-n,g)&&d.isWalkableAt(h,g+r)&&f.push([h-n,g+r]),!d.isWalkableAt(h,g-r)&&d.isWalkableAt(h+n,g)&&f.push([h+n,g-r])):0===n?d.isWalkableAt(h,g+r)&&(f.push([h,g+r]),d.isWalkableAt(h+1,g)||f.push([h+1,g+r]),d.isWalkableAt(h-1,g)||f.push([h-1,g+r])):d.isWalkableAt(h+n,g)&&(f.push([h+n,g]),d.isWalkableAt(h,g+1)||f.push([h+n,g+1]),d.isWalkableAt(h,g-1)||f.push([h+n,g-1]));else for(a=d.getNeighbors(e,i.IfAtMostOneObstacle),l=0,c=a.length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=n},function(e,t,o){function n(e){r.call(this,e)}var r=o(108),i=o(17);n.prototype=new r,n.prototype.constructor=n,n.prototype._jump=function(e,t,o,n){var r=this.grid,i=e-o,a=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i&&0!==a){if(this._jump(e+i,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==i){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-i,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-i,t+1))return[e,t]}else if(0!==a&&(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-a)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-a)))return[e,t];return r.isWalkableAt(e+i,t)&&r.isWalkableAt(e,t+a)?this._jump(e+i,t+a,e,t):null},n.prototype._findNeighbors=function(e){var t,o,n,r,a,s,l,c,u=e.parent,h=e.x,g=e.y,d=this.grid,f=[];if(u)if(t=u.x,o=u.y,n=(h-t)/Math.max(Math.abs(h-t),1),r=(g-o)/Math.max(Math.abs(g-o),1),0!==n&&0!==r)d.isWalkableAt(h,g+r)&&f.push([h,g+r]),d.isWalkableAt(h+n,g)&&f.push([h+n,g]),d.isWalkableAt(h,g+r)&&d.isWalkableAt(h+n,g)&&f.push([h+n,g+r]);else{var p;if(0!==n){p=d.isWalkableAt(h+n,g);var y=d.isWalkableAt(h,g+1),b=d.isWalkableAt(h,g-1);p&&(f.push([h+n,g]),y&&f.push([h+n,g+1]),b&&f.push([h+n,g-1])),y&&f.push([h,g+1]),b&&f.push([h,g-1])}else if(0!==r){p=d.isWalkableAt(h,g+r);var _=d.isWalkableAt(h+1,g),m=d.isWalkableAt(h-1,g);p&&(f.push([h,g+r]),_&&f.push([h+1,g+r]),m&&f.push([h-1,g+r])),_&&f.push([h+1,g]),m&&f.push([h-1,g])}}else for(a=d.getNeighbors(e,i.OnlyWhenNoObstacles),l=0,c=a.length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=n},function(e,t,o){function n(e){r.call(this,e)}var r=o(108),i=o(17);n.prototype=new r,n.prototype.constructor=n,n.prototype._jump=function(e,t,o,n){var r=this.grid,i=e-o,a=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==i){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-i,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-i,t+1))return[e,t]}else{if(0===a)throw new Error("Only horizontal and vertical movements are allowed");if(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-a)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-a))return[e,t];if(this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}return this._jump(e+i,t+a,e,t)},n.prototype._findNeighbors=function(e){var t,o,n,r,a,s,l,c,u=e.parent,h=e.x,g=e.y,d=this.grid,f=[];if(u)t=u.x,o=u.y,n=(h-t)/Math.max(Math.abs(h-t),1),r=(g-o)/Math.max(Math.abs(g-o),1),0!==n?(d.isWalkableAt(h,g-1)&&f.push([h,g-1]),d.isWalkableAt(h,g+1)&&f.push([h,g+1]),d.isWalkableAt(h+n,g)&&f.push([h+n,g])):0!==r&&(d.isWalkableAt(h-1,g)&&f.push([h-1,g]),d.isWalkableAt(h+1,g)&&f.push([h+1,g]),d.isWalkableAt(h,g+r)&&f.push([h,g+r]));else for(a=d.getNeighbors(e,i.Never),l=0,c=a.length;l<c;++l)s=a[l],f.push([s.x,s.y]);return f},e.exports=n},function(e,t,o){function n(e){return e=e||{},e.diagonalMovement===r.Never?new i(e):e.diagonalMovement===r.Always?new a(e):e.diagonalMovement===r.OnlyWhenNoObstacles?new s(e):new l(e)}var r=o(17),i=o(758),a=o(755),s=o(757),l=o(756);e.exports=n},function(e,t,o){"use strict";function n(e){var t=new r(r._61);return t._81=1,t._65=e,t}var r=o(295);e.exports=r;var i=n(!0),a=n(!1),s=n(null),l=n(void 0),c=n(0),u=n("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return i;if(e===!1)return a;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(o){return new r(function(e,t){t(o)})}return n(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,o){function n(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?n(a,s._65):(2===s._81&&o(s._65),void s.then(function(e){n(a,e)},o))}var l=s.then;if("function"==typeof l){var c=new r(l.bind(s));return void c.then(function(e){
n(a,e)},o)}}t[a]=s,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)n(a,t[a])})},r.reject=function(e){return new r(function(t,o){o(e)})},r.race=function(e){return new r(function(t,o){e.forEach(function(e){r.resolve(e).then(t,o)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t,o){"use strict";function n(){c=!1,s._10=null,s._97=null}function r(e){function t(t){(e.allRejections||a(h[t].error,e.whitelist||l))&&(h[t].displayId=u++,e.onUnhandled?(h[t].logged=!0,e.onUnhandled(h[t].displayId,h[t].error)):(h[t].logged=!0,i(h[t].displayId,h[t].error)))}function o(t){h[t].logged&&(e.onHandled?e.onHandled(h[t].displayId,h[t].error):h[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[t].displayId+".")))}e=e||{},c&&n(),c=!0;var r=0,u=0,h={};s._10=function(e){2===e._81&&h[e._72]&&(h[e._72].logged?o(e._72):clearTimeout(h[e._72].timeout),delete h[e._72])},s._97=function(e,o){0===e._45&&(e._72=r++,h[e._72]={displayId:null,error:o,timeout:setTimeout(t.bind(null,e._72),a(o,l)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var o=(t&&(t.stack||t))+"";o.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=o(295),l=[ReferenceError,TypeError,RangeError],c=!1;t.disable=n,t.enable=r},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nvoid main() {\n  // #FF4081\n  gl_FragColor = vec4(1.0, 0.25, 0.51, 0.3);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 position;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvoid main() {\n  gl_Position = uProjection * uView * uModel * position;\n}\n"},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nvarying vec2 vUv;\n\nvoid main(void) {\n  float gridThickness = 0.05;\n  vec3 gridColor = vec3(0.00, 0.59, 0.53); // #009688\n\n  // Edge\n  vec2 eThickness = vec2(gridThickness, gridThickness) / 2.0;\n\n  vec2 ef = fract(vUv);\n  ef = min(ef, 1.0 - ef);\n\n  vec2 eDelta = fwidth(ef);\n  ef = smoothstep(ef - eDelta, ef + eDelta, eThickness);\n\n  float opacity = clamp(ef.x + ef.y, 0.0, 1.0);\n  if(opacity < 0.5) discard;\n\n  gl_FragColor = vec4(gridColor, 0.5);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\n\nvoid main(){\n  vUv = uv;\n  gl_Position = uProjection * uView * uModel * vec4(position, 1.0);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D tileMap;\nuniform float tileCount;\n\nvarying vec3  normal;\nvarying vec2  tileCoord;\nvarying float tileSize;\nvarying vec2  texCoord;\nvarying float ambientOcclusion;\n\nvoid main() {\n\n  vec2 uv      = texCoord;\n  vec4 color   = vec4(0,0,0,0);\n  float weight = 0.0;\n\n  vec2 tileOffset = 2.0 * pow(2.0, 4.0) * tileCoord;\n  float denom     = 2.0 * pow(2.0, 4.0) * tileCount;\n\n  for(int dx=0; dx<2; ++dx) {\n    for(int dy=0; dy<2; ++dy) {\n      vec2 offset = 2.0 * fract(0.5 * (uv + vec2(dx, dy)));\n      float w = pow(1.0 - max(abs(offset.x-1.0), abs(offset.y-1.0)), 16.0);\n\n      vec2 tc = (tileOffset + tileSize * offset) / denom;\n      color  += w * texture2D(tileMap, tc);\n      weight += w;\n    }\n  }\n  color /= weight;\n\n  if(color.w < 0.5) {\n    discard;\n  }\n\n  float light = ambientOcclusion + max(0.15*dot(normal, vec3(1,1,1)), 0.0);\n\n  gl_FragColor = vec4(color.xyz * light, color.w);\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec4 attrib0;\nattribute vec4 attrib1;\nattribute vec4 attrib2;\n\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\nuniform float tileCount;\n\nvarying vec3  normal;\nvarying vec2  tileCoord;\nvarying float tileSize;\nvarying vec2  texCoord;\nvarying float ambientOcclusion;\n\nvoid main() {\n  //Compute position\n  vec3 position = attrib0.xyz;\n\n  //Compute ambient occlusion\n  ambientOcclusion = attrib0.w / 255.0;\n\n  //Extracted packed bits of normal. GLSL 1.0 doesn't support bitfieldExtract or even bitwise operations :(\n  vec3 normal = 128.0 - attrib1.xyz;\n\n  //Compute texture coordinate\n  texCoord = vec2(dot(position, vec3(normal.y-normal.z, 0, normal.x)),\n                  dot(position, vec3(0, -abs(normal.x+normal.z), normal.y)));\n\n  //Compute tile coordinate\n  tileSize    = exp2(attrib2.x);\n  float tx    = (attrib2.y * 256.0 + attrib2.z) / tileCount; // 16-bit\n  tileCoord.x = floor(tx);\n  tileCoord.y = fract(tx) * tileCount;\n\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nvarying vec2 vUv;\n\nvoid main() {\n  gl_FragColor = texture2D(texture, vUv);\n\n  if (gl_FragColor.w < 0.5) {\n    discard;\n  }\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\nvarying vec2 vUv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  vUv = uv;\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nvoid main() {\n  gl_FragColor = vec4(1.0, 1.0, 1.0, 0.3);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 position;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvoid main() {\n  // Determine position\n  gl_Position = uProjection * uView * uModel * position;\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 attrib0;\nattribute vec4 attrib1;\nattribute vec4 attrib2;\n\nuniform mat4 uProjection;\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform vec3 uLightDirection;\n\nvarying vec3 vColor;\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize((matrix * vec4( dir, 0.0)).xyz);\n}\n\nvoid main() {\n  // Determine color\n  vec3 normal = 128.0 - attrib1.xyz;\n\n  // Compute ambient occlusion\n  float ambientOcclusion = attrib0.w / 255.0;\n  float ambient = ambientOcclusion + max(0.15 * dot(normal, vec3(1,1,1)), 0.0) / 10.0;\n\n  // Compute directional light\n  vec3 tNormal = transformDirection(normal, uModel);\n  float diffuse = max(dot(tNormal, uLightDirection), 0.0);\n\n  float weight = diffuse * 0.3 + ambient * 0.7;\n\n  vec3 color = attrib2.xyz / 255.0;\n  vColor = color * weight;\n\n  // Determine position\n  vec4 position = uModel * vec4(attrib0.xyz, 1.0);\n  gl_Position = uProjection * uView * position;\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\n\nvarying vec2 vUV;\n\nvoid main() {\n  gl_FragColor = texture2D(texture, vUV);\n\n  if (gl_FragColor.w < 0.5) {\n    discard;\n  }\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nattribute vec2 position;\nattribute vec2 uv;\n\nvarying vec2 vUV;\n\nvoid main() {\n  vUV = uv;\n\n  vec4 finalPosition;\n\n  finalPosition = uView * uModel * vec4( 0.0, 0.0, 0.0, 1.0 );\n  finalPosition.xy += position;\n  finalPosition = uProjection * finalPosition;\n\n  gl_Position = finalPosition;\n}\n"},function(e,t){e.exports='<xml>\n  <block type="when_run" x="20" y="20">\n    <next>\n      <block type="jump"></block>\n    </next>\n  </block>\n</xml>\n'},function(e,t){e.exports='<xml id="toolbox">\n  <block type="use">\n    <value name="POSITION">\n      <block type="nearestVoxel"></block>\n    </value>\n  </block>\n  <block type="jump"></block>\n  <block type="controls_forever"></block>\n</xml>\n'},function(e,t){e.exports='// Do not edit this file; automatically generated by build.py.\n\'use strict\';\n\nvar COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}};\ngoog.define=function(a,b){var c=b;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a]));goog.exportPath_(a,c)};goog.DEBUG=!1;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(a))throw Error(\'Namespace "\'+a+\'" already declared.\');goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};\ngoog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a))throw Error(\'Namespace "\'+a+\'" already declared.\');delete goog.implicitNamespaces_[a]}};\ngoog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED)return goog.isProvided_(a)?a in goog.loadedModules_?goog.loadedModules_[a]:goog.getObjectByName(a):null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};\ngoog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};\ngoog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0});\ngoog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e;e=c.shift();)if(goog.isDefAndNotNull(d[e]))d=d[e];else return null;return d};goog.globalize=function(a,b){var c=b||goog.global,d;for(d in a)c[d]=a[d]};\ngoog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e;a=a.replace(/\\\\/g,"/");var f=goog.dependencies_;d&&"boolean"!==typeof d||(d=d?{module:"goog"}:{});for(var g=0;e=b[g];g++)f.nameToPath[e]=a,f.loadFlags[a]=d;for(d=0;b=c[d];d++)a in f.requires||(f.requires[a]={}),f.requires[a][b]=!0}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};\ngoog.require=function(a){if(!COMPILED){goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(a);if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)goog.writeScripts_(b);else throw a="goog.require could not find: "+a,goog.logToConsole_(a),Error(a);}return null}};goog.basePath="";goog.nullFunction=function(){};\ngoog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE="detect";\ngoog.TRANSPILER="transpile.js";\ngoog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("SCRIPT"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:d;if("base.js"==\nc.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(a,b)&&(goog.dependencies_.written[a]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importProcessedScript_=function(a,b,c){goog.importScript_("",\'goog.retrieveAndExec_("\'+a+\'", \'+b+", "+c+");")},goog.queuedModules_=[],goog.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?\n"goog.loadModule("+goog.global.JSON.stringify(b+"\\n//# sourceURL="+a+"\\n")+");":\'goog.loadModule(function(exports) {"use strict";\'+b+"\\n;return exports});\\n//# sourceURL="+a+"\\n"},goog.loadQueuedModules_=function(){var a=goog.queuedModules_.length;if(0<a){var b=goog.queuedModules_;goog.queuedModules_=[];for(var c=0;c<a;c++)goog.maybeProcessDeferredPath_(b[c])}},goog.maybeProcessDeferredDep_=function(a){goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)&&(a=goog.getPathFromDeps_(a),goog.maybeProcessDeferredPath_(goog.basePath+\na))},goog.isDeferredModule_=function(a){var b=(a=goog.getPathFromDeps_(a))&&goog.dependencies_.loadFlags[a]||{};return a&&("goog"==b.module||goog.needsTranspile_(b.lang))?goog.basePath+a in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(a){if((a=goog.getPathFromDeps_(a))&&a in goog.dependencies_.requires)for(var b in goog.dependencies_.requires[a])if(!goog.isProvided_(b)&&!goog.isDeferredModule_(b))return!1;return!0},goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=\ngoog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a];goog.globalEval(b)}},goog.loadModuleFromUrl=function(a){goog.retrieveAndExec_(a,!0,!1)},goog.writeScriptSrcNode_=function(a){goog.global.document.write(\'<script type="text/javascript" src="\'+a+\'">\\x3c/script>\')},goog.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.src=a;c.defer=!1;c.async=!1;b.head.appendChild(c)},goog.writeScriptTag_=function(a,b){if(goog.inHtmlDocument_()){var c=\ngoog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==c.readyState){if(/\\bdeps.js$/.test(a))return!1;throw Error(\'Cannot write "\'+a+\'" after document load\');}if(void 0===b)if(goog.IS_OLD_IE_){var d=" onreadystatechange=\'goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")\' ";c.write(\'<script type="text/javascript" src="\'+a+\'"\'+d+">\\x3c/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(a):goog.writeScriptSrcNode_(a);else c.write(\'<script type="text/javascript">\'+\nb+"\\x3c/script>");return!0}return!1},goog.needsTranspile_=function(a){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!goog.transpiledLanguages_){goog.transpiledLanguages_={es5:!0,es6:!0,"es6-impl":!0};try{goog.transpiledLanguages_.es5=eval("[1,].length!=1"),eval(\'(()=>{"use strict";let a={};const X=class{constructor(){}x(z){return new Map([...arguments]).get(z[0])==3}};return new X().x([a,3])})()\')&&(goog.transpiledLanguages_["es6-impl"]=!1),eval(\'(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()\')&&\n(goog.transpiledLanguages_.es6=!1)}catch(b){}}return!!goog.transpiledLanguages_[a]},goog.transpiledLanguages_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(a,b){"complete"==a.readyState&&goog.lastNonModuleScriptIndex_==b&&goog.loadQueuedModules_();return!0},goog.writeScripts_=function(a){function b(a){if(!(a in e.written||a in e.visited)){e.visited[a]=!0;if(a in e.requires)for(var f in e.requires[a])if(!goog.isProvided_(f))if(f in e.nameToPath)b(e.nameToPath[f]);else throw Error("Undefined nameToPath for "+\nf);a in d||(d[a]=!0,c.push(a))}}var c=[],d={},e=goog.dependencies_;b(a);for(a=0;a<c.length;a++){var f=c[a];goog.dependencies_.written[f]=!0}var g=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(a=0;a<c.length;a++)if(f=c[a]){var h=e.loadFlags[f]||{},k=goog.needsTranspile_(h.lang);"goog"==h.module||k?goog.importProcessedScript_(goog.basePath+f,"goog"==h.module,k):goog.importScript_(goog.basePath+f)}else throw goog.moduleLoaderState_=g,Error("Undefined script input");goog.moduleLoaderState_=\ng},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));\ngoog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var c;if(goog.isFunction(a))c=a.call(void 0,{});else if(goog.isString(a))c=goog.loadModuleFromSource_.call(void 0,a);else throw Error("Invalid module definition");var d=goog.moduleLoaderState_.moduleName;if(!goog.isString(d)||!d)throw Error(\'Invalid module name "\'+d+\'"\');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&\nObject.seal&&goog.isObject(c)&&Object.seal(c);goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){eval(a);return{}};goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};\ngoog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};\ngoog.retrieveAndExec_=function(a,b,c){if(!COMPILED){var d=a;a=goog.normalizePath_(a);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,f=goog.loadFileSync_(a);if(null==f)throw Error(\'Load of "\'+a+\'" failed\');c&&(f=goog.transpile_.call(goog.global,f,a));f=b?goog.wrapModule_(a,f):f+("\\n//# sourceURL="+a);goog.IS_OLD_IE_?(goog.dependencies_.deferred[d]=f,goog.queuedModules_.push(d)):e(a,f)}};\ngoog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);f&&(eval(f+"\\n//# sourceURL="+e),c=goog.global.$jscomp,d=c.transpile)}d||(d=c.transpile=function(a,b){goog.logToConsole_(b+" requires transpilation but no transpiler was found.");return a});return d(a,b)};\ngoog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";\nelse if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};\ngoog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};\ngoog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a};\ngoog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};\ngoog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};\ngoog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));\nb.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;\ngoog.getCssName=function(a,b){if("."==String(a).charAt(0))throw Error(\'className passed in goog.getCssName must not start with ".". You passed: \'+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a},d=b?a+"-"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(d):d};\ngoog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){b&&(a=a.replace(/\\{\\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a}));return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};\ngoog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};\ngoog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}e=Array(arguments.length-2);for(f=2;f<arguments.length;f++)e[f-2]=arguments[f];for(var f=!1,g=a.constructor;g;g=\ng.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);\ngoog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;\ngoog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b);return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");\ngoog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.debug={};goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.string={};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:"\\u00a0"};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};\ngoog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\\s\\xa0]+/g," ").replace(/^\\s+|\\s+$/g,"")};\ngoog.string.isEmptyOrWhitespace=function(a){return/^[\\s\\xa0]*$/.test(a)};goog.string.isEmptyString=function(a){return 0==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\\t\\n\\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};\ngoog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\\u0080"<=a&&"\\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\\r\\n|\\r|\\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\\r\\n|\\r|\\n)/g,"\\n")};\ngoog.string.normalizeWhitespace=function(a){return a.replace(/\\xa0|\\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\\xa0|[ \\t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\\t\\r\\n ]+/g," ").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")};goog.string.trimLeft=function(a){return a.replace(/^[\\s\\xa0]+/,"")};\ngoog.string.trimRight=function(a){return a.replace(/[\\s\\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1};\ngoog.string.numberAwareCompare_=function(a,b,c){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++){c=d[g];var h=e[g];if(c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1}return d.length!=e.length?d.length-e.length:a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\\d+|\\D+/g)};\ngoog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\\d+|\\.\\d+|\\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\\r\\n|\\r|\\n)/g,b?"<br />":"<br>")};\ngoog.string.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.AMP_RE_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.LT_RE_,\n"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.GT_RE_,"&gt;"));-1!=a.indexOf(\'"\')&&(a=a.replace(goog.string.QUOT_RE_,"&quot;"));-1!=a.indexOf("\'")&&(a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;"));-1!=a.indexOf("\\x00")&&(a=a.replace(goog.string.NULL_RE_,"&#0;"));goog.string.DETECT_DOUBLE_ESCAPING&&-1!=a.indexOf("e")&&(a=a.replace(goog.string.E_RE_,"&#101;"))}return a};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;\ngoog.string.SINGLE_QUOTE_RE_=/\'/g;goog.string.NULL_RE_=/\\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\\x00&<>"\'e]/:/[\\x00&<>"\']/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};\ngoog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,b):a};\ngoog.string.unescapeEntitiesUsingDom_=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":\'"\'},d;d=b?b.createElement("div"):goog.global.document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var g=c[a];if(g)return g;if("#"==b.charAt(0)){var h=Number("0"+b.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(d.innerHTML=a+" ",g=d.firstChild.nodeValue.slice(0,-1));return c[a]=g})};\ngoog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return\'"\';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};\ngoog.string.preserveSpaces=function(a){return a.replace(/(^|[\\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=goog.string.htmlEscape(a));return a};\ngoog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\\x00":"\\\\0","\\b":"\\\\b","\\f":"\\\\f","\\n":"\\\\n","\\r":"\\\\r","\\t":"\\\\t","\\x0B":"\\\\x0B",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\","<":"<"};goog.string.jsEscapeCache_={"\'":"\\\\\'"};\ngoog.string.quote=function(a){a=String(a);for(var b=[\'"\'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push(\'"\');return b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};\ngoog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\\\x",16>c||256<c)b+="0"}else b="\\\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=b};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};\ngoog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")};\ngoog.string.removeAll=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};goog.string.regExpEscape=function(a){return String(a).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1").replace(/\\x08/g,"\\\\x08")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};\ngoog.string.padNumber=function(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};\ngoog.string.compareVersions=function(a,b){for(var c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",k=e[g]||"";do{h=/(\\d*)(\\D*)(.*)/.exec(h)||["","","",""];k=/(\\d*)(\\D*)(.*)/.exec(k)||["","","",""];if(0==h[0].length&&0==k[0].length)break;var c=0==h[1].length?0:parseInt(h[1],10),m=0==k[1].length?0:parseInt(k[1],10),c=goog.string.compareElements_(c,m)||goog.string.compareElements_(0==h[2].length,0==k[2].length)||\ngoog.string.compareElements_(h[2],k[2]),h=h[3],k=k[3]}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b};\ngoog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};\ngoog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\\\s";return a.replace(new RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};\ngoog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d};goog.string.lastComponent=function(a,b){if(b)"string"==typeof b&&(b=[b]);else return a;for(var c=-1,d=0;d<b.length;d++)if(""!=b[d]){var e=a.lastIndexOf(b[d]);e>c&&(c=e)}return-1==c?a:a.slice(c+1)};\ngoog.string.editDistance=function(a,b){var c=[],d=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){b.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,b));b.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;\ngoog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);a=new goog.asserts.AssertionError(""+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)};goog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertElement=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertInstanceof=function(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3));return a};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")};\ngoog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=function(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!1;goog.debug.entryPointRegistry.register=function(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;if(goog.debug.entryPointRegistry.monitorsMayExist_)for(var b=goog.debug.entryPointRegistry.monitors_,c=0;c<b.length;c++)a(goog.bind(b[c].wrap,b[c]))};\ngoog.debug.entryPointRegistry.monitorAll=function(a){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var b=goog.bind(a.wrap,a),c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](b);goog.debug.entryPointRegistry.monitors_.push(a)};\ngoog.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var b=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==b[b.length-1],"Only the most recent monitor can be unwrapped.");a=goog.bind(a.unwrap,a);for(var c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](a);b.length--};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!1;goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;\ngoog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};\ngoog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};\ngoog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;--d)d in e&&b.call(c,e[d],d,a)};\ngoog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e};\ngoog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};\ngoog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){goog.asserts.assert(null!=a.length);d&&(b=goog.bind(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)});return e};\ngoog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){goog.asserts.assert(null!=a.length);goog.asserts.assert(null!=b);d&&(b=goog.bind(b,d));return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)});return e};\ngoog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};\ngoog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c);return d};\ngoog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){b=goog.array.findIndexRight(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};\ngoog.array.findIndexRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};\ngoog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b),d;(d=0<=c)&&goog.array.removeAt(a,c);return d};\ngoog.array.removeLast=function(a,b){var c=goog.array.lastIndexOf(a,b);return 0<=c?(goog.array.removeAt(a,c),!0):!1};goog.array.removeAt=function(a,b){goog.asserts.assert(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAllIf=function(a,b,c){var d=0;goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++});return d};\ngoog.array.concat=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)};goog.array.join=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)};goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;\ngoog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(goog.isArrayLike(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};goog.array.splice=function(a,b,c,d){goog.asserts.assert(null!=a.length);return Array.prototype.splice.apply(a,goog.array.slice(arguments,1))};\ngoog.array.slice=function(a,b,c){goog.asserts.assert(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};goog.array.removeDuplicates=function(a,b,c){b=b||a;var d=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a};c=c||d;for(var d={},e=0,f=0;f<a.length;){var g=a[f++],h=c(g);Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g)}b.length=e};\ngoog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};goog.array.binarySearch_=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var k=f+g>>1,m;m=c?b.call(e,a[k],k,a):b(d,a[k]);0<m?f=k+1:(g=k,h=!m)}return h?f:~f};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};\ngoog.array.stableSort=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||goog.array.defaultCompare;goog.array.sort(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value};goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)};\ngoog.array.isSorted=function(a,b,c){b=b||goog.array.defaultCompare;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;var d=a.length;c=c||goog.array.defaultCompareEquality;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};\ngoog.array.compare3=function(a,b,c){c=c||goog.array.defaultCompare;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};\ngoog.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};goog.array.binaryRemove=function(a,b,c){b=goog.array.binarySearch(a,b,c);return 0<=b?goog.array.removeAt(a,b):!1};goog.array.bucket=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],g=b.call(c,f,e,a);goog.isDef(g)&&(d[g]||(d[g]=[])).push(f)}return d};goog.array.toObject=function(a,b,c){var d={};goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e});return d};\ngoog.array.range=function(a,b,c){var d=[],e=0,f=a;c=c||1;void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(goog.isArray(d))for(var e=0;e<d.length;e+=8192)for(var f=goog.array.slice(d,e,e+8192),f=goog.array.flatten.apply(null,f),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b};\ngoog.array.rotate=function(a,b){goog.asserts.assert(null!=a.length);a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b)));return a};goog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length);goog.asserts.assert(0<=c&&c<a.length);b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])};\ngoog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};goog.array.shuffle=function(a,b){for(var c=b||Math.random,d=a.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),f=a[d];a[d]=a[e];a[e]=f}};goog.array.copyByIndex=function(a,b){var c=[];goog.array.forEach(b,function(b){c.push(a[b])});return c};\ngoog.array.concatMap=function(a,b,c){return goog.array.concat.apply([],goog.array.map(a,b,c))};goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();return a&&(a=a.userAgent)?a:""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};\ngoog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(b,a)};\ngoog.labs.userAgent.util.extractVersionTuples=function(a){for(var b=RegExp("(\\\\w[\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?","g"),c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};goog.object={};goog.object.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};\ngoog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};\ngoog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};goog.object.getValueByKeys=function(a,b){for(var c=goog.isArrayLike(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],goog.isDef(a));c++);return a};goog.object.containsKey=function(a,b){return null!==a&&b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};\ngoog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error(\'The object already contains the key "\'+b+\'"\');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c};\ngoog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){if(b in a)return a[b];c=c();return a[b]=c};goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0};goog.object.clone=function(a){var b={},c;for(c in a)b[c]=a[c];return b};\ngoog.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(goog.isFunction(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");\ngoog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};\ngoog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};\ngoog.object.createImmutableView=function(a){var b=a;Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b));return b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")};\ngoog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};\ngoog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};\ngoog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};\ngoog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;\ngoog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};\ngoog.labs.userAgent.browser.getVersion=function(){function a(a){a=goog.array.find(a,d);return c[a]||""}var b=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(b);var b=goog.labs.userAgent.util.extractVersionTuples(b),c={};goog.array.forEach(b,function(a){c[a[0]]=a[1]});var d=goog.partial(goog.object.containsKey,c);return goog.labs.userAgent.browser.isOpera()?a(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?a(["Edge"]):\ngoog.labs.userAgent.browser.isChrome()?a(["Chrome","CriOS"]):(b=b[2])&&b[1]||""};goog.labs.userAgent.browser.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),a)};\ngoog.labs.userAgent.browser.getIEVersion_=function(a){var b=/rv: *([\\d\\.]*)/.exec(a);if(b&&b[1])return b[1];var b="",c=/MSIE +([\\d\\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\\/(\\d.\\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];return b};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};\ngoog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};\ngoog.labs.userAgent.engine.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();if(a){var a=goog.labs.userAgent.util.extractVersionTuples(a),b=goog.labs.userAgent.engine.getEngineTuple_(a);if(b)return"Gecko"==b[0]?goog.labs.userAgent.engine.getVersionForKey_(a,"Firefox"):b[1];var a=a[0],c;if(a&&(c=a[2])&&(c=/Trident\\/([^\\s;]+)/.exec(c)))return c[1]}return""};\ngoog.labs.userAgent.engine.getEngineTuple_=function(a){if(!goog.labs.userAgent.engine.isEdge())return a[1];for(var b=0;b<a.length;b++){var c=a[b];if("Edge"==c[0])return c}};goog.labs.userAgent.engine.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)};goog.labs.userAgent.engine.getVersionForKey_=function(a,b){var c=goog.array.find(a,function(a){return b==a[0]});return c&&c[1]||""};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};\ngoog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};\ngoog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};\ngoog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b="";goog.labs.userAgent.platform.isWindows()?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(b=/(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(b=/Android\\s+([^\\);]+)(\\)|;)/,\nb=(a=b.exec(a))&&a[1]):goog.labs.userAgent.platform.isChromeOS()&&(b=/(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]);return b||""};goog.labs.userAgent.platform.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)};goog.reflect={};goog.reflect.object=function(a,b){return b};goog.reflect.objectProperty=function(a,b){return a};goog.reflect.sinkValue=function(a){goog.reflect.sinkValue[" "](a);return a};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(a,b){try{return goog.reflect.sinkValue(a[b]),!0}catch(c){}return!1};goog.reflect.cache=function(a,b,c,d){d=d?d(b):b;return Object.prototype.hasOwnProperty.call(a,d)?a[d]:a[d]=c(b)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};\ngoog.userAgent.getNavigator=function(){return goog.global.navigator||null};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;\ngoog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;\ngoog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;\ngoog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();\ngoog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigator();return!!a&&goog.string.contains(a.appVersion||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();\ngoog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();\ngoog.userAgent.determineVersion_=function(){var a="",b=goog.userAgent.getVersionRegexResult_();b&&(a=b?b[1]:"");return goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_(),null!=b&&b>parseFloat(a))?String(b):a};\ngoog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(goog.userAgent.EDGE)return/Edge\\/([\\d\\.]+)/.exec(a);if(goog.userAgent.IE)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(goog.userAgent.WEBKIT)return/WebKit\\/(\\S+)/.exec(a);if(goog.userAgent.OPERA)return/(?:Version)[ \\/]?(\\S+)/.exec(a)};goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0};\ngoog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,a,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,a)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;\ngoog.userAgent.isDocumentModeOrHigher=function(a){return Number(goog.userAgent.DOCUMENT_MODE)>=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){var a=goog.global.document,b=goog.userAgent.getDocumentMode_();return a&&goog.userAgent.IE?b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0}();goog.events={};\ngoog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||\ngoog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)};goog.disposable={};goog.disposable.IDisposable=function(){};goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod;goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod;goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this);this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2};goog.Disposable.MONITORING_MODE=0;goog.Disposable.INCLUDE_STACK_ON_CREATION=!0;goog.Disposable.instances_={};\ngoog.Disposable.getUndisposedObjects=function(){var a=[],b;for(b in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(b)&&a.push(goog.Disposable.instances_[Number(b)]);return a};goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}};goog.Disposable.prototype.disposed_=!1;goog.Disposable.prototype.isDisposed=function(){return this.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;\ngoog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var a=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[a]}};\ngoog.Disposable.prototype.registerDisposable=function(a){this.addOnDisposeCallback(goog.partial(goog.dispose,a))};goog.Disposable.prototype.addOnDisposeCallback=function(a,b){this.disposed_?goog.isDef(b)?a.call(b):a():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(b)?goog.bind(a,b):a))};goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};\ngoog.Disposable.isDisposed=function(a){return a&&"function"==typeof a.isDisposed?a.isDisposed():!1};goog.dispose=function(a){a&&"function"==typeof a.dispose&&a.dispose()};goog.disposeAll=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];goog.isArrayLike(d)?goog.disposeAll.apply(null,d):goog.dispose(d)}};goog.events.EventId=function(a){this.id=a};goog.events.EventId.prototype.toString=function(){return this.id};goog.events.Event=function(a,b){this.type=a instanceof goog.events.EventId?String(a):a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};goog.events.Event.stopPropagation=function(a){a.stopPropagation()};goog.events.Event.preventDefault=function(a){a.preventDefault()};goog.events.getVendorPrefixedName_=function(a){return goog.userAgent.WEBKIT?"webkit"+a:goog.userAgent.OPERA?"o"+a.toLowerCase():a.toLowerCase()};\ngoog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",RESET:"reset",\nSELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",\nREADYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",\nPAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",\nPOINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",\nMSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",\nLOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint"};goog.events.BrowserEvent=function(a,b){goog.events.Event.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.event_=null;a&&this.init(a,b)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);\ngoog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.IEButtonMap=[1,4,2];\ngoog.events.BrowserEvent.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;e?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(e,"nodeName")||(e=null)):c==goog.events.EventType.MOUSEOVER?e=a.fromElement:c==goog.events.EventType.MOUSEOUT&&(e=a.toElement);this.relatedTarget=e;goog.isNull(d)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=\ngoog.userAgent.WEBKIT||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=\na.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=goog.userAgent.MAC?a.metaKey:a.ctrlKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};goog.events.BrowserEvent.prototype.isButton=function(a){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==a:"click"==this.type?a==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[a])};\ngoog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)};goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};\ngoog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};goog.events.Listenable=function(){};goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1E6*Math.random()|0);goog.events.Listenable.addImplementation=function(a){a.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0};goog.events.Listenable.isImplementedBy=function(a){return!(!a||!a[goog.events.Listenable.IMPLEMENTED_BY_PROP])};goog.events.ListenableKey=function(){};goog.events.ListenableKey.counter_=0;goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_};goog.events.Listener=function(a,b,c,d,e,f){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack);this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.key=goog.events.ListenableKey.reserveKey();this.removed=this.callOnce=!1};goog.events.Listener.ENABLE_MONITORING=!1;goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};goog.events.ListenerMap=function(a){this.src=a;this.listeners={};this.typeCount_=0};goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_};goog.events.ListenerMap.prototype.getListenerCount=function(){var a=0,b;for(b in this.listeners)a+=this.listeners[b].length;return a};\ngoog.events.ListenerMap.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.typeCount_++);var g=goog.events.ListenerMap.findListenerIndex_(a,b,d,e);-1<g?(b=a[g],c||(b.callOnce=!1)):(b=new goog.events.Listener(b,null,this.src,f,!!d,e),b.callOnce=c,a.push(b));return b};\ngoog.events.ListenerMap.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=goog.events.ListenerMap.findListenerIndex_(e,b,c,d);return-1<b?(e[b].markAsRemoved(),goog.array.removeAt(e,b),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};\ngoog.events.ListenerMap.prototype.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=goog.array.remove(this.listeners[b],a);c&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return c};goog.events.ListenerMap.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,d[e].markAsRemoved();delete this.listeners[c];this.typeCount_--}return b};\ngoog.events.ListenerMap.prototype.getListeners=function(a,b){var c=this.listeners[a.toString()],d=[];if(c)for(var e=0;e<c.length;++e){var f=c[e];f.capture==b&&d.push(f)}return d};goog.events.ListenerMap.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=goog.events.ListenerMap.findListenerIndex_(a,b,c,d));return-1<e?a[e]:null};\ngoog.events.ListenerMap.prototype.hasListener=function(a,b){var c=goog.isDef(a),d=c?a.toString():"",e=goog.isDef(b);return goog.object.some(this.listeners,function(a,g){for(var h=0;h<a.length;++h)if(!(c&&a[h].type!=d||e&&a[h].capture!=b))return!0;return!1})};goog.events.ListenerMap.findListenerIndex_=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1E6*Math.random()|0);goog.events.onString_="on";goog.events.onStringMap_={};goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2};goog.events.CAPTURE_SIMULATION_MODE=2;goog.events.listenerCountEstimate_=0;\ngoog.events.listen=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listen(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);return goog.events.Listenable.isImplementedBy(a)?a.listen(b,c,d,e):goog.events.listen_(a,b,c,!1,d,e)};\ngoog.events.listen_=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e;if(g&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var h=goog.events.getListenerMap_(a);h||(a[goog.events.LISTENER_MAP_PROP_]=h=new goog.events.ListenerMap(a));\nc=h.add(b,c,d,e,f);if(c.proxy)return c;d=goog.events.getProxy();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(goog.events.getOnString_(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");goog.events.listenerCountEstimate_++;return c};\ngoog.events.getProxy=function(){var a=goog.events.handleBrowserEvent_,b=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b};\ngoog.events.listenOnce=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listenOnce(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);return goog.events.Listenable.isImplementedBy(a)?a.listenOnce(b,c,d,e):goog.events.listen_(a,b,c,!0,d,e)};goog.events.listenWithWrapper=function(a,b,c,d,e){b.listen(a,c,d,e)};\ngoog.events.unlisten=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.unlisten(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);if(goog.events.Listenable.isImplementedBy(a))return a.unlisten(b,c,d,e);if(!a)return!1;d=!!d;if(a=goog.events.getListenerMap_(a))if(b=a.getListener(b,c,d,e))return goog.events.unlistenByKey(b);return!1};\ngoog.events.unlistenByKey=function(a){if(goog.isNumber(a)||!a||a.removed)return!1;var b=a.src;if(goog.events.Listenable.isImplementedBy(b))return b.unlistenByKey(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(goog.events.getOnString_(c),d);goog.events.listenerCountEstimate_--;(c=goog.events.getListenerMap_(b))?(c.removeByKey(a),0==c.getTypeCount()&&(c.src=null,b[goog.events.LISTENER_MAP_PROP_]=null)):a.markAsRemoved();return!0};\ngoog.events.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e)};goog.events.removeAll=function(a,b){if(!a)return 0;if(goog.events.Listenable.isImplementedBy(a))return a.removeAllListeners(b);var c=goog.events.getListenerMap_(a);if(!c)return 0;var d=0,e=b&&b.toString(),f;for(f in c.listeners)if(!e||f==e)for(var g=c.listeners[f].concat(),h=0;h<g.length;++h)goog.events.unlistenByKey(g[h])&&++d;return d};\ngoog.events.getListeners=function(a,b,c){return goog.events.Listenable.isImplementedBy(a)?a.getListeners(b,c):a?(a=goog.events.getListenerMap_(a))?a.getListeners(b,c):[]:[]};goog.events.getListener=function(a,b,c,d,e){c=goog.events.wrapListener(c);d=!!d;return goog.events.Listenable.isImplementedBy(a)?a.getListener(b,c,d,e):a?(a=goog.events.getListenerMap_(a))?a.getListener(b,c,d,e):null:null};\ngoog.events.hasListener=function(a,b,c){if(goog.events.Listenable.isImplementedBy(a))return a.hasListener(b,c);a=goog.events.getListenerMap_(a);return!!a&&a.hasListener(b,c)};goog.events.expose=function(a){var b=[],c;for(c in a)a[c]&&a[c].id?b.push(c+" = "+a[c]+" ("+a[c].id+")"):b.push(c+" = "+a[c]);return b.join("\\n")};goog.events.getOnString_=function(a){return a in goog.events.onStringMap_?goog.events.onStringMap_[a]:goog.events.onStringMap_[a]=goog.events.onString_+a};\ngoog.events.fireListeners=function(a,b,c,d){return goog.events.Listenable.isImplementedBy(a)?a.fireListeners(b,c,d):goog.events.fireListeners_(a,b,c,d)};goog.events.fireListeners_=function(a,b,c,d){var e=!0;if(a=goog.events.getListenerMap_(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=goog.events.fireListener(f,d),e=e&&!1!==f)}return e};\ngoog.events.fireListener=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&goog.events.unlistenByKey(a);return c.call(d,b)};goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_};goog.events.dispatchEvent=function(a,b){goog.asserts.assert(goog.events.Listenable.isImplementedBy(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");return a.dispatchEvent(b)};\ngoog.events.protectBrowserEventEntryPoint=function(a){goog.events.handleBrowserEvent_=a.protectEntryPoint(goog.events.handleBrowserEvent_)};\ngoog.events.handleBrowserEvent_=function(a,b){if(a.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var c=b||goog.getObjectByName("window.event"),d=new goog.events.BrowserEvent(c,this),e=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(c)){goog.events.markIeEvent_(c);for(var c=[],f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,g=c.length-1;!d.propagationStopped_&&0<=g;g--){d.currentTarget=c[g];var h=\ngoog.events.fireListeners_(c[g],f,!0,d),e=e&&h}for(g=0;!d.propagationStopped_&&g<c.length;g++)d.currentTarget=c[g],h=goog.events.fireListeners_(c[g],f,!1,d),e=e&&h}}else e=goog.events.fireListener(a,d);return e}return goog.events.fireListener(a,new goog.events.BrowserEvent(b,this))};goog.events.markIeEvent_=function(a){var b=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(c){b=!0}if(b||void 0==a.returnValue)a.returnValue=!0};goog.events.isMarkedIeEvent_=function(a){return 0>a.keyCode||void 0!=a.returnValue};\ngoog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(a){return a+"_"+goog.events.uniqueIdCounter_++};goog.events.getListenerMap_=function(a){a=a[goog.events.LISTENER_MAP_PROP_];return a instanceof goog.events.ListenerMap?a:null};goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0);\ngoog.events.wrapListener=function(a){goog.asserts.assert(a,"Listener can not be null.");if(goog.isFunction(a))return a;goog.asserts.assert(a.handleEvent,"An object listener must have handleEvent method.");a[goog.events.LISTENER_WRAPPER_PROP_]||(a[goog.events.LISTENER_WRAPPER_PROP_]=function(b){return a.handleEvent(b)});return a[goog.events.LISTENER_WRAPPER_PROP_]};goog.debug.entryPointRegistry.register(function(a){goog.events.handleBrowserEvent_=a(goog.events.handleBrowserEvent_)});goog.math={};goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};goog.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};goog.math.modulo=function(a,b){var c=a%b;return 0>c*b?c+b:c};goog.math.lerp=function(a,b,c){return a+c*(b-a)};goog.math.nearlyEquals=function(a,b,c){return Math.abs(a-b)<=(c||1E-6)};goog.math.standardAngle=function(a){return goog.math.modulo(a,360)};\ngoog.math.standardAngleInRadians=function(a){return goog.math.modulo(a,2*Math.PI)};goog.math.toRadians=function(a){return a*Math.PI/180};goog.math.toDegrees=function(a){return 180*a/Math.PI};goog.math.angleDx=function(a,b){return b*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=function(a,b){return b*Math.sin(goog.math.toRadians(a))};goog.math.angle=function(a,b,c,d){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d-b,c-a)))};\ngoog.math.angleDifference=function(a,b){var c=goog.math.standardAngle(b)-goog.math.standardAngle(a);180<c?c-=360:-180>=c&&(c=360+c);return c};goog.math.sign=Math.sign||function(a){return 0<a?1:0>a?-1:a};\ngoog.math.longestCommonSubsequence=function(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b,c){return a[b]};for(var e=a.length,f=b.length,g=[],h=0;h<e+1;h++)g[h]=[],g[h][0]=0;for(var k=0;k<f+1;k++)g[0][k]=0;for(h=1;h<=e;h++)for(k=1;k<=f;k++)c(a[h-1],b[k-1])?g[h][k]=g[h-1][k-1]+1:g[h][k]=Math.max(g[h-1][k],g[h][k-1]);for(var m=[],h=e,k=f;0<h&&0<k;)c(a[h-1],b[k-1])?(m.unshift(d(h-1,k-1)),h--,k--):g[h-1][k]>g[h][k-1]?h--:k--;return m};\ngoog.math.sum=function(a){return goog.array.reduce(arguments,function(a,c){return a+c},0)};goog.math.average=function(a){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.sampleVariance=function(a){var b=arguments.length;if(2>b)return 0;var c=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(a){return Math.pow(a-c,2)}))/(b-1)};goog.math.standardDeviation=function(a){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))};\ngoog.math.isInt=function(a){return isFinite(a)&&0==a%1};goog.math.isFiniteNumber=function(a){return isFinite(a)&&!isNaN(a)};goog.math.isNegativeZero=function(a){return 0==a&&0>1/a};goog.math.log10Floor=function(a){if(0<a){var b=Math.round(Math.log(a)*Math.LOG10E);return b-(parseFloat("1e"+b)>a?1:0)}return 0==a?-Infinity:NaN};goog.math.safeFloor=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.floor(a+(b||2E-15))};\ngoog.math.safeCeil=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.ceil(a-(b||2E-15))};goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,\nLEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)};goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",\nDL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",\nNAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",\nTH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(a){return!0===goog.dom.tags.VOID_TAGS_[a]};goog.string.TypedString=function(){};goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};\ngoog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};goog.string.Const.unwrap=function(a){if(a instanceof goog.string.Const&&a.constructor===goog.string.Const&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;goog.asserts.fail("expected object of type Const, got \'"+a+"\'");return"type_error:Const"};\ngoog.string.Const.from=function(a){return goog.string.Const.create__googStringSecurityPrivate_(a)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.create__googStringSecurityPrivate_=function(a){var b=new goog.string.Const;b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a;return b};goog.html={};goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.SafeStyle.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyle.EMPTY;goog.html.SafeStyle.checkStyle_(a);goog.asserts.assert(goog.string.endsWith(a,";"),"Last character of style string is not \';\': "+a);goog.asserts.assert(goog.string.contains(a,":"),"Style string must contain at least one \':\', to specify a \\"name: value\\" pair: "+a);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeStyle.checkStyle_=function(a){goog.asserts.assert(!/[<>]/.test(a),"Forbidden characters in style string: "+a)};goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"});\ngoog.html.SafeStyle.unwrap=function(a){if(a instanceof goog.html.SafeStyle&&a.constructor===goog.html.SafeStyle&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;goog.asserts.fail("expected object of type SafeStyle, got \'"+a+"\' of type "+goog.typeOf(a));return"type_error:SafeStyle"};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(a)};\ngoog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez";\ngoog.html.SafeStyle.create=function(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];null!=d&&(d instanceof goog.string.Const?(d=goog.string.Const.unwrap(d),goog.asserts.assert(!/[{;}]/.test(d),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(d)?goog.html.SafeStyle.hasBalancedQuotes_(d)||(goog.asserts.fail("String value requires balanced quotes, got: "+d),d=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\\"\'%_!# a-zA-Z0-9], rgb() and rgba(), got: "+\nd),d=goog.html.SafeStyle.INNOCUOUS_STRING),b+=c+":"+d+";")}if(!b)return goog.html.SafeStyle.EMPTY;goog.html.SafeStyle.checkStyle_(b);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};goog.html.SafeStyle.hasBalancedQuotes_=function(a){for(var b=!0,c=!0,d=0;d<a.length;d++){var e=a.charAt(d);"\'"==e&&c?b=!b:\'"\'==e&&b&&(c=!c)}return b&&c};goog.html.SafeStyle.VALUE_RE_=/^([-,."\'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\\([0-9.%, ]+\\))$/;\ngoog.html.SafeStyle.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyle.unwrap(a)};goog.array.forEach(arguments,c);return b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.SafeStyleSheet.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyleSheet.unwrap(a)};goog.array.forEach(arguments,c);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.SafeStyleSheet.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyleSheet.EMPTY;goog.asserts.assert(!goog.string.contains(a,"<"),"Forbidden \'<\' character in style sheet string: "+a);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};\ngoog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"});\ngoog.html.SafeStyleSheet.unwrap=function(a){if(a instanceof goog.html.SafeStyleSheet&&a.constructor===goog.html.SafeStyleSheet&&a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;goog.asserts.fail("expected object of type SafeStyleSheet, got \'"+a+"\' of type "+goog.typeOf(a));return"type_error:SafeStyleSheet"};\ngoog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(a){return goog.fs.url.getUrlObject_().createObjectURL(a)};goog.fs.url.revokeObjectUrl=function(a){goog.fs.url.getUrlObject_().revokeObjectURL(a)};goog.fs.url.getUrlObject_=function(){var a=goog.fs.url.findUrlObject_();if(null!=a)return a;throw Error("This browser doesn\'t seem to support blob URLs");};\ngoog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;\ngoog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||\n"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4));goog.i18n.bidi.Format={LRE:"\\u202a",RLE:"\\u202b",PDF:"\\u202c",LRM:"\\u200e",RLM:"\\u200f"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;\ngoog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(a,b){return"number"==typeof a?0<a?goog.i18n.bidi.Dir.LTR:0>a?goog.i18n.bidi.Dir.RTL:b?null:goog.i18n.bidi.Dir.NEUTRAL:null==a?null:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02b8\\u0300-\\u0590\\u0800-\\u1fff\\u200e\\u2c00-\\ufb1c\\ufe00-\\ufe6f\\ufefd-\\uffff";goog.i18n.bidi.rtlChars_="\\u0591-\\u06ef\\u06fa-\\u07ff\\u200f\\ufb1d-\\ufdff\\ufe70-\\ufefc";\ngoog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(a,b){return b?a.replace(goog.i18n.bidi.htmlSkipReg_,""):a};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(a,b){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;\ngoog.i18n.bidi.hasAnyLtr=function(a,b){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(a){return goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=function(a){return goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=function(a){return!goog.i18n.bidi.isLtrChar(a)&&!goog.i18n.bidi.isRtlChar(a)};\ngoog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(a,b){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;\ngoog.i18n.bidi.startsWithLtr=function(a,b){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\\/\\/.*/;goog.i18n.bidi.isNeutralText=function(a,b){a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b);return goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&&!goog.i18n.bidi.hasAnyRtl(a)};\ngoog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(a,b){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;\ngoog.i18n.bidi.endsWithRtl=function(a,b){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(a){return goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardTextRe_=/(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\ngoog.i18n.bidi.guardBracketInText=function(a,b){var c=(void 0===b?goog.i18n.bidi.hasAnyRtl(a):b)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return a.replace(goog.i18n.bidi.bracketGuardTextRe_,c+"$&"+c)};goog.i18n.bidi.enforceRtlInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\\w+/,"$& dir=rtl"):"\\n<span dir=rtl>"+a+"</span>"};goog.i18n.bidi.enforceRtlInText=function(a){return goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};\ngoog.i18n.bidi.enforceLtrInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\\w+/,"$& dir=ltr"):"\\n<span dir=ltr>"+a+"</span>"};goog.i18n.bidi.enforceLtrInText=function(a){return goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;\ngoog.i18n.bidi.mirrorCSS=function(a){return a.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\\u0591-\\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\\u0591-\\u05f2])\'/g;\ngoog.i18n.bidi.normalizeHebrewQuote=function(a){return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\\u05f3")};goog.i18n.bidi.wordSeparatorRe_=/\\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\\d\\u06f0-\\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;\ngoog.i18n.bidi.estimateDirection=function(a,b){for(var c=0,d=0,e=!1,f=goog.i18n.bidi.stripHtmlIfNeeded_(a,b).split(goog.i18n.bidi.wordSeparatorRe_),g=0;g<f.length;g++){var h=f[g];goog.i18n.bidi.startsWithRtl(h)?(c++,d++):goog.i18n.bidi.isRequiredLtrRe_.test(h)?e=!0:goog.i18n.bidi.hasAnyLtr(h)?d++:goog.i18n.bidi.hasNumeralsRe_.test(h)&&(e=!0)}return 0==d?e?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:c/d>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};\ngoog.i18n.bidi.detectRtlDirectionality=function(a,b){return goog.i18n.bidi.estimateDirection(a,b)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(a,b){a&&(b=goog.i18n.bidi.toDir(b))&&(a.style.textAlign=b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,a.dir=b==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};\ngoog.i18n.bidi.setElementDirByTextDirectionality=function(a,b){switch(goog.i18n.bidi.estimateDirection(b)){case goog.i18n.bidi.Dir.LTR:a.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:a.dir="rtl";break;default:a.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};\ngoog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});\ngoog.html.SafeUrl.unwrap=function(a){if(a instanceof goog.html.SafeUrl&&a.constructor===goog.html.SafeUrl&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail("expected object of type SafeUrl, got \'"+a+"\' of type "+goog.typeOf(a));return"type_error:SafeUrl"};goog.html.SafeUrl.fromConstant=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};\ngoog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm))$/i;goog.html.SafeUrl.fromBlob=function(a){a=goog.html.SAFE_MIME_TYPE_PATTERN_.test(a.type)?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\\/]+=*$/i;\ngoog.html.SafeUrl.fromDataUrl=function(a){var b=a.match(goog.html.DATA_URL_PATTERN_),b=b&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(b[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b?a:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=function(a){goog.string.caseInsensitiveStartsWith(a,"tel:")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;\ngoog.html.SafeUrl.sanitize=function(a){if(a instanceof goog.html.SafeUrl)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.html.SAFE_URL_PATTERN_.test(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.SafeUrl;b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"});\ngoog.html.TrustedResourceUrl.unwrap=function(a){if(a instanceof goog.html.TrustedResourceUrl&&a.constructor===goog.html.TrustedResourceUrl&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;goog.asserts.fail("expected object of type TrustedResourceUrl, got \'"+a+"\' of type "+goog.typeOf(a));return"type_error:TrustedResourceUrl"};\ngoog.html.TrustedResourceUrl.fromConstant=function(a){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};goog.html.TrustedResourceUrl.fromConstants=function(a){for(var b="",c=0;c<a.length;c++)b+=goog.string.Const.unwrap(a[c]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.TrustedResourceUrl;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b};goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;this.dir_=null};goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};\ngoog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});\ngoog.html.SafeHtml.unwrap=function(a){if(a instanceof goog.html.SafeHtml&&a.constructor===goog.html.SafeHtml&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail("expected object of type SafeHtml, got \'"+a+"\' of type "+goog.typeOf(a));return"type_error:SafeHtml"};\ngoog.html.SafeHtml.htmlEscape=function(a){if(a instanceof goog.html.SafeHtml)return a;var b=null;a.implementsGoogI18nBidiDirectionalString&&(b=a.getDirection());a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(a),b)};\ngoog.html.SafeHtml.htmlEscapePreservingNewlines=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(a)),a.getDirection())};\ngoog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(a)),a.getDirection())};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;\ngoog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.html.SafeHtml.create=function(a,b,c){goog.html.SafeHtml.verifyTagName(String(a));return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(a),b,c)};\ngoog.html.SafeHtml.verifyTagName=function(a){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a))throw Error("Invalid tag name <"+a+">.");if(a.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+a+"> is not allowed for SafeHtml.");};\ngoog.html.SafeHtml.createIframe=function(a,b,c,d){a&&goog.html.TrustedResourceUrl.unwrap(a);var e={};e.src=a||null;e.srcdoc=b&&goog.html.SafeHtml.unwrap(b);a=goog.html.SafeHtml.combineAttributes(e,{sandbox:""},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};\ngoog.html.SafeHtml.createSandboxIframe=function(a,b,c,d){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var e={};e.src=a?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a)):null;e.srcdoc=b||null;e.sandbox="";a=goog.html.SafeHtml.combineAttributes(e,{},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};\ngoog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=function(a,b){goog.html.TrustedResourceUrl.unwrap(a);var c=goog.html.SafeHtml.combineAttributes({src:a},{},b);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",c)};\ngoog.html.SafeHtml.createStyle=function(a,b){var c=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},b),d="";a=goog.array.concat(a);for(var e=0;e<a.length;e++)d+=goog.html.SafeStyleSheet.unwrap(a[e]);d=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",c,d)};\ngoog.html.SafeHtml.createMetaRefresh=function(a,b){var c=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a));(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(c,";")&&(c="\'"+c.replace(/\'/g,"%27")+"\'");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(b||0)+"; url="+c})};\ngoog.html.SafeHtml.getAttrNameAndValue_=function(a,b,c){if(c instanceof goog.string.Const)c=goog.string.Const.unwrap(c);else if("style"==b.toLowerCase())c=goog.html.SafeHtml.getStyleValue_(c);else{if(/^on/i.test(b))throw Error(\'Attribute "\'+b+\'" requires goog.string.Const value, "\'+c+\'" given.\');if(b.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(c instanceof goog.html.TrustedResourceUrl)c=goog.html.TrustedResourceUrl.unwrap(c);else if(c instanceof goog.html.SafeUrl)c=goog.html.SafeUrl.unwrap(c);\nelse if(goog.isString(c))c=goog.html.SafeUrl.sanitize(c).getTypedStringValue();else throw Error(\'Attribute "\'+b+\'" on tag "\'+a+\'" requires goog.html.SafeUrl, goog.string.Const, or string, value "\'+c+\'" given.\');}c.implementsGoogStringTypedString&&(c=c.getTypedStringValue());goog.asserts.assert(goog.isString(c)||goog.isNumber(c),"String or number value expected, got "+typeof c+" with value: "+c);return b+\'="\'+goog.string.htmlEscape(String(c))+\'"\'};\ngoog.html.SafeHtml.getStyleValue_=function(a){if(!goog.isObject(a))throw Error(\'The "style" attribute requires goog.html.SafeStyle or map of style properties, \'+typeof a+" given: "+a);a instanceof goog.html.SafeStyle||(a=goog.html.SafeStyle.create(a));return goog.html.SafeStyle.unwrap(a)};goog.html.SafeHtml.createWithDir=function(a,b,c,d){b=goog.html.SafeHtml.create(b,c,d);b.dir_=a;return b};\ngoog.html.SafeHtml.concat=function(a){var b=goog.i18n.bidi.Dir.NEUTRAL,c="",d=function(a){goog.isArray(a)?goog.array.forEach(a,d):(a=goog.html.SafeHtml.htmlEscape(a),c+=goog.html.SafeHtml.unwrap(a),a=a.getDirection(),b==goog.i18n.bidi.Dir.NEUTRAL?b=a:a!=goog.i18n.bidi.Dir.NEUTRAL&&b!=a&&(b=null))};goog.array.forEach(arguments,d);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,b)};\ngoog.html.SafeHtml.concatWithDir=function(a,b){var c=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));c.dir_=a;return c};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(a,b){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(a,b)};goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};\ngoog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(a,b,c){var d=null,e;e="<"+a+goog.html.SafeHtml.stringifyAttributes(a,b);goog.isDefAndNotNull(c)?goog.isArray(c)||(c=[c]):c=[];goog.dom.tags.isVoidTag(a.toLowerCase())?(goog.asserts.assert(!c.length,"Void tag <"+a+"> does not allow content."),e+=">"):(d=goog.html.SafeHtml.concat(c),e+=">"+goog.html.SafeHtml.unwrap(d)+"</"+a+">",d=d.getDirection());(a=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:null);\nreturn goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,d)};goog.html.SafeHtml.stringifyAttributes=function(a,b){var c="";if(b)for(var d in b){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(d))throw Error(\'Invalid attribute name "\'+d+\'".\');var e=b[d];goog.isDefAndNotNull(e)&&(c+=" "+goog.html.SafeHtml.getAttrNameAndValue_(a,d,e))}return c};\ngoog.html.SafeHtml.combineAttributes=function(a,b,c){var d={},e;for(e in a)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=a[e];for(e in b)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=b[e];for(e in c){var f=e.toLowerCase();if(f in a)throw Error(\'Cannot override "\'+f+\'" attribute, got "\'+e+\'" with value "\'+c[e]+\'"\');f in b&&delete d[f];d[e]=c[e]}return d};\ngoog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL);goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(a,b,c){a.insertAdjacentHTML(b,goog.html.SafeHtml.unwrap(c))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};\ngoog.dom.safe.setInnerHtml=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=a.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[c])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+a.tagName+".");}a.innerHTML=goog.html.SafeHtml.unwrap(b)};goog.dom.safe.setOuterHtml=function(a,b){a.outerHTML=goog.html.SafeHtml.unwrap(b)};goog.dom.safe.setStyle=function(a,b){a.style.cssText=goog.html.SafeStyle.unwrap(b)};goog.dom.safe.documentWrite=function(a,b){a.write(goog.html.SafeHtml.unwrap(b))};\ngoog.dom.safe.setAnchorHref=function(a,b){goog.dom.safe.assertIsHTMLAnchorElement_(a);var c;c=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitize(b);a.href=goog.html.SafeUrl.unwrap(c)};goog.dom.safe.setImageSrc=function(a,b){goog.dom.safe.assertIsHTMLImageElement_(a);var c;c=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitize(b);a.src=goog.html.SafeUrl.unwrap(c)};goog.dom.safe.setEmbedSrc=function(a,b){goog.dom.safe.assertIsHTMLEmbedElement_(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};\ngoog.dom.safe.setFrameSrc=function(a,b){goog.dom.safe.assertIsHTMLFrameElement_(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setIframeSrc=function(a,b){goog.dom.safe.assertIsHTMLIFrameElement_(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};\ngoog.dom.safe.setLinkHrefAndRel=function(a,b,c){goog.dom.safe.assertIsHTMLLinkElement_(a);a.rel=c;goog.string.caseInsensitiveContains(c,"stylesheet")?(goog.asserts.assert(b instanceof goog.html.TrustedResourceUrl,\'URL must be TrustedResourceUrl because "rel" contains "stylesheet"\'),a.href=goog.html.TrustedResourceUrl.unwrap(b)):a.href=b instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(b):b instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(b):goog.html.SafeUrl.sanitize(b).getTypedStringValue()};\ngoog.dom.safe.setObjectData=function(a,b){goog.dom.safe.assertIsHTMLObjectElement_(a);a.data=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setScriptSrc=function(a,b){goog.dom.safe.assertIsHTMLScriptElement_(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setLocationHref=function(a,b){goog.dom.safe.assertIsLocation_(a);var c;c=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitize(b);a.href=goog.html.SafeUrl.unwrap(c)};\ngoog.dom.safe.openInWindow=function(a,b,c,d,e){a=a instanceof goog.html.SafeUrl?a:goog.html.SafeUrl.sanitize(a);return(b||window).open(goog.html.SafeUrl.unwrap(a),c?goog.string.Const.unwrap(c):"",d,e)};\ngoog.dom.safe.assertIsLocation_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof Location||!(a instanceof Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLAnchorElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLAnchorElement||!(a instanceof Location||a instanceof Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLLinkElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLLinkElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLLinkElement||!(a instanceof Location||a instanceof Element)),"Argument is not a HTMLLinkElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLImageElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLImageElement&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLImageElement||!(a instanceof Element)),"Argument is not a HTMLImageElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLEmbedElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLEmbedElement&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLEmbedElement||!(a instanceof Element)),"Argument is not a HTMLEmbedElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLFrameElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLFrameElement&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLFrameElement||!(a instanceof Element)),"Argument is not a HTMLFrameElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLIFrameElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLIFrameElement&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLIFrameElement||!(a instanceof Element)),"Argument is not a HTMLIFrameElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLObjectElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLObjectElement&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLObjectElement||!(a instanceof Element)),"Argument is not a HTMLObjectElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.assertIsHTMLScriptElement_=function(a){goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLScriptElement&&"undefined"!=typeof Element&&goog.asserts.assert(a&&(a instanceof HTMLScriptElement||!(a instanceof Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(a));return a};\ngoog.dom.safe.debugStringForType_=function(a){return goog.isObject(a)?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):void 0===a?"undefined":null===a?"null":typeof a};goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=function(a){a=goog.string.Const.unwrap(a);return 0===a.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_};goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"});\ngoog.html.SafeScript.unwrap=function(a){if(a instanceof goog.html.SafeScript&&a.constructor===goog.html.SafeScript&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;goog.asserts.fail("expected object of type SafeScript, got \'"+a+"\' of type "+goog.typeOf(a));return"type_error:SafeScript"};goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(a)};\ngoog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=a;return this};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(a,b,c){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(b,c||null)};\ngoog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.math.Coordinate=function(a,b){this.x=goog.isDef(a)?a:0;this.y=goog.isDef(b)?b:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.equals=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};goog.math.Coordinate.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};\ngoog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};goog.math.Coordinate.difference=function(a,b){return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};goog.math.Coordinate.sum=function(a,b){return new goog.math.Coordinate(a.x+b.x,a.y+b.y)};\ngoog.math.Coordinate.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};goog.math.Coordinate.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};goog.math.Coordinate.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};\ngoog.math.Coordinate.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),goog.isNumber(b)&&(this.y+=b));return this};goog.math.Coordinate.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.x*=a;this.y*=c;return this};goog.math.Coordinate.prototype.rotateRadians=function(a,b){var c=b||new goog.math.Coordinate(0,0),d=this.x,e=this.y,f=Math.cos(a),g=Math.sin(a);this.x=(d-c.x)*f-(e-c.y)*g+c.x;this.y=(d-c.x)*g+(e-c.y)*f+c.y};\ngoog.math.Coordinate.prototype.rotateDegrees=function(a,b){this.rotateRadians(goog.math.toRadians(a),b)};goog.math.Size=function(a,b){this.width=a;this.height=b};goog.math.Size.equals=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};\ngoog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};\ngoog.math.Size.prototype.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.width*=a;this.height*=c;return this};\ngoog.math.Size.prototype.scaleToCover=function(a){a=this.aspectRatio()<=a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.math.Size.prototype.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};goog.dom.getDocument=function(){return document};goog.dom.getElement=function(a){return goog.dom.getElementHelper_(document,a)};\ngoog.dom.getElementHelper_=function(a,b){return goog.isString(b)?a.getElementById(b):b};goog.dom.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(document,a)};goog.dom.getRequiredElementHelper_=function(a,b){goog.asserts.assertString(b);var c=goog.dom.getElementHelper_(a,b);return c=goog.asserts.assertElement(c,"No element found with id: "+b)};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagName=function(a,b){return(b||document).getElementsByTagName(a)};\ngoog.dom.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(document,a,b,c)};goog.dom.getElementsByClass=function(a,b){var c=b||document;return goog.dom.canUseQuerySelector_(c)?c.querySelectorAll("."+a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)};\ngoog.dom.getElementByClass=function(a,b){var c=b||document;return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:goog.dom.canUseQuerySelector_(c)?c.querySelector("."+a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)[0])||null};goog.dom.getRequiredElementByClass=function(a,b){var c=goog.dom.getElementByClass(a,b);return goog.asserts.assert(c,"No element found with className: "+a)};goog.dom.canUseQuerySelector_=function(a){return!(!a.querySelectorAll||!a.querySelector)};\ngoog.dom.getElementsByTagNameAndClass_=function(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(goog.dom.canUseQuerySelector_(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++)b=g.className,"function"==typeof b.split&&goog.array.contains(b.split(/\\s+/),c)&&(d[e++]=g);d.length=\ne;return d}return a};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(a,b){goog.object.forEach(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(d)?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d],b):goog.string.startsWith(d,"aria-")||goog.string.startsWith(d,"data-")?a.setAttribute(d,b):a[d]=b})};\ngoog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=function(a){a=a.document;a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body;return new goog.math.Size(a.clientWidth,a.clientHeight)};\ngoog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeightForWindow=function(a){return goog.dom.getDocumentHeight_(a)};\ngoog.dom.getDocumentHeight_=function(a){var b=a.document,c=0;if(b){var c=b.body,d=b.documentElement;if(!d||!c)return 0;a=goog.dom.getViewportSize_(a).height;if(goog.dom.isCss1CompatMode_(b)&&d.scrollHeight)c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight;else{var b=d.scrollHeight,e=d.offsetHeight;d.clientHeight!=e&&(b=c.scrollHeight,e=c.offsetHeight);c=b>a?b>e?b:e:b<e?b:e}}return c};goog.dom.getPageScroll=function(a){return goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};\ngoog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(a){var b=goog.dom.getDocumentScrollElement_(a);a=goog.dom.getWindow_(a);return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&a.pageYOffset!=b.scrollTop?new goog.math.Coordinate(b.scrollLeft,b.scrollTop):new goog.math.Coordinate(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};\ngoog.dom.getDocumentScrollElement_=function(a){return a.scrollingElement?a.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body||a.documentElement};goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView};goog.dom.createDom=function(a,b,c){return goog.dom.createDom_(document,arguments)};\ngoog.dom.createDom_=function(a,b){var c=String(b[0]),d=b[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(\' name="\',goog.string.htmlEscape(d.name),\'"\');if(d.type){c.push(\' type="\',goog.string.htmlEscape(d.type),\'"\');var e={};goog.object.extend(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(goog.isString(d)?c.className=d:goog.isArray(d)?c.className=d.join(" "):goog.dom.setProperties(c,d));2<b.length&&goog.dom.append_(a,\nc,b,2);return c};goog.dom.append_=function(a,b,c,d){function e(c){c&&b.appendChild(goog.isString(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];goog.isArrayLike(f)&&!goog.dom.isNodeLike(f)?goog.array.forEach(goog.dom.isNodeList(f)?goog.array.toArray(f):f,e):e(f)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(a){return document.createElement(String(a))};goog.dom.createTextNode=function(a){return document.createTextNode(String(a))};\ngoog.dom.createTable=function(a,b,c){return goog.dom.createTable_(document,a,b,!!c)};goog.dom.createTable_=function(a,b,c,d){for(var e=a.createElement("TABLE"),f=e.appendChild(a.createElement("TBODY")),g=0;g<b;g++){for(var h=a.createElement("TR"),k=0;k<c;k++){var m=a.createElement("TD");d&&goog.dom.setTextContent(m,goog.string.Unicode.NBSP);h.appendChild(m)}f.appendChild(h)}return e};\ngoog.dom.constHtmlToNode=function(a){var b=goog.array.map(arguments,goog.string.Const.unwrap),b=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),b.join(""));return goog.dom.safeHtmlToNode(b)};goog.dom.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(document,a)};\ngoog.dom.safeHtmlToNode_=function(a,b){var c=a.createElement("DIV");goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,b)),c.removeChild(c.firstChild)):goog.dom.safe.setInnerHtml(c,b);return goog.dom.childrenToNode_(a,c)};goog.dom.childrenToNode_=function(a,b){if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(var c=a.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);return c};\ngoog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode};goog.dom.canHaveChildren=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};\ngoog.dom.appendChild=function(a,b){a.appendChild(b)};goog.dom.append=function(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)};goog.dom.removeChildren=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};goog.dom.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)};goog.dom.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};goog.dom.insertChildAt=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)};\ngoog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};goog.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};goog.dom.flattenElement=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return goog.dom.removeNode(a)}};\ngoog.dom.getChildren=function(a){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=a.children?a.children:goog.array.filter(a.childNodes,function(a){return a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(a){return goog.isDef(a.firstElementChild)?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!0)};goog.dom.getLastElementChild=function(a){return goog.isDef(a.lastElementChild)?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!1)};\ngoog.dom.getNextElementSibling=function(a){return goog.isDef(a.nextElementSibling)?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(a){return goog.isDef(a.previousElementSibling)?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!1)};goog.dom.getNextElementNode_=function(a,b){for(;a&&a.nodeType!=goog.dom.NodeType.ELEMENT;)a=b?a.nextSibling:a.previousSibling;return a};\ngoog.dom.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};goog.dom.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&0<a.nodeType};goog.dom.isElement=function(a){return goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT};\ngoog.dom.isWindow=function(a){return goog.isObject(a)&&a.window==a};goog.dom.getParentElement=function(a){var b;if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&&!(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&a instanceof goog.global.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return goog.dom.isElement(b)?b:null};\ngoog.dom.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&b.nodeType==goog.dom.NodeType.ELEMENT)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};\ngoog.dom.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(a.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(b.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,\nf=b.parentNode;return e==f?goog.dom.compareSiblingOrder_(a,b):!c&&goog.dom.contains(e,b)?-1*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&&goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=goog.dom.getOwnerDocument(a);c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(goog.global.Range.START_TO_END,d)};\ngoog.dom.compareParentsDescendantNodeIe_=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return goog.dom.compareSiblingOrder_(d,a)};goog.dom.compareSiblingOrder_=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};\ngoog.dom.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var f=[],g=arguments[b];g;)f.unshift(g),g=g.parentNode;d.push(f);e=Math.min(e,f.length)}f=null;for(b=0;b<e;b++){for(var g=d[0][b],h=1;h<c;h++)if(g!=d[h][b])return f;f=g}return f};goog.dom.getOwnerDocument=function(a){goog.asserts.assert(a,"Node cannot be null or undefined.");return a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};\ngoog.dom.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=function(a){try{return a.contentWindow||(a.contentDocument?goog.dom.getWindow(a.contentDocument):null)}catch(b){}return null};\ngoog.dom.setTextContent=function(a,b){goog.asserts.assert(null!=a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(a.nodeType==goog.dom.NodeType.TEXT)a.data=b;else if(a.firstChild&&a.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{goog.dom.removeChildren(a);var c=goog.dom.getOwnerDocument(a);a.appendChild(c.createTextNode(String(b)))}};\ngoog.dom.getOuterHtml=function(a){goog.asserts.assert(null!==a,"goog.dom.getOuterHtml expects a non-null value for element");if("outerHTML"in a)return a.outerHTML;var b=goog.dom.getOwnerDocument(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};goog.dom.findNode=function(a,b){var c=[];return goog.dom.findNodes_(a,b,c,!0)?c[0]:void 0};goog.dom.findNodes=function(a,b){var c=[];goog.dom.findNodes_(a,b,c,!1);return c};\ngoog.dom.findNodes_=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||goog.dom.findNodes_(a,b,c,d))return!0;a=a.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\\n"};goog.dom.isFocusableTabIndex=function(a){return goog.dom.hasSpecifiedTabIndex_(a)&&goog.dom.isTabIndexFocusable_(a)};goog.dom.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};\ngoog.dom.isFocusable=function(a){var b;return(b=goog.dom.nativelySupportsFocus_(a)?!a.disabled&&(!goog.dom.hasSpecifiedTabIndex_(a)||goog.dom.isTabIndexFocusable_(a)):goog.dom.isFocusableTabIndex(a))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(a):b};goog.dom.hasSpecifiedTabIndex_=function(a){a=a.getAttributeNode("tabindex");return goog.isDefAndNotNull(a)&&a.specified};goog.dom.isTabIndexFocusable_=function(a){a=a.tabIndex;return goog.isNumber(a)&&0<=a&&32768>a};\ngoog.dom.nativelySupportsFocus_=function(a){return"A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName};goog.dom.hasNonZeroBoundingRect_=function(a){a=!goog.isFunction(a.getBoundingClientRect)||goog.userAgent.IE&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect();return goog.isDefAndNotNull(a)&&0<a.height&&0<a.width};\ngoog.dom.getTextContent=function(a){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==a&&"innerText"in a)a=goog.string.canonicalizeNewlines(a.innerText);else{var b=[];goog.dom.getTextContent_(a,b,!0);a=b.join("")}a=a.replace(/ \\xAD /g," ").replace(/\\xAD/g,"");a=a.replace(/\\u200B/g,"");goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\\s*/,""));return a};goog.dom.getRawTextContent=function(a){var b=[];goog.dom.getTextContent_(a,b,!1);return b.join("")};\ngoog.dom.getTextContent_=function(a,b,c){if(!(a.nodeName in goog.dom.TAGS_TO_IGNORE_))if(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\\r\\n|\\r|\\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(a=a.firstChild;a;)goog.dom.getTextContent_(a,b,c),a=a.nextSibling};goog.dom.getNodeTextLength=function(a){return goog.dom.getTextContent(a).length};\ngoog.dom.getNodeTextOffset=function(a,b){for(var c=b||goog.dom.getOwnerDocument(a).body,d=[];a&&a!=c;){for(var e=a;e=e.previousSibling;)d.unshift(goog.dom.getTextContent(e));a=a.parentNode}return goog.string.trimLeft(d.join("")).replace(/ +/g," ").length};\ngoog.dom.getNodeAtOffset=function(a,b,c){a=[a];for(var d=0,e=null;0<a.length&&d<b;)if(e=a.pop(),!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)var f=e.nodeValue.replace(/(\\r\\n|\\r|\\n)/g,"").replace(/ +/g," "),d=d+f.length;else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)d+=goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;else for(f=e.childNodes.length-1;0<=f;f--)a.push(e.childNodes[f]);goog.isObject(c)&&(c.remainder=e?e.nodeValue.length+b-d-1:0,c.node=e);return e};\ngoog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(a,b,c,d){if(!b&&!c)return null;var e=b?b.toUpperCase():null;return goog.dom.getAncestor(a,function(a){return(!e||a.nodeName==e)&&(!c||goog.isString(a.className)&&goog.array.contains(a.className.split(/\\s+/),c))},!0,d)};\ngoog.dom.getAncestorByClass=function(a,b,c){return goog.dom.getAncestorByTagNameAndClass(a,null,b,c)};goog.dom.getAncestor=function(a,b,c,d){c||(a=a.parentNode);for(c=0;a&&(null==d||c<=d);){goog.asserts.assert("parentNode"!=a.name);if(b(a))return a;a=a.parentNode;c++}return null};goog.dom.getActiveElement=function(a){try{return a&&a.activeElement}catch(b){}return null};\ngoog.dom.getPixelRatio=function(){var a=goog.dom.getWindow();return goog.isDef(a.devicePixelRatio)?a.devicePixelRatio:a.matchMedia?goog.dom.matchesPixelRatio_(.75)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(3)||1:1};goog.dom.matchesPixelRatio_=function(a){return goog.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+a+"),(min--moz-device-pixel-ratio: "+a+"),(min-resolution: "+a+"dppx)").matches?a:0};goog.dom.getCanvasContext2D=function(a){return a.getContext("2d")};\ngoog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(a){return goog.dom.getElementHelper_(this.document_,a)};\ngoog.dom.DomHelper.prototype.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(this.document_,a)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(a)};goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,b,c)};\ngoog.dom.DomHelper.prototype.getElementsByClass=function(a,b){return goog.dom.getElementsByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(a,b){return goog.dom.getElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getRequiredElementByClass=function(a,b){return goog.dom.getRequiredElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\ngoog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())};goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(a,b,c){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;\ngoog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(String(a))};goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(String(a))};goog.dom.DomHelper.prototype.createTable=function(a,b,c){return goog.dom.createTable_(this.document_,a,b,!!c)};goog.dom.DomHelper.prototype.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(this.document_,a)};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};\ngoog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.getActiveElement=function(a){return goog.dom.getActiveElement(a||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;\ngoog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;\ngoog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;\ngoog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;\ngoog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;\ngoog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;\ngoog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D;goog.dom.vendor={};goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null};goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null};\ngoog.dom.vendor.getPrefixedPropertyName=function(a,b){if(b&&a in b)return a;var c=goog.dom.vendor.getVendorJsPrefix();return c?(c=c.toLowerCase(),c+=goog.string.toTitleCase(a),!goog.isDef(b)||c in b?c:null):null};goog.dom.vendor.getPrefixedEventType=function(a){return((goog.dom.vendor.getVendorJsPrefix()||"")+a).toLowerCase()};goog.html.legacyconversions={};goog.html.legacyconversions.safeHtmlFromString=function(a){goog.html.legacyconversions.reportCallback_();return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(a,null)};goog.html.legacyconversions.safeStyleFromString=function(a){goog.html.legacyconversions.reportCallback_();return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.legacyconversions.safeStyleSheetFromString=function(a){goog.html.legacyconversions.reportCallback_();return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.legacyconversions.safeUrlFromString=function(a){goog.html.legacyconversions.reportCallback_();return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.legacyconversions.trustedResourceUrlFromString=function(a){goog.html.legacyconversions.reportCallback_();return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.legacyconversions.reportCallback_=goog.nullFunction;goog.html.legacyconversions.setReportCallback=function(a){goog.html.legacyconversions.reportCallback_=a};goog.math.Box=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};goog.math.Box.boundingBox=function(a){for(var b=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),c=1;c<arguments.length;c++)b.expandToIncludeCoordinate(arguments[c]);return b};goog.math.Box.prototype.getWidth=function(){return this.right-this.left};goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top};\ngoog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)};goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"});goog.math.Box.prototype.contains=function(a){return goog.math.Box.contains(this,a)};\ngoog.math.Box.prototype.expand=function(a,b,c,d){goog.isObject(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};goog.math.Box.prototype.expandToInclude=function(a){this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.right=Math.max(this.right,a.right);this.bottom=Math.max(this.bottom,a.bottom)};\ngoog.math.Box.prototype.expandToIncludeCoordinate=function(a){this.top=Math.min(this.top,a.y);this.right=Math.max(this.right,a.x);this.bottom=Math.max(this.bottom,a.y);this.left=Math.min(this.left,a.x)};goog.math.Box.equals=function(a,b){return a==b?!0:a&&b?a.top==b.top&&a.right==b.right&&a.bottom==b.bottom&&a.left==b.left:!1};\ngoog.math.Box.contains=function(a,b){return a&&b?b instanceof goog.math.Box?b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom:b.x>=a.left&&b.x<=a.right&&b.y>=a.top&&b.y<=a.bottom:!1};goog.math.Box.relativePositionX=function(a,b){return b.x<a.left?b.x-a.left:b.x>a.right?b.x-a.right:0};goog.math.Box.relativePositionY=function(a,b){return b.y<a.top?b.y-a.top:b.y>a.bottom?b.y-a.bottom:0};\ngoog.math.Box.distance=function(a,b){var c=goog.math.Box.relativePositionX(a,b),d=goog.math.Box.relativePositionY(a,b);return Math.sqrt(c*c+d*d)};goog.math.Box.intersects=function(a,b){return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom};goog.math.Box.intersectsWithPadding=function(a,b,c){return a.left<=b.right+c&&b.left<=a.right+c&&a.top<=b.bottom+c&&b.top<=a.bottom+c};\ngoog.math.Box.prototype.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};goog.math.Box.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};\ngoog.math.Box.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};goog.math.Box.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(goog.asserts.assertNumber(a),this.left+=a,this.right+=a,goog.isNumber(b)&&(this.top+=b,this.bottom+=b));return this};\ngoog.math.Box.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};goog.math.IRect=function(){};goog.math.Rect=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)};goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)};goog.math.Rect.createFromPositionAndSize=function(a,b){return new goog.math.Rect(a.x,a.y,b.width,b.height)};\ngoog.math.Rect.createFromBox=function(a){return new goog.math.Rect(a.left,a.top,a.right-a.left,a.bottom-a.top)};goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"});goog.math.Rect.equals=function(a,b){return a==b?!0:a&&b?a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height:!1};\ngoog.math.Rect.prototype.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};\ngoog.math.Rect.intersection=function(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),f=Math.min(a.top+a.height,b.top+b.height);if(e<=f)return new goog.math.Rect(c,e,d-c,f-e)}return null};goog.math.Rect.intersects=function(a,b){return a.left<=b.left+b.width&&b.left<=a.left+a.width&&a.top<=b.top+b.height&&b.top<=a.top+a.height};goog.math.Rect.prototype.intersects=function(a){return goog.math.Rect.intersects(this,a)};\ngoog.math.Rect.difference=function(a,b){var c=goog.math.Rect.intersection(a,b);if(!c||!c.height||!c.width)return[a.clone()];var c=[],d=a.top,e=a.height,f=a.left+a.width,g=a.top+a.height,h=b.left+b.width,k=b.top+b.height;b.top>a.top&&(c.push(new goog.math.Rect(a.left,a.top,a.width,b.top-a.top)),d=b.top,e-=b.top-a.top);k<g&&(c.push(new goog.math.Rect(a.left,k,a.width,g-k)),e=k-d);b.left>a.left&&c.push(new goog.math.Rect(a.left,d,b.left-a.left,e));h<f&&c.push(new goog.math.Rect(h,d,f-h,e));return c};\ngoog.math.Rect.prototype.difference=function(a){return goog.math.Rect.difference(this,a)};goog.math.Rect.prototype.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};goog.math.Rect.boundingRect=function(a,b){if(!a||!b)return null;var c=new goog.math.Rect(a.left,a.top,a.width,a.height);c.boundingRect(b);return c};\ngoog.math.Rect.prototype.contains=function(a){return a instanceof goog.math.Coordinate?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};goog.math.Rect.prototype.squaredDistance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return b*b+a*a};\ngoog.math.Rect.prototype.distance=function(a){return Math.sqrt(this.squaredDistance(a))};goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)};goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)};goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)};\ngoog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)};goog.math.Rect.prototype.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};goog.math.Rect.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};\ngoog.math.Rect.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Rect.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.left+=a.x,this.top+=a.y):(this.left+=goog.asserts.assertNumber(a),goog.isNumber(b)&&(this.top+=b));return this};\ngoog.math.Rect.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};goog.style={};goog.style.setStyle=function(a,b,c){if(goog.isString(b))goog.style.setStyle_(a,c,b);else for(var d in b)goog.style.setStyle_(a,b[d],d)};goog.style.setStyle_=function(a,b,c){(c=goog.style.getVendorJsStyleName_(a,c))&&(a.style[c]=b)};goog.style.styleNameCache_={};\ngoog.style.getVendorJsStyleName_=function(a,b){var c=goog.style.styleNameCache_[b];if(!c){var d=goog.string.toCamelCase(b),c=d;void 0===a.style[d]&&(d=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(d),void 0!==a.style[d]&&(c=d));goog.style.styleNameCache_[b]=c}return c};\ngoog.style.getVendorStyleName_=function(a,b){var c=goog.string.toCamelCase(b);return void 0===a.style[c]&&(c=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(c),void 0!==a.style[c])?goog.dom.vendor.getVendorPrefix()+"-"+b:b};goog.style.getStyle=function(a,b){var c=a.style[goog.string.toCamelCase(b)];return"undefined"!==typeof c?c:a.style[goog.style.getVendorJsStyleName_(a,b)]||""};\ngoog.style.getComputedStyle=function(a,b){var c=goog.dom.getOwnerDocument(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""};goog.style.getCascadedStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:null};goog.style.getStyle_=function(a,b){return goog.style.getComputedStyle(a,b)||goog.style.getCascadedStyle(a,b)||a.style&&a.style[b]};\ngoog.style.getComputedBoxSizing=function(a){return goog.style.getStyle_(a,"boxSizing")||goog.style.getStyle_(a,"MozBoxSizing")||goog.style.getStyle_(a,"WebkitBoxSizing")||null};goog.style.getComputedPosition=function(a){return goog.style.getStyle_(a,"position")};goog.style.getBackgroundColor=function(a){return goog.style.getStyle_(a,"backgroundColor")};goog.style.getComputedOverflowX=function(a){return goog.style.getStyle_(a,"overflowX")};\ngoog.style.getComputedOverflowY=function(a){return goog.style.getStyle_(a,"overflowY")};goog.style.getComputedZIndex=function(a){return goog.style.getStyle_(a,"zIndex")};goog.style.getComputedTextAlign=function(a){return goog.style.getStyle_(a,"textAlign")};goog.style.getComputedCursor=function(a){return goog.style.getStyle_(a,"cursor")};goog.style.getComputedTransform=function(a){var b=goog.style.getVendorStyleName_(a,"transform");return goog.style.getStyle_(a,b)||goog.style.getStyle_(a,"transform")};\ngoog.style.setPosition=function(a,b,c){var d;b instanceof goog.math.Coordinate?(d=b.x,b=b.y):(d=b,b=c);a.style.left=goog.style.getPixelStyleValue_(d,!1);a.style.top=goog.style.getPixelStyleValue_(b,!1)};goog.style.getPosition=function(a){return new goog.math.Coordinate(a.offsetLeft,a.offsetTop)};\ngoog.style.getClientViewportElement=function(a){a=a?goog.dom.getOwnerDocument(a):goog.dom.getDocument();return!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(a).isCss1CompatMode()?a.documentElement:a.body};goog.style.getViewportPageOffset=function(a){var b=a.body;a=a.documentElement;return new goog.math.Coordinate(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};\ngoog.style.getBoundingClientRect_=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}goog.userAgent.IE&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b};\ngoog.style.getOffsetParent=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(a&&"offsetParent"in a),a.offsetParent;var b=goog.dom.getOwnerDocument(a),c=goog.style.getStyle_(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(a.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&a.host&&(a=a.host),c=goog.style.getStyle_(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||\na.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};\ngoog.style.getVisibleRectForElement=function(a){for(var b=new goog.math.Box(0,Infinity,Infinity,0),c=goog.dom.getDomHelper(a),d=c.getDocument().body,e=c.getDocument().documentElement,f=c.getDocumentScrollElement();a=goog.style.getOffsetParent(a);)if(!(goog.userAgent.IE&&0==a.clientWidth||goog.userAgent.WEBKIT&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=goog.style.getStyle_(a,"overflow")){var g=goog.style.getPageOffset(a),h=goog.style.getClientLeftTop(a);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,\ng.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=c.getViewportSize();b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null};\ngoog.style.getContainerOffsetToScrollInto=function(a,b,c){var d=b||goog.dom.getDocumentScrollElement(),e=goog.style.getPageOffset(a),f=goog.style.getPageOffset(d),g=goog.style.getBorderBox(d);d==goog.dom.getDocumentScrollElement()?(b=e.x-d.scrollLeft,e=e.y-d.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(b+=g.left,e+=g.top)):(b=e.x-f.x-g.left,e=e.y-f.y-g.top);g=goog.style.getSizeWithDisplay_(a);a=d.clientWidth-g.width;g=d.clientHeight-g.height;f=d.scrollLeft;d=d.scrollTop;\nc?(f+=b-a/2,d+=e-g/2):(f+=Math.min(b,Math.max(b-a,0)),d+=Math.min(e,Math.max(e-g,0)));return new goog.math.Coordinate(f,d)};goog.style.scrollIntoContainerView=function(a,b,c){b=b||goog.dom.getDocumentScrollElement();a=goog.style.getContainerOffsetToScrollInto(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};goog.style.getClientLeftTop=function(a){return new goog.math.Coordinate(a.clientLeft,a.clientTop)};\ngoog.style.getPageOffset=function(a){var b=goog.dom.getOwnerDocument(a);goog.asserts.assertObject(a,"Parameter is required");var c=new goog.math.Coordinate(0,0),d=goog.style.getClientViewportElement(b);if(a==d)return c;a=goog.style.getBoundingClientRect_(a);b=goog.dom.getDomHelper(b).getDocumentScroll();c.x=a.left+b.x;c.y=a.top+b.y;return c};goog.style.getPageOffsetLeft=function(a){return goog.style.getPageOffset(a).x};goog.style.getPageOffsetTop=function(a){return goog.style.getPageOffset(a).y};\ngoog.style.getFramedPageOffset=function(a,b){var c=new goog.math.Coordinate(0,0),d=goog.dom.getWindow(goog.dom.getOwnerDocument(a));if(!goog.reflect.canAccessProperty(d,"parent"))return c;var e=a;do{var f=d==b?goog.style.getPageOffset(e):goog.style.getClientPositionForElement_(goog.asserts.assert(e));c.x+=f.x;c.y+=f.y}while(d&&d!=b&&d!=d.parent&&(e=d.frameElement)&&(d=d.parent));return c};\ngoog.style.translateRectForAnotherFrame=function(a,b,c){if(b.getDocument()!=c.getDocument()){var d=b.getDocument().body;c=goog.style.getFramedPageOffset(d,c.getWindow());c=goog.math.Coordinate.difference(c,goog.style.getPageOffset(d));!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||b.isCss1CompatMode()||(c=goog.math.Coordinate.difference(c,b.getDocumentScroll()));a.left+=c.x;a.top+=c.y}};\ngoog.style.getRelativePosition=function(a,b){var c=goog.style.getClientPosition(a),d=goog.style.getClientPosition(b);return new goog.math.Coordinate(c.x-d.x,c.y-d.y)};goog.style.getClientPositionForElement_=function(a){a=goog.style.getBoundingClientRect_(a);return new goog.math.Coordinate(a.left,a.top)};\ngoog.style.getClientPosition=function(a){goog.asserts.assert(a);if(a.nodeType==goog.dom.NodeType.ELEMENT)return goog.style.getClientPositionForElement_(a);a=a.changedTouches?a.changedTouches[0]:a;return new goog.math.Coordinate(a.clientX,a.clientY)};goog.style.setPageOffset=function(a,b,c){var d=goog.style.getPageOffset(a);b instanceof goog.math.Coordinate&&(c=b.y,b=b.x);b=goog.asserts.assertNumber(b)-d.x;goog.style.setPosition(a,a.offsetLeft+b,a.offsetTop+(Number(c)-d.y))};\ngoog.style.setSize=function(a,b,c){if(b instanceof goog.math.Size)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");goog.style.setWidth(a,b);goog.style.setHeight(a,c)};goog.style.getPixelStyleValue_=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a};goog.style.setHeight=function(a,b){a.style.height=goog.style.getPixelStyleValue_(b,!0)};goog.style.setWidth=function(a,b){a.style.width=goog.style.getPixelStyleValue_(b,!0)};\ngoog.style.getSize=function(a){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,a)};goog.style.evaluateWithTemporaryDisplay_=function(a,b){if("none"!=goog.style.getStyle_(b,"display"))return a(b);var c=b.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a(b);c.display=d;c.position=f;c.visibility=e;return g};\ngoog.style.getSizeWithDisplay_=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=goog.userAgent.WEBKIT&&!b&&!c;return goog.isDef(b)&&!d||!a.getBoundingClientRect?new goog.math.Size(b,c):(a=goog.style.getBoundingClientRect_(a),new goog.math.Size(a.right-a.left,a.bottom-a.top))};goog.style.getTransformedSize=function(a){if(!a.getBoundingClientRect)return null;a=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,a);return new goog.math.Size(a.right-a.left,a.bottom-a.top)};\ngoog.style.getBounds=function(a){var b=goog.style.getPageOffset(a);a=goog.style.getSize(a);return new goog.math.Rect(b.x,b.y,a.width,a.height)};goog.style.toCamelCase=function(a){return goog.string.toCamelCase(String(a))};goog.style.toSelectorCase=function(a){return goog.string.toSelectorCase(a)};\ngoog.style.getOpacity=function(a){goog.asserts.assert(a);var b=a.style;a="";"opacity"in b?a=b.opacity:"MozOpacity"in b?a=b.MozOpacity:"filter"in b&&(b=b.filter.match(/alpha\\(opacity=([\\d.]+)\\)/))&&(a=String(b[1]/100));return""==a?a:Number(a)};goog.style.setOpacity=function(a,b){goog.asserts.assert(a);var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")};\ngoog.style.setTransparentBackgroundImage=function(a,b){var c=a.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?c.filter=\'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="\'+b+\'", sizingMethod="crop")\':(c.backgroundImage="url("+b+")",c.backgroundPosition="top left",c.backgroundRepeat="no-repeat")};goog.style.clearTransparentBackgroundImage=function(a){a=a.style;"filter"in a?a.filter="":a.backgroundImage="none"};\ngoog.style.showElement=function(a,b){goog.style.setElementShown(a,b)};goog.style.setElementShown=function(a,b){a.style.display=b?"":"none"};goog.style.isElementShown=function(a){return"none"!=a.style.display};goog.style.installStyles=function(a,b){return goog.style.installSafeStyleSheet(goog.html.legacyconversions.safeStyleSheetFromString(a),b)};\ngoog.style.installSafeStyleSheet=function(a,b){var c=goog.dom.getDomHelper(b),d,e=c.getDocument();goog.userAgent.IE&&e.createStyleSheet?(d=e.createStyleSheet(),goog.style.setSafeStyleSheet(d,a)):(e=c.getElementsByTagNameAndClass("HEAD")[0],e||(d=c.getElementsByTagNameAndClass("BODY")[0],e=c.createDom("HEAD"),d.parentNode.insertBefore(e,d)),d=c.createDom("STYLE"),goog.style.setSafeStyleSheet(d,a),c.appendChild(e,d));return d};\ngoog.style.uninstallStyles=function(a){goog.dom.removeNode(a.ownerNode||a.owningElement||a)};goog.style.setStyles=function(a,b){goog.style.setSafeStyleSheet(a,goog.html.legacyconversions.safeStyleSheetFromString(b))};goog.style.setSafeStyleSheet=function(a,b){var c=goog.html.SafeStyleSheet.unwrap(b);goog.userAgent.IE&&goog.isDef(a.cssText)?a.cssText=c:a.innerHTML=c};\ngoog.style.setPreWrap=function(a){a=a.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(a.whiteSpace="pre",a.wordWrap="break-word"):a.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"};goog.style.setInlineBlock=function(a){a=a.style;a.position="relative";goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(a.zoom="1",a.display="inline"):a.display="inline-block"};goog.style.isRightToLeft=function(a){return"rtl"==goog.style.getStyle_(a,"direction")};\ngoog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null;goog.style.isUnselectable=function(a){return goog.style.unselectableStyle_?"none"==a.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==a.getAttribute("unselectable"):!1};\ngoog.style.setUnselectable=function(a,b,c){c=c?null:a.getElementsByTagName("*");var d=goog.style.unselectableStyle_;if(d){if(b=b?"none":"",a.style&&(a.style[d]=b),c){a=0;for(var e;e=c[a];a++)e.style&&(e.style[d]=b)}}else if(goog.userAgent.IE||goog.userAgent.OPERA)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;e=c[a];a++)e.setAttribute("unselectable",b)};goog.style.getBorderBoxSize=function(a){return new goog.math.Size(a.offsetWidth,a.offsetHeight)};\ngoog.style.setBorderBoxSize=function(a,b){var c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||d&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(a,b,"border-box");else if(c=a.style,d){var d=goog.style.getPaddingBox(a),e=goog.style.getBorderBox(a);c.pixelWidth=b.width-e.left-d.left-d.right-e.right;c.pixelHeight=b.height-e.top-d.top-d.bottom-e.bottom}else c.pixelWidth=b.width,c.pixelHeight=\nb.height};\ngoog.style.getContentBoxSize=function(a){var b=goog.dom.getOwnerDocument(a),c=goog.userAgent.IE&&a.currentStyle;if(c&&goog.dom.getDomHelper(b).isCss1CompatMode()&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=goog.style.getIePixelValue_(a,c.width,"width","pixelWidth"),a=goog.style.getIePixelValue_(a,c.height,"height","pixelHeight"),new goog.math.Size(b,a);c=goog.style.getBorderBoxSize(a);b=goog.style.getPaddingBox(a);a=goog.style.getBorderBox(a);return new goog.math.Size(c.width-a.left-\nb.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};\ngoog.style.setContentBoxSize=function(a,b){var c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||d&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(a,b,"content-box");else if(c=a.style,d)c.pixelWidth=b.width,c.pixelHeight=b.height;else{var d=goog.style.getPaddingBox(a),e=goog.style.getBorderBox(a);c.pixelWidth=b.width+e.left+d.left+d.right+e.right;c.pixelHeight=b.height+e.top+d.top+d.bottom+\ne.bottom}};goog.style.setBoxSizingSize_=function(a,b,c){a=a.style;goog.userAgent.GECKO?a.MozBoxSizing=c:goog.userAgent.WEBKIT?a.WebkitBoxSizing=c:a.boxSizing=c;a.width=Math.max(b.width,0)+"px";a.height=Math.max(b.height,0)+"px"};goog.style.getIePixelValue_=function(a,b,c,d){if(/^\\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b};\ngoog.style.getIePixelDistance_=function(a,b){var c=goog.style.getCascadedStyle(a,b);return c?goog.style.getIePixelValue_(a,c,"left","pixelLeft"):0};\ngoog.style.getBox_=function(a,b){if(goog.userAgent.IE){var c=goog.style.getIePixelDistance_(a,b+"Left"),d=goog.style.getIePixelDistance_(a,b+"Right"),e=goog.style.getIePixelDistance_(a,b+"Top"),f=goog.style.getIePixelDistance_(a,b+"Bottom");return new goog.math.Box(e,d,f,c)}c=goog.style.getComputedStyle(a,b+"Left");d=goog.style.getComputedStyle(a,b+"Right");e=goog.style.getComputedStyle(a,b+"Top");f=goog.style.getComputedStyle(a,b+"Bottom");return new goog.math.Box(parseFloat(e),parseFloat(d),parseFloat(f),\nparseFloat(c))};goog.style.getPaddingBox=function(a){return goog.style.getBox_(a,"padding")};goog.style.getMarginBox=function(a){return goog.style.getBox_(a,"margin")};goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6};\ngoog.style.getIePixelBorder_=function(a,b){if("none"==goog.style.getCascadedStyle(a,b+"Style"))return 0;var c=goog.style.getCascadedStyle(a,b+"Width");return c in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[c]:goog.style.getIePixelValue_(a,c,"left","pixelLeft")};\ngoog.style.getBorderBox=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var b=goog.style.getIePixelBorder_(a,"borderLeft"),c=goog.style.getIePixelBorder_(a,"borderRight"),d=goog.style.getIePixelBorder_(a,"borderTop");a=goog.style.getIePixelBorder_(a,"borderBottom");return new goog.math.Box(d,c,a,b)}b=goog.style.getComputedStyle(a,"borderLeftWidth");c=goog.style.getComputedStyle(a,"borderRightWidth");d=goog.style.getComputedStyle(a,"borderTopWidth");a=goog.style.getComputedStyle(a,\n"borderBottomWidth");return new goog.math.Box(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};goog.style.getFontFamily=function(a){var b=goog.dom.getOwnerDocument(a),c="";if(b.body.createTextRange&&goog.dom.contains(b,a)){b=b.body.createTextRange();b.moveToElementText(a);try{c=b.queryCommandValue("FontName")}catch(d){c=""}}c||(c=goog.style.getStyle_(a,"fontFamily"));a=c.split(",");1<a.length&&(c=a[0]);return goog.string.stripQuotes(c,"\\"\'")};goog.style.lengthUnitRegex_=/[^\\d]+$/;\ngoog.style.getLengthUnits=function(a){return(a=a.match(goog.style.lengthUnitRegex_))&&a[0]||null};goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1};goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1};\ngoog.style.getFontSize=function(a){var b=goog.style.getStyle_(a,"fontSize"),c=goog.style.getLengthUnits(b);if(b&&"px"==c)return parseInt(b,10);if(goog.userAgent.IE){if(String(c)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(a,b,"left","pixelLeft");if(a.parentNode&&a.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(c)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return a=a.parentNode,c=goog.style.getStyle_(a,"fontSize"),goog.style.getIePixelValue_(a,b==c?"1em":b,\n"left","pixelLeft")}c=goog.dom.createDom("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});goog.dom.appendChild(a,c);b=c.offsetHeight;goog.dom.removeNode(c);return b};goog.style.parseStyleAttribute=function(a){var b={};goog.array.forEach(a.split(/\\s*;\\s*/),function(a){var d=a.match(/\\s*([\\w-]+)\\s*\\:(.+)/);d&&(a=d[1],d=goog.string.trim(d[2]),b[goog.string.toCamelCase(a.toLowerCase())]=d)});return b};\ngoog.style.toStyleAttribute=function(a){var b=[];goog.object.forEach(a,function(a,d){b.push(goog.string.toSelectorCase(d),":",a,";")});return b.join("")};goog.style.setFloat=function(a,b){a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=b};goog.style.getFloat=function(a){return a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""};\ngoog.style.getScrollbarWidth=function(a){var b=goog.dom.createElement("DIV");a&&(b.className=a);b.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";a=goog.dom.createElement("DIV");goog.style.setSize(a,"200px","200px");b.appendChild(a);goog.dom.appendChild(goog.dom.getDocument().body,b);a=b.offsetWidth-b.clientWidth;goog.dom.removeNode(b);return a};goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)/;\ngoog.style.getCssTranslation=function(a){a=goog.style.getComputedTransform(a);return a?(a=a.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(a[1]),parseFloat(a[2])):new goog.math.Coordinate(0,0):new goog.math.Coordinate(0,0)};goog.Thenable=function(){};goog.Thenable.prototype.then=function(a,b,c){};goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable";goog.Thenable.addImplementation=function(a){goog.exportProperty(a.prototype,"then",a.prototype.then);COMPILED?a.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:a.prototype.$goog_Thenable=!0};goog.Thenable.isImplementedBy=function(a){if(!a)return!1;try{return COMPILED?!!a[goog.Thenable.IMPLEMENTED_BY_PROP]:!!a.$goog_Thenable}catch(b){return!1}};goog.async={};goog.async.FreeList=function(a,b,c){this.limit_=c;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};goog.async.FreeList.prototype.get=function(){var a;0<this.occupants_?(this.occupants_--,a=this.head_,this.head_=a.next,a.next=null):a=this.create_();return a};goog.async.FreeList.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};goog.async.FreeList.prototype.occupants=function(){return this.occupants_};goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null};goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100;goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(a){a.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED);goog.async.WorkQueue.prototype.add=function(a,b){var c=this.getUnusedItem_();c.set(a,b);this.workTail_?this.workTail_.next=c:(goog.asserts.assert(!this.workHead_),this.workHead_=c);this.workTail_=c};\ngoog.async.WorkQueue.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};goog.async.WorkQueue.prototype.returnUnused=function(a){goog.async.WorkQueue.freelist_.put(a)};goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()};goog.async.WorkItem=function(){this.next=this.scope=this.fn=null};\ngoog.async.WorkItem.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null};goog.functions={};goog.functions.constant=function(a){return function(){return a}};goog.functions.FALSE=goog.functions.constant(!1);goog.functions.TRUE=goog.functions.constant(!0);goog.functions.NULL=goog.functions.constant(null);goog.functions.identity=function(a,b){return a};goog.functions.error=function(a){return function(){throw Error(a);}};goog.functions.fail=function(a){return function(){throw a;}};\ngoog.functions.lock=function(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};goog.functions.nth=function(a){return function(){return arguments[a]}};goog.functions.partialRight=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.push.apply(b,c);return a.apply(this,b)}};goog.functions.withReturnValue=function(a,b){return goog.functions.sequence(a,goog.functions.constant(b))};\ngoog.functions.equalTo=function(a,b){return function(c){return b?a==c:a===c}};goog.functions.compose=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};goog.functions.sequence=function(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}};\ngoog.functions.and=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};goog.functions.or=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(b[a].apply(this,arguments))return!0;return!1}};goog.functions.not=function(a){return function(){return!a.apply(this,arguments)}};\ngoog.functions.create=function(a,b){var c=function(){};c.prototype=a.prototype;c=new c;a.apply(c,Array.prototype.slice.call(arguments,1));return c};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(a){var b=!1,c;return function(){if(!goog.functions.CACHE_RETURN_VALUE)return a();b||(c=a(),b=!0);return c}};goog.functions.once=function(a){var b=a;return function(){if(b){var a=b;b=null;a()}}};\ngoog.functions.debounce=function(a,b,c){c&&(a=goog.bind(a,c));var d=null;return function(c){goog.global.clearTimeout(d);var f=arguments;d=goog.global.setTimeout(function(){a.apply(null,f)},b)}};goog.functions.throttle=function(a,b,c){c&&(a=goog.bind(a,c));var d=null,e=!1,f=[],g=function(){d=null;e&&(e=!1,h())},h=function(){d=goog.global.setTimeout(g,b);a.apply(null,f)};return function(a){f=arguments;d?e=!0:h()}};goog.async.throwException=function(a){goog.global.setTimeout(function(){throw a;},0)};goog.async.nextTick=function(a,b,c){var d=a;b&&(d=goog.bind(a,b));d=goog.async.nextTick.wrapCallback_(d);goog.isFunction(goog.global.setImmediate)&&(c||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(d):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(d))};\ngoog.async.nextTick.useSetImmediate_=function(){return goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?!1:!0};\ngoog.async.nextTick.getSetImmediateEmulator_=function(){var a=goog.global.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+\n"//"+b.location.host,a=goog.bind(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!goog.labs.userAgent.browser.isIE()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(goog.isDef(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};return function(a){d.next={cb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in\ndocument.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){goog.global.setTimeout(a,0)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;goog.debug.entryPointRegistry.register(function(a){goog.async.nextTick.wrapCallback_=a});goog.async.run=function(a,b){goog.async.run.schedule_||goog.async.run.initializeRunner_();goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0);goog.async.run.workQueue_.add(a,b)};goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var a=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){a.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}};\ngoog.async.run.forceNextTick=function(a){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue);a&&a(goog.async.run.processWorkQueue)}};goog.async.run.workQueueScheduled_=!1;goog.async.run.workQueue_=new goog.async.WorkQueue;goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1;goog.async.run.workQueue_=new goog.async.WorkQueue});\ngoog.async.run.processWorkQueue=function(){for(var a;a=goog.async.run.workQueue_.remove();){try{a.fn.call(a.scope)}catch(b){goog.async.throwException(b)}goog.async.run.workQueue_.returnUnused(a)}goog.async.run.workQueueScheduled_=!1};goog.promise={};goog.promise.Resolver=function(){};goog.Promise=function(a,b){this.state_=goog.Promise.State_.PENDING;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.executing_=!1;0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0);if(a!=goog.nullFunction)try{var c=this;a.call(b,function(a){c.resolve_(goog.Promise.State_.FULFILLED,\na)},function(a){if(goog.DEBUG&&!(a instanceof goog.Promise.CancellationError))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}c.resolve_(goog.Promise.State_.REJECTED,a)})}catch(d){this.resolve_(goog.Promise.State_.REJECTED,d)}};goog.Promise.LONG_STACK_TRACES=!1;goog.Promise.UNHANDLED_REJECTION_DELAY=0;goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3};\ngoog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};goog.Promise.DEFAULT_MAX_UNUSED=100;goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(a){a.reset()},goog.Promise.DEFAULT_MAX_UNUSED);\ngoog.Promise.getCallbackEntry_=function(a,b,c){var d=goog.Promise.freelist_.get();d.onFulfilled=a;d.onRejected=b;d.context=c;return d};goog.Promise.returnEntry_=function(a){goog.Promise.freelist_.put(a)};goog.Promise.resolve=function(a){if(a instanceof goog.Promise)return a;var b=new goog.Promise(goog.nullFunction);b.resolve_(goog.Promise.State_.FULFILLED,a);return b};goog.Promise.reject=function(a){return new goog.Promise(function(b,c){c(a)})};\ngoog.Promise.resolveThen_=function(a,b,c){goog.Promise.maybeThen_(a,b,c,null)||goog.async.run(goog.partial(b,a))};goog.Promise.race=function(a){return new goog.Promise(function(b,c){a.length||b(void 0);for(var d=0,e;d<a.length;d++)e=a[d],goog.Promise.resolveThen_(e,b,c)})};\ngoog.Promise.all=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,k;h<a.length;h++)k=a[h],goog.Promise.resolveThen_(k,goog.partial(f,h),g);else b(e)})};\ngoog.Promise.allSettled=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c,f){d--;e[a]=c?{fulfilled:!0,value:f}:{fulfilled:!1,reason:f};0==d&&b(e)},g=0,h;g<a.length;g++)h=a[g],goog.Promise.resolveThen_(h,goog.partial(f,g,!0),goog.partial(f,g,!1));else b(e)})};\ngoog.Promise.firstFulfilled=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a){b(a)},g=function(a,b){d--;e[a]=b;0==d&&c(e)},h=0,k;h<a.length;h++)k=a[h],goog.Promise.resolveThen_(k,f,goog.partial(g,h));else b(void 0)})};goog.Promise.withResolver=function(){var a,b,c=new goog.Promise(function(c,e){a=c;b=e});return new goog.Promise.Resolver_(c,a,b)};\ngoog.Promise.prototype.then=function(a,b,c){null!=a&&goog.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&goog.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then"));return this.addChildPromise_(goog.isFunction(a)?a:null,goog.isFunction(b)?b:null,c)};goog.Thenable.addImplementation(goog.Promise);\ngoog.Promise.prototype.thenVoid=function(a,b,c){null!=a&&goog.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&goog.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then"));this.addCallbackEntry_(goog.Promise.getCallbackEntry_(a||goog.nullFunction,b||null,c))};\ngoog.Promise.prototype.thenAlways=function(a,b){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var c=goog.Promise.getCallbackEntry_(a,a,b);c.always=!0;this.addCallbackEntry_(c);return this};goog.Promise.prototype.thenCatch=function(a,b){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch"));return this.addChildPromise_(null,a,b)};\ngoog.Promise.prototype.cancel=function(a){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var b=new goog.Promise.CancellationError(a);this.cancelInternal_(b)},this)};goog.Promise.prototype.cancelInternal_=function(a){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,a),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,a))};\ngoog.Promise.prototype.cancelChild_=function(a,b){if(this.callbackEntries_){for(var c=0,d=null,e=null,f=this.callbackEntries_;f&&(f.always||(c++,f.child==a&&(d=f),!(d&&1<c)));f=f.next)d||(e=f);d&&(this.state_==goog.Promise.State_.PENDING&&1==c?this.cancelInternal_(b):(e?this.removeEntryAfter_(e):this.popEntry_(),this.executeCallback_(d,goog.Promise.State_.REJECTED,b)))}};\ngoog.Promise.prototype.addCallbackEntry_=function(a){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_();this.queueEntry_(a)};\ngoog.Promise.prototype.addChildPromise_=function(a,b,c){var d=goog.Promise.getCallbackEntry_(null,null,null);d.child=new goog.Promise(function(e,f){d.onFulfilled=a?function(b){try{var d=a.call(c,b);e(d)}catch(k){f(k)}}:e;d.onRejected=b?function(a){try{var d=b.call(c,a);!goog.isDef(d)&&a instanceof goog.Promise.CancellationError?f(a):e(d)}catch(k){f(k)}}:f});d.child.parent_=this;this.addCallbackEntry_(d);return d.child};\ngoog.Promise.prototype.unblockAndFulfill_=function(a){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.FULFILLED,a)};goog.Promise.prototype.unblockAndReject_=function(a){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.REJECTED,a)};\ngoog.Promise.prototype.resolve_=function(a,b){this.state_==goog.Promise.State_.PENDING&&(this===b&&(a=goog.Promise.State_.REJECTED,b=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(b,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=b,this.state_=a,this.parent_=null,this.scheduleCallbacks_(),a!=goog.Promise.State_.REJECTED||b instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,b)))};\ngoog.Promise.maybeThen_=function(a,b,c,d){if(a instanceof goog.Promise)return a.thenVoid(b,c,d),!0;if(goog.Thenable.isImplementedBy(a))return a.then(b,c,d),!0;if(goog.isObject(a))try{var e=a.then;if(goog.isFunction(e))return goog.Promise.tryThen_(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1};goog.Promise.tryThen_=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(k){h(k)}};\ngoog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))};goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_};goog.Promise.prototype.queueEntry_=function(a){goog.asserts.assert(null!=a.onFulfilled);this.callbackEntriesTail_?this.callbackEntriesTail_.next=a:this.callbackEntries_=a;this.callbackEntriesTail_=a};\ngoog.Promise.prototype.popEntry_=function(){var a=null;this.callbackEntries_&&(a=this.callbackEntries_,this.callbackEntries_=a.next,a.next=null);this.callbackEntries_||(this.callbackEntriesTail_=null);null!=a&&goog.asserts.assert(null!=a.onFulfilled);return a};goog.Promise.prototype.removeEntryAfter_=function(a){goog.asserts.assert(this.callbackEntries_);goog.asserts.assert(null!=a);a.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=a);a.next=a.next.next};\ngoog.Promise.prototype.executeCallbacks_=function(){for(var a;a=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(a,this.state_,this.result_);this.executing_=!1};\ngoog.Promise.prototype.executeCallback_=function(a,b,c){b==goog.Promise.State_.REJECTED&&a.onRejected&&!a.always&&this.removeUnhandledRejection_();if(a.child)a.child.parent_=null,goog.Promise.invokeCallback_(a,b,c);else try{a.always?a.onFulfilled.call(a.context):goog.Promise.invokeCallback_(a,b,c)}catch(d){goog.Promise.handleRejection_.call(null,d)}goog.Promise.returnEntry_(a)};\ngoog.Promise.invokeCallback_=function(a,b,c){b==goog.Promise.State_.FULFILLED?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)};goog.Promise.prototype.addStackTrace_=function(a){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(a.stack)){var b=a.stack.split("\\n",4)[3];a=a.message;a+=Array(11-a.length).join(" ");this.stack_.push(a+b)}};\ngoog.Promise.prototype.appendLongStack_=function(a){if(goog.Promise.LONG_STACK_TRACES&&a&&goog.isString(a.stack)&&this.stack_.length){for(var b=["Promise trace:"],c=this;c;c=c.parent_){for(var d=this.currentStep_;0<=d;d--)b.push(c.stack_[d]);b.push("Value: ["+(c.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(c.result_)+">")}a.stack+="\\n\\n"+b.join("\\n")}};\ngoog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var a=this;a&&a.unhandledRejectionId_;a=a.parent_)goog.global.clearTimeout(a.unhandledRejectionId_),a.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(a=this;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1};\ngoog.Promise.addUnhandledRejection_=function(a,b){0<goog.Promise.UNHANDLED_REJECTION_DELAY?a.unhandledRejectionId_=goog.global.setTimeout(function(){a.appendLongStack_(b);goog.Promise.handleRejection_.call(null,b)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(a.hadUnhandledRejection_=!0,goog.async.run(function(){a.hadUnhandledRejection_&&(a.appendLongStack_(b),goog.Promise.handleRejection_.call(null,b))}))};goog.Promise.handleRejection_=goog.async.throwException;\ngoog.Promise.setUnhandledRejectionHandler=function(a){goog.Promise.handleRejection_=a};goog.Promise.CancellationError=function(a){goog.debug.Error.call(this,a)};goog.inherits(goog.Promise.CancellationError,goog.debug.Error);goog.Promise.CancellationError.prototype.name="cancel";goog.Promise.Resolver_=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};goog.events.EventTarget=function(){goog.Disposable.call(this);this.eventTargetListeners_=new goog.events.ListenerMap(this);this.actualEventTarget_=this;this.parentEventTarget_=null};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.Listenable.addImplementation(goog.events.EventTarget);goog.events.EventTarget.MAX_ANCESTORS_=1E3;goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};\ngoog.events.EventTarget.prototype.setParentEventTarget=function(a){this.parentEventTarget_=a};goog.events.EventTarget.prototype.addEventListener=function(a,b,c,d){goog.events.listen(this,a,b,c,d)};goog.events.EventTarget.prototype.removeEventListener=function(a,b,c,d){goog.events.unlisten(this,a,b,c,d)};\ngoog.events.EventTarget.prototype.dispatchEvent=function(a){this.assertInitialized_();var b,c=this.getParentEventTarget();if(c){b=[];for(var d=1;c;c=c.getParentEventTarget())b.push(c),goog.asserts.assert(++d<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,a,b)};\ngoog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};goog.events.EventTarget.prototype.listen=function(a,b,c,d){this.assertInitialized_();return this.eventTargetListeners_.add(String(a),b,!1,c,d)};goog.events.EventTarget.prototype.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};\ngoog.events.EventTarget.prototype.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};goog.events.EventTarget.prototype.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};goog.events.EventTarget.prototype.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};\ngoog.events.EventTarget.prototype.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.removed&&f.capture==b){var g=f.listener,h=f.handler||f.src;f.callOnce&&this.unlistenByKey(f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.returnValue_};goog.events.EventTarget.prototype.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};\ngoog.events.EventTarget.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};goog.events.EventTarget.prototype.hasListener=function(a,b){var c=goog.isDef(a)?String(a):void 0;return this.eventTargetListeners_.hasListener(c,b)};goog.events.EventTarget.prototype.setTargetForTesting=function(a){this.actualEventTarget_=a};goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};\ngoog.events.EventTarget.dispatchEventInternal_=function(a,b,c){var d=b.type||b;if(goog.isString(b))b=new goog.events.Event(b,a);else if(b instanceof goog.events.Event)b.target=b.target||a;else{var e=b;b=new goog.events.Event(d,a);goog.object.extend(b,e)}var e=!0,f;if(c)for(var g=c.length-1;!b.propagationStopped_&&0<=g;g--)f=b.currentTarget=c[g],e=f.fireListeners(d,!0,b)&&e;b.propagationStopped_||(f=b.currentTarget=a,e=f.fireListeners(d,!0,b)&&e,b.propagationStopped_||(e=f.fireListeners(d,!1,b)&&e));\nif(c)for(g=0;!b.propagationStopped_&&g<c.length;g++)f=b.currentTarget=c[g],e=f.fireListeners(d,!1,b)&&e;return e};goog.Timer=function(a,b){goog.events.EventTarget.call(this);this.interval_=a||1;this.timerObject_=b||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.INVALID_TIMEOUT_ID_=-1;goog.Timer.prototype.enabled=!1;goog.Timer.defaultTimerObject=goog.global;goog.Timer.intervalScale=.8;goog.Timer.prototype.timer_=null;goog.Timer.prototype.getInterval=function(){return this.interval_};\ngoog.Timer.prototype.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};\ngoog.Timer.prototype.tick_=function(){if(this.enabled){var a=goog.now()-this.last_;0<a&&a<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}};goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};\ngoog.Timer.prototype.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())};goog.Timer.prototype.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};goog.Timer.TICK="tick";\ngoog.Timer.callOnce=function(a,b,c){if(goog.isFunction(a))c&&(a=goog.bind(a,c));else if(a&&"function"==typeof a.handleEvent)a=goog.bind(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(b)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(a,b||0)};goog.Timer.clear=function(a){goog.Timer.defaultTimerObject.clearTimeout(a)};\ngoog.Timer.promise=function(a,b){var c=null;return(new goog.Promise(function(d,e){c=goog.Timer.callOnce(function(){d(b)},a);c==goog.Timer.INVALID_TIMEOUT_ID_&&e(Error("Failed to schedule timer."))})).thenCatch(function(a){goog.Timer.clear(c);throw a;})};goog.events.EventHandler=function(a){goog.Disposable.call(this);this.handler_=a;this.keys_={}};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.typeArray_=[];goog.events.EventHandler.prototype.listen=function(a,b,c,d){return this.listen_(a,b,c,d)};goog.events.EventHandler.prototype.listenWithScope=function(a,b,c,d,e){return this.listen_(a,b,c,d,e)};\ngoog.events.EventHandler.prototype.listen_=function(a,b,c,d,e){goog.isArray(b)||(b&&(goog.events.EventHandler.typeArray_[0]=b.toString()),b=goog.events.EventHandler.typeArray_);for(var f=0;f<b.length;f++){var g=goog.events.listen(a,b[f],c||this.handleEvent,d||!1,e||this.handler_||this);if(!g)break;this.keys_[g.key]=g}return this};goog.events.EventHandler.prototype.listenOnce=function(a,b,c,d){return this.listenOnce_(a,b,c,d)};\ngoog.events.EventHandler.prototype.listenOnceWithScope=function(a,b,c,d,e){return this.listenOnce_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenOnce_=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.listenOnce_(a,b[f],c,d,e);else{a=goog.events.listenOnce(a,b,c||this.handleEvent,d,e||this.handler_||this);if(!a)return this;this.keys_[a.key]=a}return this};goog.events.EventHandler.prototype.listenWithWrapper=function(a,b,c,d){return this.listenWithWrapper_(a,b,c,d)};\ngoog.events.EventHandler.prototype.listenWithWrapperAndScope=function(a,b,c,d,e){return this.listenWithWrapper_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenWithWrapper_=function(a,b,c,d,e){b.listen(a,c,d,e||this.handler_||this,this);return this};goog.events.EventHandler.prototype.getListenerCount=function(){var a=0,b;for(b in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,b)&&a++;return a};\ngoog.events.EventHandler.prototype.unlisten=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else if(a=goog.events.getListener(a,b,c||this.handleEvent,d,e||this.handler_||this))goog.events.unlistenByKey(a),delete this.keys_[a.key];return this};goog.events.EventHandler.prototype.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e||this.handler_||this,this);return this};\ngoog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&goog.events.unlistenByKey(a)},this);this.keys_={}};goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};goog.events.EventHandler.prototype.handleEvent=function(a){throw Error("EventHandler.handleEvent not implemented");};goog.ui={};goog.ui.IdGenerator=function(){};goog.addSingletonGetter(goog.ui.IdGenerator);goog.ui.IdGenerator.prototype.nextId_=0;goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)};goog.ui.Component=function(a){goog.events.EventTarget.call(this);this.dom_=a||goog.dom.getDomHelper();this.rightToLeft_=goog.ui.Component.defaultRightToLeft_;this.id_=null;this.inDocument_=!1;this.element_=null;this.googUiComponentHandler_=void 0;this.childIndex_=this.children_=this.parent_=this.model_=null;this.wasDecorated_=!1};goog.inherits(goog.ui.Component,goog.events.EventTarget);goog.ui.Component.ALLOW_DETACHED_DECORATION=!1;goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance();\ngoog.ui.Component.DEFAULT_BIDI_DIR=0;goog.ui.Component.defaultRightToLeft_=1==goog.ui.Component.DEFAULT_BIDI_DIR?!1:-1==goog.ui.Component.DEFAULT_BIDI_DIR?!0:null;\ngoog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"};\ngoog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"};\ngoog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64};\ngoog.ui.Component.getStateTransitionEvent=function(a,b){switch(a){case goog.ui.Component.State.DISABLED:return b?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return b?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return b?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return b?goog.ui.Component.EventType.SELECT:\ngoog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return b?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return b?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return b?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID);};\ngoog.ui.Component.setDefaultRightToLeft=function(a){goog.ui.Component.defaultRightToLeft_=a};goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};goog.ui.Component.prototype.setId=function(a){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,a,this));this.id_=a};goog.ui.Component.prototype.getElement=function(){return this.element_};\ngoog.ui.Component.prototype.getElementStrict=function(){var a=this.element_;goog.asserts.assert(a,"Can not call getElementStrict before rendering/decorating.");return a};goog.ui.Component.prototype.setElementInternal=function(a){this.element_=a};goog.ui.Component.prototype.getElementsByClass=function(a){return this.element_?this.dom_.getElementsByClass(a,this.element_):[]};goog.ui.Component.prototype.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};\ngoog.ui.Component.prototype.getRequiredElementByClass=function(a){var b=this.getElementByClass(a);goog.asserts.assert(b,"Expected element in component with class: %s",a);return b};goog.ui.Component.prototype.getHandler=function(){this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this));return this.googUiComponentHandler_};\ngoog.ui.Component.prototype.setParent=function(a){if(this==a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=a;goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getParent=function(){return this.parent_};\ngoog.ui.Component.prototype.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getDomHelper=function(){return this.dom_};goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_};goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("DIV")};goog.ui.Component.prototype.render=function(a){this.render_(a)};\ngoog.ui.Component.prototype.renderBefore=function(a){this.render_(a.parentNode,a)};goog.ui.Component.prototype.render_=function(a,b){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom();a?a.insertBefore(this.element_,b||null):this.dom_.getDocument().body.appendChild(this.element_);this.parent_&&!this.parent_.isInDocument()||this.enterDocument()};\ngoog.ui.Component.prototype.decorate=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(a&&this.canDecorate(a)){this.wasDecorated_=!0;var b=goog.dom.getOwnerDocument(a);this.dom_&&this.dom_.getDocument()==b||(this.dom_=goog.dom.getDomHelper(a));this.decorateInternal(a);goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(b,a)||this.enterDocument()}else throw Error(goog.ui.Component.Error.DECORATE_INVALID);};goog.ui.Component.prototype.canDecorate=function(a){return!0};\ngoog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_};goog.ui.Component.prototype.decorateInternal=function(a){this.element_=a};goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0;this.forEachChild(function(a){!a.isInDocument()&&a.getElement()&&a.enterDocument()})};\ngoog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(a){a.isInDocument()&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};\ngoog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);this.forEachChild(function(a){a.dispose()});!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null;goog.ui.Component.superClass_.disposeInternal.call(this)};\ngoog.ui.Component.prototype.makeId=function(a){return this.getId()+"."+a};goog.ui.Component.prototype.makeIds=function(a){var b={},c;for(c in a)b[c]=this.makeId(a[c]);return b};goog.ui.Component.prototype.getModel=function(){return this.model_};goog.ui.Component.prototype.setModel=function(a){this.model_=a};goog.ui.Component.prototype.getFragmentFromId=function(a){return a.substring(this.getId().length+1)};\ngoog.ui.Component.prototype.getElementByFragment=function(a){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(a))};goog.ui.Component.prototype.addChild=function(a,b){this.addChildAt(a,this.getChildCount(),b)};\ngoog.ui.Component.prototype.addChildAt=function(a,b,c){goog.asserts.assert(!!a,"Provided element must not be null.");if(a.inDocument_&&(c||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>b||b>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]);a.getParent()==this?(goog.object.set(this.childIndex_,a.getId(),a),goog.array.remove(this.children_,a)):goog.object.add(this.childIndex_,\na.getId(),a);a.setParent(this);goog.array.insertAt(this.children_,a,b);a.inDocument_&&this.inDocument_&&a.getParent()==this?(c=this.getContentElement(),b=c.childNodes[b]||null,b!=a.getElement()&&c.insertBefore(a.getElement(),b)):c?(this.element_||this.createDom(),b=this.getChildAt(b+1),a.render_(this.getContentElement(),b?b.element_:null)):this.inDocument_&&!a.inDocument_&&a.element_&&a.element_.parentNode&&a.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&a.enterDocument()};\ngoog.ui.Component.prototype.getContentElement=function(){return this.element_};goog.ui.Component.prototype.isRightToLeft=function(){null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body));return this.rightToLeft_};goog.ui.Component.prototype.setRightToLeft=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=a};\ngoog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length};goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0};goog.ui.Component.prototype.getChildIds=function(){var a=[];this.forEachChild(function(b){a.push(b.getId())});return a};goog.ui.Component.prototype.getChild=function(a){return this.childIndex_&&a?goog.object.get(this.childIndex_,a)||null:null};\ngoog.ui.Component.prototype.getChildAt=function(a){return this.children_?this.children_[a]||null:null};goog.ui.Component.prototype.forEachChild=function(a,b){this.children_&&goog.array.forEach(this.children_,a,b)};goog.ui.Component.prototype.indexOfChild=function(a){return this.children_&&a?goog.array.indexOf(this.children_,a):-1};\ngoog.ui.Component.prototype.removeChild=function(a,b){if(a){var c=goog.isString(a)?a:a.getId();a=this.getChild(c);c&&a&&(goog.object.remove(this.childIndex_,c),goog.array.remove(this.children_,a),b&&(a.exitDocument(),a.element_&&goog.dom.removeNode(a.element_)),a.setParent(null))}if(!a)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return a};goog.ui.Component.prototype.removeChildAt=function(a,b){return this.removeChild(this.getChildAt(a),b)};\ngoog.ui.Component.prototype.removeChildren=function(a){for(var b=[];this.hasChildren();)b.push(this.removeChildAt(0,a));return b};goog.a11y={};goog.a11y.aria={};\ngoog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",\nMAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",\nTAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",\nPRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"};goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"};goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"};\ngoog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"};goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"};goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"};goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"};goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"};\ngoog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"};goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"};goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"};goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"};goog.a11y.aria.datatables={};\ngoog.a11y.aria.datatables.getDefaultValuesMap=function(){goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,\n"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false"));return goog.a11y.aria.DefaultStateValueMap_};goog.a11y.aria.ARIA_PREFIX_="aria-";goog.a11y.aria.ROLE_ATTRIBUTE_="role";goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));\ngoog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID];\ngoog.a11y.aria.setRole=function(a,b){b?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,b),"No such ARIA role "+b),a.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,b)):goog.a11y.aria.removeRole(a)};goog.a11y.aria.getRole=function(a){return a.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null};goog.a11y.aria.removeRole=function(a){a.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)};\ngoog.a11y.aria.setState=function(a,b,c){goog.isArray(c)&&(c=c.join(" "));var d=goog.a11y.aria.getAriaAttributeName_(b);""===c||void 0==c?(c=goog.a11y.aria.datatables.getDefaultValuesMap(),b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};goog.a11y.aria.toggleState=function(a,b){var c=goog.a11y.aria.getState(a,b);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(c))||"true"==c||"false"==c?goog.a11y.aria.setState(a,b,"true"==c?"false":"true"):goog.a11y.aria.removeState(a,b)};\ngoog.a11y.aria.removeState=function(a,b){a.removeAttribute(goog.a11y.aria.getAriaAttributeName_(b))};goog.a11y.aria.getState=function(a,b){var c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));return null==c||void 0==c?"":String(c)};goog.a11y.aria.getActiveDescendant=function(a){var b=goog.a11y.aria.getState(a,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(a).getElementById(b)};\ngoog.a11y.aria.setActiveDescendant=function(a,b){var c="";b&&(c=b.id,goog.asserts.assert(c,"The active element should have an id."));goog.a11y.aria.setState(a,goog.a11y.aria.State.ACTIVEDESCENDANT,c)};goog.a11y.aria.getLabel=function(a){return goog.a11y.aria.getState(a,goog.a11y.aria.State.LABEL)};goog.a11y.aria.setLabel=function(a,b){goog.a11y.aria.setState(a,goog.a11y.aria.State.LABEL,b)};\ngoog.a11y.aria.assertRoleIsSetInternalUtil=function(a,b){if(!goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[a.tagName]){var c=goog.a11y.aria.getRole(a);goog.asserts.assert(null!=c,"The element ARIA role cannot be null.");goog.asserts.assert(goog.array.contains(b,c),\'Non existing or incorrect role set for element.The role set is "\'+c+\'". The role should be any of "\'+b+\'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.\')}};\ngoog.a11y.aria.getStateBoolean=function(a,b){var c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert(goog.isBoolean(c)||null==c||"true"==c||"false"==c);return null==c?c:goog.isBoolean(c)?c:"true"==c};goog.a11y.aria.getStateNumber=function(a,b){var c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert((null==c||!isNaN(Number(c)))&&!goog.isBoolean(c));return null==c?null:Number(c)};\ngoog.a11y.aria.getStateString=function(a,b){var c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert((null==c||goog.isString(c))&&(""==c||isNaN(Number(c)))&&"true"!=c&&"false"!=c);return null==c||""==c?null:c};goog.a11y.aria.getStringArrayStateInternalUtil=function(a,b){var c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));return goog.a11y.aria.splitStringOnWhitespace_(c)};goog.a11y.aria.hasState=function(a,b){return a.hasAttribute(goog.a11y.aria.getAriaAttributeName_(b))};\ngoog.a11y.aria.isContainerRole=function(a){a=goog.a11y.aria.getRole(a);return goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,a)};goog.a11y.aria.splitStringOnWhitespace_=function(a){return a?a.split(/\\s+/):[]};goog.a11y.aria.getAriaAttributeName_=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(a,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,a),"No such ARIA attribute "+a));return goog.a11y.aria.ARIA_PREFIX_+a};goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,\nQ:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,\nSLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255};\ngoog.events.KeyCodes.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=goog.events.KeyCodes.F1&&a.keyCode<=goog.events.KeyCodes.F12)return!1;switch(a.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;\ndefault:return a.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||a.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}};\ngoog.events.KeyCodes.firesKeyPressEvent=function(a,b,c,d,e,f){if(!(goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525")))return!0;if(goog.userAgent.MAC&&e)return goog.events.KeyCodes.isCharacterKey(a);if(e&&!d)return!1;goog.isNumber(b)&&(b=goog.events.KeyCodes.normalizeKeyCode(b));e=b==goog.events.KeyCodes.CTRL||b==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&b==goog.events.KeyCodes.META;f=b==goog.events.KeyCodes.SHIFT&&(d||f);if((!c||goog.userAgent.MAC)&&\ne||goog.userAgent.MAC&&f)return!1;if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&d&&c)switch(a){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&\nd&&b==a)return!1;switch(a){case goog.events.KeyCodes.ENTER:return!0;case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE)}return goog.events.KeyCodes.isCharacterKey(a)};\ngoog.events.KeyCodes.isCharacterKey=function(a){if(a>=goog.events.KeyCodes.ZERO&&a<=goog.events.KeyCodes.NINE||a>=goog.events.KeyCodes.NUM_ZERO&&a<=goog.events.KeyCodes.NUM_MULTIPLY||a>=goog.events.KeyCodes.A&&a<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==a)return!0;switch(a){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}};\ngoog.events.KeyCodes.normalizeKeyCode=function(a){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(a):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(a):a};\ngoog.events.KeyCodes.normalizeGeckoKeyCode=function(a){switch(a){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return a}};\ngoog.events.KeyCodes.normalizeMacWebKitKeyCode=function(a){switch(a){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return a}};goog.events.KeyHandler=function(a,b){goog.events.EventTarget.call(this);a&&this.attach(a,b)};goog.inherits(goog.events.KeyHandler,goog.events.EventTarget);goog.events.KeyHandler.prototype.element_=null;goog.events.KeyHandler.prototype.keyPressKey_=null;goog.events.KeyHandler.prototype.keyDownKey_=null;goog.events.KeyHandler.prototype.keyUpKey_=null;goog.events.KeyHandler.prototype.lastKey_=-1;goog.events.KeyHandler.prototype.keyCode_=-1;goog.events.KeyHandler.prototype.altKey_=!1;\ngoog.events.KeyHandler.EventType={KEY:"key"};\ngoog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,\n63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT};\ngoog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,\n"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT};goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525");goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO;\ngoog.events.KeyHandler.prototype.handleKeyDown_=function(a){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!a.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!a.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!a.metaKey)&&this.resetState();-1==this.lastKey_&&(a.ctrlKey&&a.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:a.altKey&&a.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:a.metaKey&&\na.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META));goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(a.keyCode,this.lastKey_,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(a.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=a.altKey))};goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1};\ngoog.events.KeyHandler.prototype.handleKeyup_=function(a){this.resetState();this.altKey_=a.altKey};\ngoog.events.KeyHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent(),c,d,e=b.altKey;goog.userAgent.IE&&a.type==goog.events.EventType.KEYPRESS?(c=this.keyCode_,d=c!=goog.events.KeyCodes.ENTER&&c!=goog.events.KeyCodes.ESC?b.keyCode:0):(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&a.type==goog.events.EventType.KEYPRESS?(c=this.keyCode_,d=0<=b.charCode&&63232>b.charCode&&goog.events.KeyCodes.isCharacterKey(c)?b.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(c=this.keyCode_,d=\ngoog.events.KeyCodes.isCharacterKey(c)?b.keyCode:0):(c=b.keyCode||this.keyCode_,d=b.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(e=this.altKey_),goog.userAgent.MAC&&d==goog.events.KeyCodes.QUESTION_MARK&&c==goog.events.KeyCodes.WIN_KEY&&(c=goog.events.KeyCodes.SLASH));var f=c=goog.events.KeyCodes.normalizeKeyCode(c),g=b.keyIdentifier;c?63232<=c&&c in goog.events.KeyHandler.safariKey_?f=goog.events.KeyHandler.safariKey_[c]:25==c&&a.shiftKey&&(f=9):g&&g in goog.events.KeyHandler.keyIdentifier_&&\n(f=goog.events.KeyHandler.keyIdentifier_[g]);a=f==this.lastKey_;this.lastKey_=f;b=new goog.events.KeyEvent(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};goog.events.KeyHandler.prototype.getElement=function(){return this.element_};\ngoog.events.KeyHandler.prototype.attach=function(a,b){this.keyUpKey_&&this.detach();this.element_=a;this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,b);this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,b,this);this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,b,this)};\ngoog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null);this.element_=null;this.keyCode_=this.lastKey_=-1};goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this);this.detach()};\ngoog.events.KeyEvent=function(a,b,c,d){goog.events.BrowserEvent.call(this,d);this.type=goog.events.KeyHandler.EventType.KEY;this.keyCode=a;this.charCode=b;this.repeat=c};goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent);goog.dom.classlist={};goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1;goog.dom.classlist.get=function(a){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)return a.classList;a=a.className;return goog.isString(a)&&a.match(/\\S+/g)||[]};goog.dom.classlist.set=function(a,b){a.className=b};goog.dom.classlist.contains=function(a,b){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.contains(b):goog.array.contains(goog.dom.classlist.get(a),b)};\ngoog.dom.classlist.add=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.add(b):goog.dom.classlist.contains(a,b)||(a.className+=0<a.className.length?" "+b:b)};\ngoog.dom.classlist.addAll=function(a,b){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)goog.array.forEach(b,function(b){goog.dom.classlist.add(a,b)});else{var c={};goog.array.forEach(goog.dom.classlist.get(a),function(a){c[a]=!0});goog.array.forEach(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}};\ngoog.dom.classlist.remove=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.remove(b):goog.dom.classlist.contains(a,b)&&(a.className=goog.array.filter(goog.dom.classlist.get(a),function(a){return a!=b}).join(" "))};\ngoog.dom.classlist.removeAll=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?goog.array.forEach(b,function(b){goog.dom.classlist.remove(a,b)}):a.className=goog.array.filter(goog.dom.classlist.get(a),function(a){return!goog.array.contains(b,a)}).join(" ")};goog.dom.classlist.enable=function(a,b,c){c?goog.dom.classlist.add(a,b):goog.dom.classlist.remove(a,b)};goog.dom.classlist.enableAll=function(a,b,c){(c?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(a,b)};\ngoog.dom.classlist.swap=function(a,b,c){return goog.dom.classlist.contains(a,b)?(goog.dom.classlist.remove(a,b),goog.dom.classlist.add(a,c),!0):!1};goog.dom.classlist.toggle=function(a,b){var c=!goog.dom.classlist.contains(a,b);goog.dom.classlist.enable(a,b,c);return c};goog.dom.classlist.addRemove=function(a,b,c){goog.dom.classlist.remove(a,b);goog.dom.classlist.add(a,c)};goog.ui.registry={};goog.ui.registry.getDefaultRenderer=function(a){for(var b;a;){b=goog.getUid(a);if(b=goog.ui.registry.defaultRenderers_[b])break;a=a.superClass_?a.superClass_.constructor:null}return b?goog.isFunction(b.getInstance)?b.getInstance():new b:null};\ngoog.ui.registry.setDefaultRenderer=function(a,b){if(!goog.isFunction(a))throw Error("Invalid component class "+a);if(!goog.isFunction(b))throw Error("Invalid renderer class "+b);var c=goog.getUid(a);goog.ui.registry.defaultRenderers_[c]=b};goog.ui.registry.getDecoratorByClassName=function(a){return a in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[a]():null};\ngoog.ui.registry.setDecoratorByClassName=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!goog.isFunction(b))throw Error("Invalid decorator function "+b);goog.ui.registry.decoratorFunctions_[a]=b};goog.ui.registry.getDecorator=function(a){goog.asserts.assert(a);for(var b=goog.dom.classlist.get(a),c=0,d=b.length;c<d;c++)if(a=goog.ui.registry.getDecoratorByClassName(b[c]))return a;return null};\ngoog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={}};goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={};goog.ui.ContainerRenderer=function(a){this.ariaRole_=a};goog.addSingletonGetter(goog.ui.ContainerRenderer);goog.ui.ContainerRenderer.getCustomRenderer=function(a,b){var c=new a;c.getCssClass=function(){return b};return c};goog.ui.ContainerRenderer.CSS_CLASS="goog-container";goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_};goog.ui.ContainerRenderer.prototype.enableTabIndex=function(a,b){a&&(a.tabIndex=b?0:-1)};\ngoog.ui.ContainerRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "))};goog.ui.ContainerRenderer.prototype.getContentElement=function(a){return a};goog.ui.ContainerRenderer.prototype.canDecorate=function(a){return"DIV"==a.tagName};\ngoog.ui.ContainerRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getCssClass(),d=!1,e=goog.dom.classlist.get(b);e&&goog.array.forEach(e,function(b){b==c?d=!0:b&&this.setStateFromClassName(a,b,c)},this);d||goog.dom.classlist.add(b,c);this.decorateChildren(a,this.getContentElement(b));return b};\ngoog.ui.ContainerRenderer.prototype.setStateFromClassName=function(a,b,c){b==c+"-disabled"?a.setEnabled(!1):b==c+"-horizontal"?a.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):b==c+"-vertical"&&a.setOrientation(goog.ui.Container.Orientation.VERTICAL)};\ngoog.ui.ContainerRenderer.prototype.decorateChildren=function(a,b,c){if(b){c=c||b.firstChild;for(var d;c&&c.parentNode==b;){d=c.nextSibling;if(c.nodeType==goog.dom.NodeType.ELEMENT){var e=this.getDecoratorForChild(c);e&&(e.setElementInternal(c),a.isEnabled()||e.setEnabled(!1),a.addChild(e),e.decorate(c))}else c.nodeValue&&""!=goog.string.trim(c.nodeValue)||b.removeChild(c);c=d}}};goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(a){return goog.ui.registry.getDecorator(a)};\ngoog.ui.ContainerRenderer.prototype.initializeDom=function(a){a=a.getElement();goog.asserts.assert(a,"The container DOM element cannot be null.");goog.style.setUnselectable(a,!0,goog.userAgent.GECKO);goog.userAgent.IE&&(a.hideFocus=!0);var b=this.getAriaRole();b&&goog.a11y.aria.setRole(a,b)};goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(a){return a.getElement()};goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS};\ngoog.ui.ContainerRenderer.prototype.getClassNames=function(a){var b=this.getCssClass(),c=a.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL,c=[b,c?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL};goog.ui.ControlRenderer=function(){};goog.addSingletonGetter(goog.ui.ControlRenderer);goog.tagUnsealableClass(goog.ui.ControlRenderer);goog.ui.ControlRenderer.getCustomRenderer=function(a,b){var c=new a;c.getCssClass=function(){return b};return c};goog.ui.ControlRenderer.CSS_CLASS="goog-control";goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[];\ngoog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,\ngoog.a11y.aria.State.SELECTED);goog.ui.ControlRenderer.prototype.getAriaRole=function(){};goog.ui.ControlRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "),a.getContent())};goog.ui.ControlRenderer.prototype.getContentElement=function(a){return a};\ngoog.ui.ControlRenderer.prototype.enableClassName=function(a,b,c){if(a=a.getElement?a.getElement():a){var d=[b];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(d=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(a),b),d.push(b));goog.dom.classlist.enableAll(a,d,c)}};goog.ui.ControlRenderer.prototype.enableExtraClassName=function(a,b,c){this.enableClassName(a,b,c)};goog.ui.ControlRenderer.prototype.canDecorate=function(a){return!0};\ngoog.ui.ControlRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getContentElement(b);c&&c.firstChild?a.setContentInternal(c.firstChild.nextSibling?goog.array.clone(c.childNodes):c.firstChild):a.setContentInternal(null);var d=0,e=this.getCssClass(),f=this.getStructuralCssClass(),g=!1,h=!1,k=!1,m=goog.array.toArray(goog.dom.classlist.get(b));goog.array.forEach(m,function(a){g||a!=e?h||a!=f?d|=this.getStateFromClass(a):h=!0:(g=!0,f==e&&(h=!0));this.getStateFromClass(a)==goog.ui.Component.State.DISABLED&&\n(goog.asserts.assertElement(c),goog.dom.isFocusableTabIndex(c)&&goog.dom.setFocusableTabIndex(c,!1))},this);a.setStateInternal(d);g||(m.push(e),f==e&&(h=!0));h||m.push(f);var p=a.getExtraClassNames();p&&m.push.apply(m,p);if(goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var l=this.getAppliedCombinedClassNames_(m);0<l.length&&(m.push.apply(m,l),k=!0)}g&&h&&!p&&!k||goog.dom.classlist.set(b,m.join(" "));return b};\ngoog.ui.ControlRenderer.prototype.initializeDom=function(a){a.isRightToLeft()&&this.setRightToLeft(a.getElement(),!0);a.isEnabled()&&this.setFocusable(a,a.isVisible())};goog.ui.ControlRenderer.prototype.setAriaRole=function(a,b){var c=b||this.getAriaRole();if(c){goog.asserts.assert(a,"The element passed as a first parameter cannot be null.");var d=goog.a11y.aria.getRole(a);c!=d&&goog.a11y.aria.setRole(a,c)}};\ngoog.ui.ControlRenderer.prototype.setAriaStates=function(a,b){goog.asserts.assert(a);goog.asserts.assert(b);var c=a.getAriaLabel();goog.isDefAndNotNull(c)&&this.setAriaLabel(b,c);a.isVisible()||goog.a11y.aria.setState(b,goog.a11y.aria.State.HIDDEN,!a.isVisible());a.isEnabled()||this.updateAriaState(b,goog.ui.Component.State.DISABLED,!a.isEnabled());a.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(b,goog.ui.Component.State.SELECTED,a.isSelected());a.isSupportedState(goog.ui.Component.State.CHECKED)&&\nthis.updateAriaState(b,goog.ui.Component.State.CHECKED,a.isChecked());a.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(b,goog.ui.Component.State.OPENED,a.isOpen())};goog.ui.ControlRenderer.prototype.setAriaLabel=function(a,b){goog.a11y.aria.setLabel(a,b)};goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(a,b){goog.style.setUnselectable(a,!b,!goog.userAgent.IE&&!goog.userAgent.OPERA)};\ngoog.ui.ControlRenderer.prototype.setRightToLeft=function(a,b){this.enableClassName(a,this.getStructuralCssClass()+"-rtl",b)};goog.ui.ControlRenderer.prototype.isFocusable=function(a){var b;return a.isSupportedState(goog.ui.Component.State.FOCUSED)&&(b=a.getKeyEventTarget())?goog.dom.isFocusableTabIndex(b):!1};\ngoog.ui.ControlRenderer.prototype.setFocusable=function(a,b){var c;if(a.isSupportedState(goog.ui.Component.State.FOCUSED)&&(c=a.getKeyEventTarget())){if(!b&&a.isFocused()){try{c.blur()}catch(d){}a.isFocused()&&a.handleBlur(null)}goog.dom.isFocusableTabIndex(c)!=b&&goog.dom.setFocusableTabIndex(c,b)}};goog.ui.ControlRenderer.prototype.setVisible=function(a,b){goog.style.setElementShown(a,b);a&&goog.a11y.aria.setState(a,goog.a11y.aria.State.HIDDEN,!b)};\ngoog.ui.ControlRenderer.prototype.setState=function(a,b,c){var d=a.getElement();if(d){var e=this.getClassForState(b);e&&this.enableClassName(a,e,c);this.updateAriaState(d,b,c)}};\ngoog.ui.ControlRenderer.prototype.updateAriaState=function(a,b,c){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED));goog.asserts.assert(a,"The element passed as a first parameter cannot be null.");\n(b=goog.ui.ControlRenderer.getAriaStateForAriaRole_(a,goog.ui.ControlRenderer.ariaAttributeMap_[b]))&&goog.a11y.aria.setState(a,b,c)};goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(a,b){var c=goog.a11y.aria.getRole(a);if(!c)return b;c=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[c]||b;return goog.ui.ControlRenderer.isAriaState_(b)?c:b};goog.ui.ControlRenderer.isAriaState_=function(a){return a==goog.a11y.aria.State.CHECKED||a==goog.a11y.aria.State.SELECTED};\ngoog.ui.ControlRenderer.prototype.setContent=function(a,b){var c=this.getContentElement(a);if(c&&(goog.dom.removeChildren(c),b))if(goog.isString(b))goog.dom.setTextContent(c,b);else{var d=function(a){if(a){var b=goog.dom.getOwnerDocument(c);c.appendChild(goog.isString(a)?b.createTextNode(a):a)}};goog.isArray(b)?goog.array.forEach(b,d):!goog.isArrayLike(b)||"nodeType"in b?d(b):goog.array.forEach(goog.array.clone(b),d)}};goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(a){return a.getElement()};\ngoog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS};goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]};goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()};\ngoog.ui.ControlRenderer.prototype.getClassNames=function(a){var b=this.getCssClass(),c=[b],d=this.getStructuralCssClass();d!=b&&c.push(d);b=this.getClassNamesForState(a.getState());c.push.apply(c,b);(a=a.getExtraClassNames())&&c.push.apply(c,a);goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&c.push.apply(c,this.getAppliedCombinedClassNames_(c));return c};\ngoog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(a,b){var c=[];b&&(a=goog.array.concat(a,[b]));goog.array.forEach(this.getIe6ClassCombinations(),function(d){!goog.array.every(d,goog.partial(goog.array.contains,a))||b&&!goog.array.contains(d,b)||c.push(d.join("_"))});return c};goog.ui.ControlRenderer.prototype.getClassNamesForState=function(a){for(var b=[];a;){var c=a&-a;b.push(this.getClassForState(c));a&=~c}return b};\ngoog.ui.ControlRenderer.prototype.getClassForState=function(a){this.classByState_||this.createClassByStateMap_();return this.classByState_[a]};goog.ui.ControlRenderer.prototype.getStateFromClass=function(a){this.stateByClass_||this.createStateByClassMap_();a=parseInt(this.stateByClass_[a],10);return isNaN(a)?0:a};\ngoog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var a=this.getStructuralCssClass(),b=!goog.string.contains(goog.string.normalizeWhitespace(a)," ");goog.asserts.assert(b,"ControlRenderer has an invalid css class: \'"+a+"\'");this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,a+"-disabled",goog.ui.Component.State.HOVER,a+"-hover",goog.ui.Component.State.ACTIVE,a+"-active",goog.ui.Component.State.SELECTED,a+"-selected",goog.ui.Component.State.CHECKED,a+"-checked",\ngoog.ui.Component.State.FOCUSED,a+"-focused",goog.ui.Component.State.OPENED,a+"-open")};goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_();this.stateByClass_=goog.object.transpose(this.classByState_)};goog.ui.Control=function(a,b,c){goog.ui.Component.call(this,c);this.renderer_=b||goog.ui.registry.getDefaultRenderer(this.constructor);this.setContentInternal(goog.isDef(a)?a:null);this.ariaLabel_=null};goog.inherits(goog.ui.Control,goog.ui.Component);goog.tagUnsealableClass(goog.ui.Control);goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName;goog.ui.Control.getDecorator=goog.ui.registry.getDecorator;goog.ui.Control.prototype.content_=null;goog.ui.Control.prototype.state_=0;\ngoog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED;goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL;goog.ui.Control.prototype.statesWithTransitionEvents_=0;goog.ui.Control.prototype.visible_=!0;goog.ui.Control.prototype.extraClassNames_=null;goog.ui.Control.prototype.handleMouseEvents_=!0;goog.ui.Control.prototype.allowTextSelection_=!1;\ngoog.ui.Control.prototype.preferredAriaRole_=null;goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_};goog.ui.Control.prototype.setHandleMouseEvents=function(a){this.isInDocument()&&a!=this.handleMouseEvents_&&this.enableMouseEventHandling_(a);this.handleMouseEvents_=a};goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};\ngoog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)};goog.ui.Control.prototype.getRenderer=function(){return this.renderer_};goog.ui.Control.prototype.setRenderer=function(a){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null);this.renderer_=a};goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_};\ngoog.ui.Control.prototype.addClassName=function(a){a&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,a)||this.extraClassNames_.push(a):this.extraClassNames_=[a],this.renderer_.enableExtraClassName(this,a,!0))};goog.ui.Control.prototype.removeClassName=function(a){a&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,a)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,a,!1))};\ngoog.ui.Control.prototype.enableClassName=function(a,b){b?this.addClassName(a):this.removeClassName(a)};goog.ui.Control.prototype.createDom=function(){var a=this.renderer_.createDom(this);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(a,!1);this.isVisible()||this.renderer_.setVisible(a,!1)};goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_};\ngoog.ui.Control.prototype.setPreferredAriaRole=function(a){this.preferredAriaRole_=a};goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_};goog.ui.Control.prototype.setAriaLabel=function(a){this.ariaLabel_=a;var b=this.getElement();b&&this.renderer_.setAriaLabel(b,a)};goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};goog.ui.Control.prototype.canDecorate=function(a){return this.renderer_.canDecorate(a)};\ngoog.ui.Control.prototype.decorateInternal=function(a){a=this.renderer_.decorate(this,a);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(a,!1);this.visible_="none"!=a.style.display};\ngoog.ui.Control.prototype.enterDocument=function(){goog.ui.Control.superClass_.enterDocument.call(this);this.renderer_.setAriaStates(this,this.getElementStrict());this.renderer_.initializeDom(this);if(this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var a=this.getKeyEventTarget();if(a){var b=this.getKeyHandler();b.attach(a);this.getHandler().listen(b,goog.events.KeyHandler.EventType.KEY,\nthis.handleKeyEvent).listen(a,goog.events.EventType.FOCUS,this.handleFocus).listen(a,goog.events.EventType.BLUR,this.handleBlur)}}};\ngoog.ui.Control.prototype.enableMouseEventHandling_=function(a){var b=this.getHandler(),c=this.getElement();a?(b.listen(c,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(c,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(c,goog.events.EventType.MOUSEUP,this.handleMouseUp).listen(c,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&b.listen(c,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||\nb.listen(c,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(b.unlisten(c,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(c,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).unlisten(c,goog.events.EventType.MOUSEUP,this.handleMouseUp).unlisten(c,goog.events.EventType.MOUSEOUT,this.handleMouseOut),\nthis.handleContextMenu!=goog.nullFunction&&b.unlisten(c,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||b.unlisten(c,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))};\ngoog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this);this.keyHandler_&&this.keyHandler_.detach();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)};goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_);delete this.renderer_;this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null};\ngoog.ui.Control.prototype.getContent=function(){return this.content_};goog.ui.Control.prototype.setContent=function(a){this.renderer_.setContent(this.getElement(),a);this.setContentInternal(a)};goog.ui.Control.prototype.setContentInternal=function(a){this.content_=a};goog.ui.Control.prototype.getCaption=function(){var a=this.getContent();if(!a)return"";a=goog.isString(a)?a:goog.isArray(a)?goog.array.map(a,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(a);return goog.string.collapseBreakingSpaces(a)};\ngoog.ui.Control.prototype.setCaption=function(a){this.setContent(a)};goog.ui.Control.prototype.setRightToLeft=function(a){goog.ui.Control.superClass_.setRightToLeft.call(this,a);var b=this.getElement();b&&this.renderer_.setRightToLeft(b,a)};goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_};goog.ui.Control.prototype.setAllowTextSelection=function(a){this.allowTextSelection_=a;var b=this.getElement();b&&this.renderer_.setAllowTextSelection(b,a)};\ngoog.ui.Control.prototype.isVisible=function(){return this.visible_};goog.ui.Control.prototype.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){var c=this.getElement();c&&this.renderer_.setVisible(c,a);this.isEnabled()&&this.renderer_.setFocusable(this,a);this.visible_=a;return!0}return!1};goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)};\ngoog.ui.Control.prototype.isParentDisabled_=function(){var a=this.getParent();return!!a&&"function"==typeof a.isEnabled&&!a.isEnabled()};goog.ui.Control.prototype.setEnabled=function(a){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!a)&&(a||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,a),this.setState(goog.ui.Component.State.DISABLED,!a,!0))};goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)};\ngoog.ui.Control.prototype.setHighlighted=function(a){this.isTransitionAllowed(goog.ui.Component.State.HOVER,a)&&this.setState(goog.ui.Component.State.HOVER,a)};goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)};goog.ui.Control.prototype.setActive=function(a){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,a)&&this.setState(goog.ui.Component.State.ACTIVE,a)};goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)};\ngoog.ui.Control.prototype.setSelected=function(a){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,a)&&this.setState(goog.ui.Component.State.SELECTED,a)};goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)};goog.ui.Control.prototype.setChecked=function(a){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,a)&&this.setState(goog.ui.Component.State.CHECKED,a)};goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)};\ngoog.ui.Control.prototype.setFocused=function(a){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,a)&&this.setState(goog.ui.Component.State.FOCUSED,a)};goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)};goog.ui.Control.prototype.setOpen=function(a){this.isTransitionAllowed(goog.ui.Component.State.OPENED,a)&&this.setState(goog.ui.Component.State.OPENED,a)};goog.ui.Control.prototype.getState=function(){return this.state_};\ngoog.ui.Control.prototype.hasState=function(a){return!!(this.state_&a)};goog.ui.Control.prototype.setState=function(a,b,c){c||a!=goog.ui.Component.State.DISABLED?this.isSupportedState(a)&&b!=this.hasState(a)&&(this.renderer_.setState(this,a,b),this.state_=b?this.state_|a:this.state_&~a):this.setEnabled(!b)};goog.ui.Control.prototype.setStateInternal=function(a){this.state_=a};goog.ui.Control.prototype.isSupportedState=function(a){return!!(this.supportedStates_&a)};\ngoog.ui.Control.prototype.setSupportedState=function(a,b){if(this.isInDocument()&&this.hasState(a)&&!b)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!b&&this.hasState(a)&&this.setState(a,!1);this.supportedStates_=b?this.supportedStates_|a:this.supportedStates_&~a};goog.ui.Control.prototype.isAutoState=function(a){return!!(this.autoStates_&a)&&this.isSupportedState(a)};goog.ui.Control.prototype.setAutoStates=function(a,b){this.autoStates_=b?this.autoStates_|a:this.autoStates_&~a};\ngoog.ui.Control.prototype.isDispatchTransitionEvents=function(a){return!!(this.statesWithTransitionEvents_&a)&&this.isSupportedState(a)};goog.ui.Control.prototype.setDispatchTransitionEvents=function(a,b){this.statesWithTransitionEvents_=b?this.statesWithTransitionEvents_|a:this.statesWithTransitionEvents_&~a};\ngoog.ui.Control.prototype.isTransitionAllowed=function(a,b){return this.isSupportedState(a)&&this.hasState(a)!=b&&(!(this.statesWithTransitionEvents_&a)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(a,b)))&&!this.isDisposed()};goog.ui.Control.prototype.handleMouseOver=function(a){!goog.ui.Control.isMouseEventWithinElement_(a,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)};\ngoog.ui.Control.prototype.handleMouseOut=function(a){!goog.ui.Control.isMouseEventWithinElement_(a,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))};goog.ui.Control.prototype.handleContextMenu=goog.nullFunction;goog.ui.Control.isMouseEventWithinElement_=function(a,b){return!!a.relatedTarget&&goog.dom.contains(b,a.relatedTarget)};\ngoog.ui.Control.prototype.handleMouseDown=function(a){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),a.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus()));!this.isAllowTextSelection()&&a.isMouseActionButton()&&a.preventDefault()};\ngoog.ui.Control.prototype.handleMouseUp=function(a){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(a)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))};goog.ui.Control.prototype.handleDblClick=function(a){this.isEnabled()&&this.performActionInternal(a)};\ngoog.ui.Control.prototype.performActionInternal=function(a){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked());this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0);this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var b=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.platformModifierKey=a.platformModifierKey);return this.dispatchEvent(b)};\ngoog.ui.Control.prototype.handleFocus=function(a){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)};goog.ui.Control.prototype.handleBlur=function(a){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1);this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)};goog.ui.Control.prototype.handleKeyEvent=function(a){return this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};\ngoog.ui.Control.prototype.handleKeyEventInternal=function(a){return a.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(a)};goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer);goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)});\ngoog.ui.Control.IeMouseEventSequenceSimulator_=function(a){goog.Disposable.call(this);this.control_=a;this.clickExpected_=!1;this.handler_=new goog.events.EventHandler(this);this.registerDisposable(this.handler_);a=this.control_.getElementStrict();this.handler_.listen(a,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(a,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(a,goog.events.EventType.CLICK,this.handleClick_)};\ngoog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable);goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9);goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1};goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0};\ngoog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(a,b){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return a.button=goog.events.BrowserEvent.MouseButton.LEFT,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,a.relatedTarget||null);return c};\ngoog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(a){if(this.clickExpected_)this.clickExpected_=!1;else{var b=a.getBrowserEvent(),c=b.button,d=b.type,e=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(e,a.currentTarget));e=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b,goog.events.EventType.MOUSEUP);this.control_.handleMouseUp(new goog.events.BrowserEvent(e,\na.currentTarget));goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(b.button=c,b.type=d)}};goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null;goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)};goog.ui.Container=function(a,b,c){goog.ui.Component.call(this,c);this.renderer_=b||goog.ui.ContainerRenderer.getInstance();this.orientation_=a||this.renderer_.getDefaultOrientation()};goog.inherits(goog.ui.Container,goog.ui.Component);goog.tagUnsealableClass(goog.ui.Container);goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"};goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"};goog.ui.Container.prototype.keyEventTarget_=null;\ngoog.ui.Container.prototype.keyHandler_=null;goog.ui.Container.prototype.renderer_=null;goog.ui.Container.prototype.orientation_=null;goog.ui.Container.prototype.visible_=!0;goog.ui.Container.prototype.enabled_=!0;goog.ui.Container.prototype.focusable_=!0;goog.ui.Container.prototype.highlightedIndex_=-1;goog.ui.Container.prototype.openItem_=null;goog.ui.Container.prototype.mouseButtonPressed_=!1;goog.ui.Container.prototype.allowFocusableChildren_=!1;\ngoog.ui.Container.prototype.openFollowsHighlight_=!0;goog.ui.Container.prototype.childElementIdMap_=null;goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};\ngoog.ui.Container.prototype.setKeyEventTarget=function(a){if(this.focusable_){var b=this.getKeyEventTarget(),c=this.isInDocument();this.keyEventTarget_=a;var d=this.getKeyEventTarget();c&&(this.keyEventTarget_=b,this.enableFocusHandling_(!1),this.keyEventTarget_=a,this.getKeyHandler().attach(d),this.enableFocusHandling_(!0))}else throw Error("Can\'t set key event target for container that doesn\'t support keyboard focus!");};\ngoog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))};goog.ui.Container.prototype.getRenderer=function(){return this.renderer_};goog.ui.Container.prototype.setRenderer=function(a){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=a};goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))};\ngoog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};goog.ui.Container.prototype.canDecorate=function(a){return this.renderer_.canDecorate(a)};goog.ui.Container.prototype.decorateInternal=function(a){this.setElementInternal(this.renderer_.decorate(this,a));"none"==a.style.display&&(this.visible_=!1)};\ngoog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this);this.forEachChild(function(a){a.isInDocument()&&this.registerChildId_(a)},this);var a=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,!0);this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,\ngoog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(a,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(a),goog.events.EventType.MOUSEUP,this.handleDocumentMouseUp).listen(a,[goog.events.EventType.MOUSEDOWN,goog.events.EventType.MOUSEUP,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents);this.isFocusable()&&this.enableFocusHandling_(!0)};\ngoog.ui.Container.prototype.enableFocusHandling_=function(a){var b=this.getHandler(),c=this.getKeyEventTarget();a?b.listen(c,goog.events.EventType.FOCUS,this.handleFocus).listen(c,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):b.unlisten(c,goog.events.EventType.FOCUS,this.handleFocus).unlisten(c,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)};\ngoog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(!1);this.mouseButtonPressed_=!1;goog.ui.Container.superClass_.exitDocument.call(this)};goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null);this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null};\ngoog.ui.Container.prototype.handleEnterItem=function(a){return!0};\ngoog.ui.Container.prototype.handleHighlightItem=function(a){var b=this.indexOfChild(a.target);if(-1<b&&b!=this.highlightedIndex_){var c=this.getHighlighted();c&&c.setHighlighted(!1);this.highlightedIndex_=b;c=this.getHighlighted();this.isMouseButtonPressed()&&c.setActive(!0);this.openFollowsHighlight_&&this.openItem_&&c!=this.openItem_&&(c.isSupportedState(goog.ui.Component.State.OPENED)?c.setOpen(!0):this.openItem_.setOpen(!1))}b=this.getElement();goog.asserts.assert(b,"The DOM element for the container cannot be null.");\nnull!=a.target.getElement()&&goog.a11y.aria.setState(b,goog.a11y.aria.State.ACTIVEDESCENDANT,a.target.getElement().id)};goog.ui.Container.prototype.handleUnHighlightItem=function(a){a.target==this.getHighlighted()&&(this.highlightedIndex_=-1);a=this.getElement();goog.asserts.assert(a,"The DOM element for the container cannot be null.");goog.a11y.aria.removeState(a,goog.a11y.aria.State.ACTIVEDESCENDANT)};\ngoog.ui.Container.prototype.handleOpenItem=function(a){(a=a.target)&&a!=this.openItem_&&a.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=a)};goog.ui.Container.prototype.handleCloseItem=function(a){a.target==this.openItem_&&(this.openItem_=null);var b=this.getElement(),c=a.target.getElement();b&&a.target.isHighlighted()&&c&&goog.a11y.aria.setActiveDescendant(b,c)};\ngoog.ui.Container.prototype.handleMouseDown=function(a){this.enabled_&&this.setMouseButtonPressed(!0);var b=this.getKeyEventTarget();b&&goog.dom.isFocusableTabIndex(b)?b.focus():a.preventDefault()};goog.ui.Container.prototype.handleDocumentMouseUp=function(a){this.setMouseButtonPressed(!1)};\ngoog.ui.Container.prototype.handleChildMouseEvents=function(a){var b=this.getOwnerControl(a.target);if(b)switch(a.type){case goog.events.EventType.MOUSEDOWN:b.handleMouseDown(a);break;case goog.events.EventType.MOUSEUP:b.handleMouseUp(a);break;case goog.events.EventType.MOUSEOVER:b.handleMouseOver(a);break;case goog.events.EventType.MOUSEOUT:b.handleMouseOut(a);break;case goog.events.EventType.CONTEXTMENU:b.handleContextMenu(a)}};\ngoog.ui.Container.prototype.getOwnerControl=function(a){if(this.childElementIdMap_)for(var b=this.getElement();a&&a!==b;){var c=a.id;if(c in this.childElementIdMap_)return this.childElementIdMap_[c];a=a.parentNode}return null};goog.ui.Container.prototype.handleFocus=function(a){};goog.ui.Container.prototype.handleBlur=function(a){this.setHighlightedIndex(-1);this.setMouseButtonPressed(!1);this.openItem_&&this.openItem_.setOpen(!1)};\ngoog.ui.Container.prototype.handleKeyEvent=function(a){return this.isEnabled()&&this.isVisible()&&(0!=this.getChildCount()||this.keyEventTarget_)&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};\ngoog.ui.Container.prototype.handleKeyEventInternal=function(a){var b=this.getHighlighted();if(b&&"function"==typeof b.handleKeyEvent&&b.handleKeyEvent(a)||this.openItem_&&this.openItem_!=b&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case goog.events.KeyCodes.ESC:if(this.isFocusable())this.getKeyEventTarget().blur();else return!1;break;case goog.events.KeyCodes.HOME:this.highlightFirst();\nbreak;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightPrevious();else return!1;break;case goog.events.KeyCodes.LEFT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightNext():this.highlightPrevious();else return!1;break;case goog.events.KeyCodes.DOWN:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightNext();else return!1;\nbreak;case goog.events.KeyCodes.RIGHT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightPrevious():this.highlightNext();else return!1;break;default:return!1}return!0};goog.ui.Container.prototype.registerChildId_=function(a){var b=a.getElement(),b=b.id||(b.id=a.getId());this.childElementIdMap_||(this.childElementIdMap_={});this.childElementIdMap_[b]=a};\ngoog.ui.Container.prototype.addChild=function(a,b){goog.asserts.assertInstanceof(a,goog.ui.Control,"The child of a container must be a control");goog.ui.Container.superClass_.addChild.call(this,a,b)};\ngoog.ui.Container.prototype.addChildAt=function(a,b,c){goog.asserts.assertInstanceof(a,goog.ui.Control);a.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0);a.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0);!this.isFocusable()&&this.isFocusableChildrenAllowed()||a.setSupportedState(goog.ui.Component.State.FOCUSED,!1);a.setHandleMouseEvents(!1);var d=a.getParent()==this?this.indexOfChild(a):-1;goog.ui.Container.superClass_.addChildAt.call(this,a,b,c);a.isInDocument()&&this.isInDocument()&&\nthis.registerChildId_(a);this.updateHighlightedIndex_(d,b)};goog.ui.Container.prototype.updateHighlightedIndex_=function(a,b){-1==a&&(a=this.getChildCount());a==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,b):a>this.highlightedIndex_&&b<=this.highlightedIndex_?this.highlightedIndex_++:a<this.highlightedIndex_&&b>this.highlightedIndex_&&this.highlightedIndex_--};\ngoog.ui.Container.prototype.removeChild=function(a,b){a=goog.isString(a)?this.getChild(a):a;goog.asserts.assertInstanceof(a,goog.ui.Control);if(a){var c=this.indexOfChild(a);-1!=c&&(c==this.highlightedIndex_?(a.setHighlighted(!1),this.highlightedIndex_=-1):c<this.highlightedIndex_&&this.highlightedIndex_--);(c=a.getElement())&&c.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,c.id)}a=goog.ui.Container.superClass_.removeChild.call(this,a,b);a.setHandleMouseEvents(!0);return a};\ngoog.ui.Container.prototype.getOrientation=function(){return this.orientation_};goog.ui.Container.prototype.setOrientation=function(a){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=a};goog.ui.Container.prototype.isVisible=function(){return this.visible_};\ngoog.ui.Container.prototype.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=a;var c=this.getElement();c&&(goog.style.setElementShown(c,a),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),b||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE));return!0}return!1};\ngoog.ui.Container.prototype.isEnabled=function(){return this.enabled_};\ngoog.ui.Container.prototype.setEnabled=function(a){this.enabled_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(a?(this.enabled_=!0,this.forEachChild(function(a){a.wasDisabled?delete a.wasDisabled:a.setEnabled(!0)})):(this.forEachChild(function(a){a.isEnabled()?a.setEnabled(!1):a.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a&&this.visible_))};\ngoog.ui.Container.prototype.isFocusable=function(){return this.focusable_};goog.ui.Container.prototype.setFocusable=function(a){a!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(a);this.focusable_=a;this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a)};goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_};\ngoog.ui.Container.prototype.setFocusableChildrenAllowed=function(a){this.allowFocusableChildren_=a};goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_};goog.ui.Container.prototype.setOpenFollowsHighlight=function(a){this.openFollowsHighlight_=a};goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_};\ngoog.ui.Container.prototype.setHighlightedIndex=function(a){(a=this.getChildAt(a))?a.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)};goog.ui.Container.prototype.setHighlighted=function(a){this.setHighlightedIndex(this.indexOfChild(a))};goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};\ngoog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.getChildCount()-1)};goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},0)};goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.highlightedIndex_)};goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},this.highlightedIndex_)};\ngoog.ui.Container.prototype.highlightHelper=function(a,b){for(var c=0>b?this.indexOfChild(this.openItem_):b,d=this.getChildCount(),c=a.call(this,c,d),e=0;e<=d;){var f=this.getChildAt(c);if(f&&this.canHighlightItem(f))return this.setHighlightedIndexFromKeyEvent(c),!0;e++;c=a.call(this,c,d)}return!1};goog.ui.Container.prototype.canHighlightItem=function(a){return a.isVisible()&&a.isEnabled()&&a.isSupportedState(goog.ui.Component.State.HOVER)};\ngoog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(a){this.setHighlightedIndex(a)};goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_};goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_};goog.ui.Container.prototype.setMouseButtonPressed=function(a){this.mouseButtonPressed_=a};goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuHeaderRenderer);goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader";goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS};goog.ui.MenuHeader=function(a,b,c){goog.ui.Control.call(this,a,c||goog.ui.MenuHeaderRenderer.getInstance(),b);this.setSupportedState(goog.ui.Component.State.DISABLED,!1);this.setSupportedState(goog.ui.Component.State.HOVER,!1);this.setSupportedState(goog.ui.Component.State.ACTIVE,!1);this.setSupportedState(goog.ui.Component.State.FOCUSED,!1);this.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.MenuHeader,goog.ui.Control);\ngoog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,function(){return new goog.ui.MenuHeader(null)});goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this);this.classNameCache_=[]};goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuItemRenderer);goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem";goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2};\ngoog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(a){var b=this.classNameCache_[a];if(!b){switch(a){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:b=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:b=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:b=this.getStructuralCssClass()+"-content"}this.classNameCache_[a]=b}return b};\ngoog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM};goog.ui.MenuItemRenderer.prototype.createDom=function(a){var b=a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "),this.createContent(a.getContent(),a.getDomHelper()));this.setEnableCheckBoxStructure(a,b,a.isSupportedState(goog.ui.Component.State.SELECTED)||a.isSupportedState(goog.ui.Component.State.CHECKED));return b};\ngoog.ui.MenuItemRenderer.prototype.getContentElement=function(a){return a&&a.firstChild};goog.ui.MenuItemRenderer.prototype.decorate=function(a,b){goog.asserts.assert(b);this.hasContentStructure(b)||b.appendChild(this.createContent(b.childNodes,a.getDomHelper()));goog.dom.classlist.contains(b,"goog-option")&&(a.setCheckable(!0),this.setCheckable(a,b,!0));return goog.ui.MenuItemRenderer.superClass_.decorate.call(this,a,b)};\ngoog.ui.MenuItemRenderer.prototype.setContent=function(a,b){var c=this.getContentElement(a),d=this.hasCheckBoxStructure(a)?c.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,a,b);d&&!this.hasCheckBoxStructure(a)&&c.insertBefore(d,c.firstChild||null)};\ngoog.ui.MenuItemRenderer.prototype.hasContentStructure=function(a){a=goog.dom.getFirstElementChild(a);var b=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!a&&goog.dom.classlist.contains(a,b)};goog.ui.MenuItemRenderer.prototype.createContent=function(a,b){var c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return b.createDom("DIV",c,a)};\ngoog.ui.MenuItemRenderer.prototype.setSelectable=function(a,b,c){a&&b&&this.setEnableCheckBoxStructure(a,b,c)};goog.ui.MenuItemRenderer.prototype.setCheckable=function(a,b,c){a&&b&&this.setEnableCheckBoxStructure(a,b,c)};goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(a){if(a=this.getContentElement(a)){a=a.firstChild;var b=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!a&&goog.dom.isElement(a)&&goog.dom.classlist.contains(a,b)}return!1};\ngoog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(a,b,c){this.setAriaRole(b,a.getPreferredAriaRole());this.setAriaStates(a,b);c!=this.hasCheckBoxStructure(b)&&(goog.dom.classlist.enable(b,"goog-option",c),b=this.getContentElement(b),c?(c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),b.insertBefore(a.getDomHelper().createDom("DIV",c),b.firstChild||null)):b.removeChild(b.firstChild))};\ngoog.ui.MenuItemRenderer.prototype.getClassForState=function(a){switch(a){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,a)}};\ngoog.ui.MenuItemRenderer.prototype.getStateFromClass=function(a){var b=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(a){case "goog-option-selected":return goog.ui.Component.State.CHECKED;case b:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,a)}};goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS};goog.ui.MenuItem=function(a,b,c,d){goog.ui.Control.call(this,a,d||goog.ui.MenuItemRenderer.getInstance(),c);this.setValue(b)};goog.inherits(goog.ui.MenuItem,goog.ui.Control);goog.tagUnsealableClass(goog.ui.MenuItem);goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator";goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel";goog.ui.MenuItem.prototype.getValue=function(){var a=this.getModel();return null!=a?a:this.getCaption()};goog.ui.MenuItem.prototype.setValue=function(a){this.setModel(a)};\ngoog.ui.MenuItem.prototype.setSupportedState=function(a,b){goog.ui.MenuItem.superClass_.setSupportedState.call(this,a,b);switch(a){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(b);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(b)}};goog.ui.MenuItem.prototype.setSelectable=function(a){this.setSupportedState(goog.ui.Component.State.SELECTED,a)};\ngoog.ui.MenuItem.prototype.setSelectableInternal_=function(a){this.isChecked()&&!a&&this.setChecked(!1);var b=this.getElement();b&&this.getRenderer().setSelectable(this,b,a)};goog.ui.MenuItem.prototype.setCheckable=function(a){this.setSupportedState(goog.ui.Component.State.CHECKED,a)};goog.ui.MenuItem.prototype.setCheckableInternal_=function(a){var b=this.getElement();b&&this.getRenderer().setCheckable(this,b,a)};\ngoog.ui.MenuItem.prototype.getCaption=function(){var a=this.getContent();if(goog.isArray(a)){var b=goog.ui.MenuItem.ACCELERATOR_CLASS,c=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_,a=goog.array.map(a,function(a){return goog.dom.isElement(a)&&(goog.dom.classlist.contains(a,b)||goog.dom.classlist.contains(a,c))?"":goog.dom.getRawTextContent(a)}).join("");return goog.string.collapseBreakingSpaces(a)}return goog.ui.MenuItem.superClass_.getCaption.call(this)};\ngoog.ui.MenuItem.prototype.getAccelerator=function(){var a=this.getDomHelper(),b=this.getContent();return goog.isArray(b)&&(b=goog.array.find(b,function(a){return goog.dom.classlist.contains(a,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?a.getTextContent(b):null};\ngoog.ui.MenuItem.prototype.handleMouseUp=function(a){var b=this.getParent();if(b){var c=b.openingCoords;b.openingCoords=null;if(c&&goog.isNumber(a.clientX)&&(b=new goog.math.Coordinate(a.clientX,a.clientY),goog.math.Coordinate.equals(c,b)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,a)};goog.ui.MenuItem.prototype.handleKeyEventInternal=function(a){return a.keyCode==this.getMnemonic()&&this.performActionInternal(a)?!0:goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,a)};\ngoog.ui.MenuItem.prototype.setMnemonic=function(a){this.mnemonicKey_=a};goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)});\ngoog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)};goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)};goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)};goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer);goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator";goog.ui.MenuSeparatorRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getCssClass())};\ngoog.ui.MenuSeparatorRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);if("HR"==b.tagName){var c=b;b=this.createDom(a);goog.dom.insertSiblingBefore(b,c);goog.dom.removeNode(c)}else goog.dom.classlist.add(b,this.getCssClass());return b};goog.ui.MenuSeparatorRenderer.prototype.setContent=function(a,b){};goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS};goog.ui.Separator=function(a,b){goog.ui.Control.call(this,null,a||goog.ui.MenuSeparatorRenderer.getInstance(),b);this.setSupportedState(goog.ui.Component.State.DISABLED,!1);this.setSupportedState(goog.ui.Component.State.HOVER,!1);this.setSupportedState(goog.ui.Component.State.ACTIVE,!1);this.setSupportedState(goog.ui.Component.State.FOCUSED,!1);this.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.Separator,goog.ui.Control);\ngoog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var a=this.getElement();goog.asserts.assert(a,"The DOM element for the separator cannot be null.");goog.a11y.aria.setRole(a,"separator")};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.MenuRenderer=function(a){goog.ui.ContainerRenderer.call(this,a||goog.a11y.aria.Role.MENU)};goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer);goog.addSingletonGetter(goog.ui.MenuRenderer);goog.ui.MenuRenderer.CSS_CLASS="goog-menu";goog.ui.MenuRenderer.prototype.canDecorate=function(a){return"UL"==a.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,a)};\ngoog.ui.MenuRenderer.prototype.getDecoratorForChild=function(a){return"HR"==a.tagName?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,a)};goog.ui.MenuRenderer.prototype.containsElement=function(a,b){return goog.dom.contains(a.getElement(),b)};goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS};\ngoog.ui.MenuRenderer.prototype.initializeDom=function(a){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,a);a=a.getElement();goog.asserts.assert(a,"The menu DOM element cannot be null.");goog.a11y.aria.setState(a,goog.a11y.aria.State.HASPOPUP,"true")};goog.ui.MenuSeparator=function(a){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),a)};goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator);goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.Menu=function(a,b){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,b||goog.ui.MenuRenderer.getInstance(),a);this.setFocusable(!1)};goog.inherits(goog.ui.Menu,goog.ui.Container);goog.tagUnsealableClass(goog.ui.Menu);goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE};goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS;\ngoog.ui.Menu.prototype.allowAutoFocus_=!0;goog.ui.Menu.prototype.allowHighlightDisabled_=!1;goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()};goog.ui.Menu.prototype.containsElement=function(a){if(this.getRenderer().containsElement(this,a))return!0;for(var b=0,c=this.getChildCount();b<c;b++){var d=this.getChildAt(b);if("function"==typeof d.containsElement&&d.containsElement(a))return!0}return!1};goog.ui.Menu.prototype.addItem=function(a){this.addChild(a,!0)};\ngoog.ui.Menu.prototype.addItemAt=function(a,b){this.addChildAt(a,b,!0)};goog.ui.Menu.prototype.removeItem=function(a){(a=this.removeChild(a,!0))&&a.dispose()};goog.ui.Menu.prototype.removeItemAt=function(a){(a=this.removeChildAt(a,!0))&&a.dispose()};goog.ui.Menu.prototype.getItemAt=function(a){return this.getChildAt(a)};goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()};goog.ui.Menu.prototype.getItems=function(){var a=[];this.forEachChild(function(b){a.push(b)});return a};\ngoog.ui.Menu.prototype.setPosition=function(a,b){var c=this.isVisible();c||goog.style.setElementShown(this.getElement(),!0);goog.style.setPageOffset(this.getElement(),a,b);c||goog.style.setElementShown(this.getElement(),!1)};goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null};goog.ui.Menu.prototype.setAllowAutoFocus=function(a){(this.allowAutoFocus_=a)&&this.setFocusable(!0)};goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_};\ngoog.ui.Menu.prototype.setAllowHighlightDisabled=function(a){this.allowHighlightDisabled_=a};goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_};goog.ui.Menu.prototype.setVisible=function(a,b,c){(b=goog.ui.Menu.superClass_.setVisible.call(this,a,b))&&a&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus();a&&c&&goog.isNumber(c.clientX)?this.openingCoords=new goog.math.Coordinate(c.clientX,c.clientY):this.openingCoords=null;return b};\ngoog.ui.Menu.prototype.handleEnterItem=function(a){this.allowAutoFocus_&&this.getKeyEventTarget().focus();return goog.ui.Menu.superClass_.handleEnterItem.call(this,a)};goog.ui.Menu.prototype.highlightNextPrefix=function(a){var b=new RegExp("^"+goog.string.regExpEscape(a),"i");return this.highlightHelper(function(a,d){var e=0>a?0:a,f=!1;do{++a;a==d&&(a=0,f=!0);var g=this.getChildAt(a).getCaption();if(g&&g.match(b))return a}while(!f||a!=e);return this.getHighlightedIndex()},this.getHighlightedIndex())};\ngoog.ui.Menu.prototype.canHighlightItem=function(a){return(this.allowHighlightDisabled_||a.isEnabled())&&a.isVisible()&&a.isSupportedState(goog.ui.Component.State.HOVER)};goog.ui.Menu.prototype.decorateInternal=function(a){this.decorateContent(a);goog.ui.Menu.superClass_.decorateInternal.call(this,a)};\ngoog.ui.Menu.prototype.handleKeyEventInternal=function(a){var b=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,a);b||this.forEachChild(function(c){!b&&c.getMnemonic&&c.getMnemonic()==a.keyCode&&(this.isEnabled()&&this.setHighlighted(c),b=c.handleKeyEvent(a))},this);return b};goog.ui.Menu.prototype.setHighlightedIndex=function(a){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,a);(a=this.getChildAt(a))&&goog.style.scrollIntoContainerView(a.getElement(),this.getElement())};\ngoog.ui.Menu.prototype.decorateContent=function(a){var b=this.getRenderer();a=this.getDomHelper().getElementsByTagNameAndClass("DIV",b.getCssClass()+"-content",a);for(var c=a.length,d=0;d<c;d++)b.decorateChildren(this,a[d])};goog.color={};\ngoog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",\ndarkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",\nghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",\nlightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",\nmoccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",\nseashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};goog.color.parse=function(a){var b={};a=String(a);var c=goog.color.prependHashIfNecessaryHelper(a);if(goog.color.isValidHexColor_(c))return b.hex=goog.color.normalizeHex(c),b.type="hex",b;c=goog.color.isValidRgbColor_(a);if(c.length)return b.hex=goog.color.rgbArrayToHex(c),b.type="rgb",b;if(goog.color.names&&(c=goog.color.names[a.toLowerCase()]))return b.hex=c,b.type="named",b;throw Error(a+" is not a valid color string");};\ngoog.color.isValidColor=function(a){var b=goog.color.prependHashIfNecessaryHelper(a);return!!(goog.color.isValidHexColor_(b)||goog.color.isValidRgbColor_(a).length||goog.color.names&&goog.color.names[a.toLowerCase()])};goog.color.parseRgb=function(a){var b=goog.color.isValidRgbColor_(a);if(!b.length)throw Error(a+" is not a valid RGB color");return b};goog.color.hexToRgbStyle=function(a){return goog.color.rgbStyle_(goog.color.hexToRgb(a))};goog.color.hexTripletRe_=/#(.)(.)(.)/;\ngoog.color.normalizeHex=function(a){if(!goog.color.isValidHexColor_(a))throw Error("\'"+a+"\' is not a valid hex color");4==a.length&&(a=a.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3"));return a.toLowerCase()};goog.color.hexToRgb=function(a){a=goog.color.normalizeHex(a);var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16);a=parseInt(a.substr(5,2),16);return[b,c,a]};\ngoog.color.rgbToHex=function(a,b,c){a=Number(a);b=Number(b);c=Number(c);if(a!=(a&255)||b!=(b&255)||c!=(c&255))throw Error(\'"(\'+a+","+b+","+c+\'") is not a valid RGB color\');a=goog.color.prependZeroIfNecessaryHelper(a.toString(16));b=goog.color.prependZeroIfNecessaryHelper(b.toString(16));c=goog.color.prependZeroIfNecessaryHelper(c.toString(16));return"#"+a+b+c};goog.color.rgbArrayToHex=function(a){return goog.color.rgbToHex(a[0],a[1],a[2])};\ngoog.color.rgbToHsl=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),f=0,g=0,h=.5*(d+e);d!=e&&(d==a?f=60*(b-c)/(d-e):d==b?f=60*(c-a)/(d-e)+120:d==c&&(f=60*(a-b)/(d-e)+240),g=0<h&&.5>=h?(d-e)/(2*h):(d-e)/(2-2*h));return[Math.round(f+360)%360,g,h]};goog.color.rgbArrayToHsl=function(a){return goog.color.rgbToHsl(a[0],a[1],a[2])};goog.color.hueToRgb_=function(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a};\ngoog.color.hslToRgb=function(a,b,c){a/=360;if(0==b)c=b=a=255*c;else{var d,e;e=.5>c?c*(1+b):c+b-b*c;d=2*c-e;c=255*goog.color.hueToRgb_(d,e,a+1/3);b=255*goog.color.hueToRgb_(d,e,a);a=255*goog.color.hueToRgb_(d,e,a-1/3)}return[Math.round(c),Math.round(b),Math.round(a)]};goog.color.hslArrayToRgb=function(a){return goog.color.hslToRgb(a[0],a[1],a[2])};goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i;goog.color.isValidHexColor_=function(a){return goog.color.validHexColorRe_.test(a)};\ngoog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/;goog.color.isNormalizedHexColor_=function(a){return goog.color.normalizedHexColorRe_.test(a)};goog.color.rgbColorRe_=/^(?:rgb)?\\((0|[1-9]\\d{0,2}),\\s?(0|[1-9]\\d{0,2}),\\s?(0|[1-9]\\d{0,2})\\)$/i;goog.color.isValidRgbColor_=function(a){var b=a.match(goog.color.rgbColorRe_);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};\ngoog.color.prependZeroIfNecessaryHelper=function(a){return 1==a.length?"0"+a:a};goog.color.prependHashIfNecessaryHelper=function(a){return"#"==a.charAt(0)?a:"#"+a};goog.color.rgbStyle_=function(a){return"rgb("+a.join(",")+")"};\ngoog.color.hsvToRgb=function(a,b,c){var d=0,e=0,f=0;if(0==b)f=e=d=c;else{var g=Math.floor(a/60),h=a/60-g;a=c*(1-b);var k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return[Math.floor(d),Math.floor(e),Math.floor(f)]};\ngoog.color.rgbToHsv=function(a,b,c){var d=Math.max(Math.max(a,b),c),e=Math.min(Math.min(a,b),c);if(e==d)e=a=0;else{var f=d-e,e=f/d;a=60*(a==d?(b-c)/f:b==d?2+(c-a)/f:4+(a-b)/f);0>a&&(a+=360);360<a&&(a-=360)}return[a,e,d]};goog.color.rgbArrayToHsv=function(a){return goog.color.rgbToHsv(a[0],a[1],a[2])};goog.color.hsvArrayToRgb=function(a){return goog.color.hsvToRgb(a[0],a[1],a[2])};goog.color.hexToHsl=function(a){a=goog.color.hexToRgb(a);return goog.color.rgbToHsl(a[0],a[1],a[2])};\ngoog.color.hslToHex=function(a,b,c){return goog.color.rgbArrayToHex(goog.color.hslToRgb(a,b,c))};goog.color.hslArrayToHex=function(a){return goog.color.rgbArrayToHex(goog.color.hslToRgb(a[0],a[1],a[2]))};goog.color.hexToHsv=function(a){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(a))};goog.color.hsvToHex=function(a,b,c){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(a,b,c))};goog.color.hsvArrayToHex=function(a){return goog.color.hsvToHex(a[0],a[1],a[2])};\ngoog.color.hslDistance=function(a,b){var c,d;c=.5>=a[2]?a[1]*a[2]:a[1]*(1-a[2]);d=.5>=b[2]?b[1]*b[2]:b[1]*(1-b[2]);return(a[2]-b[2])*(a[2]-b[2])+c*c+d*d-2*c*d*Math.cos(2*(a[0]/360-b[0]/360)*Math.PI)};goog.color.blend=function(a,b,c){c=goog.math.clamp(c,0,1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])]};goog.color.darken=function(a,b){return goog.color.blend([0,0,0],a,b)};goog.color.lighten=function(a,b){return goog.color.blend([255,255,255],a,b)};\ngoog.color.highContrast=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push({color:b[d],diff:goog.color.yiqBrightnessDiff_(b[d],a)+goog.color.colorDiff_(b[d],a)});c.sort(function(a,b){return b.diff-a.diff});return c[0].color};goog.color.yiqBrightness_=function(a){return Math.round((299*a[0]+587*a[1]+114*a[2])/1E3)};goog.color.yiqBrightnessDiff_=function(a,b){return Math.abs(goog.color.yiqBrightness_(a)-goog.color.yiqBrightness_(b))};\ngoog.color.colorDiff_=function(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2])};goog.iter={};goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""};goog.iter.Iterator=function(){};goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(a){return this};\ngoog.iter.toIterator=function(a){if(a instanceof goog.iter.Iterator)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(goog.isArrayLike(a)){var b=0,c=new goog.iter.Iterator;c.next=function(){for(;;){if(b>=a.length)throw goog.iter.StopIteration;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};\ngoog.iter.forEach=function(a,b,c){if(goog.isArrayLike(a))try{goog.array.forEach(a,b,c)}catch(d){if(d!==goog.iter.StopIteration)throw d;}else{a=goog.iter.toIterator(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==goog.iter.StopIteration)throw d;}}};goog.iter.filter=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){for(;;){var a=d.next();if(b.call(c,a,void 0,d))return a}};return a};\ngoog.iter.filterFalse=function(a,b,c){return goog.iter.filter(a,goog.functions.not(b),c)};goog.iter.range=function(a,b,c){var d=0,e=a,f=c||1;1<arguments.length&&(d=a,e=b);if(0==f)throw Error("Range step argument must not be zero");var g=new goog.iter.Iterator;g.next=function(){if(0<f&&d>=e||0>f&&d<=e)throw goog.iter.StopIteration;var a=d;d+=f;return a};return g};goog.iter.join=function(a,b){return goog.iter.toArray(a).join(b)};\ngoog.iter.map=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){var a=d.next();return b.call(c,a,void 0,d)};return a};goog.iter.reduce=function(a,b,c,d){var e=c;goog.iter.forEach(a,function(a){e=b.call(d,e,a)});return e};goog.iter.some=function(a,b,c){a=goog.iter.toIterator(a);try{for(;;)if(b.call(c,a.next(),void 0,a))return!0}catch(d){if(d!==goog.iter.StopIteration)throw d;}return!1};\ngoog.iter.every=function(a,b,c){a=goog.iter.toIterator(a);try{for(;;)if(!b.call(c,a.next(),void 0,a))return!1}catch(d){if(d!==goog.iter.StopIteration)throw d;}return!0};goog.iter.chain=function(a){return goog.iter.chainFromIterable(arguments)};\ngoog.iter.chainFromIterable=function(a){var b=goog.iter.toIterator(a);a=new goog.iter.Iterator;var c=null;a.next=function(){for(;;){if(null==c){var a=b.next();c=goog.iter.toIterator(a)}try{return c.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;c=null}}};return a};goog.iter.dropWhile=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;var e=!0;a.next=function(){for(;;){var a=d.next();if(!e||!b.call(c,a,void 0,d))return e=!1,a}};return a};\ngoog.iter.takeWhile=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){var a=d.next();if(b.call(c,a,void 0,d))return a;throw goog.iter.StopIteration;};return a};goog.iter.toArray=function(a){if(goog.isArrayLike(a))return goog.array.toArray(a);a=goog.iter.toIterator(a);var b=[];goog.iter.forEach(a,function(a){b.push(a)});return b};\ngoog.iter.equals=function(a,b,c){a=goog.iter.zipLongest({},a,b);var d=c||goog.array.defaultCompareEquality;return goog.iter.every(a,function(a){return d(a[0],a[1])})};goog.iter.nextOrValue=function(a,b){try{return goog.iter.toIterator(a).next()}catch(c){if(c!=goog.iter.StopIteration)throw c;return b}};\ngoog.iter.product=function(a){if(goog.array.some(arguments,function(a){return!a.length})||!arguments.length)return new goog.iter.Iterator;var b=new goog.iter.Iterator,c=arguments,d=goog.array.repeat(0,c.length);b.next=function(){if(d){for(var a=goog.array.map(d,function(a,b){return c[b][a]}),b=d.length-1;0<=b;b--){goog.asserts.assert(d);if(d[b]<c[b].length-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw goog.iter.StopIteration;};return b};\ngoog.iter.cycle=function(a){var b=goog.iter.toIterator(a),c=[],d=0;a=new goog.iter.Iterator;var e=!1;a.next=function(){var a=null;if(!e)try{return a=b.next(),c.push(a),a}catch(g){if(g!=goog.iter.StopIteration||goog.array.isEmpty(c))throw g;e=!0}a=c[d];d=(d+1)%c.length;return a};return a};goog.iter.count=function(a,b){var c=a||0,d=goog.isDef(b)?b:1,e=new goog.iter.Iterator;e.next=function(){var a=c;c+=d;return a};return e};\ngoog.iter.repeat=function(a){var b=new goog.iter.Iterator;b.next=goog.functions.constant(a);return b};goog.iter.accumulate=function(a){var b=goog.iter.toIterator(a),c=0;a=new goog.iter.Iterator;a.next=function(){return c+=b.next()};return a};goog.iter.zip=function(a){var b=arguments,c=new goog.iter.Iterator;if(0<b.length){var d=goog.array.map(b,goog.iter.toIterator);c.next=function(){return goog.array.map(d,function(a){return a.next()})}}return c};\ngoog.iter.zipLongest=function(a,b){var c=goog.array.slice(arguments,1),d=new goog.iter.Iterator;if(0<c.length){var e=goog.array.map(c,goog.iter.toIterator);d.next=function(){var b=!1,c=goog.array.map(e,function(c){var d;try{d=c.next(),b=!0}catch(e){if(e!==goog.iter.StopIteration)throw e;d=a}return d});if(!b)throw goog.iter.StopIteration;return c}}return d};goog.iter.compress=function(a,b){var c=goog.iter.toIterator(b);return goog.iter.filter(a,function(){return!!c.next()})};\ngoog.iter.GroupByIterator_=function(a,b){this.iterator=goog.iter.toIterator(a);this.keyFunc=b||goog.functions.identity};goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator);goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);this.targetKey=this.currentKey;return[this.currentKey,this.groupItems_(this.targetKey)]};\ngoog.iter.GroupByIterator_.prototype.groupItems_=function(a){for(var b=[];this.currentKey==a;){b.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(c){if(c!==goog.iter.StopIteration)throw c;break}this.currentKey=this.keyFunc(this.currentValue)}return b};goog.iter.groupBy=function(a,b){return new goog.iter.GroupByIterator_(a,b)};\ngoog.iter.starMap=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){var a=goog.iter.toArray(d.next());return b.apply(c,goog.array.concat(a,void 0,d))};return a};\ngoog.iter.tee=function(a,b){var c=goog.iter.toIterator(a),d=goog.isNumber(b)?b:2,e=goog.array.map(goog.array.range(d),function(){return[]}),f=function(){var a=c.next();goog.array.forEach(e,function(b){b.push(a)})};return goog.array.map(e,function(a){var b=new goog.iter.Iterator;b.next=function(){goog.array.isEmpty(a)&&f();goog.asserts.assert(!goog.array.isEmpty(a));return a.shift()};return b})};goog.iter.enumerate=function(a,b){return goog.iter.zip(goog.iter.count(b),a)};\ngoog.iter.limit=function(a,b){goog.asserts.assert(goog.math.isInt(b)&&0<=b);var c=goog.iter.toIterator(a),d=new goog.iter.Iterator,e=b;d.next=function(){if(0<e--)return c.next();throw goog.iter.StopIteration;};return d};goog.iter.consume=function(a,b){goog.asserts.assert(goog.math.isInt(b)&&0<=b);for(var c=goog.iter.toIterator(a);0<b--;)goog.iter.nextOrValue(c,null);return c};\ngoog.iter.slice=function(a,b,c){goog.asserts.assert(goog.math.isInt(b)&&0<=b);a=goog.iter.consume(a,b);goog.isNumber(c)&&(goog.asserts.assert(goog.math.isInt(c)&&c>=b),a=goog.iter.limit(a,c-b));return a};goog.iter.hasDuplicates_=function(a){var b=[];goog.array.removeDuplicates(a,b);return a.length!=b.length};goog.iter.permutations=function(a,b){var c=goog.iter.toArray(a),d=goog.isNumber(b)?b:c.length,c=goog.array.repeat(c,d),c=goog.iter.product.apply(void 0,c);return goog.iter.filter(c,function(a){return!goog.iter.hasDuplicates_(a)})};\ngoog.iter.combinations=function(a,b){function c(a){return d[a]}var d=goog.iter.toArray(a),e=goog.iter.range(d.length),e=goog.iter.permutations(e,b),f=goog.iter.filter(e,function(a){return goog.array.isSorted(a)}),e=new goog.iter.Iterator;e.next=function(){return goog.array.map(f.next(),c)};return e};\ngoog.iter.combinationsWithReplacement=function(a,b){function c(a){return d[a]}var d=goog.iter.toArray(a),e=goog.array.range(d.length),e=goog.array.repeat(e,b),e=goog.iter.product.apply(void 0,e),f=goog.iter.filter(e,function(a){return goog.array.isSorted(a)}),e=new goog.iter.Iterator;e.next=function(){return goog.array.map(f.next(),c)};return e};goog.dom.TagWalkType={START_TAG:1,OTHER:0,END_TAG:-1};goog.dom.TagIterator=function(a,b,c,d,e){this.reversed=!!b;this.node=null;this.tagType=goog.dom.TagWalkType.OTHER;this.started_=!1;this.constrained=!c;a&&this.setPosition(a,d);this.depth=void 0!=e?e:this.tagType||0;this.reversed&&(this.depth*=-1)};goog.inherits(goog.dom.TagIterator,goog.iter.Iterator);\ngoog.dom.TagIterator.prototype.setPosition=function(a,b,c){if(this.node=a)goog.isNumber(b)?this.tagType=b:this.tagType=this.node.nodeType!=goog.dom.NodeType.ELEMENT?goog.dom.TagWalkType.OTHER:this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;goog.isNumber(c)&&(this.depth=c)};goog.dom.TagIterator.prototype.copyFrom=function(a){this.node=a.node;this.tagType=a.tagType;this.depth=a.depth;this.reversed=a.reversed;this.constrained=a.constrained};\ngoog.dom.TagIterator.prototype.clone=function(){return new goog.dom.TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)};goog.dom.TagIterator.prototype.skipTag=function(){var a=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;this.tagType==a&&(this.tagType=-1*a,this.depth+=this.tagType*(this.reversed?-1:1))};\ngoog.dom.TagIterator.prototype.restartTag=function(){var a=this.reversed?goog.dom.TagWalkType.START_TAG:goog.dom.TagWalkType.END_TAG;this.tagType==a&&(this.tagType=-1*a,this.depth+=this.tagType*(this.reversed?-1:1))};\ngoog.dom.TagIterator.prototype.next=function(){var a;if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog.iter.StopIteration;a=this.node;var b=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;if(this.tagType==b){var c=this.reversed?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,-1*b)}else(c=this.reversed?a.previousSibling:a.nextSibling)?this.setPosition(c):this.setPosition(a.parentNode,-1*b);this.depth+=this.tagType*(this.reversed?\n-1:1)}else this.started_=!0;a=this.node;if(!this.node)throw goog.iter.StopIteration;return a};goog.dom.TagIterator.prototype.isStarted=function(){return this.started_};goog.dom.TagIterator.prototype.isStartTag=function(){return this.tagType==goog.dom.TagWalkType.START_TAG};goog.dom.TagIterator.prototype.isEndTag=function(){return this.tagType==goog.dom.TagWalkType.END_TAG};goog.dom.TagIterator.prototype.isNonElement=function(){return this.tagType==goog.dom.TagWalkType.OTHER};\ngoog.dom.TagIterator.prototype.equals=function(a){return a.node==this.node&&(!this.node||a.tagType==this.tagType)};goog.dom.TagIterator.prototype.splice=function(a){var b=this.node;this.restartTag();this.reversed=!this.reversed;goog.dom.TagIterator.prototype.next.call(this);this.reversed=!this.reversed;for(var c=goog.isArrayLike(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)goog.dom.insertSiblingAfter(c[d],b);goog.dom.removeNode(b)};goog.dom.NodeIterator=function(a,b,c,d){goog.dom.TagIterator.call(this,a,b,c,null,d)};goog.inherits(goog.dom.NodeIterator,goog.dom.TagIterator);goog.dom.NodeIterator.prototype.next=function(){do goog.dom.NodeIterator.superClass_.next.call(this);while(this.isEndTag());return this.node};goog.ui.PaletteRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.PaletteRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.PaletteRenderer);goog.ui.PaletteRenderer.cellId_=0;goog.ui.PaletteRenderer.CSS_CLASS="goog-palette";\ngoog.ui.PaletteRenderer.prototype.createDom=function(a){var b=this.getClassNames(a);a=a.getDomHelper().createDom("DIV",b?b.join(" "):null,this.createGrid(a.getContent(),a.getSize(),a.getDomHelper()));goog.a11y.aria.setRole(a,goog.a11y.aria.Role.GRID);return a};goog.ui.PaletteRenderer.prototype.createGrid=function(a,b,c){for(var d=[],e=0,f=0;e<b.height;e++){for(var g=[],h=0;h<b.width;h++){var k=a&&a[f++];g.push(this.createCell(k,c))}d.push(this.createRow(g,c))}return this.createTable(d,c)};\ngoog.ui.PaletteRenderer.prototype.createTable=function(a,b){var c=b.createDom("TABLE",this.getCssClass()+"-table",b.createDom("TBODY",this.getCssClass()+"-body",a));c.cellSpacing="0";c.cellPadding="0";return c};goog.ui.PaletteRenderer.prototype.createRow=function(a,b){var c=b.createDom("TR",this.getCssClass()+"-row",a);goog.a11y.aria.setRole(c,goog.a11y.aria.Role.ROW);return c};\ngoog.ui.PaletteRenderer.prototype.createCell=function(a,b){var c=b.createDom("TD",{"class":this.getCssClass()+"-cell",id:this.getCssClass()+"-cell-"+goog.ui.PaletteRenderer.cellId_++},a);goog.a11y.aria.setRole(c,goog.a11y.aria.Role.GRIDCELL);goog.a11y.aria.setState(c,goog.a11y.aria.State.SELECTED,!1);if(!goog.dom.getTextContent(c)&&!goog.a11y.aria.getLabel(c)){var d=this.findAriaLabelForCell_(c);d&&goog.a11y.aria.setLabel(c,d)}return c};\ngoog.ui.PaletteRenderer.prototype.findAriaLabelForCell_=function(a){a=new goog.dom.NodeIterator(a);for(var b="",c;!b&&(c=goog.iter.nextOrValue(a,null));)c.nodeType==goog.dom.NodeType.ELEMENT&&(b=goog.a11y.aria.getLabel(c)||c.title);return b};goog.ui.PaletteRenderer.prototype.canDecorate=function(a){return!1};goog.ui.PaletteRenderer.prototype.decorate=function(a,b){return null};\ngoog.ui.PaletteRenderer.prototype.setContent=function(a,b){if(a){var c=goog.dom.getElementsByTagNameAndClass("TBODY",this.getCssClass()+"-body",a)[0];if(c){var d=0;goog.array.forEach(c.rows,function(a){goog.array.forEach(a.cells,function(a){goog.dom.removeChildren(a);if(b){var c=b[d++];c&&goog.dom.appendChild(a,c)}})});if(d<b.length){for(var e=[],f=goog.dom.getDomHelper(a),g=c.rows[0].cells.length;d<b.length;){var h=b[d++];e.push(this.createCell(h,f));e.length==g&&(h=this.createRow(e,f),goog.dom.appendChild(c,\nh),e.length=0)}if(0<e.length){for(;e.length<g;)e.push(this.createCell("",f));h=this.createRow(e,f);goog.dom.appendChild(c,h)}}}goog.style.setUnselectable(a,!0,goog.userAgent.GECKO)}};goog.ui.PaletteRenderer.prototype.getContainingItem=function(a,b){for(var c=a.getElement();b&&b.nodeType==goog.dom.NodeType.ELEMENT&&b!=c;){if("TD"==b.tagName&&goog.dom.classlist.contains(b,this.getCssClass()+"-cell"))return b.firstChild;b=b.parentNode}return null};\ngoog.ui.PaletteRenderer.prototype.highlightCell=function(a,b,c){b&&(b=this.getCellForItem(b),goog.asserts.assert(b),goog.dom.classlist.enable(b,this.getCssClass()+"-cell-hover",c),c?goog.a11y.aria.setState(a.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT,b.id):b.id==goog.a11y.aria.getState(a.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT)&&goog.a11y.aria.removeState(a.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT))};\ngoog.ui.PaletteRenderer.prototype.getCellForItem=function(a){return a?a.parentNode:null};goog.ui.PaletteRenderer.prototype.selectCell=function(a,b,c){b&&(a=b.parentNode,goog.dom.classlist.enable(a,this.getCssClass()+"-cell-selected",c),goog.a11y.aria.setState(a,goog.a11y.aria.State.SELECTED,c))};goog.ui.PaletteRenderer.prototype.getCssClass=function(){return goog.ui.PaletteRenderer.CSS_CLASS};goog.ui.SelectionModel=function(a){goog.events.EventTarget.call(this);this.items_=[];this.addItems(a)};goog.inherits(goog.ui.SelectionModel,goog.events.EventTarget);goog.tagUnsealableClass(goog.ui.SelectionModel);goog.ui.SelectionModel.prototype.selectedItem_=null;goog.ui.SelectionModel.prototype.selectionHandler_=null;goog.ui.SelectionModel.prototype.getSelectionHandler=function(){return this.selectionHandler_};\ngoog.ui.SelectionModel.prototype.setSelectionHandler=function(a){this.selectionHandler_=a};goog.ui.SelectionModel.prototype.getItemCount=function(){return this.items_.length};goog.ui.SelectionModel.prototype.indexOfItem=function(a){return a?goog.array.indexOf(this.items_,a):-1};goog.ui.SelectionModel.prototype.getFirst=function(){return this.items_[0]};goog.ui.SelectionModel.prototype.getLast=function(){return this.items_[this.items_.length-1]};\ngoog.ui.SelectionModel.prototype.getItemAt=function(a){return this.items_[a]||null};goog.ui.SelectionModel.prototype.addItems=function(a){a&&(goog.array.forEach(a,function(a){this.selectItem_(a,!1)},this),goog.array.extend(this.items_,a))};goog.ui.SelectionModel.prototype.addItem=function(a){this.addItemAt(a,this.getItemCount())};goog.ui.SelectionModel.prototype.addItemAt=function(a,b){a&&(this.selectItem_(a,!1),goog.array.insertAt(this.items_,a,b))};\ngoog.ui.SelectionModel.prototype.removeItem=function(a){a&&goog.array.remove(this.items_,a)&&a==this.selectedItem_&&(this.selectedItem_=null,this.dispatchEvent(goog.events.EventType.SELECT))};goog.ui.SelectionModel.prototype.removeItemAt=function(a){this.removeItem(this.getItemAt(a))};goog.ui.SelectionModel.prototype.getSelectedItem=function(){return this.selectedItem_};goog.ui.SelectionModel.prototype.getItems=function(){return goog.array.clone(this.items_)};\ngoog.ui.SelectionModel.prototype.setSelectedItem=function(a){a!=this.selectedItem_&&(this.selectItem_(this.selectedItem_,!1),this.selectedItem_=a,this.selectItem_(a,!0));this.dispatchEvent(goog.events.EventType.SELECT)};goog.ui.SelectionModel.prototype.getSelectedIndex=function(){return this.indexOfItem(this.selectedItem_)};goog.ui.SelectionModel.prototype.setSelectedIndex=function(a){this.setSelectedItem(this.getItemAt(a))};\ngoog.ui.SelectionModel.prototype.clear=function(){goog.array.clear(this.items_);this.selectedItem_=null};goog.ui.SelectionModel.prototype.disposeInternal=function(){goog.ui.SelectionModel.superClass_.disposeInternal.call(this);delete this.items_;this.selectedItem_=null};goog.ui.SelectionModel.prototype.selectItem_=function(a,b){a&&("function"==typeof this.selectionHandler_?this.selectionHandler_(a,b):"function"==typeof a.setSelected&&a.setSelected(b))};goog.ui.Palette=function(a,b,c){goog.ui.Control.call(this,a,b||goog.ui.PaletteRenderer.getInstance(),c);this.setAutoStates(goog.ui.Component.State.CHECKED|goog.ui.Component.State.SELECTED|goog.ui.Component.State.OPENED,!1);this.currentCellControl_=new goog.ui.Palette.CurrentCell_;this.currentCellControl_.setParentEventTarget(this);this.lastHighlightedIndex_=-1};goog.inherits(goog.ui.Palette,goog.ui.Control);goog.tagUnsealableClass(goog.ui.Palette);goog.ui.Palette.EventType={AFTER_HIGHLIGHT:goog.events.getUniqueId("afterhighlight")};\ngoog.ui.Palette.prototype.size_=null;goog.ui.Palette.prototype.highlightedIndex_=-1;goog.ui.Palette.prototype.selectionModel_=null;goog.ui.Palette.prototype.disposeInternal=function(){goog.ui.Palette.superClass_.disposeInternal.call(this);this.selectionModel_&&(this.selectionModel_.dispose(),this.selectionModel_=null);this.size_=null;this.currentCellControl_.dispose()};\ngoog.ui.Palette.prototype.setContentInternal=function(a){goog.ui.Palette.superClass_.setContentInternal.call(this,a);this.adjustSize_();this.selectionModel_?(this.selectionModel_.clear(),this.selectionModel_.addItems(a)):(this.selectionModel_=new goog.ui.SelectionModel(a),this.selectionModel_.setSelectionHandler(goog.bind(this.selectItem_,this)),this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange));this.highlightedIndex_=-1};\ngoog.ui.Palette.prototype.getCaption=function(){return""};goog.ui.Palette.prototype.setCaption=function(a){};goog.ui.Palette.prototype.handleMouseOver=function(a){goog.ui.Palette.superClass_.handleMouseOver.call(this,a);var b=this.getRenderer().getContainingItem(this,a.target);b&&a.relatedTarget&&goog.dom.contains(b,a.relatedTarget)||b!=this.getHighlightedItem()&&this.setHighlightedItem(b)};\ngoog.ui.Palette.prototype.handleMouseDown=function(a){goog.ui.Palette.superClass_.handleMouseDown.call(this,a);this.isActive()&&(a=this.getRenderer().getContainingItem(this,a.target),a!=this.getHighlightedItem()&&this.setHighlightedItem(a))};goog.ui.Palette.prototype.performActionInternal=function(a){var b=this.getHighlightedItem();return b?(a&&this.shouldSelectHighlightedItem_(a)&&this.setSelectedItem(b),goog.ui.Palette.superClass_.performActionInternal.call(this,a)):!1};\ngoog.ui.Palette.prototype.shouldSelectHighlightedItem_=function(a){return this.getSelectedItem()?"mouseup"!=a.type?!0:!!this.getRenderer().getContainingItem(this,a.target):!0};\ngoog.ui.Palette.prototype.handleKeyEvent=function(a){var b=this.getContent(),b=b?b.length:0,c=this.size_.width;if(0==b||!this.isEnabled())return!1;if(a.keyCode==goog.events.KeyCodes.ENTER||a.keyCode==goog.events.KeyCodes.SPACE)return this.performActionInternal(a);if(a.keyCode==goog.events.KeyCodes.HOME)return this.setHighlightedIndex(0),!0;if(a.keyCode==goog.events.KeyCodes.END)return this.setHighlightedIndex(b-1),!0;var d=0>this.highlightedIndex_?this.getSelectedIndex():this.highlightedIndex_;switch(a.keyCode){case goog.events.KeyCodes.LEFT:if(-1==\nd||0==d)d=b;this.setHighlightedIndex(d-1);a.preventDefault();return!0;case goog.events.KeyCodes.RIGHT:return d==b-1&&(d=-1),this.setHighlightedIndex(d+1),a.preventDefault(),!0;case goog.events.KeyCodes.UP:-1==d&&(d=b+c-1);if(d>=c)return this.setHighlightedIndex(d-c),a.preventDefault(),!0;break;case goog.events.KeyCodes.DOWN:if(-1==d&&(d=-c),d<b-c)return this.setHighlightedIndex(d+c),a.preventDefault(),!0}return!1};goog.ui.Palette.prototype.handleSelectionChange=function(a){};\ngoog.ui.Palette.prototype.getSize=function(){return this.size_};goog.ui.Palette.prototype.setSize=function(a,b){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.size_=goog.isNumber(a)?new goog.math.Size(a,b):a;this.adjustSize_()};goog.ui.Palette.prototype.getHighlightedIndex=function(){return this.highlightedIndex_};goog.ui.Palette.prototype.getHighlightedItem=function(){var a=this.getContent();return a&&a[this.highlightedIndex_]};\ngoog.ui.Palette.prototype.getHighlightedCellElement_=function(){return this.getRenderer().getCellForItem(this.getHighlightedItem())};goog.ui.Palette.prototype.setHighlightedIndex=function(a){a!=this.highlightedIndex_&&(this.highlightIndex_(this.highlightedIndex_,!1),this.lastHighlightedIndex_=this.highlightedIndex_,this.highlightedIndex_=a,this.highlightIndex_(a,!0),this.dispatchEvent(goog.ui.Palette.EventType.AFTER_HIGHLIGHT))};\ngoog.ui.Palette.prototype.setHighlightedItem=function(a){var b=this.getContent();this.setHighlightedIndex(b&&a?goog.array.indexOf(b,a):-1)};goog.ui.Palette.prototype.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1};goog.ui.Palette.prototype.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null};goog.ui.Palette.prototype.setSelectedIndex=function(a){this.selectionModel_&&this.selectionModel_.setSelectedIndex(a)};\ngoog.ui.Palette.prototype.setSelectedItem=function(a){this.selectionModel_&&this.selectionModel_.setSelectedItem(a)};goog.ui.Palette.prototype.highlightIndex_=function(a,b){if(this.getElement()){var c=this.getContent();if(c&&0<=a&&a<c.length){var d=this.getHighlightedCellElement_();this.currentCellControl_.getElement()!=d&&this.currentCellControl_.setElementInternal(d);this.currentCellControl_.tryHighlight(b)&&this.getRenderer().highlightCell(this,c[a],b)}}};\ngoog.ui.Palette.prototype.setHighlighted=function(a){a&&-1==this.highlightedIndex_?this.setHighlightedIndex(-1<this.lastHighlightedIndex_?this.lastHighlightedIndex_:0):a||this.setHighlightedIndex(-1);goog.ui.Palette.superClass_.setHighlighted.call(this,a)};goog.ui.Palette.prototype.selectItem_=function(a,b){this.getElement()&&this.getRenderer().selectCell(this,a,b)};\ngoog.ui.Palette.prototype.adjustSize_=function(){var a=this.getContent();if(a)if(this.size_&&this.size_.width){if(a=Math.ceil(a.length/this.size_.width),!goog.isNumber(this.size_.height)||this.size_.height<a)this.size_.height=a}else a=Math.ceil(Math.sqrt(a.length)),this.size_=new goog.math.Size(a,a);else this.size_=new goog.math.Size(0,0)};goog.ui.Palette.CurrentCell_=function(){goog.ui.Control.call(this,null);this.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0)};\ngoog.inherits(goog.ui.Palette.CurrentCell_,goog.ui.Control);goog.ui.Palette.CurrentCell_.prototype.tryHighlight=function(a){this.setHighlighted(a);return this.isHighlighted()==a};goog.ui.ColorPalette=function(a,b,c){this.colors_=a||[];goog.ui.Palette.call(this,null,b||goog.ui.PaletteRenderer.getInstance(),c);this.setColors(this.colors_)};goog.inherits(goog.ui.ColorPalette,goog.ui.Palette);goog.tagUnsealableClass(goog.ui.ColorPalette);goog.ui.ColorPalette.prototype.normalizedColors_=null;goog.ui.ColorPalette.prototype.labels_=null;goog.ui.ColorPalette.prototype.getColors=function(){return this.colors_};\ngoog.ui.ColorPalette.prototype.setColors=function(a,b){this.colors_=a;this.labels_=b||null;this.normalizedColors_=null;this.setContent(this.createColorNodes())};goog.ui.ColorPalette.prototype.getSelectedColor=function(){var a=this.getSelectedItem();return a?(a=goog.style.getStyle(a,"background-color"),goog.ui.ColorPalette.parseColor_(a)):null};\ngoog.ui.ColorPalette.prototype.setSelectedColor=function(a){a=goog.ui.ColorPalette.parseColor_(a);this.normalizedColors_||(this.normalizedColors_=goog.array.map(this.colors_,function(a){return goog.ui.ColorPalette.parseColor_(a)}));this.setSelectedIndex(a?goog.array.indexOf(this.normalizedColors_,a):-1)};\ngoog.ui.ColorPalette.prototype.createColorNodes=function(){return goog.array.map(this.colors_,function(a,b){var c=this.getDomHelper().createDom("DIV",{"class":this.getRenderer().getCssClass()+"-colorswatch",style:"background-color:"+a});c.title=this.labels_&&this.labels_[b]?this.labels_[b]:"#"==a.charAt(0)?"RGB ("+goog.color.hexToRgb(a).join(", ")+")":a;return c},this)};goog.ui.ColorPalette.parseColor_=function(a){if(a)try{return goog.color.parse(a).hex}catch(b){}return null};goog.ui.ColorPicker=function(a,b){goog.ui.Component.call(this,a);this.colorPalette_=b||null;this.getHandler().listen(this,goog.ui.Component.EventType.ACTION,this.onColorPaletteAction_)};goog.inherits(goog.ui.ColorPicker,goog.ui.Component);goog.ui.ColorPicker.DEFAULT_NUM_COLS=5;goog.ui.ColorPicker.EventType={CHANGE:"change"};goog.ui.ColorPicker.prototype.focusable_=!0;goog.ui.ColorPicker.prototype.getColors=function(){return this.colorPalette_?this.colorPalette_.getColors():null};\ngoog.ui.ColorPicker.prototype.setColors=function(a){this.colorPalette_?this.colorPalette_.setColors(a):this.createColorPalette_(a)};goog.ui.ColorPicker.prototype.addColors=function(a){this.setColors(a)};goog.ui.ColorPicker.prototype.setSize=function(a){this.colorPalette_||this.createColorPalette_([]);this.colorPalette_.setSize(a)};goog.ui.ColorPicker.prototype.getSize=function(){return this.colorPalette_?this.colorPalette_.getSize():null};goog.ui.ColorPicker.prototype.setColumnCount=function(a){this.setSize(a)};\ngoog.ui.ColorPicker.prototype.getSelectedIndex=function(){return this.colorPalette_?this.colorPalette_.getSelectedIndex():-1};goog.ui.ColorPicker.prototype.setSelectedIndex=function(a){this.colorPalette_&&this.colorPalette_.setSelectedIndex(a)};goog.ui.ColorPicker.prototype.getSelectedColor=function(){return this.colorPalette_?this.colorPalette_.getSelectedColor():null};goog.ui.ColorPicker.prototype.setSelectedColor=function(a){this.colorPalette_&&this.colorPalette_.setSelectedColor(a)};\ngoog.ui.ColorPicker.prototype.isFocusable=function(){return this.focusable_};goog.ui.ColorPicker.prototype.setFocusable=function(a){this.focusable_=a;this.colorPalette_&&this.colorPalette_.setSupportedState(goog.ui.Component.State.FOCUSED,a)};goog.ui.ColorPicker.prototype.canDecorate=function(a){return!1};\ngoog.ui.ColorPicker.prototype.enterDocument=function(){goog.ui.ColorPicker.superClass_.enterDocument.call(this);this.colorPalette_&&this.colorPalette_.render(this.getElement());this.getElement().unselectable="on"};goog.ui.ColorPicker.prototype.disposeInternal=function(){goog.ui.ColorPicker.superClass_.disposeInternal.call(this);this.colorPalette_&&(this.colorPalette_.dispose(),this.colorPalette_=null)};goog.ui.ColorPicker.prototype.focus=function(){this.colorPalette_&&this.colorPalette_.getElement().focus()};\ngoog.ui.ColorPicker.prototype.onColorPaletteAction_=function(a){a.stopPropagation();this.dispatchEvent(goog.ui.ColorPicker.EventType.CHANGE)};goog.ui.ColorPicker.prototype.createColorPalette_=function(a){a=new goog.ui.ColorPalette(a,null,this.getDomHelper());a.setSize(goog.ui.ColorPicker.DEFAULT_NUM_COLS);a.setSupportedState(goog.ui.Component.State.FOCUSED,this.focusable_);this.addChild(a);this.colorPalette_=a;this.isInDocument()&&this.colorPalette_.render(this.getElement())};\ngoog.ui.ColorPicker.createSimpleColorGrid=function(a){a=new goog.ui.ColorPicker(a);a.setSize(7);a.setColors(goog.ui.ColorPicker.SIMPLE_GRID_COLORS);return a};goog.ui.ColorPicker.SIMPLE_GRID_COLORS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");goog.events.FocusHandler=function(a){goog.events.EventTarget.call(this);this.element_=a;a=goog.userAgent.IE?"focusout":"blur";this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE);this.listenKeyOut_=goog.events.listen(this.element_,a,this,!goog.userAgent.IE)};goog.inherits(goog.events.FocusHandler,goog.events.EventTarget);goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"};\ngoog.events.FocusHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent(),b=new goog.events.BrowserEvent(b);b.type="focusin"==a.type||"focus"==a.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT;this.dispatchEvent(b)};goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this);goog.events.unlistenByKey(this.listenKeyIn_);goog.events.unlistenByKey(this.listenKeyOut_);delete this.element_};goog.structs={};goog.structs.getCount=function(a){return a.getCount&&"function"==typeof a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)};goog.structs.getValues=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if(goog.isString(a))return a.split("");if(goog.isArrayLike(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return goog.object.getValues(a)};\ngoog.structs.getKeys=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(goog.isArrayLike(a)||goog.isString(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return goog.object.getKeys(a)}};\ngoog.structs.contains=function(a,b){return a.contains&&"function"==typeof a.contains?a.contains(b):a.containsValue&&"function"==typeof a.containsValue?a.containsValue(b):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,b):goog.object.containsValue(a,b)};goog.structs.isEmpty=function(a){return a.isEmpty&&"function"==typeof a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)};\ngoog.structs.clear=function(a){a.clear&&"function"==typeof a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)};goog.structs.forEach=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,b,c);else for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)};\ngoog.structs.filter=function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.filter(a,b,c);var d,e=goog.structs.getKeys(a),f=goog.structs.getValues(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)b.call(c,f[h],e[h],a)&&(d[e[h]]=f[h])}else for(d=[],h=0;h<g;h++)b.call(c,f[h],void 0,a)&&d.push(f[h]);return d};\ngoog.structs.map=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.map(a,b,c);var d,e=goog.structs.getKeys(a),f=goog.structs.getValues(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)d[e[h]]=b.call(c,f[h],e[h],a)}else for(d=[],h=0;h<g;h++)d[h]=b.call(c,f[h],void 0,a);return d};\ngoog.structs.some=function(a,b,c){if("function"==typeof a.some)return a.some(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.some(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(b.call(c,e[g],d&&d[g],a))return!0;return!1};\ngoog.structs.every=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.every(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(!b.call(c,e[g],d&&d[g],a))return!1;return!0};goog.structs.Collection=function(){};goog.structs.Map=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};goog.structs.Map.prototype.getCount=function(){return this.count_};goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};\ngoog.structs.Map.prototype.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};goog.structs.Map.prototype.containsKey=function(a){return goog.structs.Map.hasKey_(this.map_,a)};goog.structs.Map.prototype.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(goog.structs.Map.hasKey_(this.map_,c)&&this.map_[c]==a)return!0}return!1};\ngoog.structs.Map.prototype.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;var c=b||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var d,e=0;d=this.keys_[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};goog.structs.Map.defaultEquals=function(a,b){return a===b};goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_};goog.structs.Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};\ngoog.structs.Map.prototype.remove=function(a){return goog.structs.Map.hasKey_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};\ngoog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];goog.structs.Map.hasKey_(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],goog.structs.Map.hasKey_(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};\ngoog.structs.Map.prototype.get=function(a,b){return goog.structs.Map.hasKey_(this.map_,a)?this.map_[a]:b};goog.structs.Map.prototype.set=function(a,b){goog.structs.Map.hasKey_(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};goog.structs.Map.prototype.addAll=function(a){var b;a instanceof goog.structs.Map?(b=a.getKeys(),a=a.getValues()):(b=goog.object.getKeys(a),a=goog.object.getValues(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};\ngoog.structs.Map.prototype.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)};goog.structs.Map.prototype.transpose=function(){for(var a=new goog.structs.Map,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};\ngoog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)};goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)};\ngoog.structs.Map.prototype.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.version_,d=this,e=new goog.iter.Iterator;e.next=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw goog.iter.StopIteration;var e=d.keys_[b++];return a?e:d.map_[e]};return e};goog.structs.Map.hasKey_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};goog.structs.Set=function(a){this.map_=new goog.structs.Map;a&&this.addAll(a)};goog.structs.Set.getKey_=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+goog.getUid(a):b.substr(0,1)+a};goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()};goog.structs.Set.prototype.add=function(a){this.map_.set(goog.structs.Set.getKey_(a),a)};goog.structs.Set.prototype.addAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};\ngoog.structs.Set.prototype.removeAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};goog.structs.Set.prototype.remove=function(a){return this.map_.remove(goog.structs.Set.getKey_(a))};goog.structs.Set.prototype.clear=function(){this.map_.clear()};goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()};goog.structs.Set.prototype.contains=function(a){return this.map_.containsKey(goog.structs.Set.getKey_(a))};\ngoog.structs.Set.prototype.containsAll=function(a){return goog.structs.every(a,this.contains,this)};goog.structs.Set.prototype.intersection=function(a){var b=new goog.structs.Set;a=goog.structs.getValues(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};goog.structs.Set.prototype.difference=function(a){var b=this.clone();b.removeAll(a);return b};goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()};goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)};\ngoog.structs.Set.prototype.equals=function(a){return this.getCount()==goog.structs.getCount(a)&&this.isSubsetOf(a)};goog.structs.Set.prototype.isSubsetOf=function(a){var b=goog.structs.getCount(a);if(this.getCount()>b)return!1;!(a instanceof goog.structs.Set)&&5<b&&(a=new goog.structs.Set(a));return goog.structs.every(this,function(b){return goog.structs.contains(a,b)})};goog.structs.Set.prototype.__iterator__=function(a){return this.map_.__iterator__(!1)};goog.debug.LOGGING_ENABLED=goog.DEBUG;goog.debug.FORCE_SLOPPY_STACKS=!1;goog.debug.catchErrors=function(a,b,c){c=c||goog.global;var d=c.onerror,e=!!b;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(e=!e);c.onerror=function(b,c,h,k,m){d&&d(b,c,h,k,m);a({message:b,fileName:c,line:h,col:k,error:m});return e}};\ngoog.debug.expose=function(a,b){if("undefined"==typeof a)return"undefined";if(null==a)return"NULL";var c=[],d;for(d in a)if(b||!goog.isFunction(a[d])){var e=d+" = ";try{e+=a[d]}catch(f){e+="*** "+f+" ***"}c.push(e)}return c.join("\\n")};\ngoog.debug.deepExpose=function(a,b){var c=[],d=function(a,f,g){var h=f+"  ";g=new goog.structs.Set(g);try{if(goog.isDef(a))if(goog.isNull(a))c.push("NULL");else if(goog.isString(a))c.push(\'"\'+a.replace(/\\n/g,"\\n"+f)+\'"\');else if(goog.isFunction(a))c.push(String(a).replace(/\\n/g,"\\n"+f));else if(goog.isObject(a))if(g.contains(a))c.push("*** reference loop detected ***");else{g.add(a);c.push("{");for(var k in a)if(b||!goog.isFunction(a[k]))c.push("\\n"),c.push(h),c.push(k+" = "),d(a[k],h,g);c.push("\\n"+\nf+"}")}else c.push(a);else c.push("undefined")}catch(m){c.push("*** "+m+" ***")}};d(a,"",new goog.structs.Set);return c.join("")};goog.debug.exposeArray=function(a){for(var b=[],c=0;c<a.length;c++)goog.isArray(a[c])?b.push(goog.debug.exposeArray(a[c])):b.push(a[c]);return"[ "+b.join(", ")+" ]"};goog.debug.exposeException=function(a,b){var c=goog.debug.exposeExceptionAsHtml(a,b);return goog.html.SafeHtml.unwrap(c)};\ngoog.debug.exposeExceptionAsHtml=function(a,b){try{var c=goog.debug.normalizeErrorObject(a),d=goog.debug.createViewSourceUrl_(c.fileName);return goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: "+c.message+"\\nUrl: "),goog.html.SafeHtml.create("a",{href:d,target:"_new"},c.fileName),goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\\nLine: "+c.lineNumber+"\\n\\nBrowser stack:\\n"+c.stack+"-> [end]\\n\\nJS stack traversal:\\n"+goog.debug.getStacktrace(b)+\n"-> "))}catch(e){return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. "+e)}};\ngoog.debug.createViewSourceUrl_=function(a){goog.isDefAndNotNull(a)||(a="");if(!/^https?:\\/\\//i.test(a))return goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"));a=goog.html.SafeUrl.sanitize(a);return goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"),"view-source:"+goog.html.SafeUrl.unwrap(a))};\ngoog.debug.normalizeErrorObject=function(a){var b=goog.getObjectByName("window.location.href");if(goog.isString(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c,d,e=!1;try{c=a.lineNumber||a.line||"Not available"}catch(f){c="Not available",e=!0}try{d=a.fileName||a.filename||a.sourceURL||goog.global.$googDebugFname||b}catch(f){d="Not available",e=!0}return!e&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",\nname:a.name||"UnknownError",lineNumber:c,fileName:d,stack:a.stack||"Not available"}};goog.debug.enhanceError=function(a,b){var c;"string"==typeof a?(c=Error(a),Error.captureStackTrace&&Error.captureStackTrace(c,goog.debug.enhanceError)):c=a;c.stack||(c.stack=goog.debug.getStacktrace(goog.debug.enhanceError));if(b){for(var d=0;c["message"+d];)++d;c["message"+d]=String(b)}return c};\ngoog.debug.getStacktraceSimple=function(a){if(!goog.debug.FORCE_SLOPPY_STACKS){var b=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(b)return b}for(var b=[],c=arguments.callee.caller,d=0;c&&(!a||d<a);){b.push(goog.debug.getFunctionName(c));b.push("()\\n");try{c=c.caller}catch(e){b.push("[exception trying to get caller]\\n");break}d++;if(d>=goog.debug.MAX_STACK_DEPTH){b.push("[...long stack...]");break}}a&&d>=a?b.push("[...reached max depth limit...]"):b.push("[end]");return b.join("")};\ngoog.debug.MAX_STACK_DEPTH=50;goog.debug.getNativeStackTrace_=function(a){var b=Error();if(Error.captureStackTrace)return Error.captureStackTrace(b,a),String(b.stack);try{throw b;}catch(c){b=c}return(a=b.stack)?String(a):null};goog.debug.getStacktrace=function(a){var b;goog.debug.FORCE_SLOPPY_STACKS||(b=goog.debug.getNativeStackTrace_(a||goog.debug.getStacktrace));b||(b=goog.debug.getStacktraceHelper_(a||arguments.callee.caller,[]));return b};\ngoog.debug.getStacktraceHelper_=function(a,b){var c=[];if(goog.array.contains(b,a))c.push("[...circular reference...]");else if(a&&b.length<goog.debug.MAX_STACK_DEPTH){c.push(goog.debug.getFunctionName(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=goog.debug.getFunctionName(f))?f:"[fn]";break;\ndefault:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\\n");try{c.push(goog.debug.getStacktraceHelper_(a.caller,b))}catch(g){c.push("[exception trying to get caller]\\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")};goog.debug.setFunctionResolver=function(a){goog.debug.fnNameResolver_=a};\ngoog.debug.getFunctionName=function(a){if(goog.debug.fnNameCache_[a])return goog.debug.fnNameCache_[a];if(goog.debug.fnNameResolver_){var b=goog.debug.fnNameResolver_(a);if(b)return goog.debug.fnNameCache_[a]=b}a=String(a);goog.debug.fnNameCache_[a]||(b=/function ([^\\(]+)/.exec(a),goog.debug.fnNameCache_[a]=b?b[1]:"[Anonymous]");return goog.debug.fnNameCache_[a]};\ngoog.debug.makeWhitespaceVisible=function(a){return a.replace(/ /g,"[_]").replace(/\\f/g,"[f]").replace(/\\n/g,"[n]\\n").replace(/\\r/g,"[r]").replace(/\\t/g,"[t]")};goog.debug.runtimeType=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.debug.fnNameCache_={};goog.debug.LogRecord=function(a,b,c,d,e){this.reset(a,b,c,d,e)};goog.debug.LogRecord.prototype.sequenceNumber_=0;goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0;goog.debug.LogRecord.nextSequenceNumber_=0;\ngoog.debug.LogRecord.prototype.reset=function(a,b,c,d,e){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof e?e:goog.debug.LogRecord.nextSequenceNumber_++);this.time_=d||goog.now();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_};goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_};goog.debug.LogRecord.prototype.getException=function(){return this.exception_};\ngoog.debug.LogRecord.prototype.setException=function(a){this.exception_=a};goog.debug.LogRecord.prototype.setLoggerName=function(a){this.loggerName_=a};goog.debug.LogRecord.prototype.getLevel=function(){return this.level_};goog.debug.LogRecord.prototype.setLevel=function(a){this.level_=a};goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_};goog.debug.LogRecord.prototype.setMessage=function(a){this.msg_=a};goog.debug.LogRecord.prototype.getMillis=function(){return this.time_};\ngoog.debug.LogRecord.prototype.setMillis=function(a){this.time_=a};goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");this.clear()};goog.debug.LogBuffer.getInstance=function(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer);return goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=0;\ngoog.debug.LogBuffer.prototype.addRecord=function(a,b,c){var d=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;this.curIndex_=d;if(this.isFull_)return d=this.buffer_[d],d.reset(a,b,c),d;this.isFull_=d==goog.debug.LogBuffer.CAPACITY-1;return this.buffer_[d]=new goog.debug.LogRecord(a,b,c)};goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY};\ngoog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY);this.curIndex_=-1;this.isFull_=!1};goog.debug.LogBuffer.prototype.forEachRecord=function(a){var b=this.buffer_;if(b[0]){var c=this.curIndex_,d=this.isFull_?c:-1;do d=(d+1)%goog.debug.LogBuffer.CAPACITY,a(b[d]);while(d!=c)}};goog.debug.Logger=function(a){this.name_=a;this.handlers_=this.children_=this.level_=this.parent_=null};goog.debug.Logger.ROOT_LOGGER_NAME="";goog.debug.Logger.ENABLE_HIERARCHY=!0;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=function(a,b){this.name=a;this.value=b};goog.debug.Logger.Level.prototype.toString=function(){return this.name};goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);\ngoog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);\ngoog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];\ngoog.debug.Logger.Level.predefinedLevelsCache_=null;goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var a=0,b;b=goog.debug.Logger.Level.PREDEFINED_LEVELS[a];a++)goog.debug.Logger.Level.predefinedLevelsCache_[b.value]=b,goog.debug.Logger.Level.predefinedLevelsCache_[b.name]=b};\ngoog.debug.Logger.Level.getPredefinedLevel=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[a]||null};\ngoog.debug.Logger.Level.getPredefinedLevelByValue=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(a in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[a];for(var b=0;b<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++b){var c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];if(c.value<=a)return c}return null};goog.debug.Logger.getLogger=function(a){return goog.debug.LogManager.getLogger(a)};\ngoog.debug.Logger.logToProfilers=function(a){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(a):goog.global.console.markTimeline&&goog.global.console.markTimeline(a));goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(a)};goog.debug.Logger.prototype.getName=function(){return this.name_};\ngoog.debug.Logger.prototype.addHandler=function(a){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(a)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(a)))};\ngoog.debug.Logger.prototype.removeHandler=function(a){if(goog.debug.LOGGING_ENABLED){var b=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!b&&goog.array.remove(b,a)}return!1};goog.debug.Logger.prototype.getParent=function(){return this.parent_};goog.debug.Logger.prototype.getChildren=function(){this.children_||(this.children_={});return this.children_};\ngoog.debug.Logger.prototype.setLevel=function(a){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=a:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=a))};goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF};\ngoog.debug.Logger.prototype.getEffectiveLevel=function(){if(!goog.debug.LOGGING_ENABLED)return goog.debug.Logger.Level.OFF;if(!goog.debug.Logger.ENABLE_HIERARCHY)return goog.debug.Logger.rootLevel_;if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();goog.asserts.fail("Root logger has no level set.");return null};goog.debug.Logger.prototype.isLoggable=function(a){return goog.debug.LOGGING_ENABLED&&a.value>=this.getEffectiveLevel().value};\ngoog.debug.Logger.prototype.log=function(a,b,c){goog.debug.LOGGING_ENABLED&&this.isLoggable(a)&&(goog.isFunction(b)&&(b=b()),this.doLogRecord_(this.getLogRecord(a,b,c)))};goog.debug.Logger.prototype.getLogRecord=function(a,b,c){a=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(a,b,this.name_):new goog.debug.LogRecord(a,String(b),this.name_);c&&a.setException(c);return a};\ngoog.debug.Logger.prototype.shout=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,a,b)};goog.debug.Logger.prototype.severe=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,a,b)};goog.debug.Logger.prototype.warning=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,a,b)};goog.debug.Logger.prototype.info=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,a,b)};\ngoog.debug.Logger.prototype.config=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,a,b)};goog.debug.Logger.prototype.fine=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,a,b)};goog.debug.Logger.prototype.finer=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,a,b)};goog.debug.Logger.prototype.finest=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,a,b)};\ngoog.debug.Logger.prototype.logRecord=function(a){goog.debug.LOGGING_ENABLED&&this.isLoggable(a.getLevel())&&this.doLogRecord_(a)};goog.debug.Logger.prototype.doLogRecord_=function(a){goog.debug.Logger.logToProfilers("log:"+a.getMessage());if(goog.debug.Logger.ENABLE_HIERARCHY)for(var b=this;b;)b.callPublish_(a),b=b.getParent();else for(var b=0,c;c=goog.debug.Logger.rootHandlers_[b++];)c(a)};goog.debug.Logger.prototype.callPublish_=function(a){if(this.handlers_)for(var b=0,c;c=this.handlers_[b];b++)c(a)};\ngoog.debug.Logger.prototype.setParent_=function(a){this.parent_=a};goog.debug.Logger.prototype.addChild_=function(a,b){this.getChildren()[a]=b};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;\ngoog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};\ngoog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(a){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[a]||goog.debug.LogManager.createLogger_(a)};goog.debug.LogManager.createFunctionForCatchErrors=function(a){return function(b){(a||goog.debug.LogManager.getRoot()).severe("Error: "+b.message+" ("+b.fileName+" @ Line: "+b.line+")")}};\ngoog.debug.LogManager.createLogger_=function(a){var b=new goog.debug.Logger(a);if(goog.debug.Logger.ENABLE_HIERARCHY){var c=a.lastIndexOf("."),d=a.substr(0,c),c=a.substr(c+1),d=goog.debug.LogManager.getLogger(d);d.addChild_(c,b);b.setParent_(d)}return goog.debug.LogManager.loggers_[a]=b};goog.log={};goog.log.ENABLED=goog.debug.LOGGING_ENABLED;goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME;goog.log.Logger=goog.debug.Logger;goog.log.Level=goog.debug.Logger.Level;goog.log.LogRecord=goog.debug.LogRecord;goog.log.getLogger=function(a,b){if(goog.log.ENABLED){var c=goog.debug.LogManager.getLogger(a);b&&c&&c.setLevel(b);return c}return null};goog.log.addHandler=function(a,b){goog.log.ENABLED&&a&&a.addHandler(b)};\ngoog.log.removeHandler=function(a,b){return goog.log.ENABLED&&a?a.removeHandler(b):!1};goog.log.log=function(a,b,c,d){goog.log.ENABLED&&a&&a.log(b,c,d)};goog.log.error=function(a,b,c){goog.log.ENABLED&&a&&a.severe(b,c)};goog.log.warning=function(a,b,c){goog.log.ENABLED&&a&&a.warning(b,c)};goog.log.info=function(a,b,c){goog.log.ENABLED&&a&&a.info(b,c)};goog.log.fine=function(a,b,c){goog.log.ENABLED&&a&&a.fine(b,c)};goog.string.StringBuffer=function(a,b){null!=a&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(a){this.buffer_=""+a};goog.string.StringBuffer.prototype.append=function(a,b,c){this.buffer_+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};\ngoog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.ui.tree={};goog.ui.tree.BaseNode=function(a,b,c){goog.ui.Component.call(this,c);this.config_=b||goog.ui.tree.BaseNode.defaultConfig;this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(a);this.expanded_=this.selected_=!1;this.toolTip_=null;this.afterLabelHtml_=goog.html.SafeHtml.EMPTY;this.isUserCollapsible_=!0;this.depth_=-1};goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component);\ngoog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"};goog.ui.tree.BaseNode.allNodes={};goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this);this.tree&&(this.tree.removeNode(this),this.tree=null);this.setElementInternal(null)};\ngoog.ui.tree.BaseNode.prototype.initAccessibility=function(){var a=this.getElement();if(a){var b=this.getLabelElement();b&&!b.id&&(b.id=this.getId()+".label");goog.a11y.aria.setRole(a,"treeitem");goog.a11y.aria.setState(a,"selected",!1);goog.a11y.aria.setState(a,"expanded",!1);goog.a11y.aria.setState(a,"level",this.getDepth());b&&goog.a11y.aria.setState(a,"labelledby",b.id);(a=this.getIconElement())&&goog.a11y.aria.setRole(a,"presentation");(a=this.getExpandIconElement())&&goog.a11y.aria.setRole(a,\n"presentation");if(a=this.getChildrenElement())if(goog.a11y.aria.setRole(a,"group"),a.hasChildNodes())for(a=this.getChildCount(),b=1;b<=a;b++){var c=this.getChildAt(b-1).getElement();goog.asserts.assert(c,"The child element cannot be null");goog.a11y.aria.setState(c,"setsize",a);goog.a11y.aria.setState(c,"posinset",b)}}};goog.ui.tree.BaseNode.prototype.createDom=function(){var a=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(a)};\ngoog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this);goog.ui.tree.BaseNode.allNodes[this.getId()]=this;this.initAccessibility()};goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this);delete goog.ui.tree.BaseNode.allNodes[this.getId()]};\ngoog.ui.tree.BaseNode.prototype.addChildAt=function(a,b,c){goog.asserts.assert(!a.getParent());goog.asserts.assertInstanceof(a,goog.ui.tree.BaseNode);c=this.getChildAt(b-1);var d=this.getChildAt(b);goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,a,b);a.previousSibling_=c;a.nextSibling_=d;c?c.nextSibling_=a:this.firstChild_=a;d?d.previousSibling_=a:this.lastChild_=a;(b=this.getTree())&&a.setTreeInternal(b);a.setDepth_(this.getDepth()+1);if(this.getElement()&&(this.updateExpandIcon(),this.getExpanded())){b=\nthis.getChildrenElement();a.getElement()||a.createDom();var e=a.getElement(),f=d&&d.getElement();b.insertBefore(e,f);this.isInDocument()&&a.enterDocument();d||(c?c.updateExpandIcon():(goog.style.setElementShown(b,!0),this.setExpanded(this.getExpanded())))}};goog.ui.tree.BaseNode.prototype.add=function(a,b){goog.asserts.assert(!b||b.getParent()==this,"Can only add nodes before siblings");a.getParent()&&a.getParent().removeChild(a);this.addChildAt(a,b?this.indexOfChild(b):this.getChildCount());return a};\ngoog.ui.tree.BaseNode.prototype.removeChild=function(a,b){var c=this.getTree(),d=c?c.getSelectedItem():null;if(d==a||a.contains(d))c.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select();goog.ui.tree.BaseNode.superClass_.removeChild.call(this,a);this.lastChild_==a&&(this.lastChild_=a.previousSibling_);this.firstChild_==a&&(this.firstChild_=a.nextSibling_);a.previousSibling_&&(a.previousSibling_.nextSibling_=a.nextSibling_);a.nextSibling_&&(a.nextSibling_.previousSibling_=\na.previousSibling_);d=a.isLastSibling();a.tree=null;a.depth_=-1;if(c&&(c.removeNode(a),this.isInDocument())){c=this.getChildrenElement();if(a.isInDocument()){var e=a.getElement();c.removeChild(e);a.exitDocument()}d&&(d=this.getLastChild())&&d.updateExpandIcon();this.hasChildren()||(c.style.display="none",this.updateExpandIcon(),this.updateIcon_())}return a};goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild;goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()};\ngoog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod;goog.ui.tree.BaseNode.prototype.getDepth=function(){var a=this.depth_;0>a&&(a=this.computeDepth_(),this.setDepth_(a));return a};goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var a=this.getParent();return a?a.getDepth()+1:0};\ngoog.ui.tree.BaseNode.prototype.setDepth_=function(a){if(a!=this.depth_){this.depth_=a;var b=this.getRowElement();if(b){var c=this.getPixelIndent_()+"px";this.isRightToLeft()?b.style.paddingRight=c:b.style.paddingLeft=c}this.forEachChild(function(b){b.setDepth_(a+1)})}};goog.ui.tree.BaseNode.prototype.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[];\ngoog.ui.tree.BaseNode.prototype.getChildren=function(){var a=[];this.forEachChild(function(b){a.push(b)});return a};goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)};goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)};goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_};goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_};\ngoog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_};goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_};goog.ui.tree.BaseNode.prototype.select=function(){var a=this.getTree();a&&a.setSelectedItem(this)};goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction;\ngoog.ui.tree.BaseNode.prototype.setSelectedInternal=function(a){if(this.selected_!=a){this.selected_=a;this.updateRow();var b=this.getElement();b&&(goog.a11y.aria.setState(b,"selected",a),a&&(a=this.getTree().getElement(),goog.asserts.assert(a,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(a,"activedescendant",this.getId())))}};goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_};\ngoog.ui.tree.BaseNode.prototype.setExpandedInternal=function(a){this.expanded_=a};\ngoog.ui.tree.BaseNode.prototype.setExpanded=function(a){var b=a!=this.expanded_;if(!b||this.dispatchEvent(a?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){var c;this.expanded_=a;c=this.getTree();var d=this.getElement();if(this.hasChildren()){if(!a&&c&&this.contains(c.getSelectedItem())&&this.select(),d){if(c=this.getChildrenElement())if(goog.style.setElementShown(c,a),a&&this.isInDocument()&&!c.hasChildNodes()){var e=[];this.forEachChild(function(a){e.push(a.toSafeHtml())});\ngoog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(e));this.forEachChild(function(a){a.enterDocument()})}this.updateExpandIcon()}}else(c=this.getChildrenElement())&&goog.style.setElementShown(c,!1);d&&(this.updateIcon_(),goog.a11y.aria.setState(d,"expanded",a));b&&this.dispatchEvent(a?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}};goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())};\ngoog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)};goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)};goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild(function(a){a.collapseAll()})};goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren();this.collapse()};goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild(function(a){a.expandAll()})};\ngoog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren();this.expand()};goog.ui.tree.BaseNode.prototype.reveal=function(){var a=this.getParent();a&&(a.setExpanded(!0),a.reveal())};goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(a){(this.isUserCollapsible_=a)||this.expand();this.getElement()&&this.updateExpandIcon()};goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_};\ngoog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var a=this.getTree(),b=!a.getShowLines()||a==this.getParent()&&!a.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren,a=this.getExpanded()&&this.hasChildren(),b={"class":b,style:this.getLineStyle()},c=[];a&&this.forEachChild(function(a){c.push(a.toSafeHtml())});a=goog.html.SafeHtml.create("div",b,c);return goog.html.SafeHtml.create("div",{"class":this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),a])};\ngoog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)};goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var a={};a["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px";var a={"class":this.getRowClassName(),style:a},b=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",a,b)};\ngoog.ui.tree.BaseNode.prototype.getRowClassName=function(){var a;a=this.isSelected()?" "+this.config_.cssSelectedRow:"";return this.config_.cssTreeRow+a};goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var a=goog.html.SafeHtml.create("span",{"class":this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(a,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))};goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())};\ngoog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_};goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(a){this.afterLabelHtml_=a;var b=this.getAfterLabelElement();b&&goog.dom.safe.setInnerHtml(b,a)};goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},"class":this.getCalculatedIconClass()})};goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod;\ngoog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},"class":this.getExpandIconClass()})};\ngoog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var a=this.getTree(),b=!a.getShowLines()||a==this.getParent()&&!a.getShowRootLines(),c=this.config_,d=new goog.string.StringBuffer;d.append(c.cssTreeIcon," ",c.cssExpandTreeIcon," ");if(this.hasChildren()){var e=0;a.getShowExpandIcons()&&this.isUserCollapsible_&&(e=this.getExpanded()?2:1);b||(e=this.isLastSibling()?e+4:e+8);switch(e){case 1:d.append(c.cssExpandTreeIconPlus);break;case 2:d.append(c.cssExpandTreeIconMinus);break;case 4:d.append(c.cssExpandTreeIconL);\nbreak;case 5:d.append(c.cssExpandTreeIconLPlus);break;case 6:d.append(c.cssExpandTreeIconLMinus);break;case 8:d.append(c.cssExpandTreeIconT);break;case 9:d.append(c.cssExpandTreeIconTPlus);break;case 10:d.append(c.cssExpandTreeIconTMinus);break;default:d.append(c.cssExpandTreeIconBlank)}}else b?d.append(c.cssExpandTreeIconBlank):this.isLastSibling()?d.append(c.cssExpandTreeIconL):d.append(c.cssExpandTreeIconT);return d.toString()};\ngoog.ui.tree.BaseNode.prototype.getLineStyle=function(){var a=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:a?null:"none"})};goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"};\ngoog.ui.tree.BaseNode.prototype.getElement=function(){var a=goog.ui.tree.BaseNode.superClass_.getElement.call(this);a||(a=this.getDomHelper().getElement(this.getId()),this.setElementInternal(a));return a};goog.ui.tree.BaseNode.prototype.getRowElement=function(){var a=this.getElement();return a?a.firstChild:null};goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var a=this.getRowElement();return a?a.firstChild:null};\ngoog.ui.tree.BaseNode.prototype.getIconElement=function(){var a=this.getRowElement();return a?a.childNodes[1]:null};goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var a=this.getRowElement();return a&&a.lastChild?a.lastChild.previousSibling:null};goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var a=this.getRowElement();return a?a.lastChild:null};goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var a=this.getElement();return a?a.lastChild:null};\ngoog.ui.tree.BaseNode.prototype.setIconClass=function(a){this.iconClass_=a;this.isInDocument()&&this.updateIcon_()};goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_};goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(a){this.expandedIconClass_=a;this.isInDocument()&&this.updateIcon_()};goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_};goog.ui.tree.BaseNode.prototype.setText=function(a){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(a))};\ngoog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))};goog.ui.tree.BaseNode.prototype.setSafeHtml=function(a){this.html_=a;var b=this.getLabelElement();b&&goog.dom.safe.setInnerHtml(b,a);(a=this.getTree())&&a.setNode(this)};goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())};goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_};\ngoog.ui.tree.BaseNode.prototype.setToolTip=function(a){this.toolTip_=a;var b=this.getLabelElement();b&&(b.title=a)};goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_};goog.ui.tree.BaseNode.prototype.updateRow=function(){var a=this.getRowElement();a&&(a.className=this.getRowClassName())};\ngoog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var a=this.getExpandIconElement();a&&(a.className=this.getExpandIconClass());if(a=this.getChildrenElement())a.style.backgroundPosition=this.getBackgroundPosition()};goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()};\ngoog.ui.tree.BaseNode.prototype.onMouseDown=function(a){"expand"==a.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())};goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault;goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(a){"expand"==a.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()};\ngoog.ui.tree.BaseNode.prototype.onKeyDown=function(a){var b=!0;switch(a.keyCode){case goog.events.KeyCodes.RIGHT:if(a.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(a.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var c=this.getParent(),d=this.getTree();c&&(d.getShowRootNode()||c!=d)&&c.select()}break;case goog.events.KeyCodes.DOWN:(c=this.getNextShownNode())&&\nc.select();break;case goog.events.KeyCodes.UP:(c=this.getPreviousShownNode())&&c.select();break;default:b=!1}b&&(a.preventDefault(),(d=this.getTree())&&d.clearTypeAhead());return b};goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this};\ngoog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var a=this,b;a!=this.getTree();){b=a.getNextSibling();if(null!=b)return b;a=a.getParent()}return null};goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var a=this.getPreviousSibling();if(null!=a)return a.getLastShownDescendant();var a=this.getParent(),b=this.getTree();return!b.getShowRootNode()&&a==b||this==b?null:a};\ngoog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel;goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel;goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_};goog.ui.tree.BaseNode.prototype.setTreeInternal=function(a){this.tree!=a&&(this.tree=a,a.setNode(this),this.forEachChild(function(b){b.setTreeInternal(a)}))};\ngoog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",\ncssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",\ncssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"};goog.ui.tree.TreeNode=function(a,b,c){goog.ui.tree.BaseNode.call(this,a,b,c)};goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode);goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var a=this.getParent();return a&&(a=a.getTree())?(this.setTreeInternal(a),a):null};\ngoog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var a=this.getExpanded(),b=this.getExpandedIconClass();if(a&&b)return b;b=this.getIconClass();if(!a&&b)return b;b=this.getConfig();if(this.hasChildren()){if(a&&b.cssExpandedFolderIcon)return b.cssTreeIcon+" "+b.cssExpandedFolderIcon;if(!a&&b.cssCollapsedFolderIcon)return b.cssTreeIcon+" "+b.cssCollapsedFolderIcon}else if(b.cssFileIcon)return b.cssTreeIcon+" "+b.cssFileIcon;return""};goog.structs.Trie=function(a){this.value_=void 0;this.childNodes_={};a&&this.setAll(a)};goog.structs.Trie.prototype.set=function(a,b){this.setOrAdd_(a,b,!1)};goog.structs.Trie.prototype.add=function(a,b){this.setOrAdd_(a,b,!0)};\ngoog.structs.Trie.prototype.setOrAdd_=function(a,b,c){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);d.childNodes_[f]||(d.childNodes_[f]=new goog.structs.Trie);d=d.childNodes_[f]}if(c&&void 0!==d.value_)throw Error(\'The collection already contains the key "\'+a+\'"\');d.value_=b};goog.structs.Trie.prototype.setAll=function(a){var b=goog.structs.getKeys(a);a=goog.structs.getValues(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};\ngoog.structs.Trie.prototype.getChildNode_=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c),b=b.childNodes_[d];if(!b)return}return b};goog.structs.Trie.prototype.get=function(a){return(a=this.getChildNode_(a))?a.value_:void 0};goog.structs.Trie.prototype.getKeyAndPrefixes=function(a,b){var c=this,d={},e=b||0;void 0!==c.value_&&(d[e]=c.value_);for(;e<a.length;e++){var f=a.charAt(e);if(!(f in c.childNodes_))break;c=c.childNodes_[f];void 0!==c.value_&&(d[e]=c.value_)}return d};\ngoog.structs.Trie.prototype.getValues=function(){var a=[];this.getValuesInternal_(a);return a};goog.structs.Trie.prototype.getValuesInternal_=function(a){void 0!==this.value_&&a.push(this.value_);for(var b in this.childNodes_)this.childNodes_[b].getValuesInternal_(a)};goog.structs.Trie.prototype.getKeys=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.childNodes_[e])return[];c=c.childNodes_[e]}c.getKeysInternal_(a,b)}else this.getKeysInternal_("",b);return b};\ngoog.structs.Trie.prototype.getKeysInternal_=function(a,b){void 0!==this.value_&&b.push(a);for(var c in this.childNodes_)this.childNodes_[c].getKeysInternal_(a+c,b)};goog.structs.Trie.prototype.containsKey=function(a){return void 0!==this.get(a)};goog.structs.Trie.prototype.containsPrefix=function(a){return 0==a.length?!this.isEmpty():!!this.getChildNode_(a)};\ngoog.structs.Trie.prototype.containsValue=function(a){if(this.value_===a)return!0;for(var b in this.childNodes_)if(this.childNodes_[b].containsValue(a))return!0;return!1};goog.structs.Trie.prototype.clear=function(){this.childNodes_={};this.value_=void 0};\ngoog.structs.Trie.prototype.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a.charAt(d);if(!b.childNodes_[e])throw Error(\'The collection does not have the key "\'+a+\'"\');c.push([b,e]);b=b.childNodes_[e]}a=b.value_;for(delete b.value_;0<c.length;)if(e=c.pop(),b=e[0],e=e[1],b.childNodes_[e].isEmpty())delete b.childNodes_[e];else break;return a};goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)};goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())};\ngoog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)};goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie;this.buffer_="";this.matchingNodes_=this.matchingLabels_=null;this.matchingNodeIndex_=this.matchingLabelIndex_=0};goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1};\ngoog.ui.tree.TypeAhead.prototype.handleNavigation=function(a){var b=!1;switch(a.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:a.ctrlKey&&(this.jumpTo_(a.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),b=!0);break;case goog.events.KeyCodes.BACKSPACE:a=this.buffer_.length-1;b=!0;0<a?(this.buffer_=this.buffer_.substring(0,a),this.jumpToLabel_(this.buffer_)):0==a?this.buffer_="":b=!1;break;case goog.events.KeyCodes.ESC:this.buffer_=\n"",b=!0}return b};goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(a){var b=!1;a.ctrlKey||a.altKey||(a=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),goog.string.isUnicodeChar(a)&&(" "!=a||this.buffer_)&&(this.buffer_+=a,b=this.jumpToLabel_(this.buffer_)));return b};\ngoog.ui.tree.TypeAhead.prototype.setNodeInMap=function(a){var b=a.getText();if(b&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){var b=b.toLowerCase(),c=this.nodeMap_.get(b);c?c.push(a):this.nodeMap_.set(b,[a])}};\ngoog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(a){var b=a.getText();if(b&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){var b=b.toLowerCase(),c=this.nodeMap_.get(b);if(c){for(var d=a.getChildCount(),e=0;e<d;e++)this.removeNodeFromMap(a.getChildAt(e));goog.array.remove(c,a);c.length||this.nodeMap_.remove(b)}}};\ngoog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(a){var b=!1;(a=this.nodeMap_.getKeys(a))&&a.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,b=this.nodeMap_.get(a[0]),b=this.selectMatchingNode_(b))&&(this.matchingLabels_=a);return b};\ngoog.ui.tree.TypeAhead.prototype.jumpTo_=function(a){var b=!1,c=this.matchingLabels_;if(c){var b=null,d=!1;if(this.matchingNodes_){var e=this.matchingNodeIndex_+a;0<=e&&e<this.matchingNodes_.length?(this.matchingNodeIndex_=e,b=this.matchingNodes_):d=!0}b||(e=this.matchingLabelIndex_+a,0<=e&&e<c.length&&(this.matchingLabelIndex_=e),c.length>this.matchingLabelIndex_&&(b=this.nodeMap_.get(c[this.matchingLabelIndex_])),b&&b.length&&d&&(this.matchingNodeIndex_=a==goog.ui.tree.TypeAhead.Offset.UP?b.length-\n1:0));if(b=this.selectMatchingNode_(b))this.matchingLabels_=c}return b};goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(a){var b;a&&(this.matchingNodeIndex_<a.length&&(b=a[this.matchingNodeIndex_],this.matchingNodes_=a),b&&(b.reveal(),b.select()));return!!b};goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""};goog.ui.tree.TreeControl=function(a,b,c){goog.ui.tree.BaseNode.call(this,a,b,c);this.setExpandedInternal(!0);this.setSelectedInternal(!0);this.selectedItem_=this;this.typeAhead_=new goog.ui.tree.TypeAhead;this.focusHandler_=this.keyHandler_=null;this.logger_=goog.log.getLogger("this");this.focused_=!1;this.focusedNode_=null;this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0;if(goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){goog.log.warning(this.logger_,\n"Failed to enable background image cache")}};goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode);goog.ui.tree.TreeControl.prototype.getTree=function(){return this};goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0};goog.ui.tree.TreeControl.prototype.reveal=function(){};goog.ui.tree.TreeControl.prototype.handleFocus_=function(a){this.focused_=!0;goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused");this.selectedItem_&&this.selectedItem_.select()};\ngoog.ui.tree.TreeControl.prototype.handleBlur_=function(a){this.focused_=!1;goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")};goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_};goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)};\ngoog.ui.tree.TreeControl.prototype.setExpanded=function(a){this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,a):this.setExpandedInternal(a)};goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY};goog.ui.tree.TreeControl.prototype.getIconElement=function(){var a=this.getRowElement();return a?a.firstChild:null};goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null};\ngoog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){};goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)};\ngoog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var a=this.getExpanded(),b=this.getExpandedIconClass();if(a&&b)return b;b=this.getIconClass();if(!a&&b)return b;b=this.getConfig();return a&&b.cssExpandedRootIcon?b.cssTreeIcon+" "+b.cssExpandedRootIcon:!a&&b.cssCollapsedRootIcon?b.cssTreeIcon+" "+b.cssCollapsedRootIcon:""};\ngoog.ui.tree.TreeControl.prototype.setSelectedItem=function(a){if(this.selectedItem_!=a){var b=!1;this.selectedItem_&&(b=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1));if(this.selectedItem_=a)a.setSelectedInternal(!0),b&&a.select();this.dispatchEvent(goog.events.EventType.CHANGE)}};goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_};\ngoog.ui.tree.TreeControl.prototype.setShowLines=function(a){this.showLines_!=a&&(this.showLines_=a,this.isInDocument()&&this.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_};\ngoog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){function a(e){var f=e.getChildrenElement();if(f){var g=!c||b==e.getParent()&&!d?e.getConfig().cssChildrenNoLines:e.getConfig().cssChildren;f.className=g;if(f=e.getExpandIconElement())f.className=e.getExpandIconClass()}e.forEachChild(a)}var b=this,c=b.getShowLines(),d=b.getShowRootLines();a(this)};\ngoog.ui.tree.TreeControl.prototype.setShowRootLines=function(a){this.showRootLines_!=a&&(this.showRootLines_=a,this.isInDocument()&&this.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_};goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(a){this.showExpandIcons_!=a&&(this.showExpandIcons_=a,this.isInDocument()&&this.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_};\ngoog.ui.tree.TreeControl.prototype.setShowRootNode=function(a){if(this.showRootNode_!=a){this.showRootNode_=a;if(this.isInDocument()){var b=this.getRowElement();b&&(b.className=this.getRowClassName())}!a&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}};goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_};\ngoog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var a=this.getElement();goog.asserts.assert(a,"The DOM element for the tree cannot be null.");goog.a11y.aria.setRole(a,"tree");goog.a11y.aria.setState(a,"labelledby",this.getLabelElement().id)};\ngoog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var a=this.getElement();a.className=this.getConfig().cssRoot;a.setAttribute("hideFocus","true");this.attachEvents_();this.initAccessibility()};goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this);this.detachEvents_()};\ngoog.ui.tree.TreeControl.prototype.attachEvents_=function(){var a=this.getElement();a.tabIndex=0;var b=this.keyHandler_=new goog.events.KeyHandler(a),c=this.focusHandler_=new goog.events.FocusHandler(a);this.getHandler().listen(c,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(c,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(b,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(a,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(a,\ngoog.events.EventType.CLICK,this.handleMouseEvent_).listen(a,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)};goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose();this.keyHandler_=null;this.focusHandler_.dispose();this.focusHandler_=null};\ngoog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(a){goog.log.fine(this.logger_,"Received event "+a.type);var b=this.getNodeFromEvent_(a);if(b)switch(a.type){case goog.events.EventType.MOUSEDOWN:b.onMouseDown(a);break;case goog.events.EventType.CLICK:b.onClick_(a);break;case goog.events.EventType.DBLCLICK:b.onDoubleClick_(a)}};\ngoog.ui.tree.TreeControl.prototype.handleKeyEvent=function(a){var b;(b=this.typeAhead_.handleNavigation(a)||this.selectedItem_&&this.selectedItem_.onKeyDown(a)||this.typeAhead_.handleTypeAheadChar(a))&&a.preventDefault();return b};goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(a){for(var b=a.target;null!=b;){if(a=goog.ui.tree.BaseNode.allNodes[b.id])return a;if(b==this.getElement())break;b=b.parentNode}return null};\ngoog.ui.tree.TreeControl.prototype.createNode=function(a){return new goog.ui.tree.TreeNode(a||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())};goog.ui.tree.TreeControl.prototype.setNode=function(a){this.typeAhead_.setNodeInMap(a)};goog.ui.tree.TreeControl.prototype.removeNode=function(a){this.typeAhead_.removeNodeFromMap(a)};goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()};goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig;\n// Copyright 2013 Google Inc.  Apache License 2.0\nvar Blockly={Blocks:{}};\n// Copyright 2016 Google Inc.  Apache License 2.0\nBlockly.Touch={};Blockly.Touch.touchIdentifier_=null;Blockly.Touch.onTouchUpWrapper_=null;Blockly.Touch.TOUCH_MAP={};goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});Blockly.longPid_=0;Blockly.longStart_=function(a,b){Blockly.longStop_();Blockly.longPid_=setTimeout(function(){a.button=2;b.onMouseDown_(a)},Blockly.LONGPRESS)};\nBlockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)};\nBlockly.onMouseUp_=function(a){a=Blockly.getMainWorkspace();a.dragMode_!=Blockly.DRAG_NONE&&(Blockly.Touch.clearTouchIdentifier(),Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN),a.dragMode_=Blockly.DRAG_NONE,Blockly.Touch.onTouchUpWrapper_&&(Blockly.unbindEvent_(Blockly.Touch.onTouchUpWrapper_),Blockly.Touch.onTouchUpWrapper_=null),Blockly.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.onMouseMoveWrapper_),Blockly.onMouseMoveWrapper_=null))};\nBlockly.onMouseMove_=function(a){var b=Blockly.getMainWorkspace();if(b.dragMode_!=Blockly.DRAG_NONE){var c=a.clientX-b.startDragMouseX,d=a.clientY-b.startDragMouseY,e=b.startDragMetrics,f=b.startScrollX+c,g=b.startScrollY+d,f=Math.min(f,-e.contentLeft),g=Math.min(g,-e.contentTop),f=Math.max(f,e.viewWidth-e.contentLeft-e.contentWidth),g=Math.max(g,e.viewHeight-e.contentTop-e.contentHeight);b.scrollbar.set(-f-e.contentLeft,-g-e.contentTop);Math.sqrt(c*c+d*d)>Blockly.DRAG_RADIUS&&(Blockly.longStop_(),\nb.dragMode_=Blockly.DRAG_FREE);a.stopPropagation();a.preventDefault()}};Blockly.Touch.clearTouchIdentifier=function(){Blockly.Touch.touchIdentifier_=null};Blockly.Touch.shouldHandleEvent=function(a){return!Blockly.Touch.isMouseOrTouchEvent(a)||Blockly.Touch.checkTouchIdentifier(a)};\nBlockly.Touch.checkTouchIdentifier=function(a){var b=a.changedTouches&&a.changedTouches[0]&&void 0!=a.changedTouches[0].identifier&&null!=a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse";return void 0!=Blockly.Touch.touchIdentifier_&&null!=Blockly.Touch.touchIdentifier_?Blockly.Touch.touchIdentifier_==b:"mousedown"==a.type||"touchstart"==a.type?(Blockly.Touch.touchIdentifier_=b,!0):!1};\nBlockly.Touch.setClientFromTouch=function(a){if(goog.string.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};Blockly.Touch.isMouseOrTouchEvent=function(a){return goog.string.startsWith(a.type,"touch")||goog.string.startsWith(a.type,"mouse")};\nBlockly.Touch.splitEventByTouches=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};\n// Copyright 2012 Google Inc.  Apache License 2.0\nBlockly.Workspace=function(a){this.id=Blockly.genUid();Blockly.Workspace.WorkspaceDB_[this.id]=this;this.options=a||{};this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.topBlocks_=[];this.listeners_=[];this.undoStack_=[];this.redoStack_=[];this.blockDB_=Object.create(null);this.variableList=[]};Blockly.Workspace.prototype.rendered=!1;Blockly.Workspace.prototype.MAX_UNDO=1024;\nBlockly.Workspace.prototype.dispose=function(){this.listeners_.length=0;this.clear();delete Blockly.Workspace.WorkspaceDB_[this.id]};Blockly.Workspace.SCAN_ANGLE=3;Blockly.Workspace.prototype.addTopBlock=function(a){this.topBlocks_.push(a);if(this.isFlyout){a=Blockly.Variables.allUsedVariables(a);for(var b=0;b<a.length;b++)-1==this.variableList.indexOf(a[b])&&this.variableList.push(a[b])}};\nBlockly.Workspace.prototype.removeTopBlock=function(a){if(!goog.array.remove(this.topBlocks_,a))throw"Block not present in workspace\'s list of top-most blocks.";};Blockly.Workspace.prototype.getTopBlocks=function(a){var b=[].concat(this.topBlocks_);if(a&&1<b.length){var c=Math.sin(goog.math.toRadians(Blockly.Workspace.SCAN_ANGLE));this.RTL&&(c*=-1);b.sort(function(a,b){var f=a.getRelativeToSurfaceXY(),g=b.getRelativeToSurfaceXY();return f.y+c*f.x-(g.y+c*g.x)})}return b};\nBlockly.Workspace.prototype.getAllBlocks=function(){for(var a=this.getTopBlocks(!1),b=0;b<a.length;b++)a.push.apply(a,a[b].getChildren());return a};Blockly.Workspace.prototype.clear=function(){var a=Blockly.Events.getGroup();for(a||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();a||Blockly.Events.setGroup(!1);this.variableList.length=0};\nBlockly.Workspace.prototype.updateVariableList=function(a){if(!this.isFlyout){a&&(this.variableList.length=0);a=Blockly.Variables.allUsedVariables(this);for(var b=0;b<a.length;b++)this.createVariable(a[b])}};\nBlockly.Workspace.prototype.renameVariable=function(a,b){var c=this.variableIndexOf(a),d=this.variableIndexOf(b);if(-1!=d&&this.variableList[d]!=b)var e=this.variableList[d];Blockly.Events.setGroup(!0);for(var f=this.getAllBlocks(),g=0;g<f.length;g++)f[g].renameVar(a,b),e&&f[g].renameVar(e,b);Blockly.Events.setGroup(!1);c==d||-1!=c&&-1==d?this.variableList[c]=b:-1!=c&&-1!=d?(this.variableList.splice(c,1),this.variableList[d]=b):(this.variableList.push(b),console.log("Tried to rename an non-existent variable."))};\nBlockly.Workspace.prototype.createVariable=function(a){-1==this.variableIndexOf(a)&&this.variableList.push(a)};Blockly.Workspace.prototype.getVariableUses=function(a){for(var b=[],c=this.getAllBlocks(),d=0;d<c.length;d++){var e=c[d].getVars();if(e)for(var f=0;f<e.length;f++){var g=e[f];g&&Blockly.Names.equals(g,a)&&b.push(c[d])}}return b};\nBlockly.Workspace.prototype.deleteVariable=function(a){var b=this.variableIndexOf(a);if(-1!=b){var c=this.getVariableUses(a);if(1<c.length){for(var d=0,e;e=c[d];d++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){b=e.getFieldValue("NAME");window.alert(Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",a).replace("%2",b));return}if(!window.confirm(Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",c.length).replace("%2",a)))return}Blockly.Events.setGroup(!0);for(d=0;d<\nc.length;d++)c[d].dispose(!0,!1);Blockly.Events.setGroup(!1);this.variableList.splice(b,1)}};Blockly.Workspace.prototype.variableIndexOf=function(a){for(var b=0,c;c=this.variableList[b];b++)if(Blockly.Names.equals(c,a))return b;return-1};Blockly.Workspace.prototype.getWidth=function(){return 0};Blockly.Workspace.prototype.newBlock=function(a,b){return new Blockly.Block(this,a,b)};\nBlockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks().length};\nBlockly.Workspace.prototype.undo=function(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_,d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group==b[b.length-1].group;)e.push(b.pop());for(b=0;d=e[b];b++)c.push(d);e=Blockly.Events.filter(e,a);Blockly.Events.recordUndo=!1;for(b=0;d=e[b];b++)d.run(a);Blockly.Events.recordUndo=!0}};Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0;this.redoStack_.length=0;Blockly.Events.clearPendingUndo()};\nBlockly.Workspace.prototype.addChangeListener=function(a){this.listeners_.push(a);return a};Blockly.Workspace.prototype.removeChangeListener=function(a){goog.array.remove(this.listeners_,a)};Blockly.Workspace.prototype.fireChangeListener=function(a){a.recordUndo&&(this.undoStack_.push(a),this.redoStack_.length=0,this.undoStack_.length>this.MAX_UNDO&&this.undoStack_.unshift());for(var b=0,c;c=this.listeners_[b];b++)c(a)};\nBlockly.Workspace.prototype.getBlockById=function(a){return this.blockDB_[a]||null};Blockly.Workspace.WorkspaceDB_=Object.create(null);Blockly.Workspace.getById=function(a){return Blockly.Workspace.WorkspaceDB_[a]||null};Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear;Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo;Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener;\nBlockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener;Blockly.Bubble=function(a,b,c,d,e,f){this.workspace_=a;this.content_=b;this.shape_=c;c=Blockly.Bubble.ARROW_ANGLE;this.workspace_.RTL&&(c=-c);this.arrow_radians_=goog.math.toRadians(c);a.getBubbleCanvas().appendChild(this.createDom_(b,!(!e||!f)));this.setAnchorLocation(d);e&&f||(b=this.content_.getBBox(),e=b.width+2*Blockly.Bubble.BORDER_WIDTH,f=b.height+2*Blockly.Bubble.BORDER_WIDTH);this.setBubbleSize(e,f);this.positionBubble_();this.renderArrow_();this.rendered_=!0;a.options.readOnly||(Blockly.bindEventWithChecks_(this.bubbleBack_,\n"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))};Blockly.Bubble.BORDER_WIDTH=6;Blockly.Bubble.ARROW_THICKNESS=5;Blockly.Bubble.ARROW_ANGLE=20;Blockly.Bubble.ARROW_BEND=4;Blockly.Bubble.ANCHOR_RADIUS=8;Blockly.Bubble.onMouseUpWrapper_=null;Blockly.Bubble.onMouseMoveWrapper_=null;Blockly.Bubble.prototype.resizeCallback_=null;\nBlockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null);Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)};Blockly.Bubble.bubbleMouseUp_=function(){Blockly.Touch.clearTouchIdentifier();Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN);Blockly.Bubble.unbindDragEvents_()};\nBlockly.Bubble.prototype.rendered_=!1;Blockly.Bubble.prototype.anchorXY_=null;Blockly.Bubble.prototype.relativeLeft_=0;Blockly.Bubble.prototype.relativeTop_=0;Blockly.Bubble.prototype.width_=0;Blockly.Bubble.prototype.height_=0;Blockly.Bubble.prototype.autoLayout_=!0;\nBlockly.Bubble.prototype.createDom_=function(a,b){this.bubbleGroup_=Blockly.createSvgElement("g",{},null);var c={filter:"url(#"+this.workspace_.options.embossFilterId+")"};-1!=goog.userAgent.getUserAgentString().indexOf("JavaFX")&&(c={});c=Blockly.createSvgElement("g",c,this.bubbleGroup_);this.bubbleArrow_=Blockly.createSvgElement("path",{},c);this.bubbleBack_=Blockly.createSvgElement("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},c);b?(this.resizeGroup_=\nBlockly.createSvgElement("g",{"class":this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),c=2*Blockly.Bubble.BORDER_WIDTH,Blockly.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.resizeGroup_),Blockly.createSvgElement("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/3},this.resizeGroup_),Blockly.createSvgElement("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.resizeGroup_)):this.resizeGroup_=null;this.bubbleGroup_.appendChild(a);\nreturn this.bubbleGroup_};\nBlockly.Bubble.prototype.bubbleMouseDown_=function(a){this.promote_();Blockly.Bubble.unbindDragEvents_();Blockly.isRightButton(a)?a.stopPropagation():Blockly.isTargetInput_(a)||(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.workspace_.startDrag(a,new goog.math.Coordinate(this.workspace_.RTL?-this.relativeLeft_:this.relativeLeft_,this.relativeTop_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=\nBlockly.bindEventWithChecks_(document,"mousemove",this,this.bubbleMouseMove_),Blockly.hideChaff(),a.stopPropagation())};Blockly.Bubble.prototype.bubbleMouseMove_=function(a){this.autoLayout_=!1;a=this.workspace_.moveDrag(a);this.relativeLeft_=this.workspace_.RTL?-a.x:a.x;this.relativeTop_=a.y;this.positionBubble_();this.renderArrow_()};\nBlockly.Bubble.prototype.resizeMouseDown_=function(a){this.promote_();Blockly.Bubble.unbindDragEvents_();Blockly.isRightButton(a)||(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.workspace_.startDrag(a,new goog.math.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,\nthis.resizeMouseMove_),Blockly.hideChaff());a.stopPropagation()};Blockly.Bubble.prototype.resizeMouseMove_=function(a){this.autoLayout_=!1;a=this.workspace_.moveDrag(a);this.setBubbleSize(this.workspace_.RTL?-a.x:a.x,a.y);this.workspace_.RTL&&this.positionBubble_()};Blockly.Bubble.prototype.registerResizeEvent=function(a){this.resizeCallback_=a};Blockly.Bubble.prototype.promote_=function(){this.bubbleGroup_.parentNode.appendChild(this.bubbleGroup_)};\nBlockly.Bubble.prototype.setAnchorLocation=function(a){this.anchorXY_=a;this.rendered_&&this.positionBubble_()};\nBlockly.Bubble.prototype.layoutBubble_=function(){var a=-this.width_/4,b=-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y,c=this.workspace_.getMetrics();c.viewWidth/=this.workspace_.scale;c.viewLeft/=this.workspace_.scale;var d=this.anchorXY_.x;this.workspace_.RTL?d-c.viewLeft-a-this.width_<Blockly.Scrollbar.scrollbarThickness?a=d-c.viewLeft-this.width_-Blockly.Scrollbar.scrollbarThickness:d-c.viewLeft-a>c.viewWidth&&(a=d-c.viewLeft-c.viewWidth):d+a<c.viewLeft?a=c.viewLeft-d:c.viewLeft+c.viewWidth<d+a+\nthis.width_+Blockly.BlockSvg.SEP_SPACE_X+Blockly.Scrollbar.scrollbarThickness&&(a=c.viewLeft+c.viewWidth-d-this.width_-Blockly.Scrollbar.scrollbarThickness);this.anchorXY_.y+b<c.viewTop&&(b=this.shape_.getBBox().height);this.relativeLeft_=a;this.relativeTop_=b};\nBlockly.Bubble.prototype.positionBubble_=function(){var a=this.anchorXY_.x,a=this.workspace_.RTL?a-(this.relativeLeft_+this.width_):a+this.relativeLeft_;this.bubbleGroup_.setAttribute("transform","translate("+a+","+(this.relativeTop_+this.anchorXY_.y)+")")};Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}};\nBlockly.Bubble.prototype.setBubbleSize=function(a,b){var c=2*Blockly.Bubble.BORDER_WIDTH;a=Math.max(a,c+45);b=Math.max(b,c+20);this.width_=a;this.height_=b;this.bubbleBack_.setAttribute("width",a);this.bubbleBack_.setAttribute("height",b);this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(b-c)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));this.rendered_&&(this.autoLayout_&&\nthis.layoutBubble_(),this.positionBubble_(),this.renderArrow_());this.resizeCallback_&&this.resizeCallback_()};\nBlockly.Bubble.prototype.renderArrow_=function(){var a=[],b=this.width_/2,c=this.height_/2,d=-this.relativeLeft_,e=-this.relativeTop_;if(b==d&&c==e)a.push("M "+b+","+c);else{e-=c;d-=b;this.workspace_.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);0>e&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>2*Math.PI&&(h-=2*Math.PI);var k=Math.sin(h),m=Math.cos(h),p=this.getBubbleSize(),h=(p.width+p.height)/Blockly.Bubble.ARROW_THICKNESS,h=Math.min(h,p.width,p.height)/4,p=1-Blockly.Bubble.ANCHOR_RADIUS/f,d=b+\np*d,e=c+p*e,p=b+h*m,l=c+h*k,b=b-h*m,c=c-h*k,k=g+this.arrow_radians_;k>2*Math.PI&&(k-=2*Math.PI);g=Math.sin(k)*f/Blockly.Bubble.ARROW_BEND;f=Math.cos(k)*f/Blockly.Bubble.ARROW_BEND;a.push("M"+p+","+l);a.push("C"+(p+f)+","+(l+g)+" "+d+","+e+" "+d+","+e);a.push("C"+d+","+e+" "+(b+f)+","+(c+g)+" "+b+","+c)}a.push("z");this.bubbleArrow_.setAttribute("d",a.join(" "))};Blockly.Bubble.prototype.setColour=function(a){this.bubbleBack_.setAttribute("fill",a);this.bubbleArrow_.setAttribute("fill",a)};\nBlockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_();goog.dom.removeNode(this.bubbleGroup_);this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null};Blockly.Icon=function(a){this.block_=a};Blockly.Icon.prototype.collapseHidden=!0;Blockly.Icon.prototype.SIZE=17;Blockly.Icon.prototype.bubble_=null;Blockly.Icon.prototype.iconXY_=null;\nBlockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.createSvgElement("g",{"class":"blocklyIconGroup"},null),this.block_.isInFlyout&&Blockly.addClass_(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())};\nBlockly.Icon.prototype.dispose=function(){goog.dom.removeNode(this.iconGroup_);this.iconGroup_=null;this.setVisible(!1);this.block_=null};Blockly.Icon.prototype.updateEditable=function(){};Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_};Blockly.Icon.prototype.iconClick_=function(a){this.block_.workspace.isDragging()||this.block_.isInFlyout||Blockly.isRightButton(a)||this.setVisible(!this.isVisible())};Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())};\nBlockly.Icon.prototype.renderIcon=function(a){if(this.collapseHidden&&this.block_.isCollapsed())return this.iconGroup_.setAttribute("display","none"),a;this.iconGroup_.setAttribute("display","block");var b=this.SIZE;this.block_.RTL&&(a-=b);this.iconGroup_.setAttribute("transform","translate("+a+",5)");this.computeIconLocation();return a=this.block_.RTL?a-Blockly.BlockSvg.SEP_SPACE_X:a+(b+Blockly.BlockSvg.SEP_SPACE_X)};\nBlockly.Icon.prototype.setIconLocation=function(a){this.iconXY_=a;this.isVisible()&&this.bubble_.setAnchorLocation(a)};Blockly.Icon.prototype.computeIconLocation=function(){var a=this.block_.getRelativeToSurfaceXY(),b=Blockly.getRelativeXY_(this.iconGroup_),a=new goog.math.Coordinate(a.x+b.x+this.SIZE/2,a.y+b.y+this.SIZE/2);goog.math.Coordinate.equals(this.getIconLocation(),a)||this.setIconLocation(a)};Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_};\n// Copyright 2011 Google Inc.  Apache License 2.0\nBlockly.Comment=function(a){Blockly.Comment.superClass_.constructor.call(this,a);this.createIcon()};goog.inherits(Blockly.Comment,Blockly.Icon);Blockly.Comment.prototype.text_="";Blockly.Comment.prototype.width_=160;Blockly.Comment.prototype.height_=80;\nBlockly.Comment.prototype.drawIcon_=function(a){Blockly.createSvgElement("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);Blockly.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.405 0.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25 -1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);Blockly.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};\nBlockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var a=document.createElementNS(Blockly.HTML_NS,"body");a.setAttribute("xmlns",Blockly.HTML_NS);a.className="blocklyMinimalBody";var b=document.createElementNS(Blockly.HTML_NS,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.block_.RTL?"RTL":"LTR");a.appendChild(b);this.textarea_=b;this.foreignObject_.appendChild(a);\nBlockly.bindEventWithChecks_(b,"mouseup",this,this.textareaFocus_);Blockly.bindEventWithChecks_(b,"wheel",this,function(a){a.stopPropagation()});Blockly.bindEventWithChecks_(b,"change",this,function(a){this.text_!=b.value&&(Blockly.Events.fire(new Blockly.Events.Change(this.block_,"comment",null,this.text_,b.value)),this.text_=b.value)});setTimeout(function(){b.focus()},0);return this.foreignObject_};\nBlockly.Comment.prototype.updateEditable=function(){this.isVisible()&&(this.setVisible(!1),this.setVisible(!0));Blockly.Icon.prototype.updateEditable.call(this)};Blockly.Comment.prototype.resizeBubble_=function(){if(this.isVisible()){var a=this.bubble_.getBubbleSize(),b=2*Blockly.Bubble.BORDER_WIDTH;this.foreignObject_.setAttribute("width",a.width-b);this.foreignObject_.setAttribute("height",a.height-b);this.textarea_.style.width=a.width-b-4+"px";this.textarea_.style.height=a.height-b-4+"px"}};\nBlockly.Comment.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!a,a)),!this.block_.isEditable()&&!this.textarea_||goog.userAgent.IE)Blockly.Warning.prototype.setVisible.call(this,a);else{var b=this.getText(),c=this.getBubbleSize();a?(this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.width_,this.height_),this.bubble_.registerResizeEvent(this.resizeBubble_.bind(this)),\nthis.updateColour()):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null);this.setText(b);this.setBubbleSize(c.width,c.height)}};Blockly.Comment.prototype.textareaFocus_=function(a){this.bubble_.promote_();this.textarea_.focus()};Blockly.Comment.prototype.getBubbleSize=function(){return this.isVisible()?this.bubble_.getBubbleSize():{width:this.width_,height:this.height_}};\nBlockly.Comment.prototype.setBubbleSize=function(a,b){this.textarea_?this.bubble_.setBubbleSize(a,b):(this.width_=a,this.height_=b)};Blockly.Comment.prototype.getText=function(){return this.textarea_?this.textarea_.value:this.text_};Blockly.Comment.prototype.setText=function(a){this.text_!=a&&(Blockly.Events.fire(new Blockly.Events.Change(this.block_,"comment",null,this.text_,a)),this.text_=a);this.textarea_&&(this.textarea_.value=a)};\nBlockly.Comment.prototype.dispose=function(){Blockly.Events.isEnabled()&&this.setText("");this.block_.comment=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Connection=function(a,b){this.sourceBlock_=a;this.type=b;a.workspace.connectionDBList&&(this.db_=a.workspace.connectionDBList[b],this.dbOpposite_=a.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[b]],this.hidden_=!this.db_)};Blockly.Connection.CAN_CONNECT=0;Blockly.Connection.REASON_SELF_CONNECTION=1;Blockly.Connection.REASON_WRONG_TYPE=2;Blockly.Connection.REASON_TARGET_NULL=3;Blockly.Connection.REASON_CHECKS_FAILED=4;Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5;\nBlockly.Connection.REASON_SHADOW_PARENT=6;Blockly.Connection.prototype.targetConnection=null;Blockly.Connection.prototype.check_=null;Blockly.Connection.prototype.shadowDom_=null;Blockly.Connection.prototype.x_=0;Blockly.Connection.prototype.y_=0;Blockly.Connection.prototype.inDB_=!1;Blockly.Connection.prototype.db_=null;Blockly.Connection.prototype.dbOpposite_=null;Blockly.Connection.prototype.hidden_=null;\nBlockly.Connection.prototype.connect_=function(a){var b=this,c=b.getSourceBlock(),d=a.getSourceBlock();a.isConnected()&&a.disconnect();if(b.isConnected()){var e=b.targetBlock(),f=b.getShadowDom();b.setShadowDom(null);if(e.isShadow())f=Blockly.Xml.blockToDom(e),e.dispose(),e=null;else if(b.type==Blockly.INPUT_VALUE){if(!e.outputConnection)throw"Orphan block does not have an output connection.";var g=Blockly.Connection.lastConnectionInRow_(d,e);g&&(e.outputConnection.connect(g),e=null)}else if(b.type==\nBlockly.NEXT_STATEMENT){if(!e.previousConnection)throw"Orphan block does not have a previous connection.";for(g=d;g.nextConnection;){var h=g.getNextBlock();if(h&&!h.isShadow())g=h;else{e.previousConnection.checkType_(g.nextConnection)&&(g.nextConnection.connect(e.previousConnection),e=null);break}}}if(e&&(b.disconnect(),Blockly.Events.recordUndo)){var k=Blockly.Events.getGroup();setTimeout(function(){e.workspace&&!e.getParent()&&(Blockly.Events.setGroup(k),e.outputConnection?e.outputConnection.bumpAwayFrom_(b):\ne.previousConnection&&e.previousConnection.bumpAwayFrom_(b),Blockly.Events.setGroup(!1))},Blockly.BUMP_DELAY)}b.setShadowDom(f)}var m;Blockly.Events.isEnabled()&&(m=new Blockly.Events.Move(d));Blockly.Connection.connectReciprocally_(b,a);d.setParent(c);m&&(m.recordNew(),Blockly.Events.fire(m))};\nBlockly.Connection.prototype.dispose=function(){if(this.isConnected())throw"Disconnect connection before disposing of it.";this.inDB_&&this.db_.removeConnection_(this);Blockly.highlightedConnection_==this&&(Blockly.highlightedConnection_=null);Blockly.localConnection_==this&&(Blockly.localConnection_=null);this.dbOpposite_=this.db_=null};Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_};\nBlockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT};Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection};\nBlockly.Connection.prototype.canConnectWithReason_=function(a){if(!a)return Blockly.Connection.REASON_TARGET_NULL;if(this.isSuperior())var b=this.sourceBlock_,c=a.getSourceBlock();else c=this.sourceBlock_,b=a.getSourceBlock();return b&&b==c?Blockly.Connection.REASON_SELF_CONNECTION:a.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:b&&c&&b.workspace!==c.workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(a)?b.isShadow()&&!c.isShadow()?Blockly.Connection.REASON_SHADOW_PARENT:\nBlockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED};\nBlockly.Connection.prototype.checkConnection_=function(a){switch(this.canConnectWithReason_(a)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw"Attempted to connect a block to itself.";case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw"Blocks not on same workspace.";case Blockly.Connection.REASON_WRONG_TYPE:throw"Attempt to connect incompatible types.";case Blockly.Connection.REASON_TARGET_NULL:throw"Target connection is null.";case Blockly.Connection.REASON_CHECKS_FAILED:throw"Connection checks failed.";\ncase Blockly.Connection.REASON_SHADOW_PARENT:throw"Connecting non-shadow to shadow block.";default:throw"Unknown connection failure: this should never happen!";}};\nBlockly.Connection.prototype.isConnectionAllowed=function(a){if(this.canConnectWithReason_(a)!=Blockly.Connection.CAN_CONNECT)return!1;if(a.type==Blockly.OUTPUT_VALUE||a.type==Blockly.PREVIOUS_STATEMENT)if(a.isConnected()||this.isConnected())return!1;return a.type==Blockly.INPUT_VALUE&&a.isConnected()&&!a.targetBlock().isMovable()&&!a.targetBlock().isShadow()||this.type==Blockly.PREVIOUS_STATEMENT&&a.isConnected()&&!this.sourceBlock_.nextConnection&&!a.targetBlock().isShadow()&&a.targetBlock().nextConnection||\n-1!=Blockly.draggingConnections_.indexOf(a)?!1:!0};Blockly.Connection.prototype.connect=function(a){this.targetConnection!=a&&(this.checkConnection_(a),this.isSuperior()?this.connect_(a):a.connect_(this))};Blockly.Connection.connectReciprocally_=function(a,b){goog.asserts.assert(a&&b,"Cannot connect null connections.");a.targetConnection=b;b.targetConnection=a};\nBlockly.Connection.singleConnection_=function(a,b){for(var c=!1,d=0;d<a.inputList.length;d++){var e=a.inputList[d].connection;if(e&&e.type==Blockly.INPUT_VALUE&&b.outputConnection.checkType_(e)){if(c)return null;c=e}}return c};Blockly.Connection.lastConnectionInRow_=function(a,b){for(var c=a,d;d=Blockly.Connection.singleConnection_(c,b);)if(c=d.targetBlock(),!c||c.isShadow())return d;return null};\nBlockly.Connection.prototype.disconnect=function(){var a=this.targetConnection;goog.asserts.assert(a,"Source connection not connected.");goog.asserts.assert(a.targetConnection==this,"Target connection not connected to source connection.");var b,c;this.isSuperior()?(b=this.sourceBlock_,c=a.getSourceBlock(),a=this):(b=a.getSourceBlock(),c=this.sourceBlock_);this.disconnectInternal_(b,c);a.respawnShadow_()};\nBlockly.Connection.prototype.disconnectInternal_=function(a,b){var c;Blockly.Events.isEnabled()&&(c=new Blockly.Events.Move(b));this.targetConnection=this.targetConnection.targetConnection=null;b.setParent(null);c&&(c.recordNew(),Blockly.Events.fire(c))};\nBlockly.Connection.prototype.respawnShadow_=function(){var a=this.getSourceBlock(),b=this.getShadowDom();if(a.workspace&&b&&Blockly.Events.recordUndo)if(a=Blockly.Xml.domToBlock(b,a.workspace),a.outputConnection)this.connect(a.outputConnection);else if(a.previousConnection)this.connect(a.previousConnection);else throw"Child block does not have output or previous statement.";};Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null};\nBlockly.Connection.prototype.checkType_=function(a){if(!this.check_||!a.check_)return!0;for(var b=0;b<this.check_.length;b++)if(-1!=a.check_.indexOf(this.check_[b]))return!0;return!1};Blockly.Connection.prototype.setCheck=function(a){a?(goog.isArray(a)||(a=[a]),this.check_=a,this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours_())):this.check_=null;return this};\nBlockly.Connection.prototype.setShadowDom=function(a){this.shadowDom_=a};Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_};Blockly.Field=function(a,b){this.size_=new goog.math.Size(0,25);this.setValue(a);this.setValidator(b)};Blockly.Field.cacheWidths_=null;Blockly.Field.cacheReference_=0;Blockly.Field.prototype.name=void 0;Blockly.Field.prototype.maxDisplayLength=50;Blockly.Field.prototype.text_="";Blockly.Field.prototype.sourceBlock_=null;Blockly.Field.prototype.visible_=!0;Blockly.Field.prototype.validator_=null;Blockly.Field.NBSP="\\u00a0";Blockly.Field.prototype.EDITABLE=!0;\nBlockly.Field.prototype.setSourceBlock=function(a){goog.asserts.assert(!this.sourceBlock_,"Field already bound to a block.");this.sourceBlock_=a};\nBlockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.createSvgElement("rect",{rx:4,ry:4,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:16},this.fieldGroup_,this.sourceBlock_.workspace),this.textElement_=Blockly.createSvgElement("text",{"class":"blocklyText",y:this.size_.height-12.5},this.fieldGroup_),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),\nthis.mouseUpWrapper_=Blockly.bindEventWithChecks_(this.fieldGroup_,"mouseup",this,this.onMouseUp_),this.updateTextNode_())};Blockly.Field.prototype.dispose=function(){this.mouseUpWrapper_&&(Blockly.unbindEvent_(this.mouseUpWrapper_),this.mouseUpWrapper_=null);this.sourceBlock_=null;goog.dom.removeNode(this.fieldGroup_);this.validator_=this.borderRect_=this.textElement_=this.fieldGroup_=null};\nBlockly.Field.prototype.updateEditable=function(){var a=this.fieldGroup_;this.EDITABLE&&a&&(this.sourceBlock_.isEditable()?(Blockly.addClass_(a,"blocklyEditableText"),Blockly.removeClass_(a,"blocklyNonEditableText"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.addClass_(a,"blocklyNonEditableText"),Blockly.removeClass_(a,"blocklyEditableText"),this.fieldGroup_.style.cursor=""))};Blockly.Field.prototype.isVisible=function(){return this.visible_};\nBlockly.Field.prototype.setVisible=function(a){if(this.visible_!=a){this.visible_=a;var b=this.getSvgRoot();b&&(b.style.display=a?"block":"none",this.render_())}};Blockly.Field.prototype.setValidator=function(a){this.validator_=a};Blockly.Field.prototype.getValidator=function(){return this.validator_};Blockly.Field.prototype.classValidator=function(a){return a};\nBlockly.Field.prototype.callValidator=function(a){var b=this.classValidator(a);if(null===b)return null;void 0!==b&&(a=b);if(b=this.getValidator()){b=b.call(this,a);if(null===b)return null;void 0!==b&&(a=b)}return a};Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_};\nBlockly.Field.prototype.render_=function(){if(this.visible_&&this.textElement_){var a=this.textElement_.textContent+"\\n"+this.textElement_.className.baseVal;if(Blockly.Field.cacheWidths_&&Blockly.Field.cacheWidths_[a])var b=Blockly.Field.cacheWidths_[a];else{try{b=this.textElement_.getComputedTextLength()}catch(c){b=8*this.textElement_.textContent.length}Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[a]=b)}this.borderRect_&&this.borderRect_.setAttribute("width",b+Blockly.BlockSvg.SEP_SPACE_X)}else b=\n0;this.size_.width=b};Blockly.Field.startCache=function(){Blockly.Field.cacheReference_++;Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})};Blockly.Field.stopCache=function(){Blockly.Field.cacheReference_--;Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=null)};Blockly.Field.prototype.getSize=function(){this.size_.width||this.render_();return this.size_};\nBlockly.Field.prototype.getScaledBBox_=function(){var a=this.borderRect_.getBBox();return new goog.math.Size(a.width*this.sourceBlock_.workspace.scale,a.height*this.sourceBlock_.workspace.scale)};Blockly.Field.prototype.getText=function(){return this.text_};Blockly.Field.prototype.setText=function(a){null!==a&&(a=String(a),a!==this.text_&&(this.text_=a,this.updateTextNode_(),this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())))};\nBlockly.Field.prototype.updateTextNode_=function(){if(this.textElement_){var a=this.text_;a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+"\\u2026");goog.dom.removeChildren(this.textElement_);a=a.replace(/\\s/g,Blockly.Field.NBSP);this.sourceBlock_.RTL&&a&&(a+="\\u200f");a||(a=Blockly.Field.NBSP);a=document.createTextNode(a);this.textElement_.appendChild(a);this.size_.width=0}};Blockly.Field.prototype.getValue=function(){return this.getText()};\nBlockly.Field.prototype.setValue=function(a){if(null!==a){var b=this.getValue();b!=a&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,b,a)),this.setText(a))}};\nBlockly.Field.prototype.onMouseUp_=function(a){if(!goog.userAgent.IPHONE&&!goog.userAgent.IPAD||goog.userAgent.isVersionOrHigher("537.51.2")||0===a.layerX||0===a.layerY)Blockly.isRightButton(a)||this.sourceBlock_.workspace.isDragging()||this.sourceBlock_.isEditable()&&this.showEditor_()};Blockly.Field.prototype.setTooltip=function(a){};Blockly.Field.prototype.getAbsoluteXY_=function(){return goog.style.getPageOffset(this.borderRect_)};Blockly.Tooltip={};Blockly.Tooltip.visible=!1;Blockly.Tooltip.LIMIT=50;Blockly.Tooltip.mouseOutPid_=0;Blockly.Tooltip.showPid_=0;Blockly.Tooltip.lastX_=0;Blockly.Tooltip.lastY_=0;Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.OFFSET_X=0;Blockly.Tooltip.OFFSET_Y=10;Blockly.Tooltip.RADIUS_OK=10;Blockly.Tooltip.HOVER_MS=750;Blockly.Tooltip.MARGINS=5;Blockly.Tooltip.DIV=null;\nBlockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=goog.dom.createDom("DIV","blocklyTooltipDiv"),document.body.appendChild(Blockly.Tooltip.DIV))};Blockly.Tooltip.bindMouseEvents=function(a){Blockly.bindEvent_(a,"mouseover",null,Blockly.Tooltip.onMouseOver_);Blockly.bindEvent_(a,"mouseout",null,Blockly.Tooltip.onMouseOut_);a.addEventListener("mousemove",Blockly.Tooltip.onMouseMove_,!1)};\nBlockly.Tooltip.onMouseOver_=function(a){for(a=a.target;!goog.isString(a.tooltip)&&!goog.isFunction(a.tooltip);)a=a.tooltip;Blockly.Tooltip.element_!=a&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=a);clearTimeout(Blockly.Tooltip.mouseOutPid_)};Blockly.Tooltip.onMouseOut_=function(a){Blockly.Tooltip.mouseOutPid_=setTimeout(function(){Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.hide()},1);clearTimeout(Blockly.Tooltip.showPid_)};\nBlockly.Tooltip.onMouseMove_=function(a){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&Blockly.dragMode_==Blockly.DRAG_NONE&&!Blockly.WidgetDiv.isVisible())if(Blockly.Tooltip.visible){var b=Blockly.Tooltip.lastX_-a.pageX;a=Blockly.Tooltip.lastY_-a.pageY;Math.sqrt(b*b+a*a)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=a.pageX,Blockly.Tooltip.lastY_=a.pageY,\nBlockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS))};Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none"));clearTimeout(Blockly.Tooltip.showPid_)};\nBlockly.Tooltip.show_=function(){Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_;if(Blockly.Tooltip.DIV){goog.dom.removeChildren(Blockly.Tooltip.DIV);for(var a=Blockly.Tooltip.element_.tooltip;goog.isFunction(a);)a=a();for(var a=Blockly.utils.wrap(a,Blockly.Tooltip.LIMIT),a=a.split("\\n"),b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Blockly.Tooltip.DIV.appendChild(c)}a=Blockly.Tooltip.element_.RTL;b=goog.dom.getViewportSize();Blockly.Tooltip.DIV.style.direction=\na?"rtl":"ltr";Blockly.Tooltip.DIV.style.display="block";Blockly.Tooltip.visible=!0;var c=Blockly.Tooltip.lastX_,c=a?c-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):c+Blockly.Tooltip.OFFSET_X,d=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;d+Blockly.Tooltip.DIV.offsetHeight>b.height+window.scrollY&&(d-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y);a?c=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,c):c+Blockly.Tooltip.DIV.offsetWidth>b.width+window.scrollX-2*Blockly.Tooltip.MARGINS&&\n(c=b.width-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS);Blockly.Tooltip.DIV.style.top=d+"px";Blockly.Tooltip.DIV.style.left=c+"px"}};Blockly.FieldLabel=function(a,b){this.size_=new goog.math.Size(0,17.5);this.class_=b;this.setValue(a)};goog.inherits(Blockly.FieldLabel,Blockly.Field);Blockly.FieldLabel.prototype.EDITABLE=!1;\nBlockly.FieldLabel.prototype.init=function(){this.textElement_||(this.textElement_=Blockly.createSvgElement("text",{"class":"blocklyText",y:this.size_.height-5},null),this.class_&&Blockly.addClass_(this.textElement_,this.class_),this.visible_||(this.textElement_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.textElement_),this.textElement_.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(this.textElement_),this.updateTextNode_())};\nBlockly.FieldLabel.prototype.dispose=function(){goog.dom.removeNode(this.textElement_);this.textElement_=null};Blockly.FieldLabel.prototype.getSvgRoot=function(){return this.textElement_};Blockly.FieldLabel.prototype.setTooltip=function(a){this.textElement_.tooltip=a};Blockly.Input=function(a,b,c,d){this.type=a;this.name=b;this.sourceBlock_=c;this.connection=d;this.fieldRow=[]};Blockly.Input.prototype.align=Blockly.ALIGN_LEFT;Blockly.Input.prototype.visible_=!0;\nBlockly.Input.prototype.appendField=function(a,b){if(!a&&!b)return this;goog.isString(a)&&(a=new Blockly.FieldLabel(a));a.setSourceBlock(this.sourceBlock_);this.sourceBlock_.rendered&&a.init();a.name=b;a.prefixField&&this.appendField(a.prefixField);this.fieldRow.push(a);a.suffixField&&this.appendField(a.suffixField);this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_());return this};\nBlockly.Input.prototype.appendTitle=function(a,b){console.warn("Deprecated call to appendTitle, use appendField instead.");return this.appendField(a,b)};Blockly.Input.prototype.removeField=function(a){for(var b=0,c;c=this.fieldRow[b];b++)if(c.name===a){c.dispose();this.fieldRow.splice(b,1);this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_());return}goog.asserts.fail(\'Field "%s" not found.\',a)};Blockly.Input.prototype.isVisible=function(){return this.visible_};\nBlockly.Input.prototype.setVisible=function(a){var b=[];if(this.visible_==a)return b;for(var c=(this.visible_=a)?"block":"none",d=0,e;e=this.fieldRow[d];d++)e.setVisible(a);this.connection&&(a?b=this.connection.unhideAll():this.connection.hideAll(),d=this.connection.targetBlock())&&(d.getSvgRoot().style.display=c,a||(d.rendered=!1));return b};Blockly.Input.prototype.setCheck=function(a){if(!this.connection)throw"This input does not have a connection.";this.connection.setCheck(a);return this};\nBlockly.Input.prototype.setAlign=function(a){this.align=a;this.sourceBlock_.rendered&&this.sourceBlock_.render();return this};Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var a=0;a<this.fieldRow.length;a++)this.fieldRow[a].init()};Blockly.Input.prototype.dispose=function(){for(var a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose();this.sourceBlock_=null};Blockly.ConnectionDB=function(){};Blockly.ConnectionDB.prototype=[];Blockly.ConnectionDB.constructor=Blockly.ConnectionDB;Blockly.ConnectionDB.prototype.addConnection=function(a){if(a.inDB_)throw"Connection already in database.";if(!a.getSourceBlock().isInFlyout){var b=this.findPositionForConnection_(a);this.splice(b,0,a);a.inDB_=!0}};\nBlockly.ConnectionDB.prototype.findConnection=function(a){if(!this.length)return-1;var b=this.findPositionForConnection_(a);if(b>=this.length)return-1;for(var c=a.y_,d=b;0<=d&&this[d].y_==c;){if(this[d]==a)return d;d--}for(;b<this.length&&this[b].y_==c;){if(this[b]==a)return b;b++}return-1};\nBlockly.ConnectionDB.prototype.findPositionForConnection_=function(a){if(!this.length)return 0;for(var b=0,c=this.length;b<c;){var d=Math.floor((b+c)/2);if(this[d].y_<a.y_)b=d+1;else if(this[d].y_>a.y_)c=d;else{b=d;break}}return b};Blockly.ConnectionDB.prototype.removeConnection_=function(a){if(!a.inDB_)throw"Connection not in database.";var b=this.findConnection(a);if(-1==b)throw"Unable to find connection in connectionDB.";a.inDB_=!1;this.splice(b,1)};\nBlockly.ConnectionDB.prototype.getNeighbours=function(a,b){function c(a){var c=e-d[a].x_,g=f-d[a].y_;Math.sqrt(c*c+g*g)<=b&&m.push(d[a]);return g<b}for(var d=this,e=a.x_,f=a.y_,g=0,h=d.length-2,k=h;g<k;)d[k].y_<f?g=k:h=k,k=Math.floor((g+h)/2);var m=[],h=g=k;if(d.length){for(;0<=g&&c(g);)g--;do h++;while(h<d.length&&c(h))}return m};Blockly.ConnectionDB.prototype.isInYRange_=function(a,b,c){return Math.abs(this[a].y_-b)<=c};\nBlockly.ConnectionDB.prototype.searchForClosest=function(a,b,c){if(!this.length)return{connection:null,radius:b};var d=a.y_,e=a.x_;a.x_=e+c.x;a.y_=d+c.y;var f=this.findPositionForConnection_(a);c=null;for(var g=b,h,k=f-1;0<=k&&this.isInYRange_(k,a.y_,b);)h=this[k],a.isConnectionAllowed(h,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.length&&this.isInYRange_(f,a.y_,b);)h=this[f],a.isConnectionAllowed(h,g)&&(c=h,g=h.distanceFrom(a)),f++;a.x_=e;a.y_=d;return{connection:c,radius:g}};\nBlockly.ConnectionDB.init=function(a){var b=[];b[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB;b[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB;b[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB;b[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB;a.connectionDBList=b};Blockly.constants={};Blockly.DRAG_RADIUS=5;Blockly.SNAP_RADIUS=20;Blockly.BUMP_DELAY=250;Blockly.COLLAPSE_CHARS=30;Blockly.LONGPRESS=750;Blockly.SOUND_LIMIT=100;Blockly.HSV_SATURATION=.45;Blockly.HSV_VALUE=.65;Blockly.SPRITE={width:96,height:124,url:"sprites.png"};Blockly.SVG_NS="http://www.w3.org/2000/svg";Blockly.HTML_NS="http://www.w3.org/1999/xhtml";Blockly.INPUT_VALUE=1;Blockly.OUTPUT_VALUE=2;Blockly.NEXT_STATEMENT=3;Blockly.PREVIOUS_STATEMENT=4;Blockly.DUMMY_INPUT=5;Blockly.ALIGN_LEFT=-1;\nBlockly.ALIGN_CENTRE=0;Blockly.ALIGN_RIGHT=1;Blockly.DRAG_NONE=0;Blockly.DRAG_STICKY=1;Blockly.DRAG_BEGIN=1;Blockly.DRAG_FREE=2;Blockly.OPPOSITE_TYPE=[];Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT;Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT;Blockly.TOOLBOX_AT_TOP=0;Blockly.TOOLBOX_AT_BOTTOM=1;\nBlockly.TOOLBOX_AT_LEFT=2;Blockly.TOOLBOX_AT_RIGHT=3;Blockly.Options=function(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,g=!1,h=!1,k=!1;else c=Blockly.Options.parseToolboxTree(a.toolbox),d=!(!c||!c.getElementsByTagName("category").length),e=a.trashcan,void 0===e&&(e=d),f=a.collapse,void 0===f&&(f=d),g=a.comments,void 0===g&&(g=d),h=a.disable,void 0===h&&(h=d),k=a.sounds,void 0===k&&(k=!0);var m=!!a.rtl,p=a.horizontalLayout;void 0===p&&(p=!1);var l=a.toolboxPosition,l="end"===l?!1:!0,l=p?l?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:l==\nm?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT,n=a.scrollbars;void 0===n&&(n=d);var q=a.css;void 0===q&&(q=!0);var t="https://blockly-demo.appspot.com/static/media/";a.media?t=a.media:a.path&&(t=a.path+"media/");var r=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex;this.RTL=m;this.oneBasedIndex=r;this.collapse=f;this.comments=g;this.disable=h;this.readOnly=b;this.maxBlocks=a.maxBlocks||Infinity;this.pathToMedia=t;this.hasCategories=d;this.hasScrollbars=n;this.hasTrashcan=e;this.hasSounds=k;this.hasCss=\nq;this.horizontalLayout=p;this.languageTree=c;this.gridOptions=Blockly.Options.parseGridOptions_(a);this.zoomOptions=Blockly.Options.parseZoomOptions_(a);this.toolboxPosition=l};Blockly.Options.prototype.parentWorkspace=null;Blockly.Options.prototype.setMetrics=null;Blockly.Options.prototype.getMetrics=null;\nBlockly.Options.parseZoomOptions_=function(a){a=a.zoom||{};var b={};b.controls=void 0===a.controls?!1:!!a.controls;b.wheel=void 0===a.wheel?!1:!!a.wheel;b.startScale=void 0===a.startScale?1:parseFloat(a.startScale);b.maxScale=void 0===a.maxScale?3:parseFloat(a.maxScale);b.minScale=void 0===a.minScale?.3:parseFloat(a.minScale);b.scaleSpeed=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);return b};\nBlockly.Options.parseGridOptions_=function(a){a=a.grid||{};var b={};b.spacing=parseFloat(a.spacing)||0;b.colour=a.colour||"#888";b.length=parseFloat(a.length)||1;b.snap=0<b.spacing&&!!a.snap;return b};Blockly.Options.parseToolboxTree=function(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=Blockly.Xml.textToDom(a))):a=null;return a};Blockly.ScrollbarPair=function(a){this.workspace_=a;this.hScroll=new Blockly.Scrollbar(a,!0,!0);this.vScroll=new Blockly.Scrollbar(a,!1,!0);this.corner_=Blockly.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,"class":"blocklyScrollbarBackground"},null);Blockly.Scrollbar.insertAfter_(this.corner_,a.getBubbleCanvas())};Blockly.ScrollbarPair.prototype.oldHostMetrics_=null;\nBlockly.ScrollbarPair.prototype.dispose=function(){goog.dom.removeNode(this.corner_);this.oldHostMetrics_=this.workspace_=this.corner_=null;this.hScroll.dispose();this.hScroll=null;this.vScroll.dispose();this.vScroll=null};\nBlockly.ScrollbarPair.prototype.resize=function(){var a=this.workspace_.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==a.viewWidth&&this.oldHostMetrics_.viewHeight==a.viewHeight&&this.oldHostMetrics_.absoluteTop==a.absoluteTop&&this.oldHostMetrics_.absoluteLeft==a.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==a.contentWidth&&this.oldHostMetrics_.viewLeft==a.viewLeft&&this.oldHostMetrics_.contentLeft==a.contentLeft||(b=!0),this.oldHostMetrics_&&\nthis.oldHostMetrics_.contentHeight==a.contentHeight&&this.oldHostMetrics_.viewTop==a.viewTop&&this.oldHostMetrics_.contentTop==a.contentTop||(c=!0)):c=b=!0;b&&this.hScroll.resize(a);c&&this.vScroll.resize(a);this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==a.viewWidth&&this.oldHostMetrics_.absoluteLeft==a.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x);this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==a.viewHeight&&this.oldHostMetrics_.absoluteTop==a.absoluteTop||this.corner_.setAttribute("y",\nthis.hScroll.position_.y);this.oldHostMetrics_=a}};Blockly.ScrollbarPair.prototype.set=function(a,b){var c={},d=a*this.hScroll.ratio_,e=b*this.vScroll.ratio_,f=this.vScroll.scrollViewSize_;c.x=this.getRatio_(d,this.hScroll.scrollViewSize_);c.y=this.getRatio_(e,f);this.workspace_.setMetrics(c);this.hScroll.setHandlePosition(d);this.vScroll.setHandlePosition(e)};Blockly.ScrollbarPair.prototype.getRatio_=function(a,b){var c=a/b;return isNaN(c)?0:c};\nBlockly.Scrollbar=function(a,b,c){this.workspace_=a;this.pair_=c||!1;this.horizontal_=b;this.oldHostMetrics_=null;this.createDom_();this.position_=new goog.math.Coordinate(0,0);b?(this.svgBackground_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness),this.svgHandle_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness),\nthis.svgHandle_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y");this.onMouseDownBarWrapper_=Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_);this.onMouseDownHandleWrapper_=Blockly.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)};Blockly.Scrollbar.prototype.scrollViewSize_=0;Blockly.Scrollbar.prototype.handleLength_=0;\nBlockly.Scrollbar.prototype.handlePosition_=0;Blockly.Scrollbar.prototype.isVisible_=!0;Blockly.Scrollbar.scrollbarThickness=15;goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25);\nBlockly.Scrollbar.metricsAreEquivalent_=function(a,b){return a&&b&&a.viewWidth==b.viewWidth&&a.viewHeight==b.viewHeight&&a.viewLeft==b.viewLeft&&a.viewTop==b.viewTop&&a.absoluteTop==b.absoluteTop&&a.absoluteLeft==b.absoluteLeft&&a.contentWidth==b.contentWidth&&a.contentHeight==b.contentHeight&&a.contentLeft==b.contentLeft&&a.contentTop==b.contentTop?!0:!1};\nBlockly.Scrollbar.prototype.dispose=function(){this.cleanUp_();Blockly.unbindEvent_(this.onMouseDownBarWrapper_);this.onMouseDownBarWrapper_=null;Blockly.unbindEvent_(this.onMouseDownHandleWrapper_);this.onMouseDownHandleWrapper_=null;goog.dom.removeNode(this.svgGroup_);this.workspace_=this.svgHandle_=this.svgBackground_=this.svgGroup_=null};Blockly.Scrollbar.prototype.setHandleLength_=function(a){this.handleLength_=a;this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)};\nBlockly.Scrollbar.prototype.setHandlePosition=function(a){this.handlePosition_=a;this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)};Blockly.Scrollbar.prototype.setScrollViewSize_=function(a){this.scrollViewSize_=a;this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)};Blockly.Scrollbar.prototype.setPosition=function(a,b){this.position_.x=a;this.position_.y=b;this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")};\nBlockly.Scrollbar.prototype.resize=function(a){if(!a&&(a=this.workspace_.getMetrics(),!a))return;Blockly.Scrollbar.metricsAreEquivalent_(a,this.oldHostMetrics_)||(this.oldHostMetrics_=a,this.horizontal_?this.resizeHorizontal_(a):this.resizeVertical_(a),this.onScroll_())};Blockly.Scrollbar.prototype.resizeHorizontal_=function(a){this.resizeViewHorizontal(a)};\nBlockly.Scrollbar.prototype.resizeViewHorizontal=function(a){var b=a.viewWidth-1;this.pair_&&(b-=Blockly.Scrollbar.scrollbarThickness);this.setScrollViewSize_(Math.max(0,b));b=a.absoluteLeft+.5;this.pair_&&this.workspace_.RTL&&(b+=Blockly.Scrollbar.scrollbarThickness);this.setPosition(b,a.absoluteTop+a.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5);this.resizeContentHorizontal(a)};\nBlockly.Scrollbar.prototype.resizeContentHorizontal=function(a){this.pair_||this.setVisible(this.scrollViewSize_<a.contentWidth);this.ratio_=this.scrollViewSize_/a.contentWidth;if(-Infinity==this.ratio_||Infinity==this.ratio_||isNaN(this.ratio_))this.ratio_=0;this.setHandleLength_(Math.max(0,a.viewWidth*this.ratio_));this.setHandlePosition(this.constrainHandle_((a.viewLeft-a.contentLeft)*this.ratio_))};Blockly.Scrollbar.prototype.resizeVertical_=function(a){this.resizeViewVertical(a)};\nBlockly.Scrollbar.prototype.resizeViewVertical=function(a){var b=a.viewHeight-1;this.pair_&&(b-=Blockly.Scrollbar.scrollbarThickness);this.setScrollViewSize_(Math.max(0,b));b=a.absoluteLeft+.5;this.workspace_.RTL||(b+=a.viewWidth-Blockly.Scrollbar.scrollbarThickness-1);this.setPosition(b,a.absoluteTop+.5);this.resizeContentVertical(a)};\nBlockly.Scrollbar.prototype.resizeContentVertical=function(a){this.pair_||this.setVisible(this.scrollViewSize_<a.contentHeight);this.ratio_=this.scrollViewSize_/a.contentHeight;if(-Infinity==this.ratio_||Infinity==this.ratio_||isNaN(this.ratio_))this.ratio_=0;this.setHandleLength_(Math.max(0,a.viewHeight*this.ratio_));this.setHandlePosition(this.constrainHandle_((a.viewTop-a.contentTop)*this.ratio_))};\nBlockly.Scrollbar.prototype.createDom_=function(){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical")},null);this.svgBackground_=Blockly.createSvgElement("rect",{"class":"blocklyScrollbarBackground"},this.svgGroup_);var a=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2);this.svgHandle_=Blockly.createSvgElement("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.svgGroup_);Blockly.Scrollbar.insertAfter_(this.svgGroup_,this.workspace_.getBubbleCanvas())};\nBlockly.Scrollbar.prototype.isVisible=function(){return this.isVisible_};Blockly.Scrollbar.prototype.setVisible=function(a){if(a!=this.isVisible()){if(this.pair_)throw"Unable to toggle visibility of paired scrollbars.";(this.isVisible_=a)?this.svgGroup_.setAttribute("display","block"):(this.workspace_.setMetrics({x:0,y:0}),this.svgGroup_.setAttribute("display","none"))}};\nBlockly.Scrollbar.prototype.onMouseDownBar_=function(a){Blockly.Touch.clearTouchIdentifier();this.cleanUp_();if(Blockly.isRightButton(a))a.stopPropagation();else{var b=Blockly.mouseToSvg(a,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM()),b=this.horizontal_?b.x:b.y,c=Blockly.getSvgXY_(this.svgHandle_,this.workspace_),c=this.horizontal_?c.x:c.y,d=this.handlePosition_,e=.95*this.handleLength_;b<=c?d-=e:b>=c+this.handleLength_&&(d+=e);this.setHandlePosition(this.constrainHandle_(d));\nthis.onScroll_();a.stopPropagation();a.preventDefault()}};\nBlockly.Scrollbar.prototype.onMouseDownHandle_=function(a){this.cleanUp_();Blockly.isRightButton(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition_,this.startDragMouse=this.horizontal_?a.clientX:a.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),a.stopPropagation(),a.preventDefault())};\nBlockly.Scrollbar.prototype.onMouseMoveHandle_=function(a){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?a.clientX:a.clientY)-this.startDragMouse)));this.onScroll_()};Blockly.Scrollbar.prototype.onMouseUpHandle_=function(){Blockly.Touch.clearTouchIdentifier();this.cleanUp_()};\nBlockly.Scrollbar.prototype.cleanUp_=function(){Blockly.hideChaff(!0);Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null);Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)};\nBlockly.Scrollbar.prototype.constrainHandle_=function(a){return a=0>=a||isNaN(a)||this.scrollViewSize_<this.handleLength_?0:Math.min(a,this.scrollViewSize_-this.handleLength_)};Blockly.Scrollbar.prototype.onScroll_=function(){var a=this.handlePosition_/this.scrollViewSize_;isNaN(a)&&(a=0);var b={};this.horizontal_?b.x=a:b.y=a;this.workspace_.setMetrics(b)};Blockly.Scrollbar.prototype.set=function(a){this.setHandlePosition(this.constrainHandle_(a*this.ratio_));this.onScroll_()};\nBlockly.Scrollbar.insertAfter_=function(a,b){var c=b.nextSibling,d=b.parentNode;if(!d)throw"Reference node has no parent.";c?d.insertBefore(a,c):d.appendChild(a)};Blockly.Trashcan=function(a){this.workspace_=a};Blockly.Trashcan.prototype.WIDTH_=47;Blockly.Trashcan.prototype.BODY_HEIGHT_=44;Blockly.Trashcan.prototype.LID_HEIGHT_=16;Blockly.Trashcan.prototype.MARGIN_BOTTOM_=20;Blockly.Trashcan.prototype.MARGIN_SIDE_=20;Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10;Blockly.Trashcan.prototype.SPRITE_LEFT_=0;Blockly.Trashcan.prototype.SPRITE_TOP_=32;Blockly.Trashcan.prototype.isOpen=!1;Blockly.Trashcan.prototype.svgGroup_=null;\nBlockly.Trashcan.prototype.svgLid_=null;Blockly.Trashcan.prototype.lidTask_=0;Blockly.Trashcan.prototype.lidOpen_=0;Blockly.Trashcan.prototype.left_=0;Blockly.Trashcan.prototype.top_=0;\nBlockly.Trashcan.prototype.createDom=function(){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2),b=Blockly.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.svgGroup_);Blockly.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},b);Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+\na+")"},this.svgGroup_).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url);b=Blockly.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+a},this.svgGroup_);Blockly.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},b);this.svgLid_=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.svgGroup_);\nthis.svgLid_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click);this.animateLid_();return this.svgGroup_};Blockly.Trashcan.prototype.init=function(a){this.bottom_=this.MARGIN_BOTTOM_+a;this.setOpen_(!1);return this.bottom_+this.BODY_HEIGHT_+this.LID_HEIGHT_};\nBlockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.workspace_=this.svgLid_=null;goog.Timer.clear(this.lidTask_)};\nBlockly.Trashcan.prototype.position=function(){var a=this.workspace_.getMetrics();a&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=a.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=a.absoluteLeft))):(this.left_=a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=a.flyoutWidth)),this.top_=a.viewHeight+\na.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.bottom_,a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=a.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))};\nBlockly.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect();return new goog.math.Rect(a.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,a.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_,this.WIDTH_+2*this.MARGIN_HOTSPOT_,this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_)};Blockly.Trashcan.prototype.setOpen_=function(a){this.isOpen!=a&&(goog.Timer.clear(this.lidTask_),this.isOpen=a,this.animateLid_())};\nBlockly.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2;this.lidOpen_=goog.math.clamp(this.lidOpen_,0,1);var a=45*this.lidOpen_;this.svgLid_.setAttribute("transform","rotate("+(this.workspace_.RTL?-a:a)+","+(this.workspace_.RTL?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")");a=goog.math.lerp(.4,.8,this.lidOpen_);this.svgGroup_.style.opacity=a;0<this.lidOpen_&&1>this.lidOpen_&&(this.lidTask_=goog.Timer.callOnce(this.animateLid_,20,this))};\nBlockly.Trashcan.prototype.close=function(){this.setOpen_(!1)};Blockly.Trashcan.prototype.click=function(){var a=this.workspace_.startScrollX-this.workspace_.scrollX,b=this.workspace_.startScrollY-this.workspace_.scrollY;Math.sqrt(a*a+b*b)>Blockly.DRAG_RADIUS||console.log("TODO: Inspect trash.")};Blockly.Xml={};Blockly.Xml.workspaceToDom=function(a,b){for(var c=goog.dom.createDom("xml"),d=a.getTopBlocks(!0),e=0,f;f=d[e];e++)c.appendChild(Blockly.Xml.blockToDomWithXY(f,b));return c};Blockly.Xml.blockToDomWithXY=function(a,b){var c;a.workspace.RTL&&(c=a.workspace.getWidth());var d=Blockly.Xml.blockToDom(a,b),e=a.getRelativeToSurfaceXY();d.setAttribute("x",Math.round(a.workspace.RTL?c-e.x:e.x));d.setAttribute("y",Math.round(e.y));return d};\nBlockly.Xml.blockToDom=function(a,b){var c=goog.dom.createDom(a.isShadow()?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}for(var d=0,e;e=a.inputList[d];d++)for(var f=0,g;g=e.fieldRow[f];f++)if(g.name&&g.EDITABLE){var h=goog.dom.createDom("field",null,g.getValue());h.setAttribute("name",g.name);c.appendChild(h)}if(d=a.getCommentText())d=goog.dom.createDom("comment",\nnull,d),"object"==typeof a.comment&&(d.setAttribute("pinned",a.comment.isVisible()),e=a.comment.getBubbleSize(),d.setAttribute("h",e.height),d.setAttribute("w",e.width)),c.appendChild(d);a.data&&(d=goog.dom.createDom("data",null,a.data),c.appendChild(d));for(d=0;e=a.inputList[d];d++){var k;g=!0;e.type!=Blockly.DUMMY_INPUT&&(h=e.connection.targetBlock(),e.type==Blockly.INPUT_VALUE?k=goog.dom.createDom("value"):e.type==Blockly.NEXT_STATEMENT&&(k=goog.dom.createDom("statement")),f=e.connection.getShadowDom(),\n!f||h&&h.isShadow()||k.appendChild(Blockly.Xml.cloneShadow_(f)),h&&(k.appendChild(Blockly.Xml.blockToDom(h,b)),g=!1),k.setAttribute("name",e.name),g||c.appendChild(k))}a.inputsInlineDefault!=a.inputsInline&&c.setAttribute("inline",a.inputsInline);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.disabled&&c.setAttribute("disabled",!0);a.isDeletable()||a.isShadow()||c.setAttribute("deletable",!1);a.isMovable()||a.isShadow()||c.setAttribute("movable",!1);a.isEditable()||c.setAttribute("editable",!1);\nif(d=a.getNextBlock())k=goog.dom.createDom("next",null,Blockly.Xml.blockToDom(d,b)),c.appendChild(k);f=a.nextConnection&&a.nextConnection.getShadowDom();!f||d&&d.isShadow()||k.appendChild(Blockly.Xml.cloneShadow_(f));return c};\nBlockly.Xml.cloneShadow_=function(a){for(var b=a=a.cloneNode(!0),c;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)c=b,b=b.parentNode,3==c.nodeType&&""==c.data.trim()&&b.firstChild!=c&&goog.dom.removeNode(c);b&&(c=b,b=b.nextSibling,3==c.nodeType&&""==c.data.trim()&&goog.dom.removeNode(c))}return a};Blockly.Xml.domToText=function(a){return(new XMLSerializer).serializeToString(a)};\nBlockly.Xml.domToPrettyText=function(a){a=Blockly.Xml.domToText(a).split("<");for(var b="",c=1;c<a.length;c++){var d=a[c];"/"==d[0]&&(b=b.substring(2));a[c]=b+"<"+d;"/"!=d[0]&&"/>"!=d.slice(-2)&&(b+="  ")}a=a.join("\\n");a=a.replace(/(<(\\w+)\\b[^>]*>[^\\n]*)\\n *<\\/\\2>/g,"$1</$2>");return a.replace(/^\\n/,"")};\nBlockly.Xml.textToDom=function(a){(a=(new DOMParser).parseFromString(a,"text/xml"))&&a.firstChild&&"xml"==a.firstChild.nodeName.toLowerCase()&&a.firstChild===a.lastChild||goog.asserts.fail("Blockly.Xml.textToDom did not obtain a valid XML tree.");return a.firstChild};\nBlockly.Xml.domToWorkspace=function(a,b){if(a instanceof Blockly.Workspace){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var d;b.RTL&&(d=b.getWidth());Blockly.Field.startCache();var c=a.childNodes.length,e=Blockly.Events.getGroup();e||Blockly.Events.setGroup(!0);for(var f=0;f<c;f++){var g=a.childNodes[f],h=g.nodeName.toLowerCase();if("block"==h||"shadow"==h&&!Blockly.Events.recordUndo){var h=Blockly.Xml.domToBlock(g,b),k=parseInt(g.getAttribute("x"),\n10),g=parseInt(g.getAttribute("y"),10);isNaN(k)||isNaN(g)||h.moveBy(b.RTL?d-k:k,g)}else"shadow"==h&&goog.asserts.fail("Shadow block cannot be a top-level block.")}e||Blockly.Events.setGroup(!1);Blockly.Field.stopCache();b.updateVariableList(!1)};\nBlockly.Xml.domToBlock=function(a,b){if(a instanceof Blockly.Workspace){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable();try{var d=Blockly.Xml.domToBlockHeadless_(a,b);if(b.rendered){d.setConnectionsHidden(!0);for(var e=d.getDescendants(),f=e.length-1;0<=f;f--)e[f].initSvg();for(f=e.length-1;0<=f;f--)e[f].render(!1);setTimeout(function(){d.workspace&&d.setConnectionsHidden(!1)},1);d.updateDisabled();b.resizeContents()}}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&\nBlockly.Events.fire(new Blockly.Events.Create(d));return d};\nBlockly.Xml.domToBlockHeadless_=function(a,b){var c=null,d=a.getAttribute("type");goog.asserts.assert(d,"Block type unspecified: %s",a.outerHTML);for(var e=a.getAttribute("id"),c=b.newBlock(d,e),f=null,e=0,g;g=a.childNodes[e];e++)if(3!=g.nodeType){for(var h=f=null,k=0,m;m=g.childNodes[k];k++)1==m.nodeType&&("block"==m.nodeName.toLowerCase()?f=m:"shadow"==m.nodeName.toLowerCase()&&(h=m));!f&&h&&(f=h);k=g.getAttribute("name");switch(g.nodeName.toLowerCase()){case "mutation":c.domToMutation&&(c.domToMutation(g),\nc.initSvg&&c.initSvg());break;case "comment":c.setCommentText(g.textContent);var p=g.getAttribute("pinned");p&&!c.isInFlyout&&setTimeout(function(){c.comment&&c.comment.setVisible&&c.comment.setVisible("true"==p)},1);f=parseInt(g.getAttribute("w"),10);g=parseInt(g.getAttribute("h"),10);!isNaN(f)&&!isNaN(g)&&c.comment&&c.comment.setVisible&&c.comment.setBubbleSize(f,g);break;case "data":c.data=g.textContent;break;case "title":case "field":f=c.getField(k);if(!f){console.warn("Ignoring non-existent field "+\nk+" in block "+d);break}f.setValue(g.textContent);break;case "value":case "statement":g=c.getInput(k);if(!g){console.warn("Ignoring non-existent input "+k+" in block "+d);break}h&&g.connection.setShadowDom(h);f&&(f=Blockly.Xml.domToBlockHeadless_(f,b),f.outputConnection?g.connection.connect(f.outputConnection):f.previousConnection?g.connection.connect(f.previousConnection):goog.asserts.fail("Child block does not have output or previous statement."));break;case "next":h&&c.nextConnection&&c.nextConnection.setShadowDom(h);\nf&&(goog.asserts.assert(c.nextConnection,"Next statement does not exist."),goog.asserts.assert(!c.nextConnection.isConnected(),"Next statement is already connected."),f=Blockly.Xml.domToBlockHeadless_(f,b),goog.asserts.assert(f.previousConnection,"Next block does not have previous statement."),c.nextConnection.connect(f.previousConnection));break;default:console.warn("Ignoring unknown tag: "+g.nodeName)}}(e=a.getAttribute("inline"))&&c.setInputsInline("true"==e);(e=a.getAttribute("disabled"))&&c.setDisabled("true"==\ne);(e=a.getAttribute("deletable"))&&c.setDeletable("true"==e);(e=a.getAttribute("movable"))&&c.setMovable("true"==e);(e=a.getAttribute("editable"))&&c.setEditable("true"==e);(e=a.getAttribute("collapsed"))&&c.setCollapsed("true"==e);if("shadow"==a.nodeName.toLowerCase()){d=c.getChildren();for(e=0;g=d[e];e++)goog.asserts.assert(g.isShadow(),"Shadow block not allowed non-shadow child.");c.setShadow(!0)}return c};\nBlockly.Xml.deleteNext=function(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}};goog.global.Blockly||(goog.global.Blockly={});goog.global.Blockly.Xml||(goog.global.Blockly.Xml={});goog.global.Blockly.Xml.domToText=Blockly.Xml.domToText;goog.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace;goog.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom;goog.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom;\n// Copyright 2015 Google Inc.  Apache License 2.0\nBlockly.ZoomControls=function(a){this.workspace_=a};Blockly.ZoomControls.prototype.WIDTH_=32;Blockly.ZoomControls.prototype.HEIGHT_=110;Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20;Blockly.ZoomControls.prototype.MARGIN_SIDE_=20;Blockly.ZoomControls.prototype.svgGroup_=null;Blockly.ZoomControls.prototype.left_=0;Blockly.ZoomControls.prototype.top_=0;\nBlockly.ZoomControls.prototype.createDom=function(){var a=this.workspace_;this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyZoom"},null);var b=String(Math.random()).substring(2),c=Blockly.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+b},this.svgGroup_);Blockly.createSvgElement("rect",{width:32,height:32,y:77},c);var d=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},this.svgGroup_);\nd.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.options.pathToMedia+Blockly.SPRITE.url);c=Blockly.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+b},this.svgGroup_);Blockly.createSvgElement("rect",{width:32,height:32,y:43},c);var e=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+b+")"},this.svgGroup_);e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.options.pathToMedia+\nBlockly.SPRITE.url);c=Blockly.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+b},this.svgGroup_);Blockly.createSvgElement("rect",{width:32,height:32},c);b=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},this.svgGroup_);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(b,"mousedown",null,function(b){a.setScale(a.options.zoomOptions.startScale);\na.scrollCenter();Blockly.Touch.clearTouchIdentifier();b.stopPropagation();b.preventDefault()});Blockly.bindEventWithChecks_(e,"mousedown",null,function(b){a.zoomCenter(1);Blockly.Touch.clearTouchIdentifier();b.stopPropagation();b.preventDefault()});Blockly.bindEventWithChecks_(d,"mousedown",null,function(b){a.zoomCenter(-1);Blockly.Touch.clearTouchIdentifier();b.stopPropagation();b.preventDefault()});return this.svgGroup_};\nBlockly.ZoomControls.prototype.init=function(a){this.bottom_=this.MARGIN_BOTTOM_+a;return this.bottom_+this.HEIGHT_};Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.workspace_=null};\nBlockly.ZoomControls.prototype.position=function(){var a=this.workspace_.getMetrics();a&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=a.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=a.absoluteLeft))):(this.left_=a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=a.flyoutWidth)),this.top_=a.viewHeight+\na.absoluteTop-this.HEIGHT_-this.bottom_,a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=a.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))};\n// Copyright 2014 Google Inc.  Apache License 2.0\nBlockly.WorkspaceSvg=function(a){Blockly.WorkspaceSvg.superClass_.constructor.call(this,a);this.getMetrics=a.getMetrics||Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_;this.setMetrics=a.setMetrics||Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_;Blockly.ConnectionDB.init(this);this.SOUNDS_=Object.create(null)};goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace);Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_=null;Blockly.WorkspaceSvg.prototype.rendered=!0;\nBlockly.WorkspaceSvg.prototype.isFlyout=!1;Blockly.WorkspaceSvg.prototype.isMutator=!1;Blockly.WorkspaceSvg.prototype.dragMode_=Blockly.DRAG_NONE;Blockly.WorkspaceSvg.prototype.scrollX=0;Blockly.WorkspaceSvg.prototype.scrollY=0;Blockly.WorkspaceSvg.prototype.startScrollX=0;Blockly.WorkspaceSvg.prototype.startScrollY=0;Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null;Blockly.WorkspaceSvg.prototype.scale=1;Blockly.WorkspaceSvg.prototype.trashcan=null;Blockly.WorkspaceSvg.prototype.scrollbar=null;\nBlockly.WorkspaceSvg.prototype.lastSound_=null;Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_=null;Blockly.WorkspaceSvg.prototype.inverseScreenCTM_=null;Blockly.WorkspaceSvg.prototype.getInverseScreenCTM=function(){return this.inverseScreenCTM_};Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){var a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM_=a.inverse())};Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(a){this.resizeHandlerWrapper_=a};\nBlockly.WorkspaceSvg.prototype.createDom=function(a){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyWorkspace"},null);a&&(this.svgBackground_=Blockly.createSvgElement("rect",{height:"100%",width:"100%","class":a},this.svgGroup_),"blocklyMainBackground"==a&&(this.svgBackground_.style.fill="url(#"+this.options.gridPattern.id+")"));this.svgBlockCanvas_=Blockly.createSvgElement("g",{"class":"blocklyBlockCanvas"},this.svgGroup_,this);this.svgBubbleCanvas_=Blockly.createSvgElement("g",{"class":"blocklyBubbleCanvas"},\nthis.svgGroup_,this);a=Blockly.Scrollbar.scrollbarThickness;this.options.hasTrashcan&&(a=this.addTrashcan_(a));this.options.zoomOptions&&this.options.zoomOptions.controls&&(a=this.addZoomControls_(a));if(!this.isFlyout){Blockly.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_);var b=this;Blockly.bindEventWithChecks_(this.svgGroup_,"touchstart",null,function(a){Blockly.longStart_(a,b)});this.options.zoomOptions&&this.options.zoomOptions.wheel&&Blockly.bindEventWithChecks_(this.svgGroup_,\n"wheel",this,this.onMouseWheel_)}this.options.hasCategories?this.toolbox_=new Blockly.Toolbox(this):this.options.languageTree&&this.addFlyout_();this.updateGridPattern_();this.recordDeleteAreas();return this.svgGroup_};\nBlockly.WorkspaceSvg.prototype.dispose=function(){this.rendered=!1;Blockly.WorkspaceSvg.superClass_.dispose.call(this);this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.svgBubbleCanvas_=this.svgBlockCanvas_=null;this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null);this.flyout_&&(this.flyout_.dispose(),this.flyout_=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null);this.zoomControls_&&\n(this.zoomControls_.dispose(),this.zoomControls_=null);this.options.parentWorkspace||goog.dom.removeNode(this.getParentSvg().parentNode);this.resizeHandlerWrapper_&&(Blockly.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)};Blockly.WorkspaceSvg.prototype.newBlock=function(a,b){return new Blockly.BlockSvg(this,a,b)};\nBlockly.WorkspaceSvg.prototype.addTrashcan_=function(a){this.trashcan=new Blockly.Trashcan(this);var b=this.trashcan.createDom();this.svgGroup_.insertBefore(b,this.svgBlockCanvas_);return this.trashcan.init(a)};Blockly.WorkspaceSvg.prototype.addZoomControls_=function(a){this.zoomControls_=new Blockly.ZoomControls(this);var b=this.zoomControls_.createDom();this.svgGroup_.appendChild(b);return this.zoomControls_.init(a)};\nBlockly.WorkspaceSvg.prototype.addFlyout_=function(){this.flyout_=new Blockly.Flyout({disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition});this.flyout_.autoClose=!1;var a=this.flyout_.createDom();this.svgGroup_.insertBefore(a,this.svgBlockCanvas_)};\nBlockly.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM();this.recordDeleteAreas()};Blockly.WorkspaceSvg.prototype.resizeContents=function(){this.scrollbar&&this.scrollbar.resize();this.updateInverseScreenCTM()};\nBlockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position();this.flyout_&&this.flyout_.position();this.trashcan&&this.trashcan.position();this.zoomControls_&&this.zoomControls_.position();this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations_()};Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var a=goog.dom.getDocumentScroll();goog.math.Coordinate.equals(this.lastRecordedPageScroll_,a)||(this.lastRecordedPageScroll_=a,this.updateScreenCalculations_())};\nBlockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_};Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_};Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var a=this.svgGroup_;a;){if("svg"==a.tagName)return this.cachedParentSvg_=a;a=a.parentNode}return null};\nBlockly.WorkspaceSvg.prototype.translate=function(a,b){var c="translate("+a+","+b+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",c);this.svgBubbleCanvas_.setAttribute("transform",c)};Blockly.WorkspaceSvg.prototype.getWidth=function(){var a=this.getMetrics();return a?a.viewWidth/this.scale:0};\nBlockly.WorkspaceSvg.prototype.setVisible=function(a){this.getParentSvg().style.display=a?"block":"none";this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=a?"block":"none");a?(this.render(),this.toolbox_&&this.toolbox_.position()):Blockly.hideChaff(!0)};Blockly.WorkspaceSvg.prototype.render=function(){for(var a=this.getAllBlocks(),b=a.length-1;0<=b;b--)a[b].render(!1)};\nBlockly.WorkspaceSvg.prototype.traceOn=function(a){this.traceOn_=a;this.traceWrapper_&&(Blockly.unbindEvent_(this.traceWrapper_),this.traceWrapper_=null);a&&(this.traceWrapper_=Blockly.bindEventWithChecks_(this.svgBlockCanvas_,"blocklySelectChange",this,function(){this.traceOn_=!1}))};\nBlockly.WorkspaceSvg.prototype.highlightBlock=function(a){this.traceOn_&&Blockly.dragMode_!=Blockly.DRAG_NONE&&this.traceOn(!1);if(this.traceOn_){var b=null;if(a&&(b=this.getBlockById(a),!b))return;this.traceOn(!1);b?b.select():Blockly.selected&&Blockly.selected.unselect();var c=this;setTimeout(function(){c.traceOn(!0)},1)}};\nBlockly.WorkspaceSvg.prototype.paste=function(a){if(this.rendered&&!(a.getElementsByTagName("block").length>=this.remainingCapacity())){Blockly.terminateDrag_();Blockly.Events.disable();try{var b=Blockly.Xml.domToBlock(a,this),c=parseInt(a.getAttribute("x"),10),d=parseInt(a.getAttribute("y"),10);if(!isNaN(c)&&!isNaN(d)){this.RTL&&(c=-c);do{a=!1;for(var e=this.getAllBlocks(),f=0,g;g=e[f];f++){var h=g.getRelativeToSurfaceXY();if(1>=Math.abs(c-h.x)&&1>=Math.abs(d-h.y)){a=!0;break}}if(!a)for(var k=b.getConnections_(!1),\nf=0,m;m=k[f];f++)if(m.closest(Blockly.SNAP_RADIUS,new goog.math.Coordinate(c,d)).connection){a=!0;break}a&&(c=this.RTL?c-Blockly.SNAP_RADIUS:c+Blockly.SNAP_RADIUS,d+=2*Blockly.SNAP_RADIUS)}while(a);b.moveBy(c,d)}}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!b.isShadow()&&Blockly.Events.fire(new Blockly.Events.Create(b));b.select()}};\nBlockly.WorkspaceSvg.prototype.createVariable=function(a){Blockly.WorkspaceSvg.superClass_.createVariable.call(this,a);this.toolbox_&&this.toolbox_.flyout_&&!Blockly.Flyout.startFlyout_&&this.toolbox_.refreshSelection()};Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan?this.trashcan.getClientRect():null;this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null};\nBlockly.WorkspaceSvg.prototype.isDeleteArea=function(a){a=new goog.math.Coordinate(a.clientX,a.clientY);if(this.deleteAreaTrash_){if(this.deleteAreaTrash_.contains(a))return this.trashcan.setOpen_(!0),Blockly.Css.setCursor(Blockly.Css.Cursor.DELETE),!0;this.trashcan.setOpen_(!1)}if(this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(a))return Blockly.Css.setCursor(Blockly.Css.Cursor.DELETE),!0;Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED);return!1};\nBlockly.WorkspaceSvg.prototype.onMouseDown_=function(a){this.markFocused();Blockly.isTargetInput_(a)?Blockly.Touch.clearTouchIdentifier():(Blockly.terminateDrag_(),Blockly.hideChaff(),a.target&&a.target.nodeName&&("svg"==a.target.nodeName.toLowerCase()||a.target==this.svgBackground_)&&Blockly.selected&&!this.options.readOnly&&Blockly.selected.unselect(),Blockly.isRightButton(a)?(this.showContextMenu_(a),Blockly.Touch.clearTouchIdentifier()):this.scrollbar&&(this.dragMode_=Blockly.DRAG_BEGIN,this.startDragMouseX=\na.clientX,this.startDragMouseY=a.clientY,this.startDragMetrics=this.getMetrics(),this.startScrollX=this.scrollX,this.startScrollY=this.scrollY,"mouseup"in Blockly.Touch.TOUCH_MAP&&(Blockly.Touch.onTouchUpWrapper_=Blockly.Touch.onTouchUpWrapper_||[],Blockly.Touch.onTouchUpWrapper_=Blockly.Touch.onTouchUpWrapper_.concat(Blockly.bindEventWithChecks_(document,"mouseup",null,Blockly.onMouseUp_))),Blockly.onMouseMoveWrapper_=Blockly.onMouseMoveWrapper_||[],Blockly.onMouseMoveWrapper_=Blockly.onMouseMoveWrapper_.concat(Blockly.bindEventWithChecks_(document,\n"mousemove",null,Blockly.onMouseMove_))),a.stopPropagation(),a.preventDefault())};Blockly.WorkspaceSvg.prototype.startDrag=function(a,b){var c=Blockly.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());c.x/=this.scale;c.y/=this.scale;this.dragDeltaXY_=goog.math.Coordinate.difference(b,c)};\nBlockly.WorkspaceSvg.prototype.moveDrag=function(a){a=Blockly.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;return goog.math.Coordinate.sum(this.dragDeltaXY_,a)};Blockly.WorkspaceSvg.prototype.isDragging=function(){return Blockly.dragMode_==Blockly.DRAG_FREE||Blockly.Flyout.startFlyout_&&Blockly.Flyout.startFlyout_.dragMode_==Blockly.DRAG_FREE||this.dragMode_==Blockly.DRAG_FREE};\nBlockly.WorkspaceSvg.prototype.onMouseWheel_=function(a){Blockly.terminateDrag_();var b=0<a.deltaY?-1:1,c=Blockly.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());this.zoom(c.x,c.y,b);a.preventDefault()};\nBlockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var a=this.getTopBlocks(!1);if(!a.length)return{x:0,y:0,width:0,height:0};for(var b=a[0].getBoundingRectangle(),c=1;c<a.length;c++){var d=a[c].getBoundingRectangle();d.topLeft.x<b.topLeft.x&&(b.topLeft.x=d.topLeft.x);d.bottomRight.x>b.bottomRight.x&&(b.bottomRight.x=d.bottomRight.x);d.topLeft.y<b.topLeft.y&&(b.topLeft.y=d.topLeft.y);d.bottomRight.y>b.bottomRight.y&&(b.bottomRight.y=d.bottomRight.y)}return{x:b.topLeft.x,y:b.topLeft.y,width:b.bottomRight.x-\nb.topLeft.x,height:b.bottomRight.y-b.topLeft.y}};Blockly.WorkspaceSvg.prototype.cleanUp=function(){Blockly.Events.setGroup(!0);for(var a=this.getTopBlocks(!0),b=0,c=0,d;d=a[c];c++){var e=d.getRelativeToSurfaceXY();d.moveBy(-e.x,b-e.y);d.snapToGrid();b=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!1);this.resizeContents()};\nBlockly.WorkspaceSvg.prototype.showContextMenu_=function(a){function b(a){if(a.isDeletable())l=l.concat(a.getDescendants());else{a=a.getChildren();for(var c=0;c<a.length;c++)b(a[c])}}function c(){Blockly.Events.setGroup(f);var a=l.shift();a&&(a.workspace?(a.dispose(!1,!0),setTimeout(c,10)):c());Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var d=[],e=this.getTopBlocks(!0),f=Blockly.genUid(),g={};g.text=Blockly.Msg.UNDO;g.enabled=0<this.undoStack_.length;g.callback=this.undo.bind(this,\n!1);d.push(g);g={};g.text=Blockly.Msg.REDO;g.enabled=0<this.redoStack_.length;g.callback=this.undo.bind(this,!0);d.push(g);this.scrollbar&&(g={},g.text=Blockly.Msg.CLEAN_UP,g.enabled=1<e.length,g.callback=this.cleanUp.bind(this),d.push(g));if(this.options.collapse){for(var h=g=!1,k=0;k<e.length;k++)for(var m=e[k];m;)m.isCollapsed()?g=!0:h=!0,m=m.getNextBlock();var p=function(a){for(var b=0,c=0;c<e.length;c++)for(var d=e[c];d;)setTimeout(d.setCollapsed.bind(d,a),b),d=d.getNextBlock(),b+=10},h={enabled:h};\nh.text=Blockly.Msg.COLLAPSE_ALL;h.callback=function(){p(!0)};d.push(h);g={enabled:g};g.text=Blockly.Msg.EXPAND_ALL;g.callback=function(){p(!1)};d.push(g)}for(var l=[],k=0;k<e.length;k++)b(e[k]);g={text:1==l.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(l.length)),enabled:0<l.length,callback:function(){(2>l.length||window.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",String(l.length))))&&c()}};d.push(g);Blockly.ContextMenu.show(a,d,this.RTL)}};\nBlockly.WorkspaceSvg.prototype.loadAudio_=function(a,b){if(a.length){try{var c=new window.Audio}catch(h){return}for(var d,e=0;e<a.length;e++){var f=a[e],g=f.match(/\\.(\\w+)$/);if(g&&c.canPlayType("audio/"+g[1])){d=new window.Audio(f);break}}d&&d.play&&(this.SOUNDS_[b]=d)}};Blockly.WorkspaceSvg.prototype.preloadAudio_=function(){for(var a in this.SOUNDS_){var b=this.SOUNDS_[a];b.volume=.01;b.play();b.pause();if(goog.userAgent.IPAD||goog.userAgent.IPHONE)break}};\nBlockly.WorkspaceSvg.prototype.playAudio=function(a,b){var c=this.SOUNDS_[a];if(c){var d=new Date;d-this.lastSound_<Blockly.SOUND_LIMIT||(this.lastSound_=d,c=goog.userAgent.DOCUMENT_MODE&&9===goog.userAgent.DOCUMENT_MODE||goog.userAgent.IPAD||goog.userAgent.ANDROID?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())}else this.options.parentWorkspace&&this.options.parentWorkspace.playAudio(a,b)};\nBlockly.WorkspaceSvg.prototype.updateToolbox=function(a){if(a=Blockly.Options.parseToolboxTree(a)){if(!this.options.languageTree)throw"Existing toolbox is null.  Can\'t create new toolbox.";if(a.getElementsByTagName("category").length){if(!this.toolbox_)throw"Existing toolbox has no categories.  Can\'t change mode.";this.options.languageTree=a;this.toolbox_.populate_(a);this.toolbox_.addColour_()}else{if(!this.flyout_)throw"Existing toolbox has categories.  Can\'t change mode.";this.options.languageTree=\na;this.flyout_.show(a.childNodes)}}else if(this.options.languageTree)throw"Can\'t nullify an existing toolbox.";};Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():Blockly.mainWorkspace=this};\nBlockly.WorkspaceSvg.prototype.zoom=function(a,b,c){var d=this.options.zoomOptions.scaleSpeed,e=this.getMetrics(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(this.getCanvas().getCTM().inverse());a=f.x;b=f.y;f=this.getCanvas();d=1==c?d:1/d;c=this.scale*d;c>this.options.zoomOptions.maxScale?d=this.options.zoomOptions.maxScale/this.scale:c<this.options.zoomOptions.minScale&&(d=this.options.zoomOptions.minScale/this.scale);this.scale!=c&&(this.scrollbar&&(a=f.getCTM().translate(a*\n(1-d),b*(1-d)).scale(d),this.scrollX=a.e-e.absoluteLeft,this.scrollY=a.f-e.absoluteTop),this.setScale(c))};Blockly.WorkspaceSvg.prototype.zoomCenter=function(a){var b=this.getMetrics();this.zoom(b.viewWidth/2,b.viewHeight/2,a)};\nBlockly.WorkspaceSvg.prototype.zoomToFit=function(){var a=this.getMetrics(),b=this.getBlocksBoundingBox(),c=b.width,b=b.height;if(c){var d=a.viewWidth,e=a.viewHeight;this.flyout_&&(d-=this.flyout_.width_);this.scrollbar||(c+=a.contentLeft,b+=a.contentTop);this.setScale(Math.min(d/c,e/b));this.scrollCenter()}};\nBlockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.scrollbar){var a=this.getMetrics(),b=(a.contentWidth-a.viewWidth)/2;this.flyout_&&(b-=this.flyout_.width_/2);this.scrollbar.set(b,(a.contentHeight-a.viewHeight)/2)}};\nBlockly.WorkspaceSvg.prototype.setScale=function(a){this.options.zoomOptions.maxScale&&a>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;this.updateGridPattern_();this.scrollbar?this.scrollbar.resize():this.translate(this.scrollX,this.scrollY);Blockly.hideChaff(!1);this.flyout_&&this.flyout_.reflow()};\nBlockly.WorkspaceSvg.prototype.updateGridPattern_=function(){if(this.options.gridPattern){var a=this.options.gridOptions.spacing*this.scale||100;this.options.gridPattern.setAttribute("width",a);this.options.gridPattern.setAttribute("height",a);var a=Math.floor(this.options.gridOptions.spacing/2)+.5,b=a-this.options.gridOptions.length/2,c=a+this.options.gridOptions.length/2,d=this.options.gridPattern.firstChild,e=d&&d.nextSibling,a=a*this.scale,b=b*this.scale,c=c*this.scale;d&&(d.setAttribute("stroke-width",\nthis.scale),d.setAttribute("x1",b),d.setAttribute("y1",a),d.setAttribute("x2",c),d.setAttribute("y2",a));e&&(e.setAttribute("stroke-width",this.scale),e.setAttribute("x1",a),e.setAttribute("y1",b),e.setAttribute("x2",a),e.setAttribute("y2",c))}};\nBlockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var a=Blockly.svgSize(this.getParentSvg());if(this.toolbox_)if(this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM)a.height-=this.toolbox_.getHeight();else if(this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT)a.width-=this.toolbox_.getWidth();var b=Blockly.Flyout.prototype.CORNER_RADIUS-1,c=a.width-b,d=a.height-b,e=this.getBlocksBoundingBox(),f=e.width*\nthis.scale,g=e.height*this.scale,h=e.x*this.scale,k=e.y*this.scale;this.scrollbar?(b=Math.min(h-c/2,h+f-c),c=Math.max(h+f+c/2,h+c),f=Math.min(k-d/2,k+g-d),d=Math.max(k+g+d/2,k+d)):(b=e.x,c=b+e.width,f=e.y,d=f+e.height);e=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(e=this.toolbox_.getWidth());g=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP&&(g=this.toolbox_.getHeight());return{viewHeight:a.height,viewWidth:a.width,contentHeight:d-f,contentWidth:c-b,viewTop:-this.scrollY,\nviewLeft:-this.scrollX,contentTop:f,contentLeft:b,absoluteTop:g,absoluteLeft:e,toolboxWidth:this.toolbox_?this.toolbox_.getWidth():0,toolboxHeight:this.toolbox_?this.toolbox_.getHeight():0,flyoutWidth:this.flyout_?this.flyout_.getWidth():0,flyoutHeight:this.flyout_?this.flyout_.getHeight():0,toolboxPosition:this.toolboxPosition}};\nBlockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(a){if(!this.scrollbar)throw"Attempt to set top level workspace scroll without scrollbars.";var b=this.getMetrics();goog.isNumber(a.x)&&(this.scrollX=-b.contentWidth*a.x-b.contentLeft);goog.isNumber(a.y)&&(this.scrollY=-b.contentHeight*a.y-b.contentTop);a=this.scrollX+b.absoluteLeft;b=this.scrollY+b.absoluteTop;this.translate(a,b);this.options.gridPattern&&(this.options.gridPattern.setAttribute("x",a),this.options.gridPattern.setAttribute("y",\nb),goog.userAgent.IE&&this.updateGridPattern_())};Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible;Blockly.Mutator=function(a){Blockly.Mutator.superClass_.constructor.call(this,null);this.quarkNames_=a};goog.inherits(Blockly.Mutator,Blockly.Icon);Blockly.Mutator.prototype.workspaceWidth_=0;Blockly.Mutator.prototype.workspaceHeight_=0;\nBlockly.Mutator.prototype.drawIcon_=function(a){Blockly.createSvgElement("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);Blockly.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);\nBlockly.createSvgElement("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};Blockly.Mutator.prototype.iconClick_=function(a){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,a)};\nBlockly.Mutator.prototype.createEditor_=function(){this.svgDialog_=Blockly.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);if(this.quarkNames_.length)for(var a=goog.dom.createDom("xml"),b=0,c;c=this.quarkNames_[b];b++)a.appendChild(goog.dom.createDom("block",{type:c}));else a=null;a={languageTree:a,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:\nBlockly.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null};this.workspace_=new Blockly.WorkspaceSvg(a);this.workspace_.isMutator=!0;this.svgDialog_.appendChild(this.workspace_.createDom("blocklyMutatorBackground"));return this.svgDialog_};\nBlockly.Mutator.prototype.updateEditable=function(){this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&Blockly.removeClass_(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&Blockly.addClass_(this.iconGroup_,"blocklyIconGroupReadonly")));Blockly.Icon.prototype.updateEditable.call(this)};\nBlockly.Mutator.prototype.resizeBubble_=function(){var a=2*Blockly.Bubble.BORDER_WIDTH,b=this.workspace_.getCanvas().getBBox(),c;c=this.block_.RTL?-b.x:b.width+b.x;b=b.height+3*a;if(this.workspace_.flyout_)var d=this.workspace_.flyout_.getMetrics_(),b=Math.max(b,d.contentHeight+20);c+=3*a;if(Math.abs(this.workspaceWidth_-c)>a||Math.abs(this.workspaceHeight_-b)>a)this.workspaceWidth_=c,this.workspaceHeight_=b,this.bubble_.setBubbleSize(c+a,b+a),this.svgDialog_.setAttribute("width",this.workspaceWidth_),\nthis.svgDialog_.setAttribute("height",this.workspaceHeight_);this.block_.RTL&&(a="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",a));this.workspace_.resize()};\nBlockly.Mutator.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!a,a)),a){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null);if(a=this.workspace_.options.languageTree)this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(a.childNodes);this.rootBlock_=this.block_.decompose(this.workspace_);a=this.rootBlock_.getDescendants();for(var b=\n0,c;c=a[b];b++)c.render();this.rootBlock_.setMovable(!1);this.rootBlock_.setDeletable(!1);this.workspace_.flyout_?(a=2*this.workspace_.flyout_.CORNER_RADIUS,b=this.workspace_.flyout_.width_+a):b=a=16;this.block_.RTL&&(b=-b);this.rootBlock_.moveBy(b,a);if(this.block_.saveConnections){var d=this;this.block_.saveConnections(this.rootBlock_);this.sourceListener_=function(){d.block_.saveConnections(d.rootBlock_)};this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_();this.workspace_.addChangeListener(this.workspaceChanged_.bind(this));\nthis.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)};\nBlockly.Mutator.prototype.workspaceChanged_=function(){if(Blockly.dragMode_==Blockly.DRAG_NONE)for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++){var d=c.getRelativeToSurfaceXY(),e=c.getHeightWidth();20>d.y+e.height&&c.moveBy(0,20-e.height-d.y)}if(this.rootBlock_.workspace==this.workspace_){Blockly.Events.setGroup(!0);c=this.block_;a=(a=c.mutationToDom())&&Blockly.Xml.domToText(a);b=c.rendered;c.rendered=!1;c.compose(this.rootBlock_);c.rendered=b;c.initSvg();b=(b=c.mutationToDom())&&Blockly.Xml.domToText(b);\nif(a!=b){Blockly.Events.fire(new Blockly.Events.Change(c,"mutation",null,a,b));var f=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(f);c.bumpNeighbours_();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)}c.rendered&&c.render();this.resizeBubble_();Blockly.Events.setGroup(!1)}};Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_,absoluteTop:0,absoluteLeft:0}};\nBlockly.Mutator.prototype.dispose=function(){this.block_.mutator=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Mutator.reconnect=function(a,b,c){if(!a||!a.getSourceBlock().workspace)return!1;c=b.getInput(c).connection;var d=a.targetBlock();return d&&d!=b||c.targetConnection==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)};goog.global.Blockly||(goog.global.Blockly={});goog.global.Blockly.Mutator||(goog.global.Blockly.Mutator={});goog.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect;Blockly.Warning=function(a){Blockly.Warning.superClass_.constructor.call(this,a);this.createIcon();this.text_={}};goog.inherits(Blockly.Warning,Blockly.Icon);Blockly.Warning.prototype.collapseHidden=!1;\nBlockly.Warning.prototype.drawIcon_=function(a){Blockly.createSvgElement("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);Blockly.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);Blockly.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};\nBlockly.Warning.textToDom_=function(a){var b=Blockly.createSvgElement("text",{"class":"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);a=a.split("\\n");for(var c=0;c<a.length;c++){var d=Blockly.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},b),e=document.createTextNode(a[c]);d.appendChild(e)}return b};\nBlockly.Warning.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!a,a)),a){a=Blockly.Warning.textToDom_(this.getText());this.bubble_=new Blockly.Bubble(this.block_.workspace,a,this.block_.svgPath_,this.iconXY_,null,null);if(this.block_.RTL)for(var b=a.getBBox().width,c=0,d;d=a.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",b+Blockly.Bubble.BORDER_WIDTH);this.updateColour();a=this.bubble_.getBubbleSize();\nthis.bubble_.setBubbleSize(a.width,a.height)}else this.bubble_.dispose(),this.body_=this.bubble_=null};Blockly.Warning.prototype.bodyFocus_=function(a){this.bubble_.promote_()};Blockly.Warning.prototype.setText=function(a,b){this.text_[b]!=a&&(a?this.text_[b]=a:delete this.text_[b],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))};Blockly.Warning.prototype.getText=function(){var a=[],b;for(b in this.text_)a.push(this.text_[b]);return a.join("\\n")};\nBlockly.Warning.prototype.dispose=function(){this.block_.warning=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Block=function(a,b,c){this.id=c&&!a.getBlockById(c)?c:Blockly.genUid();a.blockDB_[this.id]=this;this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.inputsInline=void 0;this.disabled=!1;this.tooltip="";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable_=this.movable_=this.deletable_=!0;this.collapsed_=this.isShadow_=!1;this.comment=null;this.xy_=new goog.math.Coordinate(0,0);this.workspace=a;this.isInFlyout=a.isFlyout;this.isInMutator=\na.isMutator;this.RTL=a.RTL;b&&(this.type=b,c=Blockly.Blocks[b],goog.asserts.assertObject(c,\'Error: "%s" is an unknown language block.\',b),goog.mixin(this,c));a.addTopBlock(this);goog.isFunction(this.init)&&this.init();this.inputsInlineDefault=this.inputsInline;Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Create(this));goog.isFunction(this.onchange)&&(this.onchangeWrapper_=this.onchange.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))};\nBlockly.Block.obtain=function(a,b){console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.");return a.newBlock(b)};Blockly.Block.prototype.data=null;Blockly.Block.prototype.colour_="#000000";\nBlockly.Block.prototype.dispose=function(a){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_);this.unplug(a);Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Delete(this));Blockly.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null);for(var b=this.childBlocks_.length-1;0<=b;b--)this.childBlocks_[b].dispose(!1);for(var b=0,c;c=this.inputList[b];b++)c.dispose();\nthis.inputList.length=0;for(var d=this.getConnections_(!0),b=0;b<d.length;b++){var e=d[b];e.isConnected()&&e.disconnect();d[b].dispose()}}finally{Blockly.Events.enable()}}};\nBlockly.Block.prototype.unplug=function(a){if(this.outputConnection)this.outputConnection.isConnected()&&this.outputConnection.disconnect();else if(this.previousConnection){var b=null;this.previousConnection.isConnected()&&(b=this.previousConnection.targetConnection,this.previousConnection.disconnect());var c=this.getNextBlock();a&&c&&(a=this.nextConnection.targetConnection,a.disconnect(),b&&b.checkType_(a)&&b.connect(a))}};\nBlockly.Block.prototype.getConnections_=function(){var a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(var b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a};Blockly.Block.prototype.lastConnectionInStack_=function(){for(var a=this.nextConnection;a;){var b=a.targetBlock();if(!b)return a;a=b.nextConnection}return null};\nBlockly.Block.prototype.bumpNeighbours_=function(){if(this.workspace&&Blockly.dragMode_==Blockly.DRAG_NONE){var a=this.getRootBlock();if(!a.isInFlyout)for(var b=this.getConnections_(!1),c=0,d;d=b[c];c++){d.isConnected()&&d.isSuperior()&&d.targetBlock().bumpNeighbours_();for(var e=d.neighbours_(Blockly.SNAP_RADIUS),f=0,g;g=e[f];f++)d.isConnected()&&g.isConnected()||g.getSourceBlock().getRootBlock()!=a&&(d.isSuperior()?g.bumpAwayFrom_(d):d.bumpAwayFrom_(g))}}};Blockly.Block.prototype.getParent=function(){return this.parentBlock_};\nBlockly.Block.prototype.getInputWithBlock=function(a){for(var b=0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()==a)return c;return null};Blockly.Block.prototype.getSurroundParent=function(){var a=this;do{var b=a,a=a.getParent();if(!a)return null}while(a.getNextBlock()==b);return a};Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()};\nBlockly.Block.prototype.getRootBlock=function(){var a,b=this;do a=b,b=a.parentBlock_;while(b);return a};Blockly.Block.prototype.getChildren=function(){return this.childBlocks_};\nBlockly.Block.prototype.setParent=function(a){if(a!=this.parentBlock_){if(this.parentBlock_){goog.array.remove(this.parentBlock_.childBlocks_,this);if(this.previousConnection&&this.previousConnection.isConnected())throw"Still connected to previous block.";if(this.outputConnection&&this.outputConnection.isConnected())throw"Still connected to parent block.";this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}};\nBlockly.Block.prototype.getDescendants=function(){for(var a=[this],b,c=0;b=this.childBlocks_[c];c++)a.push.apply(a,b.getDescendants());return a};Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)};Blockly.Block.prototype.setDeletable=function(a){this.deletable_=a};Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)};\nBlockly.Block.prototype.setMovable=function(a){this.movable_=a};Blockly.Block.prototype.isShadow=function(){return this.isShadow_};Blockly.Block.prototype.setShadow=function(a){this.isShadow_=a};Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)};Blockly.Block.prototype.setEditable=function(a){this.editable_=a;a=0;for(var b;b=this.inputList[a];a++)for(var c=0,d;d=b.fieldRow[c];c++)d.updateEditable()};\nBlockly.Block.prototype.setConnectionsHidden=function(a){if(!a&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(a),this.previousConnection&&this.previousConnection.setHidden(a),this.nextConnection){this.nextConnection.setHidden(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionsHidden(a)}}else for(var c=this.getConnections_(!0),d=0;b=c[d];d++)b.setHidden(a),b.isSuperior()&&(b=b.targetBlock())&&b.setConnectionsHidden(a)};\nBlockly.Block.prototype.setHelpUrl=function(a){this.helpUrl=a};Blockly.Block.prototype.setTooltip=function(a){this.tooltip=a};Blockly.Block.prototype.getColour=function(){return this.colour_};Blockly.Block.prototype.setColour=function(a){var b=parseFloat(a);if(isNaN(b))if(goog.isString(a)&&a.match(/^#[0-9a-fA-F]{6}$/))this.colour_=a;else throw"Invalid colour: "+a;else this.colour_=Blockly.hueToRgb(b)};\nBlockly.Block.prototype.getField=function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(e.name===a)return e;return null};Blockly.Block.prototype.getVars=function(){for(var a=[],b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e instanceof Blockly.FieldVariable&&a.push(e.getValue());return a};\nBlockly.Block.prototype.renameVar=function(a,b){for(var c=0,d;d=this.inputList[c];c++)for(var e=0,f;f=d.fieldRow[e];e++)f instanceof Blockly.FieldVariable&&Blockly.Names.equals(a,f.getValue())&&f.setValue(b)};Blockly.Block.prototype.getFieldValue=function(a){return(a=this.getField(a))?a.getValue():null};Blockly.Block.prototype.getTitleValue=function(a){console.warn("Deprecated call to getTitleValue, use getFieldValue instead.");return this.getFieldValue(a)};\nBlockly.Block.prototype.setFieldValue=function(a,b){var c=this.getField(b);goog.asserts.assertObject(c,\'Field "%s" not found.\',b);c.setValue(a)};Blockly.Block.prototype.setTitleValue=function(a,b){console.warn("Deprecated call to setTitleValue, use setFieldValue instead.");this.setFieldValue(a,b)};\nBlockly.Block.prototype.setPreviousStatement=function(a,b){a?(void 0===b&&(b=null),this.previousConnection||(goog.asserts.assert(!this.outputConnection,"Remove output connection prior to adding previous connection."),this.previousConnection=this.makeConnection_(Blockly.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(b)):this.previousConnection&&(goog.asserts.assert(!this.previousConnection.isConnected(),"Must disconnect previous statement before removing connection."),this.previousConnection.dispose(),\nthis.previousConnection=null)};Blockly.Block.prototype.setNextStatement=function(a,b){a?(void 0===b&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(b)):this.nextConnection&&(goog.asserts.assert(!this.nextConnection.isConnected(),"Must disconnect next statement before removing connection."),this.nextConnection.dispose(),this.nextConnection=null)};\nBlockly.Block.prototype.setOutput=function(a,b){a?(void 0===b&&(b=null),this.outputConnection||(goog.asserts.assert(!this.previousConnection,"Remove previous connection prior to adding output connection."),this.outputConnection=this.makeConnection_(Blockly.OUTPUT_VALUE)),this.outputConnection.setCheck(b)):this.outputConnection&&(goog.asserts.assert(!this.outputConnection.isConnected(),"Must disconnect output value before removing connection."),this.outputConnection.dispose(),this.outputConnection=\nnull)};Blockly.Block.prototype.setInputsInline=function(a){this.inputsInline!=a&&(Blockly.Events.fire(new Blockly.Events.Change(this,"inline",null,this.inputsInline,a)),this.inputsInline=a)};\nBlockly.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type==Blockly.DUMMY_INPUT&&this.inputList[a].type==Blockly.DUMMY_INPUT)return!1;for(a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type==Blockly.INPUT_VALUE&&this.inputList[a].type==Blockly.DUMMY_INPUT)return!0;return!1};\nBlockly.Block.prototype.setDisabled=function(a){this.disabled!=a&&(Blockly.Events.fire(new Blockly.Events.Change(this,"disabled",null,this.disabled,a)),this.disabled=a)};Blockly.Block.prototype.getInheritedDisabled=function(){for(var a=this;;){a=a.getSurroundParent();if(!a)return!1;if(a.disabled)return!0}};Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_};\nBlockly.Block.prototype.setCollapsed=function(a){this.collapsed_!=a&&(Blockly.Events.fire(new Blockly.Events.Change(this,"collapsed",null,this.collapsed_,a)),this.collapsed_=a)};\nBlockly.Block.prototype.toString=function(a,b){var c=[],d=b||"?";if(this.collapsed_)c.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].text_);else for(var e=0,f;f=this.inputList[e];e++){for(var g=0,h;h=f.fieldRow[g];g++)c.push(h.getText());f.connection&&((f=f.connection.targetBlock())?c.push(f.toString(void 0,b)):c.push(d))}c=goog.string.trim(c.join(" "))||"???";a&&(c=goog.string.truncate(c,a));return c};\nBlockly.Block.prototype.appendValueInput=function(a){return this.appendInput_(Blockly.INPUT_VALUE,a)};Blockly.Block.prototype.appendStatementInput=function(a){return this.appendInput_(Blockly.NEXT_STATEMENT,a)};Blockly.Block.prototype.appendDummyInput=function(a){return this.appendInput_(Blockly.DUMMY_INPUT,a||"")};\nBlockly.Block.prototype.jsonInit=function(a){goog.asserts.assert(void 0==a.output||void 0==a.previousStatement,"Must not have both an output and a previousStatement.");void 0!==a.colour&&this.setColour(a.colour);for(var b=0;void 0!==a["message"+b];)this.interpolate_(a["message"+b],a["args"+b]||[],a["lastDummyAlign"+b]),b++;void 0!==a.inputsInline&&this.setInputsInline(a.inputsInline);void 0!==a.output&&this.setOutput(!0,a.output);void 0!==a.previousStatement&&this.setPreviousStatement(!0,a.previousStatement);\nvoid 0!==a.nextStatement&&this.setNextStatement(!0,a.nextStatement);void 0!==a.tooltip&&this.setTooltip(a.tooltip);void 0!==a.helpUrl&&this.setHelpUrl(a.helpUrl)};\nBlockly.Block.prototype.interpolate_=function(a,b,c){var d=Blockly.utils.tokenizeInterpolation(a),e=[],f=0;a=[];for(var g=0;g<d.length;g++){var h=d[g];"number"==typeof h?(goog.asserts.assert(0<h&&h<=b.length,\'Message index "%s" out of range.\',h),goog.asserts.assert(!e[h],\'Message index "%s" duplicated.\',h),e[h]=!0,f++,a.push(b[h-1])):(h=h.trim())&&a.push(h)}goog.asserts.assert(f==b.length,"Message does not reference all %s arg(s).",b.length);a.length&&("string"==typeof a[a.length-1]||goog.string.startsWith(a[a.length-\n1].type,"field_"))&&(g={type:"input_dummy"},c&&(g.align=c),a.push(g));c={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE};b=[];for(g=0;g<a.length;g++)if(e=a[g],"string"==typeof e)b.push([e,void 0]);else{d=f=null;do if(h=!1,"string"==typeof e)f=new Blockly.FieldLabel(e);else switch(e.type){case "input_value":d=this.appendValueInput(e.name);break;case "input_statement":d=this.appendStatementInput(e.name);break;case "input_dummy":d=this.appendDummyInput(e.name);break;case "field_label":f=\nnew Blockly.FieldLabel(e.text,e["class"]);break;case "field_input":f=new Blockly.FieldTextInput(e.text);"boolean"==typeof e.spellcheck&&f.setSpellcheck(e.spellcheck);break;case "field_angle":f=new Blockly.FieldAngle(e.angle);break;case "field_checkbox":f=new Blockly.FieldCheckbox(e.checked?"TRUE":"FALSE");break;case "field_colour":f=new Blockly.FieldColour(e.colour);break;case "field_variable":f=new Blockly.FieldVariable(e.variable);break;case "field_dropdown":f=new Blockly.FieldDropdown(e.options);\nbreak;case "field_image":f=new Blockly.FieldImage(e.src,e.width,e.height,e.alt);break;case "field_number":f=new Blockly.FieldNumber(e.value,e.min,e.max,e.precision);break;case "field_date":if(Blockly.FieldDate){f=new Blockly.FieldDate(e.date);break}default:e.alt&&(e=e.alt,h=!0)}while(h);if(f)b.push([f,e.name]);else if(d){e.check&&d.setCheck(e.check);e.align&&d.setAlign(c[e.align]);for(e=0;e<b.length;e++)d.appendField(b[e][0],b[e][1]);b.length=0}}};\nBlockly.Block.prototype.appendInput_=function(a,b){var c=null;if(a==Blockly.INPUT_VALUE||a==Blockly.NEXT_STATEMENT)c=this.makeConnection_(a);c=new Blockly.Input(a,b,this,c);this.inputList.push(c);return c};\nBlockly.Block.prototype.moveInputBefore=function(a,b){if(a!=b){for(var c=-1,d=b?-1:this.inputList.length,e=0,f;f=this.inputList[e];e++)if(f.name==a){if(c=e,-1!=d)break}else if(b&&f.name==b&&(d=e,-1!=c))break;goog.asserts.assert(-1!=c,\'Named input "%s" not found.\',a);goog.asserts.assert(-1!=d,\'Reference input "%s" not found.\',b);this.moveNumberedInputBefore(c,d)}};\nBlockly.Block.prototype.moveNumberedInputBefore=function(a,b){goog.asserts.assert(a!=b,"Can\'t move input to itself.");goog.asserts.assert(a<this.inputList.length,"Input index "+a+" out of bounds.");goog.asserts.assert(b<=this.inputList.length,"Reference input "+b+" out of bounds.");var c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,0,c)};\nBlockly.Block.prototype.removeInput=function(a,b){for(var c=0,d;d=this.inputList[c];c++)if(d.name==a){if(d.connection&&d.connection.isConnected()){d.connection.setShadowDom(null);var e=d.connection.targetBlock();e.isShadow()?e.dispose():e.unplug()}d.dispose();this.inputList.splice(c,1);return}b||goog.asserts.fail(\'Input "%s" not found.\',a)};Blockly.Block.prototype.getInput=function(a){for(var b=0,c;c=this.inputList[b];b++)if(c.name==a)return c;return null};\nBlockly.Block.prototype.getInputTargetBlock=function(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()};Blockly.Block.prototype.getCommentText=function(){return this.comment||""};Blockly.Block.prototype.setCommentText=function(a){this.comment!=a&&(Blockly.Events.fire(new Blockly.Events.Change(this,"comment",null,this.comment,a||"")),this.comment=a)};Blockly.Block.prototype.setWarningText=function(a){};Blockly.Block.prototype.setMutator=function(a){};\nBlockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_};Blockly.Block.prototype.moveBy=function(a,b){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var c=new Blockly.Events.Move(this);this.xy_.translate(a,b);c.recordNew();Blockly.Events.fire(c)};Blockly.Block.prototype.makeConnection_=function(a){return new Blockly.Connection(this,a)};Blockly.ContextMenu={};Blockly.ContextMenu.currentBlock=null;\nBlockly.ContextMenu.show=function(a,b,c){Blockly.WidgetDiv.show(Blockly.ContextMenu,c,null);if(b.length){var d=new goog.ui.Menu;d.setRightToLeft(c);for(var e=0,f;f=b[e];e++){var g=new goog.ui.MenuItem(f.text);g.setRightToLeft(c);d.addChild(g,!0);g.setEnabled(f.enabled);f.enabled&&goog.events.listen(g,goog.ui.Component.EventType.ACTION,f.callback)}goog.events.listen(d,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide);b=goog.dom.getViewportSize();e=goog.style.getViewportPageOffset(document);\nd.render(Blockly.WidgetDiv.DIV);var h=d.getElement();Blockly.addClass_(h,"blocklyContextMenu");Blockly.bindEventWithChecks_(h,"contextmenu",null,Blockly.noEvent);f=goog.style.getSize(h);var g=a.clientX+e.x,k=a.clientY+e.y;a.clientY+f.height>=b.height&&(k-=f.height);c?f.width>=a.clientX&&(g+=f.width):a.clientX+f.width>=b.width&&(g-=f.width);Blockly.WidgetDiv.position(g,k,b,e,c);d.setAllowAutoFocus(!0);setTimeout(function(){h.focus()},1);Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()};\nBlockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu);Blockly.ContextMenu.currentBlock=null};\nBlockly.ContextMenu.callbackFactory=function(a,b){return function(){Blockly.Events.disable();try{var c=Blockly.Xml.domToBlock(b,a.workspace),d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-Blockly.SNAP_RADIUS:d.x+Blockly.SNAP_RADIUS;d.y+=2*Blockly.SNAP_RADIUS;c.moveBy(d.x,d.y)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!c.isShadow()&&Blockly.Events.fire(new Blockly.Events.Create(c));c.select()}};Blockly.RenderedConnection=function(a,b){Blockly.RenderedConnection.superClass_.constructor.call(this,a,b);this.offsetInBlock_=new goog.math.Coordinate(0,0)};goog.inherits(Blockly.RenderedConnection,Blockly.Connection);Blockly.RenderedConnection.prototype.distanceFrom=function(a){var b=this.x_-a.x_;a=this.y_-a.y_;return Math.sqrt(b*b+a*a)};\nBlockly.RenderedConnection.prototype.bumpAwayFrom_=function(a){if(Blockly.dragMode_==Blockly.DRAG_NONE){var b=this.sourceBlock_.getRootBlock();if(!b.isInFlyout){var c=!1;if(!b.isMovable()){b=a.getSourceBlock().getRootBlock();if(!b.isMovable())return;a=this;c=!0}var d=Blockly.selected==b;d||b.addSelect();var e=a.x_+Blockly.SNAP_RADIUS-this.x_;a=a.y_+Blockly.SNAP_RADIUS-this.y_;c&&(a=-a);b.RTL&&(e=-e);b.moveBy(e,a);d||b.removeSelect()}}};\nBlockly.RenderedConnection.prototype.moveTo=function(a,b){this.inDB_&&this.db_.removeConnection_(this);this.x_=a;this.y_=b;this.hidden_||this.db_.addConnection(this)};Blockly.RenderedConnection.prototype.moveBy=function(a,b){this.moveTo(this.x_+a,this.y_+b)};Blockly.RenderedConnection.prototype.moveToOffset=function(a){this.moveTo(a.x+this.offsetInBlock_.x,a.y+this.offsetInBlock_.y)};\nBlockly.RenderedConnection.prototype.setOffsetInBlock=function(a,b){this.offsetInBlock_.x=a;this.offsetInBlock_.y=b};Blockly.RenderedConnection.prototype.tighten_=function(){var a=this.targetConnection.x_-this.x_,b=this.targetConnection.y_-this.y_;if(0!=a||0!=b){var c=this.targetBlock(),d=c.getSvgRoot();if(!d)throw"block is not rendered.";d=Blockly.getRelativeXY_(d);c.getSvgRoot().setAttribute("transform","translate("+(d.x-a)+","+(d.y-b)+")");c.moveConnections_(-a,-b)}};\nBlockly.RenderedConnection.prototype.closest=function(a,b,c){return this.dbOpposite_.searchForClosest(this,a,b,c)};\nBlockly.RenderedConnection.prototype.highlight=function(){var a;a=this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?"m 0,0 "+Blockly.BlockSvg.TAB_PATH_DOWN+" v 5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5";var b=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.createSvgElement("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.x_-b.x)+","+(this.y_-b.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())};\nBlockly.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var a=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return a;var b=this.targetBlock();if(b){var c;b.isCollapsed()?(c=[],b.outputConnection&&c.push(b.outputConnection),b.nextConnection&&c.push(b.nextConnection),b.previousConnection&&c.push(b.previousConnection)):c=b.getConnections_(!0);for(var d=0;d<c.length;d++)a.push.apply(a,c[d].unhideAll());a.length||(a[0]=b)}return a};\nBlockly.RenderedConnection.prototype.unhighlight=function(){goog.dom.removeNode(Blockly.Connection.highlightedPath_);delete Blockly.Connection.highlightedPath_};Blockly.RenderedConnection.prototype.setHidden=function(a){(this.hidden_=a)&&this.inDB_?this.db_.removeConnection_(this):a||this.inDB_||this.db_.addConnection(this)};\nBlockly.RenderedConnection.prototype.hideAll=function(){this.setHidden(!0);if(this.targetConnection)for(var a=this.targetBlock().getDescendants(),b=0;b<a.length;b++){for(var c=a[b],d=c.getConnections_(!0),e=0;e<d.length;e++)d[e].setHidden(!0);c=c.getIcons();for(e=0;e<c.length;e++)c[e].setVisible(!1)}};Blockly.RenderedConnection.prototype.isConnectionAllowed=function(a,b){return this.distanceFrom(a)>b?!1:Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this,a)};\nBlockly.RenderedConnection.prototype.disconnectInternal_=function(a,b){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this,a,b);a.rendered&&a.render();b.rendered&&(b.updateDisabled(),b.render())};\nBlockly.RenderedConnection.prototype.respawnShadow_=function(){var a=this.getSourceBlock(),b=this.getShadowDom();if(a.workspace&&b&&Blockly.Events.recordUndo){Blockly.RenderedConnection.superClass_.respawnShadow_.call(this);b=this.targetBlock();if(!b)throw"Couldn\'t respawn the shadow block that should exist here.";b.initSvg();b.render(!1);a.rendered&&a.render()}};Blockly.RenderedConnection.prototype.neighbours_=function(a){return this.dbOpposite_.getNeighbours(this,a)};\nBlockly.RenderedConnection.prototype.connect_=function(a){Blockly.RenderedConnection.superClass_.connect_.call(this,a);var b=this.getSourceBlock();a=a.getSourceBlock();b.rendered&&b.updateDisabled();a.rendered&&a.updateDisabled();b.rendered&&a.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?a.render():b.render())};Blockly.BlockSvg=function(a,b,c){this.svgGroup_=Blockly.createSvgElement("g",{},null);this.svgPathDark_=Blockly.createSvgElement("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.svgGroup_);this.svgPath_=Blockly.createSvgElement("path",{"class":"blocklyPath"},this.svgGroup_);this.svgPathLight_=Blockly.createSvgElement("path",{"class":"blocklyPathLight"},this.svgGroup_);this.svgPath_.tooltip=this;this.rendered=!1;Blockly.Tooltip.bindMouseEvents(this.svgPath_);Blockly.BlockSvg.superClass_.constructor.call(this,\na,b,c)};goog.inherits(Blockly.BlockSvg,Blockly.Block);Blockly.BlockSvg.prototype.height=0;Blockly.BlockSvg.prototype.width=0;Blockly.BlockSvg.prototype.dragStartXY_=null;Blockly.BlockSvg.INLINE=-1;\nBlockly.BlockSvg.prototype.initSvg=function(){goog.asserts.assert(this.workspace.rendered,"Workspace is headless.");for(var a=0,b;b=this.inputList[a];a++)b.init();b=this.getIcons();for(a=0;a<b.length;a++)b[a].createIcon();this.updateColour();this.updateMovable();if(!this.workspace.options.readOnly&&!this.eventsInit_){Blockly.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_);var c=this;Blockly.bindEventWithChecks_(this.getSvgRoot(),"touchstart",null,function(a){Blockly.longStart_(a,\nc)})}this.eventsInit_=!0;this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())};\nBlockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var a=null;if(Blockly.selected){a=Blockly.selected.id;Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}a=new Blockly.Events.Ui(null,"selected",a,this.id);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=this;this.addSelect()}};\nBlockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var a=new Blockly.Events.Ui(null,"selected",this.id,null);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=null;this.removeSelect()}};Blockly.BlockSvg.prototype.mutator=null;Blockly.BlockSvg.prototype.comment=null;Blockly.BlockSvg.prototype.warning=null;\nBlockly.BlockSvg.prototype.getIcons=function(){var a=[];this.mutator&&a.push(this.mutator);this.comment&&a.push(this.comment);this.warning&&a.push(this.warning);return a};Blockly.BlockSvg.onMouseUpWrapper_=null;Blockly.BlockSvg.onMouseMoveWrapper_=null;\nBlockly.BlockSvg.terminateDrag=function(){Blockly.BlockSvg.disconnectUiStop_();Blockly.BlockSvg.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.BlockSvg.onMouseUpWrapper_),Blockly.BlockSvg.onMouseUpWrapper_=null);Blockly.BlockSvg.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.BlockSvg.onMouseMoveWrapper_),Blockly.BlockSvg.onMouseMoveWrapper_=null);var a=Blockly.selected;if(Blockly.dragMode_==Blockly.DRAG_FREE&&a){var b=a.getRelativeToSurfaceXY(),b=goog.math.Coordinate.difference(b,a.dragStartXY_),\nc=new Blockly.Events.Move(a);c.oldCoordinate=a.dragStartXY_;c.recordNew();Blockly.Events.fire(c);a.moveConnections_(b.x,b.y);delete a.draggedBubbles_;a.setDragging_(!1);a.render();var d=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(d);a.snapToGrid();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY/2);setTimeout(function(){Blockly.Events.setGroup(d);a.bumpNeighbours_();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY);a.workspace.resizeContents()}Blockly.dragMode_=Blockly.DRAG_NONE;\nBlockly.Css.setCursor(Blockly.Css.Cursor.OPEN)};\nBlockly.BlockSvg.prototype.setParent=function(a){if(a!=this.parentBlock_){var b=this.getSvgRoot();if(this.parentBlock_&&b){var c=this.getRelativeToSurfaceXY();this.workspace.getCanvas().appendChild(b);b.setAttribute("transform","translate("+c.x+","+c.y+")")}Blockly.Field.startCache();Blockly.BlockSvg.superClass_.setParent.call(this,a);Blockly.Field.stopCache();a&&(c=this.getRelativeToSurfaceXY(),a.getSvgRoot().appendChild(b),a=this.getRelativeToSurfaceXY(),this.moveConnections_(a.x-c.x,a.y-c.y))}};\nBlockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var a=0,b=0,c=this.getSvgRoot();if(c){do var d=Blockly.getRelativeXY_(c),a=a+d.x,b=b+d.y,c=c.parentNode;while(c&&c!=this.workspace.getCanvas())}return new goog.math.Coordinate(a,b)};\nBlockly.BlockSvg.prototype.moveBy=function(a,b){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var c=new Blockly.Events.Move(this),d=this.getRelativeToSurfaceXY();this.getSvgRoot().setAttribute("transform","translate("+(d.x+a)+","+(d.y+b)+")");this.moveConnections_(a,b);c.recordNew();this.workspace.resizeContents();Blockly.Events.fire(c)};\nBlockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&Blockly.dragMode_==Blockly.DRAG_NONE&&!this.getParent()&&!this.isInFlyout&&this.workspace.options.gridOptions&&this.workspace.options.gridOptions.snap){var a=this.workspace.options.gridOptions.spacing,b=a/2,c=this.getRelativeToSurfaceXY(),d=Math.round((c.x-b)/a)*a+b-c.x,a=Math.round((c.y-b)/a)*a+b-c.y,d=Math.round(d),a=Math.round(a);0==d&&0==a||this.moveBy(d,a)}};\nBlockly.BlockSvg.prototype.getHeightWidth=function(){var a=this.height,b=this.width,c=this.getNextBlock();c?(c=c.getHeightWidth(),a+=c.height-4,b=Math.max(b,c.width)):this.nextConnection||this.outputConnection||(a+=2);return{height:a,width:b}};\nBlockly.BlockSvg.prototype.getBoundingRectangle=function(){var a=this.getRelativeToSurfaceXY(this),b=this.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,c=this.getHeightWidth(),d;this.RTL?(d=new goog.math.Coordinate(a.x-(c.width-b),a.y),a=new goog.math.Coordinate(a.x+b,a.y+c.height)):(d=new goog.math.Coordinate(a.x-b,a.y),a=new goog.math.Coordinate(a.x+c.width-b,a.y+c.height));return{topLeft:d,bottomRight:a}};\nBlockly.BlockSvg.prototype.setCollapsed=function(a){if(this.collapsed_!=a){for(var b=[],c=0,d;d=this.inputList[c];c++)b.push.apply(b,d.setVisible(!a));if(a){d=this.getIcons();for(c=0;c<d.length;c++)d[c].setVisible(!1);c=this.toString(Blockly.COLLAPSE_CHARS);this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(c).init()}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.setWarningText(null);Blockly.BlockSvg.superClass_.setCollapsed.call(this,a);b.length||(b[0]=this);if(this.rendered)for(c=0;a=\nb[c];c++)a.render()}};Blockly.BlockSvg.prototype.tab=function(a,b){for(var c=[],d=0,e;e=this.inputList[d];d++){for(var f=0,g;g=e.fieldRow[f];f++)g instanceof Blockly.FieldTextInput&&c.push(g);e.connection&&(e=e.connection.targetBlock())&&c.push(e)}d=c.indexOf(a);-1==d&&(d=b?-1:c.length);(c=c[b?d+1:d-1])?c instanceof Blockly.Field?c.showEditor_():c.tab(null,b):(c=this.getParent())&&c.tab(this,b)};\nBlockly.BlockSvg.prototype.onMouseDown_=function(a){if(!this.workspace.options.readOnly)if(this.isInFlyout)"touchstart"==a.type&&Blockly.isRightButton(a)&&(Blockly.Flyout.blockRightClick_(a,this),a.stopPropagation(),a.preventDefault());else{this.isInMutator&&this.workspace.resize();this.workspace.updateScreenCalculationsIfScrolled();this.workspace.markFocused();Blockly.terminateDrag_();this.select();Blockly.hideChaff();if(Blockly.isRightButton(a))this.showContextMenu_(a),Blockly.Touch.clearTouchIdentifier();\nelse if(this.isMovable()){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0);Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED);this.dragStartXY_=this.getRelativeToSurfaceXY();this.workspace.startDrag(a,this.dragStartXY_);Blockly.dragMode_=Blockly.DRAG_STICKY;Blockly.BlockSvg.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.onMouseUp_);Blockly.BlockSvg.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMove_);this.draggedBubbles_=[];\nfor(var b=this.getDescendants(),c=0,d;d=b[c];c++){d=d.getIcons();for(var e=0;e<d.length;e++){var f=d[e].getIconLocation();f.bubble=d[e];this.draggedBubbles_.push(f)}}}else return;a.stopPropagation();a.preventDefault()}};\nBlockly.BlockSvg.prototype.onMouseUp_=function(a){Blockly.Touch.clearTouchIdentifier();Blockly.dragMode_==Blockly.DRAG_FREE||Blockly.WidgetDiv.isVisible()||Blockly.Events.fire(new Blockly.Events.Ui(this,"click",void 0,void 0));Blockly.terminateDrag_();Blockly.selected&&Blockly.highlightedConnection_?(Blockly.localConnection_.connect(Blockly.highlightedConnection_),this.rendered&&(Blockly.localConnection_.isSuperior()?Blockly.highlightedConnection_:Blockly.localConnection_).getSourceBlock().connectionUiEffect(),\nthis.workspace.trashcan&&this.workspace.trashcan.close()):!this.getParent()&&Blockly.selected.isDeletable()&&this.workspace.isDeleteArea(a)&&((a=this.workspace.trashcan)&&goog.Timer.callOnce(a.close,100,a),Blockly.selected.dispose(!1,!0));Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null);Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN);Blockly.WidgetDiv.isVisible()||Blockly.Events.setGroup(!1)};\nBlockly.BlockSvg.prototype.showHelp_=function(){var a=goog.isFunction(this.helpUrl)?this.helpUrl():this.helpUrl;a&&window.open(a)};\nBlockly.BlockSvg.prototype.showContextMenu_=function(a){if(!this.workspace.options.readOnly&&this.contextMenu){var b=this,c=[];if(this.isDeletable()&&this.isMovable()&&!b.isInFlyout){var d={text:Blockly.Msg.DUPLICATE_BLOCK,enabled:!0,callback:function(){Blockly.duplicate_(b)}};this.getDescendants().length>this.workspace.remainingCapacity()&&(d.enabled=!1);c.push(d);this.isEditable()&&!this.collapsed_&&this.workspace.options.comments&&(d={enabled:!goog.userAgent.IE},this.comment?(d.text=Blockly.Msg.REMOVE_COMMENT,\nd.callback=function(){b.setCommentText(null)}):(d.text=Blockly.Msg.ADD_COMMENT,d.callback=function(){b.setCommentText("")}),c.push(d));if(!this.collapsed_)for(d=1;d<this.inputList.length;d++)if(this.inputList[d-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[d].type!=Blockly.NEXT_STATEMENT){var d={enabled:!0},e=this.getInputsInline();d.text=e?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS;d.callback=function(){b.setInputsInline(!e)};c.push(d);break}this.workspace.options.collapse&&(this.collapsed_?\n(d={enabled:!0},d.text=Blockly.Msg.EXPAND_BLOCK,d.callback=function(){b.setCollapsed(!1)}):(d={enabled:!0},d.text=Blockly.Msg.COLLAPSE_BLOCK,d.callback=function(){b.setCollapsed(!0)}),c.push(d));this.workspace.options.disable&&(d={text:this.disabled?Blockly.Msg.ENABLE_BLOCK:Blockly.Msg.DISABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){b.setDisabled(!b.disabled)}},c.push(d));var d=this.getDescendants().length,f=this.getNextBlock();f&&(d-=f.getDescendants().length);d={text:1==d?\nBlockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(d)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0);b.dispose(!0,!0);Blockly.Events.setGroup(!1)}};c.push(d)}d={enabled:!(goog.isFunction(this.helpUrl)?!this.helpUrl():!this.helpUrl)};d.text=Blockly.Msg.HELP;d.callback=function(){b.showHelp_()};c.push(d);this.customContextMenu&&!b.isInFlyout&&this.customContextMenu(c);Blockly.ContextMenu.show(a,c,this.RTL);Blockly.ContextMenu.currentBlock=this}};\nBlockly.BlockSvg.prototype.moveConnections_=function(a,b){if(this.rendered){for(var c=this.getConnections_(!1),d=0;d<c.length;d++)c[d].moveBy(a,b);c=this.getIcons();for(d=0;d<c.length;d++)c[d].computeIconLocation();for(d=0;d<this.childBlocks_.length;d++)this.childBlocks_[d].moveConnections_(a,b)}};\nBlockly.BlockSvg.prototype.setDragging_=function(a){if(a){var b=this.getSvgRoot();b.translate_="";b.skew_="";this.addDragging();Blockly.draggingConnections_=Blockly.draggingConnections_.concat(this.getConnections_(!0))}else this.removeDragging(),Blockly.draggingConnections_=[];for(b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging_(a)};\nBlockly.BlockSvg.prototype.onMouseMove_=function(a){if("mousemove"==a.type&&1>=a.clientX&&0==a.clientY&&0==a.button)a.stopPropagation();else{var b=this.getRelativeToSurfaceXY(),c=this.workspace.moveDrag(a);if(Blockly.dragMode_==Blockly.DRAG_STICKY&&goog.math.Coordinate.distance(b,c)*this.workspace.scale>Blockly.DRAG_RADIUS){Blockly.dragMode_=Blockly.DRAG_FREE;Blockly.longStop_();if(this.parentBlock_){this.unplug();var d=this.getSvgRoot();d.translate_="translate("+c.x+","+c.y+")";this.disconnectUiEffect()}this.setDragging_(!0)}if(Blockly.dragMode_==\nBlockly.DRAG_FREE){b=goog.math.Coordinate.difference(b,this.dragStartXY_);d=this.getSvgRoot();d.translate_="translate("+c.x+","+c.y+")";d.setAttribute("transform",d.translate_+d.skew_);for(c=0;c<this.draggedBubbles_.length;c++)d=this.draggedBubbles_[c],d.bubble.setIconLocation(goog.math.Coordinate.sum(d,b));d=this.getConnections_(!1);(c=this.lastConnectionInStack_())&&c!=this.nextConnection&&d.push(c);for(var e=null,f=null,g=Blockly.SNAP_RADIUS,c=0;c<d.length;c++){var h=d[c],k=h.closest(g,b);k.connection&&\n(e=k.connection,f=h,g=k.radius)}Blockly.highlightedConnection_&&Blockly.highlightedConnection_!=e&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null,Blockly.localConnection_=null);e&&e!=Blockly.highlightedConnection_&&(e.highlight(),Blockly.highlightedConnection_=e,Blockly.localConnection_=f);this.isDeletable()&&this.workspace.isDeleteArea(a)}a.stopPropagation();a.preventDefault()}};\nBlockly.BlockSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.addClass_(this.svgGroup_,"blocklyDraggable"):Blockly.removeClass_(this.svgGroup_,"blocklyDraggable")};Blockly.BlockSvg.prototype.setMovable=function(a){Blockly.BlockSvg.superClass_.setMovable.call(this,a);this.updateMovable()};Blockly.BlockSvg.prototype.setEditable=function(a){Blockly.BlockSvg.superClass_.setEditable.call(this,a);a=this.getIcons();for(var b=0;b<a.length;b++)a[b].updateEditable()};\nBlockly.BlockSvg.prototype.setShadow=function(a){Blockly.BlockSvg.superClass_.setShadow.call(this,a);this.updateColour()};Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_};\nBlockly.BlockSvg.prototype.dispose=function(a,b){if(this.workspace){Blockly.Tooltip.hide();Blockly.Field.startCache();var c=this.workspace;Blockly.selected==this&&(this.unselect(),Blockly.terminateDrag_());Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide();b&&this.rendered&&(this.unplug(a),this.disposeUiEffect());this.rendered=!1;Blockly.Events.disable();try{for(var d=this.getIcons(),e=0;e<d.length;e++)d[e].dispose()}finally{Blockly.Events.enable()}Blockly.BlockSvg.superClass_.dispose.call(this,\na);goog.dom.removeNode(this.svgGroup_);c.resizeContents();this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null;Blockly.Field.stopCache()}};\nBlockly.BlockSvg.prototype.disposeUiEffect=function(){this.workspace.playAudio("delete");var a=Blockly.getSvgXY_(this.svgGroup_,this.workspace),b=this.svgGroup_.cloneNode(!0);b.translateX_=a.x;b.translateY_=a.y;b.setAttribute("transform","translate("+b.translateX_+","+b.translateY_+")");this.workspace.getParentSvg().appendChild(b);b.bBox_=b.getBBox();Blockly.BlockSvg.disposeUiStep_(b,this.RTL,new Date,this.workspace.scale)};\nBlockly.BlockSvg.disposeUiStep_=function(a,b,c,d){var e=(new Date-c)/150;1<e?goog.dom.removeNode(a):(a.setAttribute("transform","translate("+(a.translateX_+(b?-1:1)*a.bBox_.width*d/2*e)+","+(a.translateY_+a.bBox_.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(function(){Blockly.BlockSvg.disposeUiStep_(a,b,c,d)},10))};\nBlockly.BlockSvg.prototype.connectionUiEffect=function(){this.workspace.playAudio("click");if(!(1>this.workspace.scale)){var a=Blockly.getSvgXY_(this.svgGroup_,this.workspace);this.outputConnection?(a.x+=(this.RTL?3:-3)*this.workspace.scale,a.y+=13*this.workspace.scale):this.previousConnection&&(a.x+=(this.RTL?-23:23)*this.workspace.scale,a.y+=3*this.workspace.scale);a=Blockly.createSvgElement("circle",{cx:a.x,cy:a.y,r:0,fill:"none",stroke:"#888","stroke-width":10},this.workspace.getParentSvg());\nBlockly.BlockSvg.connectionUiStep_(a,new Date,this.workspace.scale)}};Blockly.BlockSvg.connectionUiStep_=function(a,b,c){var d=(new Date-b)/150;1<d?goog.dom.removeNode(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,Blockly.BlockSvg.disconnectUiStop_.pid_=setTimeout(function(){Blockly.BlockSvg.connectionUiStep_(a,b,c)},10))};\nBlockly.BlockSvg.prototype.disconnectUiEffect=function(){this.workspace.playAudio("disconnect");if(!(1>this.workspace.scale)){var a=this.getHeightWidth().height,a=Math.atan(10/a)/Math.PI*180;this.RTL||(a*=-1);Blockly.BlockSvg.disconnectUiStep_(this.svgGroup_,a,new Date)}};\nBlockly.BlockSvg.disconnectUiStep_=function(a,b,c){var d=(new Date-c)/200;1<d?a.skew_="":(a.skew_="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",Blockly.BlockSvg.disconnectUiStop_.group=a,Blockly.BlockSvg.disconnectUiStop_.pid=setTimeout(function(){Blockly.BlockSvg.disconnectUiStep_(a,b,c)},10));a.setAttribute("transform",a.translate_+a.skew_)};\nBlockly.BlockSvg.disconnectUiStop_=function(){if(Blockly.BlockSvg.disconnectUiStop_.group){clearTimeout(Blockly.BlockSvg.disconnectUiStop_.pid);var a=Blockly.BlockSvg.disconnectUiStop_.group;a.skew_="";a.setAttribute("transform",a.translate_);Blockly.BlockSvg.disconnectUiStop_.group=null}};Blockly.BlockSvg.disconnectUiStop_.pid=0;Blockly.BlockSvg.disconnectUiStop_.group=null;\nBlockly.BlockSvg.prototype.updateColour=function(){if(!this.disabled){var a=this.getColour(),b=goog.color.hexToRgb(a);if(this.isShadow())b=goog.color.lighten(b,.6),a=goog.color.rgbArrayToHex(b),this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",a);else{this.svgPathLight_.style.display="";var c=goog.color.rgbArrayToHex(goog.color.lighten(b,.3)),b=goog.color.rgbArrayToHex(goog.color.darken(b,.2));this.svgPathLight_.setAttribute("stroke",c);this.svgPathDark_.setAttribute("fill",\nb)}this.svgPath_.setAttribute("fill",a);a=this.getIcons();for(c=0;c<a.length;c++)a[c].updateColour();for(a=0;c=this.inputList[a];a++)for(var b=0,d;d=c.fieldRow[b];b++)d.setText(null)}};\nBlockly.BlockSvg.prototype.updateDisabled=function(){var a=Blockly.hasClass_(this.svgGroup_,"blocklyDisabled");this.disabled||this.getInheritedDisabled()?a||(Blockly.addClass_(this.svgGroup_,"blocklyDisabled"),this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")")):a&&(Blockly.removeClass_(this.svgGroup_,"blocklyDisabled"),this.updateColour());for(var a=this.getChildren(),b=0,c;c=a[b];b++)c.updateDisabled()};\nBlockly.BlockSvg.prototype.getCommentText=function(){return this.comment?this.comment.getText().replace(/\\s+$/,"").replace(/ +\\n/g,"\\n"):""};Blockly.BlockSvg.prototype.setCommentText=function(a){var b=!1;goog.isString(a)?(this.comment||(this.comment=new Blockly.Comment(this),b=!0),this.comment.setText(a)):this.comment&&(this.comment.dispose(),b=!0);b&&this.rendered&&(this.render(),this.bumpNeighbours_())};\nBlockly.BlockSvg.prototype.setWarningText=function(a,b){this.setWarningText.pid_||(this.setWarningText.pid_=Object.create(null));var c=b||"";if(c)this.setWarningText.pid_[c]&&(clearTimeout(this.setWarningText.pid_[c]),delete this.setWarningText.pid_[c]);else for(var d in this.setWarningText.pid_)clearTimeout(this.setWarningText.pid_[d]),delete this.setWarningText.pid_[d];if(Blockly.dragMode_==Blockly.DRAG_FREE){var e=this;this.setWarningText.pid_[c]=setTimeout(function(){e.workspace&&(delete e.setWarningText.pid_[c],\ne.setWarningText(a,c))},100)}else{this.isInFlyout&&(a=null);d=this.getSurroundParent();for(var f=null;d;)d.isCollapsed()&&(f=d),d=d.getSurroundParent();f&&f.setWarningText(a,"collapsed "+this.id+" "+c);d=!1;goog.isString(a)?(this.warning||(this.warning=new Blockly.Warning(this),d=!0),this.warning.setText(a,c)):this.warning&&!c?(this.warning.dispose(),d=!0):this.warning&&(d=this.warning.getText(),this.warning.setText("",c),(f=this.warning.getText())||this.warning.dispose(),d=d==f);d&&this.rendered&&\n(this.render(),this.bumpNeighbours_())}};Blockly.BlockSvg.prototype.setMutator=function(a){this.mutator&&this.mutator!==a&&this.mutator.dispose();a&&(a.block_=this,this.mutator=a,a.createIcon())};Blockly.BlockSvg.prototype.setDisabled=function(a){this.disabled!=a&&(Blockly.BlockSvg.superClass_.setDisabled.call(this,a),this.rendered&&this.updateDisabled())};\nBlockly.BlockSvg.prototype.addSelect=function(){Blockly.addClass_(this.svgGroup_,"blocklySelected");var a=this;do{var b=a.getSvgRoot();b.parentNode.appendChild(b);a=a.getParent()}while(a)};Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.removeClass_(this.svgGroup_,"blocklySelected")};Blockly.BlockSvg.prototype.addDragging=function(){Blockly.addClass_(this.svgGroup_,"blocklyDragging")};Blockly.BlockSvg.prototype.removeDragging=function(){Blockly.removeClass_(this.svgGroup_,"blocklyDragging")};\nBlockly.BlockSvg.prototype.setColour=function(a){Blockly.BlockSvg.superClass_.setColour.call(this,a);this.rendered&&this.updateColour()};Blockly.BlockSvg.prototype.setPreviousStatement=function(a,b){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.setNextStatement=function(a,b){Blockly.BlockSvg.superClass_.setNextStatement.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};\nBlockly.BlockSvg.prototype.setOutput=function(a,b){Blockly.BlockSvg.superClass_.setOutput.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.setInputsInline=function(a){Blockly.BlockSvg.superClass_.setInputsInline.call(this,a);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.removeInput=function(a,b){Blockly.BlockSvg.superClass_.removeInput.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};\nBlockly.BlockSvg.prototype.moveNumberedInputBefore=function(a,b){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.appendInput_=function(a,b){var c=Blockly.BlockSvg.superClass_.appendInput_.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_());return c};\nBlockly.BlockSvg.prototype.getConnections_=function(a){var b=[];if(a||this.rendered)if(this.outputConnection&&b.push(this.outputConnection),this.previousConnection&&b.push(this.previousConnection),this.nextConnection&&b.push(this.nextConnection),a||!this.collapsed_){a=0;for(var c;c=this.inputList[a];a++)c.connection&&b.push(c.connection)}return b};Blockly.BlockSvg.prototype.makeConnection_=function(a){return new Blockly.RenderedConnection(this,a)};Blockly.BlockSvg.render={};Blockly.BlockSvg.SEP_SPACE_X=10;Blockly.BlockSvg.SEP_SPACE_Y=10;Blockly.BlockSvg.INLINE_PADDING_Y=5;Blockly.BlockSvg.MIN_BLOCK_Y=25;Blockly.BlockSvg.TAB_HEIGHT=20;Blockly.BlockSvg.TAB_WIDTH=8;Blockly.BlockSvg.NOTCH_WIDTH=30;Blockly.BlockSvg.CORNER_RADIUS=8;Blockly.BlockSvg.START_HAT=!1;Blockly.BlockSvg.START_HAT_HEIGHT=15;Blockly.BlockSvg.START_HAT_PATH="c 30,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 70,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 100,0";\nBlockly.BlockSvg.START_HAT_HIGHLIGHT_LTR="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5";Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7";Blockly.BlockSvg.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.5)+.5;Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.5)-.5;Blockly.BlockSvg.NOTCH_PATH_LEFT="l 6,4 3,0 6,-4";Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT="l 6,4 3,0 6,-4";Blockly.BlockSvg.NOTCH_PATH_RIGHT="l -6,4 -3,0 -6,-4";\nBlockly.BlockSvg.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4";Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=20;Blockly.BlockSvg.JAGGED_TEETH_WIDTH=15;Blockly.BlockSvg.TAB_PATH_DOWN="v 5 c 0,10 -"+Blockly.BlockSvg.TAB_WIDTH+",-8 -"+Blockly.BlockSvg.TAB_WIDTH+",7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",-2.5 "+Blockly.BlockSvg.TAB_WIDTH+",7.5";\nBlockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6.5 m -"+.97*Blockly.BlockSvg.TAB_WIDTH+",3 q -"+.05*Blockly.BlockSvg.TAB_WIDTH+",10 "+.3*Blockly.BlockSvg.TAB_WIDTH+",9.5 m "+.67*Blockly.BlockSvg.TAB_WIDTH+",-1.9 v 1.4";Blockly.BlockSvg.TOP_LEFT_CORNER_START="m 0,"+Blockly.BlockSvg.CORNER_RADIUS;Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL="m "+Blockly.BlockSvg.DISTANCE_45_INSIDE+","+Blockly.BlockSvg.DISTANCE_45_INSIDE;\nBlockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR="m 0.5,"+(Blockly.BlockSvg.CORNER_RADIUS-.5);Blockly.BlockSvg.TOP_LEFT_CORNER="A "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0";Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT="A "+(Blockly.BlockSvg.CORNER_RADIUS-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0.5";\nBlockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -"+(Blockly.BlockSvg.NOTCH_WIDTH-15-Blockly.BlockSvg.CORNER_RADIUS)+" a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 -"+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS;Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS;\nBlockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+(-Blockly.BlockSvg.DISTANCE_45_OUTSIDE-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE);Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5);\nBlockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)+","+(Blockly.BlockSvg.DISTANCE_45_OUTSIDE+.5);\nBlockly.BlockSvg.prototype.render=function(a){Blockly.Field.startCache();this.rendered=!0;var b=Blockly.BlockSvg.SEP_SPACE_X;this.RTL&&(b=-b);for(var c=this.getIcons(),d=0;d<c.length;d++)b=c[d].renderIcon(b);b+=this.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X;c=this.renderCompute_(b);this.renderDraw_(b,c);this.renderMoveConnections_();!1!==a&&((a=this.getParent())?a.render(!0):this.workspace.resizeContents());Blockly.Field.stopCache()};\nBlockly.BlockSvg.prototype.renderFields_=function(a,b,c){c+=Blockly.BlockSvg.INLINE_PADDING_Y;this.RTL&&(b=-b);for(var d=0,e;e=a[d];d++){var f=e.getSvgRoot();f&&(this.RTL?(b-=e.renderSep+e.renderWidth,f.setAttribute("transform","translate("+b+","+c+")"),e.renderWidth&&(b-=Blockly.BlockSvg.SEP_SPACE_X)):(f.setAttribute("transform","translate("+(b+e.renderSep)+","+c+")"),e.renderWidth&&(b+=e.renderSep+e.renderWidth+Blockly.BlockSvg.SEP_SPACE_X)))}return this.RTL?-b:b};\nBlockly.BlockSvg.prototype.renderCompute_=function(a){var b=this.inputList,c=[];c.rightEdge=a+2*Blockly.BlockSvg.SEP_SPACE_X;if(this.previousConnection||this.nextConnection)c.rightEdge=Math.max(c.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X);for(var d=0,e=0,f=!1,g=!1,h=!1,k=void 0,m=this.getInputsInline()&&!this.isCollapsed(),p=0,l;l=b[p];p++)if(l.isVisible()){var n;m&&k&&k!=Blockly.NEXT_STATEMENT&&l.type!=Blockly.NEXT_STATEMENT?n=c[c.length-1]:(k=l.type,n=[],n.type=m&&l.type!=\nBlockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:l.type,n.height=0,c.push(n));n.push(l);l.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y;l.renderWidth=m&&l.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+1.25*Blockly.BlockSvg.SEP_SPACE_X:0;if(l.connection&&l.connection.isConnected()){var q=l.connection.targetBlock().getHeightWidth();l.renderHeight=Math.max(l.renderHeight,q.height);l.renderWidth=Math.max(l.renderWidth,q.width)}m||p!=b.length-1?!m&&l.type==Blockly.INPUT_VALUE&&b[p+1]&&b[p+1].type==Blockly.NEXT_STATEMENT&&\nl.renderHeight--:l.renderHeight--;n.height=Math.max(n.height,l.renderHeight);l.fieldWidth=0;1==c.length&&(l.fieldWidth+=this.RTL?-a:a);for(var q=!1,t=0,r;r=l.fieldRow[t];t++){0!=t&&(l.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);var u=r.getSize();r.renderWidth=u.width;r.renderSep=q&&r.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:0;l.fieldWidth+=r.renderWidth+r.renderSep;n.height=Math.max(n.height,u.height);q=r.EDITABLE}n.type!=Blockly.BlockSvg.INLINE&&(n.type==Blockly.NEXT_STATEMENT?(g=!0,e=Math.max(e,l.fieldWidth)):\n(n.type==Blockly.INPUT_VALUE?f=!0:n.type==Blockly.DUMMY_INPUT&&(h=!0),d=Math.max(d,l.fieldWidth)))}for(a=0;n=c[a];a++)if(n.thicker=!1,n.type==Blockly.BlockSvg.INLINE)for(b=0;l=n[b];b++)if(l.type==Blockly.INPUT_VALUE){n.height+=2*Blockly.BlockSvg.INLINE_PADDING_Y;n.thicker=!0;break}c.statementEdge=2*Blockly.BlockSvg.SEP_SPACE_X+e;g&&(c.rightEdge=Math.max(c.rightEdge,c.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH));f?c.rightEdge=Math.max(c.rightEdge,d+2*Blockly.BlockSvg.SEP_SPACE_X+Blockly.BlockSvg.TAB_WIDTH):\nh&&(c.rightEdge=Math.max(c.rightEdge,d+2*Blockly.BlockSvg.SEP_SPACE_X));c.hasValue=f;c.hasStatement=g;c.hasDummy=h;return c};\nBlockly.BlockSvg.prototype.renderDraw_=function(a,b){this.startHat_=!1;this.height=0;if(this.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1;if(this.previousConnection){var c=this.previousConnection.targetBlock();c&&c.getNextBlock()==this&&(this.squareTopLeftCorner_=!0)}else Blockly.BlockSvg.START_HAT&&(this.startHat_=this.squareTopLeftCorner_=!0,this.height+=Blockly.BlockSvg.START_HAT_HEIGHT,b.rightEdge=Math.max(b.rightEdge,\n100));this.getNextBlock()&&(this.squareBottomLeftCorner_=!0)}var d=[],e=[],c=[],f=[];this.renderDrawTop_(d,c,b.rightEdge);var g=this.renderDrawRight_(d,c,e,f,b,a);this.renderDrawBottom_(d,c,g);this.renderDrawLeft_(d,c);d=d.join(" ")+"\\n"+e.join(" ");this.svgPath_.setAttribute("d",d);this.svgPathDark_.setAttribute("d",d);d=c.join(" ")+"\\n"+f.join(" ");this.svgPathLight_.setAttribute("d",d);this.RTL&&(this.svgPath_.setAttribute("transform","scale(-1 1)"),this.svgPathLight_.setAttribute("transform",\n"scale(-1 1)"),this.svgPathDark_.setAttribute("transform","translate(1,1) scale(-1 1)"))};\nBlockly.BlockSvg.prototype.renderMoveConnections_=function(){var a=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(a);this.outputConnection&&this.outputConnection.moveToOffset(a);for(var b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.moveToOffset(a),c.isConnected()&&c.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(a),this.nextConnection.isConnected()&&this.nextConnection.tighten_())};\nBlockly.BlockSvg.prototype.renderDrawTop_=function(a,b,c){this.squareTopLeftCorner_?(a.push("m 0,0"),b.push("m 0.5,0.5"),this.startHat_&&(a.push(Blockly.BlockSvg.START_HAT_PATH),b.push(this.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(a.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),b.push(this.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),a.push(Blockly.BlockSvg.TOP_LEFT_CORNER),b.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT));\nthis.previousConnection&&(a.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),b.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),a.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),b.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),this.previousConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,0));a.push("H",c);b.push("H",c-.5);this.width=c};\nBlockly.BlockSvg.prototype.renderDrawRight_=function(a,b,c,d,e,f){for(var g,h=0,k,m,p=0,l;l=e[p];p++){g=Blockly.BlockSvg.SEP_SPACE_X;0==p&&(g+=this.RTL?-f:f);b.push("M",e.rightEdge-.5+","+(h+.5));if(this.isCollapsed()){var n=l[0];k=h;this.renderFields_(n.fieldRow,g,k);a.push(Blockly.BlockSvg.JAGGED_TEETH);b.push("h 8");n=l.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT;a.push("v",n);this.RTL&&(b.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),b.push("v",n-.7));this.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH}else if(l.type==\nBlockly.BlockSvg.INLINE){for(var q=0;n=l[q];q++)k=h,l.thicker&&(k+=Blockly.BlockSvg.INLINE_PADDING_Y),g=this.renderFields_(n.fieldRow,g,k),n.type!=Blockly.DUMMY_INPUT&&(g+=n.renderWidth+Blockly.BlockSvg.SEP_SPACE_X),n.type==Blockly.INPUT_VALUE&&(c.push("M",g-Blockly.BlockSvg.SEP_SPACE_X+","+(h+Blockly.BlockSvg.INLINE_PADDING_Y)),c.push("h",Blockly.BlockSvg.TAB_WIDTH-2-n.renderWidth),c.push(Blockly.BlockSvg.TAB_PATH_DOWN),c.push("v",n.renderHeight+1-Blockly.BlockSvg.TAB_HEIGHT),c.push("h",n.renderWidth+\n2-Blockly.BlockSvg.TAB_WIDTH),c.push("z"),this.RTL?(d.push("M",g-Blockly.BlockSvg.SEP_SPACE_X-2.5+Blockly.BlockSvg.TAB_WIDTH-n.renderWidth+","+(h+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),d.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),d.push("v",n.renderHeight-Blockly.BlockSvg.TAB_HEIGHT+2.5),d.push("h",n.renderWidth-Blockly.BlockSvg.TAB_WIDTH+2)):(d.push("M",g-Blockly.BlockSvg.SEP_SPACE_X+.5+","+(h+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),d.push("v",n.renderHeight+1),d.push("h",Blockly.BlockSvg.TAB_WIDTH-\n2-n.renderWidth),d.push("M",g-n.renderWidth-Blockly.BlockSvg.SEP_SPACE_X+.9+","+(h+Blockly.BlockSvg.INLINE_PADDING_Y+Blockly.BlockSvg.TAB_HEIGHT-.7)),d.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),k=this.RTL?-g-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+n.renderWidth+1:g+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-n.renderWidth-1,m=h+Blockly.BlockSvg.INLINE_PADDING_Y+1,n.connection.setOffsetInBlock(k,m));g=Math.max(g,e.rightEdge);this.width=Math.max(this.width,g);a.push("H",\ng);b.push("H",g-.5);a.push("v",l.height);this.RTL&&b.push("v",l.height-1)}else l.type==Blockly.INPUT_VALUE?(n=l[0],k=h,n.align!=Blockly.ALIGN_LEFT&&(q=e.rightEdge-n.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X,n.align==Blockly.ALIGN_RIGHT?g+=q:n.align==Blockly.ALIGN_CENTRE&&(g+=q/2)),this.renderFields_(n.fieldRow,g,k),a.push(Blockly.BlockSvg.TAB_PATH_DOWN),q=l.height-Blockly.BlockSvg.TAB_HEIGHT,a.push("v",q),this.RTL?(b.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),b.push("v",\nq+.5)):(b.push("M",e.rightEdge-5+","+(h+Blockly.BlockSvg.TAB_HEIGHT-.7)),b.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),k=this.RTL?-e.rightEdge-1:e.rightEdge+1,n.connection.setOffsetInBlock(k,h),n.connection.isConnected()&&(this.width=Math.max(this.width,e.rightEdge+n.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+1))):l.type==Blockly.DUMMY_INPUT?(n=l[0],k=h,n.align!=Blockly.ALIGN_LEFT&&(q=e.rightEdge-n.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,e.hasValue&&(q-=Blockly.BlockSvg.TAB_WIDTH),\nn.align==Blockly.ALIGN_RIGHT?g+=q:n.align==Blockly.ALIGN_CENTRE&&(g+=q/2)),this.renderFields_(n.fieldRow,g,k),a.push("v",l.height),this.RTL&&b.push("v",l.height-1)):l.type==Blockly.NEXT_STATEMENT&&(n=l[0],0==p&&(a.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&b.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),h+=Blockly.BlockSvg.SEP_SPACE_Y),k=h,n.align!=Blockly.ALIGN_LEFT&&(q=e.statementEdge-n.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,n.align==Blockly.ALIGN_RIGHT?g+=q:n.align==Blockly.ALIGN_CENTRE&&(g+=\nq/2)),this.renderFields_(n.fieldRow,g,k),g=e.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH,a.push("H",g),a.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER),a.push("v",l.height-2*Blockly.BlockSvg.CORNER_RADIUS),a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER),a.push("H",e.rightEdge),this.RTL?(b.push("M",g-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(h+Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),b.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),b.push("v",l.height-2*Blockly.BlockSvg.CORNER_RADIUS),\nb.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)):(b.push("M",g-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(h+l.height-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),b.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR)),b.push("H",e.rightEdge-.5),k=this.RTL?-g:g+1,n.connection.setOffsetInBlock(k,h+1),n.connection.isConnected()&&(this.width=Math.max(this.width,e.statementEdge+n.connection.targetBlock().getHeightWidth().width)),p==e.length-1||e[p+1].type==\nBlockly.NEXT_STATEMENT)&&(a.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&b.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),h+=Blockly.BlockSvg.SEP_SPACE_Y);h+=l.height}e.length||(h=Blockly.BlockSvg.MIN_BLOCK_Y,a.push("V",h),this.RTL&&b.push("V",h-1));return h};\nBlockly.BlockSvg.prototype.renderDrawBottom_=function(a,b,c){this.height+=c+1;this.nextConnection&&(a.push("H",Blockly.BlockSvg.NOTCH_WIDTH+(this.RTL?.5:-.5)+" "+Blockly.BlockSvg.NOTCH_PATH_RIGHT),this.nextConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,c+1),this.height+=4);this.squareBottomLeftCorner_?(a.push("H 0"),this.RTL||b.push("M","0.5,"+(c-.5))):(a.push("H",Blockly.BlockSvg.CORNER_RADIUS),a.push("a",Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+\n" 0 0,1 -"+Blockly.BlockSvg.CORNER_RADIUS+",-"+Blockly.BlockSvg.CORNER_RADIUS),this.RTL||(b.push("M",Blockly.BlockSvg.DISTANCE_45_INSIDE+","+(c-Blockly.BlockSvg.DISTANCE_45_INSIDE)),b.push("A",Blockly.BlockSvg.CORNER_RADIUS-.5+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 0.5,"+(c-Blockly.BlockSvg.CORNER_RADIUS))))};\nBlockly.BlockSvg.prototype.renderDrawLeft_=function(a,b){this.outputConnection?(this.outputConnection.setOffsetInBlock(0,0),a.push("V",Blockly.BlockSvg.TAB_HEIGHT),a.push("c 0,-10 -"+Blockly.BlockSvg.TAB_WIDTH+",8 -"+Blockly.BlockSvg.TAB_WIDTH+",-7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",2.5 "+Blockly.BlockSvg.TAB_WIDTH+",-7.5"),this.RTL?(b.push("M",-.25*Blockly.BlockSvg.TAB_WIDTH+",8.4"),b.push("l",-.45*Blockly.BlockSvg.TAB_WIDTH+",-2.1")):(b.push("V",Blockly.BlockSvg.TAB_HEIGHT-1.5),b.push("m",-.92*\nBlockly.BlockSvg.TAB_WIDTH+",-0.5 q "+-.19*Blockly.BlockSvg.TAB_WIDTH+",-5.5 0,-11"),b.push("m",.92*Blockly.BlockSvg.TAB_WIDTH+",1 V 0.5 H 1")),this.width+=Blockly.BlockSvg.TAB_WIDTH):this.RTL||(this.squareTopLeftCorner_?b.push("V",.5):b.push("V",Blockly.BlockSvg.CORNER_RADIUS));a.push("z")};Blockly.Events={};Blockly.Events.group_="";Blockly.Events.recordUndo=!0;Blockly.Events.disabled_=0;Blockly.Events.CREATE="create";Blockly.Events.DELETE="delete";Blockly.Events.CHANGE="change";Blockly.Events.MOVE="move";Blockly.Events.UI="ui";Blockly.Events.FIRE_QUEUE_=[];Blockly.Events.fire=function(a){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(a))};\nBlockly.Events.fireNow_=function(){for(var a=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),b=Blockly.Events.FIRE_QUEUE_.length=0,c;c=a[b];b++){var d=Blockly.Workspace.getById(c.workspaceId);d&&d.fireChangeListener(c)}};\nBlockly.Events.filter=function(a,b){var c=goog.array.clone(a);b||c.reverse();for(var d=0,e;e=c[d];d++)for(var f=d+1,g;g=c[f];f++)e.type==g.type&&e.blockId==g.blockId&&e.workspaceId==g.workspaceId&&(e.type==Blockly.Events.MOVE?(e.newParentId=g.newParentId,e.newInputName=g.newInputName,e.newCoordinate=g.newCoordinate,c.splice(f,1),f--):e.type==Blockly.Events.CHANGE&&e.element==g.element&&e.name==g.name?(e.newValue=g.newValue,c.splice(f,1),f--):e.type!=Blockly.Events.UI||"click"!=g.element||"commentOpen"!=\ne.element&&"mutatorOpen"!=e.element&&"warningOpen"!=e.element||(e.newValue=g.newValue,c.splice(f,1),f--));for(d=c.length-1;0<=d;d--)c[d].isNull()&&c.splice(d,1);b||c.reverse();for(d=1;e=c[d];d++)e.type==Blockly.Events.CHANGE&&"mutation"==e.element&&c.unshift(c.splice(d,1)[0]);return c};Blockly.Events.clearPendingUndo=function(){for(var a=0,b;b=Blockly.Events.FIRE_QUEUE_[a];a++)b.recordUndo=!1};Blockly.Events.disable=function(){Blockly.Events.disabled_++};Blockly.Events.enable=function(){Blockly.Events.disabled_--};\nBlockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_};Blockly.Events.getGroup=function(){return Blockly.Events.group_};Blockly.Events.setGroup=function(a){Blockly.Events.group_="boolean"==typeof a?a?Blockly.genUid():"":a};Blockly.Events.getDescendantIds_=function(a){var b=[];a=a.getDescendants();for(var c=0,d;d=a[c];c++)b[c]=d.id;return b};\nBlockly.Events.fromJson=function(a,b){var c;switch(a.type){case Blockly.Events.CREATE:c=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:c=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:c=new Blockly.Events.Change(null);break;case Blockly.Events.MOVE:c=new Blockly.Events.Move(null);break;case Blockly.Events.UI:c=new Blockly.Events.Ui(null);break;default:throw"Unknown event type.";}c.fromJson(a);c.workspaceId=b.id;return c};\nBlockly.Events.Abstract=function(a){a&&(this.blockId=a.id,this.workspaceId=a.workspace.id);this.group=Blockly.Events.group_;this.recordUndo=Blockly.Events.recordUndo};Blockly.Events.Abstract.prototype.toJson=function(){var a={type:this.type};this.blockId&&(a.blockId=this.blockId);this.group&&(a.group=this.group);return a};Blockly.Events.Abstract.prototype.fromJson=function(a){this.blockId=a.blockId;this.group=a.group};Blockly.Events.Abstract.prototype.isNull=function(){return!1};\nBlockly.Events.Abstract.prototype.run=function(a){};Blockly.Events.Create=function(a){a&&(Blockly.Events.Create.superClass_.constructor.call(this,a),this.xml=Blockly.Xml.blockToDomWithXY(a),this.ids=Blockly.Events.getDescendantIds_(a))};goog.inherits(Blockly.Events.Create,Blockly.Events.Abstract);Blockly.Events.Create.prototype.type=Blockly.Events.CREATE;\nBlockly.Events.Create.prototype.toJson=function(){var a=Blockly.Events.Create.superClass_.toJson.call(this);a.xml=Blockly.Xml.domToText(this.xml);a.ids=this.ids;return a};Blockly.Events.Create.prototype.fromJson=function(a){Blockly.Events.Create.superClass_.fromJson.call(this,a);this.xml=Blockly.Xml.textToDom("<xml>"+a.xml+"</xml>").firstChild;this.ids=a.ids};\nBlockly.Events.Create.prototype.run=function(a){var b=Blockly.Workspace.getById(this.workspaceId);if(a)a=goog.dom.createDom("xml"),a.appendChild(this.xml),Blockly.Xml.domToWorkspace(a,b);else{a=0;for(var c;c=this.ids[a];a++){var d=b.getBlockById(c);d?d.dispose(!1,!1):c==this.blockId&&console.warn("Can\'t uncreate non-existant block: "+c)}}};\nBlockly.Events.Delete=function(a){if(a){if(a.getParent())throw"Connected blocks cannot be deleted.";Blockly.Events.Delete.superClass_.constructor.call(this,a);this.oldXml=Blockly.Xml.blockToDomWithXY(a);this.ids=Blockly.Events.getDescendantIds_(a)}};goog.inherits(Blockly.Events.Delete,Blockly.Events.Abstract);Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE;Blockly.Events.Delete.prototype.toJson=function(){var a=Blockly.Events.Delete.superClass_.toJson.call(this);a.ids=this.ids;return a};\nBlockly.Events.Delete.prototype.fromJson=function(a){Blockly.Events.Delete.superClass_.fromJson.call(this,a);this.ids=a.ids};Blockly.Events.Delete.prototype.run=function(a){var b=Blockly.Workspace.getById(this.workspaceId);if(a){a=0;for(var c;c=this.ids[a];a++){var d=b.getBlockById(c);d?d.dispose(!1,!1):c==this.blockId&&console.warn("Can\'t delete non-existant block: "+c)}}else a=goog.dom.createDom("xml"),a.appendChild(this.oldXml),Blockly.Xml.domToWorkspace(a,b)};\nBlockly.Events.Change=function(a,b,c,d,e){a&&(Blockly.Events.Change.superClass_.constructor.call(this,a),this.element=b,this.name=c,this.oldValue=d,this.newValue=e)};goog.inherits(Blockly.Events.Change,Blockly.Events.Abstract);Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE;Blockly.Events.Change.prototype.toJson=function(){var a=Blockly.Events.Change.superClass_.toJson.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};\nBlockly.Events.Change.prototype.fromJson=function(a){Blockly.Events.Change.superClass_.fromJson.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue};\nBlockly.Events.Change.prototype.run=function(a){var b=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId);if(b)switch(b.mutator&&b.mutator.setVisible(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=b.getField(this.name))?(b.callValidator(a),b.setValue(a)):console.warn("Can\'t set non-existant field: "+this.name);break;case "comment":b.setCommentText(a||null);break;case "collapsed":b.setCollapsed(a);break;case "disabled":b.setDisabled(a);break;case "inline":b.setInputsInline(a);\nbreak;case "mutation":var c="";b.mutationToDom&&(c=(c=b.mutationToDom())&&Blockly.Xml.domToText(c));if(b.domToMutation){a=a||"<mutation></mutation>";var d=Blockly.Xml.textToDom("<xml>"+a+"</xml>");b.domToMutation(d.firstChild)}Blockly.Events.fire(new Blockly.Events.Change(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can\'t change non-existant block: "+this.blockId)};\nBlockly.Events.Move=function(a){a&&(Blockly.Events.Move.superClass_.constructor.call(this,a),a=this.currentLocation_(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate)};goog.inherits(Blockly.Events.Move,Blockly.Events.Abstract);Blockly.Events.Move.prototype.type=Blockly.Events.MOVE;\nBlockly.Events.Move.prototype.toJson=function(){var a=Blockly.Events.Move.superClass_.toJson.call(this);this.newParentId&&(a.newParentId=this.newParentId);this.newInputName&&(a.newInputName=this.newInputName);this.newCoordinate&&(a.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y));return a};\nBlockly.Events.Move.prototype.fromJson=function(a){Blockly.Events.Move.superClass_.fromJson.call(this,a);this.newParentId=a.newParentId;this.newInputName=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.newCoordinate=new goog.math.Coordinate(parseFloat(a[0]),parseFloat(a[1])))};Blockly.Events.Move.prototype.recordNew=function(){var a=this.currentLocation_();this.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate};\nBlockly.Events.Move.prototype.currentLocation_=function(){var a=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),b={},c=a.getParent();if(c){if(b.parentId=c.id,a=c.getInputWithBlock(a))b.inputName=a.name}else b.coordinate=a.getRelativeToSurfaceXY();return b};Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&goog.math.Coordinate.equals(this.oldCoordinate,this.newCoordinate)};\nBlockly.Events.Move.prototype.run=function(a){var b=Blockly.Workspace.getById(this.workspaceId),c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;a=a?this.newCoordinate:this.oldCoordinate;var f=null;if(d&&(f=b.getBlockById(d),!f)){console.warn("Can\'t connect to non-existant block: "+d);return}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y);else{var c=c.outputConnection||c.previousConnection,\ng;if(e){if(b=f.getInput(e))g=b.connection}else c.type==Blockly.PREVIOUS_STATEMENT&&(g=f.nextConnection);g?c.connect(g):console.warn("Can\'t connect to non-existant input: "+e)}}else console.warn("Can\'t move non-existant block: "+this.blockId)};Blockly.Events.Ui=function(a,b,c,d){Blockly.Events.Ui.superClass_.constructor.call(this,a);this.element=b;this.oldValue=c;this.newValue=d;this.recordUndo=!1};goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract);Blockly.Events.Ui.prototype.type=Blockly.Events.UI;\nBlockly.Events.Ui.prototype.toJson=function(){var a=Blockly.Events.Ui.superClass_.toJson.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);return a};Blockly.Events.Ui.prototype.fromJson=function(a){Blockly.Events.Ui.superClass_.fromJson.call(this,a);this.element=a.element;this.newValue=a.newValue};\nBlockly.Events.disableOrphans=function(a){if(a.type==Blockly.Events.MOVE||a.type==Blockly.Events.CREATE){Blockly.Events.disable();if(a=Blockly.Workspace.getById(a.workspaceId).getBlockById(a.blockId))if(a.getParent()&&!a.getParent().disabled){a=a.getDescendants();for(var b=0,c;c=a[b];b++)c.setDisabled(!1)}else if((a.outputConnection||a.previousConnection)&&Blockly.dragMode_==Blockly.DRAG_NONE){do a.setDisabled(!0),a=a.getNextBlock();while(a)}Blockly.Events.enable()}};Blockly.Msg={};goog.getMsgOrig=goog.getMsg;goog.getMsg=function(a,b){var c=goog.getMsg.blocklyMsgMap[a];c&&(a=Blockly.Msg[c]);return goog.getMsgOrig(a,b)};goog.getMsg.blocklyMsgMap={Today:"TODAY"};Blockly.FieldTextInput=function(a,b){Blockly.FieldTextInput.superClass_.constructor.call(this,a,b)};goog.inherits(Blockly.FieldTextInput,Blockly.Field);Blockly.FieldTextInput.FONTSIZE=11;Blockly.FieldTextInput.prototype.CURSOR="text";Blockly.FieldTextInput.prototype.spellcheck_=!0;Blockly.FieldTextInput.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this);Blockly.FieldTextInput.superClass_.dispose.call(this)};\nBlockly.FieldTextInput.prototype.setValue=function(a){if(null!==a){if(this.sourceBlock_){var b=this.callValidator(a);null!==b&&(a=b)}Blockly.Field.prototype.setValue.call(this,a)}};Blockly.FieldTextInput.prototype.setSpellcheck=function(a){this.spellcheck_=a};\nBlockly.FieldTextInput.prototype.showEditor_=function(a){this.workspace_=this.sourceBlock_.workspace;a=a||!1;if(!a&&(goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD))a=window.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.text_),this.sourceBlock_&&(a=this.callValidator(a)),this.setValue(a);else{Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_());var b=Blockly.WidgetDiv.DIV,c=goog.dom.createDom("INPUT","blocklyHtmlInput");c.setAttribute("spellcheck",this.spellcheck_);\nvar d=Blockly.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";b.style.fontSize=d;c.style.fontSize=d;Blockly.FieldTextInput.htmlInput_=c;b.appendChild(c);c.value=c.defaultValue=this.text_;c.oldValue_=null;this.validate_();this.resizeEditor_();a||(c.focus(),c.select());c.onKeyDownWrapper_=Blockly.bindEventWithChecks_(c,"keydown",this,this.onHtmlInputKeyDown_);c.onKeyUpWrapper_=Blockly.bindEventWithChecks_(c,"keyup",this,this.onHtmlInputChange_);c.onKeyPressWrapper_=Blockly.bindEventWithChecks_(c,\n"keypress",this,this.onHtmlInputChange_);c.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this);this.workspace_.addChangeListener(c.onWorkspaceChangeWrapper_)}};Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(a){var b=Blockly.FieldTextInput.htmlInput_;13==a.keyCode?Blockly.WidgetDiv.hide():27==a.keyCode?(b.value=b.defaultValue,Blockly.WidgetDiv.hide()):9==a.keyCode&&(Blockly.WidgetDiv.hide(),this.sourceBlock_.tab(this,!a.shiftKey),a.preventDefault())};\nBlockly.FieldTextInput.prototype.onHtmlInputChange_=function(a){a=Blockly.FieldTextInput.htmlInput_;var b=a.value;b!==a.oldValue_?(a.oldValue_=b,this.setValue(b),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render();this.resizeEditor_();Blockly.svgResize(this.sourceBlock_.workspace)};\nBlockly.FieldTextInput.prototype.validate_=function(){var a=!0;goog.asserts.assertObject(Blockly.FieldTextInput.htmlInput_);var b=Blockly.FieldTextInput.htmlInput_;this.sourceBlock_&&(a=this.callValidator(b.value));null===a?Blockly.addClass_(b,"blocklyInvalidInput"):Blockly.removeClass_(b,"blocklyInvalidInput")};\nBlockly.FieldTextInput.prototype.resizeEditor_=function(){var a=Blockly.WidgetDiv.DIV,b=this.fieldGroup_.getBBox();a.style.width=b.width*this.workspace_.scale+"px";a.style.height=b.height*this.workspace_.scale+"px";b=this.getAbsoluteXY_();if(this.sourceBlock_.RTL){var c=this.getScaledBBox_();b.x+=c.width;b.x-=a.offsetWidth}b.y+=1;goog.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--b.x,--b.y);goog.userAgent.WEBKIT&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};\nBlockly.FieldTextInput.prototype.widgetDispose_=function(){var a=this;return function(){var b=Blockly.FieldTextInput.htmlInput_,c=b.value;if(a.sourceBlock_)if(c=a.callValidator(c),null===c)c=b.defaultValue;else if(a.onFinishEditing_)a.onFinishEditing_(c);a.setValue(c);a.sourceBlock_.rendered&&a.sourceBlock_.render();Blockly.unbindEvent_(b.onKeyDownWrapper_);Blockly.unbindEvent_(b.onKeyUpWrapper_);Blockly.unbindEvent_(b.onKeyPressWrapper_);a.workspace_.removeChangeListener(b.onWorkspaceChangeWrapper_);\nBlockly.FieldTextInput.htmlInput_=null;b=Blockly.WidgetDiv.DIV.style;b.width="auto";b.height="auto";b.fontSize=""}};Blockly.FieldTextInput.numberValidator=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);return isNaN(a)?null:String(a)};\nBlockly.FieldTextInput.nonnegativeIntegerValidator=function(a){(a=Blockly.FieldTextInput.numberValidator(a))&&(a=String(Math.max(0,Math.floor(a))));return a};Blockly.FieldAngle=function(a,b){this.symbol_=Blockly.createSvgElement("tspan",{},null);this.symbol_.appendChild(document.createTextNode("\\u00b0"));Blockly.FieldAngle.superClass_.constructor.call(this,a,b)};goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput);Blockly.FieldAngle.ROUND=15;Blockly.FieldAngle.HALF=50;Blockly.FieldAngle.CLOCKWISE=!1;Blockly.FieldAngle.OFFSET=0;Blockly.FieldAngle.WRAP=360;Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1;\nBlockly.FieldAngle.prototype.dispose_=function(){var a=this;return function(){Blockly.FieldAngle.superClass_.dispose_.call(a)();a.gauge_=null;a.clickWrapper_&&Blockly.unbindEvent_(a.clickWrapper_);a.moveWrapper1_&&Blockly.unbindEvent_(a.moveWrapper1_);a.moveWrapper2_&&Blockly.unbindEvent_(a.moveWrapper2_)}};\nBlockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this,goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD);var a=Blockly.WidgetDiv.DIV;if(a.firstChild){var a=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},a),b=Blockly.createSvgElement("circle",\n{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,"class":"blocklyAngleCircle"},a);this.gauge_=Blockly.createSvgElement("path",{"class":"blocklyAngleGauge"},a);this.line_=Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-\n(0==c%45?10:5),y2:Blockly.FieldAngle.HALF,"class":"blocklyAngleMarks",transform:"rotate("+c+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},a);a.style.marginLeft=15-Blockly.FieldAngle.RADIUS+"px";this.clickWrapper_=Blockly.bindEvent_(a,"click",this,Blockly.WidgetDiv.hide);this.moveWrapper1_=Blockly.bindEvent_(b,"mousemove",this,this.onMouseMove);this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove);this.updateGraph_()}};\nBlockly.FieldAngle.prototype.onMouseMove=function(a){var b=this.gauge_.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-Blockly.FieldAngle.HALF;a=a.clientY-b.top-Blockly.FieldAngle.HALF;b=Math.atan(-a/c);isNaN(b)||(b=goog.math.toDegrees(b),0>c?b+=180:0<a&&(b+=360),b=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+360-b:b-Blockly.FieldAngle.OFFSET,Blockly.FieldAngle.ROUND&&(b=Math.round(b/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),b=this.callValidator(b),Blockly.FieldTextInput.htmlInput_.value=\nb,this.setValue(b),this.validate_(),this.resizeEditor_())};Blockly.FieldAngle.prototype.setText=function(a){Blockly.FieldAngle.superClass_.setText.call(this,a);this.textElement_&&(this.updateGraph_(),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.symbol_,this.textElement_.firstChild):this.textElement_.appendChild(this.symbol_),this.size_.width=0)};\nBlockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var a=Number(this.getText())+Blockly.FieldAngle.OFFSET,b=goog.math.toRadians(a),a=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF],c=Blockly.FieldAngle.HALF,d=Blockly.FieldAngle.HALF;if(!isNaN(b)){var e=goog.math.toRadians(Blockly.FieldAngle.OFFSET),f=Math.cos(e)*Blockly.FieldAngle.RADIUS,g=Math.sin(e)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&&(b=2*e-b);c+=Math.cos(b)*Blockly.FieldAngle.RADIUS;d-=Math.sin(b)*\nBlockly.FieldAngle.RADIUS;b=Math.abs(Math.floor((b-e)/Math.PI)%2);Blockly.FieldAngle.CLOCKWISE&&(b=1-b);a.push(" l ",f,",",g," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",b," ",Number(Blockly.FieldAngle.CLOCKWISE)," ",c,",",d," z")}this.gauge_.setAttribute("d",a.join(""));this.line_.setAttribute("x2",c);this.line_.setAttribute("y2",d)}};\nBlockly.FieldAngle.prototype.classValidator=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);a>Blockly.FieldAngle.WRAP&&(a-=360);return String(a)};Blockly.FieldCheckbox=function(a,b){Blockly.FieldCheckbox.superClass_.constructor.call(this,"",b);this.setValue(a)};goog.inherits(Blockly.FieldCheckbox,Blockly.Field);Blockly.FieldCheckbox.CHECK_CHAR="\\u2713";Blockly.FieldCheckbox.prototype.CURSOR="default";\nBlockly.FieldCheckbox.prototype.init=function(){if(!this.fieldGroup_){Blockly.FieldCheckbox.superClass_.init.call(this);this.checkElement_=Blockly.createSvgElement("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.fieldGroup_);var a=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);this.checkElement_.appendChild(a);this.checkElement_.style.display=this.state_?"block":"none"}};Blockly.FieldCheckbox.prototype.getValue=function(){return String(this.state_).toUpperCase()};\nBlockly.FieldCheckbox.prototype.setValue=function(a){a="TRUE"==a.toUpperCase();this.state_!==a&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.state_,a)),this.state_=a,this.checkElement_&&(this.checkElement_.style.display=a?"block":"none"))};Blockly.FieldCheckbox.prototype.showEditor_=function(){var a=!this.state_;this.sourceBlock_&&(a=this.callValidator(a));null!==a&&this.setValue(String(a).toUpperCase())};Blockly.FieldColour=function(a,b){Blockly.FieldColour.superClass_.constructor.call(this,a,b);this.setText(Blockly.Field.NBSP+Blockly.Field.NBSP+Blockly.Field.NBSP)};goog.inherits(Blockly.FieldColour,Blockly.Field);Blockly.FieldColour.prototype.colours_=null;Blockly.FieldColour.prototype.columns_=0;Blockly.FieldColour.prototype.init=function(){Blockly.FieldColour.superClass_.init.call(this);this.borderRect_.style.fillOpacity=1;this.setValue(this.getValue())};Blockly.FieldColour.prototype.CURSOR="default";\nBlockly.FieldColour.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this);Blockly.FieldColour.superClass_.dispose.call(this)};Blockly.FieldColour.prototype.getValue=function(){return this.colour_};Blockly.FieldColour.prototype.setValue=function(a){this.sourceBlock_&&Blockly.Events.isEnabled()&&this.colour_!=a&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.colour_,a));this.colour_=a;this.borderRect_&&(this.borderRect_.style.fill=a)};\nBlockly.FieldColour.prototype.getText=function(){var a=this.colour_,b=a.match(/^#(.)\\1(.)\\2(.)\\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};Blockly.FieldColour.COLOURS=goog.ui.ColorPicker.SIMPLE_GRID_COLORS;Blockly.FieldColour.COLUMNS=7;Blockly.FieldColour.prototype.setColours=function(a){this.colours_=a;return this};Blockly.FieldColour.prototype.setColumns=function(a){this.columns_=a;return this};\nBlockly.FieldColour.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,Blockly.FieldColour.widgetDispose_);var a=new goog.ui.ColorPicker;a.setSize(this.columns_||Blockly.FieldColour.COLUMNS);a.setColors(this.colours_||Blockly.FieldColour.COLOURS);var b=goog.dom.getViewportSize(),c=goog.style.getViewportPageOffset(document),d=this.getAbsoluteXY_(),e=this.getScaledBBox_();a.render(Blockly.WidgetDiv.DIV);a.setSelectedColor(this.getValue());var f=goog.style.getSize(a.getElement());\nd.y=d.y+f.height+e.height>=b.height+c.y?d.y-(f.height-1):d.y+(e.height-1);this.sourceBlock_.RTL?(d.x+=e.width,d.x-=f.width,d.x<c.x&&(d.x=c.x)):d.x>b.width+c.x-f.width&&(d.x=b.width+c.x-f.width);Blockly.WidgetDiv.position(d.x,d.y,b,c,this.sourceBlock_.RTL);var g=this;Blockly.FieldColour.changeEventKey_=goog.events.listen(a,goog.ui.ColorPicker.EventType.CHANGE,function(a){a=a.target.getSelectedColor()||"#000000";Blockly.WidgetDiv.hide();g.sourceBlock_&&(a=g.callValidator(a));null!==a&&g.setValue(a)})};\nBlockly.FieldColour.widgetDispose_=function(){Blockly.FieldColour.changeEventKey_&&goog.events.unlistenByKey(Blockly.FieldColour.changeEventKey_)};Blockly.FieldDropdown=function(a,b){this.menuGenerator_=a;this.trimOptions_();var c=this.getOptions_()[0];Blockly.FieldDropdown.superClass_.constructor.call(this,c[1],b)};goog.inherits(Blockly.FieldDropdown,Blockly.Field);Blockly.FieldDropdown.CHECKMARK_OVERHANG=25;Blockly.FieldDropdown.ARROW_CHAR=goog.userAgent.ANDROID?"\\u25bc":"\\u25be";Blockly.FieldDropdown.prototype.CURSOR="default";\nBlockly.FieldDropdown.prototype.init=function(){if(!this.fieldGroup_){this.arrow_=Blockly.createSvgElement("tspan",{},null);this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR));Blockly.FieldDropdown.superClass_.init.call(this);var a=this.text_;this.text_=null;this.setText(a)}};\nBlockly.FieldDropdown.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,null);var a=this,b=new goog.ui.Menu;b.setRightToLeft(this.sourceBlock_.RTL);for(var c=this.getOptions_(),d=0;d<c.length;d++){var e=c[d][1],f=new goog.ui.MenuItem(c[d][0]);f.setRightToLeft(this.sourceBlock_.RTL);f.setValue(e);f.setCheckable(!0);b.addChild(f,!0);f.setChecked(e==this.value_)}goog.events.listen(b,goog.ui.Component.EventType.ACTION,function(b){if(b=b.target)b=b.getValue(),a.sourceBlock_&&\n(b=a.callValidator(b)),null!==b&&a.setValue(b);Blockly.WidgetDiv.hideIfOwner(a)});b.getHandler().listen(b.getElement(),goog.events.EventType.TOUCHSTART,function(a){this.getOwnerControl(a.target).handleMouseDown(a)});b.getHandler().listen(b.getElement(),goog.events.EventType.TOUCHEND,function(a){this.getOwnerControl(a.target).performActionInternal(a)});c=goog.dom.getViewportSize();d=goog.style.getViewportPageOffset(document);e=this.getAbsoluteXY_();f=this.getScaledBBox_();b.render(Blockly.WidgetDiv.DIV);\nvar g=b.getElement();Blockly.addClass_(g,"blocklyDropdownMenu");var h=goog.style.getSize(g);h.height=g.scrollHeight;e.y=e.y+h.height+f.height>=c.height+d.y?e.y-(h.height+2):e.y+f.height;this.sourceBlock_.RTL?(e.x+=f.width,e.x+=Blockly.FieldDropdown.CHECKMARK_OVERHANG,e.x<d.x+h.width&&(e.x=d.x+h.width)):(e.x-=Blockly.FieldDropdown.CHECKMARK_OVERHANG,e.x>c.width+d.x-h.width&&(e.x=c.width+d.x-h.width));Blockly.WidgetDiv.position(e.x,e.y,c,d,this.sourceBlock_.RTL);b.setAllowAutoFocus(!0);g.focus()};\nBlockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var a=this.menuGenerator_;if(goog.isArray(a)&&!(2>a.length)){var b=a.map(function(a){return a[0]}),c=Blockly.shortestStringLength(b),d=Blockly.commonWordPrefix(b,c),e=Blockly.commonWordSuffix(b,c);if((d||e)&&!(c<=d+e)){d&&(this.prefixField=b[0].substring(0,d-1));e&&(this.suffixField=b[0].substr(1-e));b=[];for(c=0;c<a.length;c++){var f=a[c][0],g=a[c][1],f=f.substring(d,f.length-e);b[c]=[f,g]}this.menuGenerator_=\nb}}};Blockly.FieldDropdown.prototype.getOptions_=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_};Blockly.FieldDropdown.prototype.getValue=function(){return this.value_};\nBlockly.FieldDropdown.prototype.setValue=function(a){if(null!==a&&a!==this.value_){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,a));this.value_=a;for(var b=this.getOptions_(),c=0;c<b.length;c++)if(b[c][1]==a){this.setText(b[c][0]);return}this.setText(a)}};\nBlockly.FieldDropdown.prototype.setText=function(a){this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.getColour());null!==a&&a!==this.text_&&(this.text_=a,this.updateTextNode_(),this.textElement_&&(this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_)),this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()))};\nBlockly.FieldDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this);Blockly.FieldDropdown.superClass_.dispose.call(this)};Blockly.FieldImage=function(a,b,c,d){this.sourceBlock_=null;this.height_=Number(c);this.width_=Number(b);this.size_=new goog.math.Size(this.width_,this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y);this.text_=d||"";this.setValue(a)};goog.inherits(Blockly.FieldImage,Blockly.Field);Blockly.FieldImage.prototype.rectElement_=null;Blockly.FieldImage.prototype.EDITABLE=!1;\nBlockly.FieldImage.prototype.init=function(){if(!this.fieldGroup_){this.fieldGroup_=Blockly.createSvgElement("g",{},null);this.visible_||(this.fieldGroup_.style.display="none");this.imageElement_=Blockly.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px"},this.fieldGroup_);this.setValue(this.src_);goog.userAgent.GECKO&&(this.rectElement_=Blockly.createSvgElement("rect",{height:this.height_+"px",width:this.width_+"px","fill-opacity":0},this.fieldGroup_));this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);\nvar a=this.rectElement_||this.imageElement_;a.tooltip=this.sourceBlock_;Blockly.Tooltip.bindMouseEvents(a)}};Blockly.FieldImage.prototype.dispose=function(){goog.dom.removeNode(this.fieldGroup_);this.rectElement_=this.imageElement_=this.fieldGroup_=null};Blockly.FieldImage.prototype.setTooltip=function(a){(this.rectElement_||this.imageElement_).tooltip=a};Blockly.FieldImage.prototype.getValue=function(){return this.src_};\nBlockly.FieldImage.prototype.setValue=function(a){null!==a&&(this.src_=a,this.imageElement_&&this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",goog.isString(a)?a:""))};Blockly.FieldImage.prototype.setText=function(a){null!==a&&(this.text_=a)};Blockly.FieldImage.prototype.render_=function(){};Blockly.FieldNumber=function(a,b,c,d,e){a=String(a);Blockly.FieldNumber.superClass_.constructor.call(this,a,e);this.setConstraints(b,c,d)};goog.inherits(Blockly.FieldNumber,Blockly.FieldTextInput);Blockly.FieldNumber.prototype.setConstraints=function(a,b,c){c=parseFloat(c);this.precision_=isNaN(c)?0:c;a=parseFloat(a);this.min_=isNaN(a)?-Infinity:a;b=parseFloat(b);this.max_=isNaN(b)?Infinity:b;this.setValue(this.callValidator(this.getValue()))};\nBlockly.FieldNumber.prototype.classValidator=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);a=goog.math.clamp(a,this.min_,this.max_);return String(a)};Blockly.Variables={};Blockly.Variables.NAME_TYPE="VARIABLE";Blockly.Variables.allUsedVariables=function(a){var b;if(a instanceof Blockly.Block)b=a.getDescendants();else if(a.getAllBlocks)b=a.getAllBlocks();else throw"Not Block or Workspace: "+a;a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].getVars();if(d)for(var e=0;e<d.length;e++){var f=d[e];f&&(a[f.toLowerCase()]=f)}}b=[];for(var g in a)b.push(a[g]);return b};\nBlockly.Variables.allVariables=function(a){a instanceof Blockly.Block&&console.warn("Deprecated call to Blockly.Variables.allVariables with a block instead of a workspace.  You may want Blockly.Variables.allUsedVariables");return a.variableList};\nBlockly.Variables.flyoutCategory=function(a){a=a.variableList;a.sort(goog.string.caseInsensitiveCompare);var b=[],c=goog.dom.createDom("button");c.setAttribute("text",Blockly.Msg.NEW_VARIABLE);b.push(c);if(0<a.length){if(Blockly.Blocks.variables_set){c=goog.dom.createDom("block");c.setAttribute("type","variables_set");Blockly.Blocks.math_change?c.setAttribute("gap",8):c.setAttribute("gap",24);var d=goog.dom.createDom("field",null,a[0]);d.setAttribute("name","VAR");c.appendChild(d);b.push(c)}if(Blockly.Blocks.math_change){c=\ngoog.dom.createDom("block");c.setAttribute("type","math_change");Blockly.Blocks.variables_get&&c.setAttribute("gap",20);var e=goog.dom.createDom("value");e.setAttribute("name","DELTA");c.appendChild(e);d=goog.dom.createDom("field",null,a[0]);d.setAttribute("name","VAR");c.appendChild(d);d=goog.dom.createDom("shadow");d.setAttribute("type","math_number");e.appendChild(d);e=goog.dom.createDom("field",null,"1");e.setAttribute("name","NUM");d.appendChild(e);b.push(c)}for(e=0;e<a.length;e++)Blockly.Blocks.variables_get&&\n(c=goog.dom.createDom("block"),c.setAttribute("type","variables_get"),Blockly.Blocks.variables_set&&c.setAttribute("gap",8),d=goog.dom.createDom("field",null,a[e]),d.setAttribute("name","VAR"),c.appendChild(d),b.push(c))}return b};\nBlockly.Variables.generateUniqueName=function(a){a=a.variableList;var b="";if(a.length)for(var c=1,d=0,e="ijkmnopqrstuvwxyzabcdefgh".charAt(d);!b;){for(var f=!1,g=0;g<a.length;g++)if(a[g].toLowerCase()==e){f=!0;break}f?(d++,25==d&&(d=0,c++),e="ijkmnopqrstuvwxyzabcdefgh".charAt(d),1<c&&(e+=c)):b=e}else b="i";return b};\nBlockly.Variables.createVariable=function(a){for(;;){var b=Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE,"");if(b)if(-1!=a.variableIndexOf(b))window.alert(Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",b.toLowerCase()));else{a.createVariable(b);break}else{b=null;break}}return b};Blockly.Variables.promptName=function(a,b){var c=window.prompt(a,b);c&&(c=c.replace(/[\\s\\xa0]+/g," ").replace(/^ | $/g,""),c==Blockly.Msg.RENAME_VARIABLE||c==Blockly.Msg.NEW_VARIABLE)&&(c=null);return c};Blockly.FieldVariable=function(a,b){Blockly.FieldVariable.superClass_.constructor.call(this,Blockly.FieldVariable.dropdownCreate,b);this.setValue(a||"")};goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown);\nBlockly.FieldVariable.prototype.init=function(){this.fieldGroup_||(Blockly.FieldVariable.superClass_.init.call(this),this.getValue()||this.setValue(Blockly.Variables.generateUniqueName(this.sourceBlock_.isInFlyout?this.sourceBlock_.workspace.targetWorkspace:this.sourceBlock_.workspace)),this.sourceBlock_.isInFlyout||this.sourceBlock_.workspace.createVariable(this.getValue()))};Blockly.FieldVariable.prototype.getValue=function(){return this.getText()};\nBlockly.FieldVariable.prototype.setValue=function(a){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,a));this.value_=a;this.setText(a)};\nBlockly.FieldVariable.dropdownCreate=function(){var a=this.sourceBlock_&&this.sourceBlock_.workspace?this.sourceBlock_.workspace.variableList.slice(0):[],b=this.getText();b&&-1==a.indexOf(b)&&a.push(b);a.sort(goog.string.caseInsensitiveCompare);a.push(Blockly.Msg.RENAME_VARIABLE);a.push(Blockly.Msg.DELETE_VARIABLE.replace("%1",b));for(var b=[],c=0;c<a.length;c++)b[c]=[a[c],a[c]];return b};\nBlockly.FieldVariable.prototype.classValidator=function(a){var b=this.sourceBlock_.workspace;if(a==Blockly.Msg.RENAME_VARIABLE){var c=this.getText();Blockly.hideChaff();(a=Blockly.Variables.promptName(Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",c),c))&&b.renameVariable(c,a);return null}if(a==Blockly.Msg.DELETE_VARIABLE.replace("%1",this.getText()))return b.deleteVariable(this.getText()),null};Blockly.Generator=function(a){this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")};Blockly.Generator.NAME_TYPE="generated_function";Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null;Blockly.Generator.prototype.STATEMENT_PREFIX=null;Blockly.Generator.prototype.INDENT="  ";Blockly.Generator.prototype.COMMENT_WRAP=60;Blockly.Generator.prototype.ORDER_OVERRIDES=[];\nBlockly.Generator.prototype.workspaceToCode=function(a){a||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),a=Blockly.getMainWorkspace());var b=[];this.init(a);a=a.getTopBlocks(!0);for(var c=0,d;d=a[c];c++){var e=this.blockToCode(d);goog.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&this.scrubNakedValue&&(e=this.scrubNakedValue(e)),b.push(e))}b=b.join("\\n");b=this.finish(b);b=b.replace(/^\\s+\\n/,"");b=b.replace(/\\n\\s+$/,"\\n");return b=b.replace(/[ \\t]+\\n/g,"\\n")};\nBlockly.Generator.prototype.prefixLines=function(a,b){return b+a.replace(/(?!\\n$)\\n/g,"\\n"+b)};Blockly.Generator.prototype.allNestedComments=function(a){var b=[];a=a.getDescendants();for(var c=0;c<a.length;c++){var d=a[c].getCommentText();d&&b.push(d)}b.length&&b.push("");return b.join("\\n")};\nBlockly.Generator.prototype.blockToCode=function(a){if(!a)return"";if(a.disabled)return this.blockToCode(a.getNextBlock());var b=this[a.type];goog.asserts.assertFunction(b,\'Language "%s" does not know how to generate code for block type "%s".\',this.name_,a.type);b=b.call(a,a);if(goog.isArray(b))return goog.asserts.assert(a.outputConnection,\'Expecting string from statement block "%s".\',a.type),[this.scrub_(a,b[0]),b[1]];if(goog.isString(b)){var c=a.id.replace(/\\$/g,"$$$$");this.STATEMENT_PREFIX&&(b=\nthis.STATEMENT_PREFIX.replace(/%1/g,"\'"+c+"\'")+b);return this.scrub_(a,b)}if(null===b)return"";goog.asserts.fail("Invalid code generated: %s",b)};\nBlockly.Generator.prototype.valueToCode=function(a,b,c){isNaN(c)&&goog.asserts.fail(\'Expecting valid order from block "%s".\',a.type);var d=a.getInputTargetBlock(b);if(!d)return"";b=this.blockToCode(d);if(""===b)return"";goog.asserts.assertArray(b,\'Expecting tuple from value block "%s".\',d.type);a=b[0];b=b[1];isNaN(b)&&goog.asserts.fail(\'Expecting valid order from value block "%s".\',d.type);if(!a)return"";var d=!1,e=Math.floor(c),f=Math.floor(b);if(e<=f&&(e!=f||0!=e&&99!=e))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]==\nc&&this.ORDER_OVERRIDES[e][1]==b){d=!1;break}d&&(a="("+a+")");return a};Blockly.Generator.prototype.statementToCode=function(a,b){var c=a.getInputTargetBlock(b),d=this.blockToCode(c);goog.asserts.assertString(d,\'Expecting code from statement block "%s".\',c&&c.type);d&&(d=this.prefixLines(d,this.INDENT));return d};\nBlockly.Generator.prototype.addLoopTrap=function(a,b){b=b.replace(/\\$/g,"$$$$");this.INFINITE_LOOP_TRAP&&(a=this.INFINITE_LOOP_TRAP.replace(/%1/g,"\'"+b+"\'")+a);this.STATEMENT_PREFIX&&(a+=this.prefixLines(this.STATEMENT_PREFIX.replace(/%1/g,"\'"+b+"\'"),this.INDENT));return a};Blockly.Generator.prototype.RESERVED_WORDS_="";Blockly.Generator.prototype.addReservedWords=function(a){this.RESERVED_WORDS_+=a+","};Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}";\nBlockly.Generator.prototype.provideFunction_=function(a,b){if(!this.definitions_[a]){var c=this.variableDB_.getDistinctName(a,Blockly.Procedures.NAME_TYPE);this.functionNames_[a]=c;for(var c=b.join("\\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c),d;d!=c;)d=c,c=c.replace(/^((  )*)  /gm,"$1"+this.INDENT);this.definitions_[a]=c}return this.functionNames_[a]};Blockly.Names=function(a,b){this.variablePrefix_=b||"";this.reservedDict_=Object.create(null);if(a)for(var c=a.split(","),d=0;d<c.length;d++)this.reservedDict_[c[d]]=!0;this.reset()};Blockly.Names.prototype.reset=function(){this.db_=Object.create(null);this.dbReverse_=Object.create(null)};\nBlockly.Names.prototype.getName=function(a,b){var c=a.toLowerCase()+"_"+b,d=b==Blockly.Variables.NAME_TYPE?this.variablePrefix_:"";if(c in this.db_)return d+this.db_[c];var e=this.getDistinctName(a,b);this.db_[c]=e.substr(d.length);return e};Blockly.Names.prototype.getDistinctName=function(a,b){for(var c=this.safeName_(a),d="";this.dbReverse_[c+d]||c+d in this.reservedDict_;)d=d?d+1:2;c+=d;this.dbReverse_[c]=!0;return(b==Blockly.Variables.NAME_TYPE?this.variablePrefix_:"")+c};\nBlockly.Names.prototype.safeName_=function(a){a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\\w]/g,"_"),-1!="0123456789".indexOf(a[0])&&(a="my_"+a)):a="unnamed";return a};Blockly.Names.equals=function(a,b){return a.toLowerCase()==b.toLowerCase()};Blockly.Procedures={};Blockly.Procedures.NAME_TYPE="PROCEDURE";Blockly.Procedures.allProcedures=function(a){a=a.getAllBlocks();for(var b=[],c=[],d=0;d<a.length;d++)if(a[d].getProcedureDef){var e=a[d].getProcedureDef();e&&(e[2]?b.push(e):c.push(e))}c.sort(Blockly.Procedures.procTupleComparator_);b.sort(Blockly.Procedures.procTupleComparator_);return[c,b]};Blockly.Procedures.procTupleComparator_=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};\nBlockly.Procedures.findLegalName=function(a,b){if(b.isInFlyout)return a;for(;!Blockly.Procedures.isLegalName_(a,b.workspace,b);){var c=a.match(/^(.*?)(\\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};Blockly.Procedures.isLegalName_=function(a,b,c){b=b.getAllBlocks();for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].getProcedureDef){var e=b[d].getProcedureDef();if(Blockly.Names.equals(e[0],a))return!1}return!0};\nBlockly.Procedures.rename=function(a){a=a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"");var b=Blockly.Procedures.findLegalName(a,this.sourceBlock_),c=this.text_;if(c!=a&&c!=b){a=this.sourceBlock_.workspace.getAllBlocks();for(var d=0;d<a.length;d++)a[d].renameProcedure&&a[d].renameProcedure(c,b)}return b};\nBlockly.Procedures.flyoutCategory=function(a){function b(a,b){for(var d=0;d<a.length;d++){var h=a[d][0],k=a[d][1],m=goog.dom.createDom("block");m.setAttribute("type",b);m.setAttribute("gap",16);var p=goog.dom.createDom("mutation");p.setAttribute("name",h);m.appendChild(p);for(h=0;h<k.length;h++){var l=goog.dom.createDom("arg");l.setAttribute("name",k[h]);p.appendChild(l)}c.push(m)}}var c=[];if(Blockly.Blocks.procedures_defnoreturn){var d=goog.dom.createDom("block");d.setAttribute("type","procedures_defnoreturn");\nd.setAttribute("gap",16);c.push(d)}Blockly.Blocks.procedures_defreturn&&(d=goog.dom.createDom("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),c.push(d));Blockly.Blocks.procedures_ifreturn&&(d=goog.dom.createDom("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=Blockly.Procedures.allProcedures(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c};\nBlockly.Procedures.getCallers=function(a,b){for(var c=[],d=b.getAllBlocks(),e=0;e<d.length;e++)if(d[e].getProcedureCall){var f=d[e].getProcedureCall();f&&Blockly.Names.equals(f,a)&&c.push(d[e])}return c};\nBlockly.Procedures.mutateCallers=function(a){var b=Blockly.Events.recordUndo,c=a.getProcedureDef()[0],d=a.mutationToDom(!0);a=Blockly.Procedures.getCallers(c,a.workspace);for(var c=0,e;e=a[c];c++){var f=e.mutationToDom(),f=f&&Blockly.Xml.domToText(f);e.domToMutation(d);var g=e.mutationToDom(),g=g&&Blockly.Xml.domToText(g);f!=g&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.Change(e,"mutation",null,f,g)),Blockly.Events.recordUndo=b)}};\nBlockly.Procedures.getDefinition=function(a,b){for(var c=b.getTopBlocks(!1),d=0;d<c.length;d++)if(c[d].getProcedureDef){var e=c[d].getProcedureDef();if(e&&Blockly.Names.equals(e[0],a))return c[d]}return null};Blockly.FlyoutButton=function(a,b,c){this.workspace_=a;this.targetWorkspace_=b;this.text_=c;this.position_=new goog.math.Coordinate(0,0)};Blockly.FlyoutButton.MARGIN=5;Blockly.FlyoutButton.prototype.width=0;Blockly.FlyoutButton.prototype.height=0;\nBlockly.FlyoutButton.prototype.createDom=function(){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyFlyoutButton"},this.workspace_.getCanvas());var a=Blockly.createSvgElement("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_),b=Blockly.createSvgElement("rect",{"class":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_),c=Blockly.createSvgElement("text",{"class":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);c.textContent=this.text_;this.width=\nc.getComputedTextLength()+2*Blockly.FlyoutButton.MARGIN;this.height=20;a.setAttribute("width",this.width);a.setAttribute("height",this.height);b.setAttribute("width",this.width);b.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height-Blockly.FlyoutButton.MARGIN);this.updateTransform_();return this.svgGroup_};Blockly.FlyoutButton.prototype.show=function(){this.updateTransform_();this.svgGroup_.setAttribute("display","block")};\nBlockly.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")};Blockly.FlyoutButton.prototype.moveTo=function(a,b){this.position_.x=a;this.position_.y=b;this.updateTransform_()};Blockly.FlyoutButton.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.targetWorkspace_=this.workspace_=null};\nBlockly.FlyoutButton.prototype.onMouseUp=function(a){a.preventDefault();a.stopPropagation();Blockly.Flyout.terminateDrag_();Blockly.Variables.createVariable(this.targetWorkspace_)};Blockly.Flyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);this.workspace_=new Blockly.WorkspaceSvg(a);this.workspace_.isFlyout=!0;this.RTL=!!a.RTL;this.horizontalLayout_=a.horizontalLayout;this.toolboxPosition_=a.toolboxPosition;this.eventWrappers_=[];this.backgroundButtons_=[];this.buttons_=[];this.listeners_=[];this.permanentlyDisabled_=[];this.startDragMouseX_=this.startDragMouseY_=0};Blockly.Flyout.startFlyout_=null;\nBlockly.Flyout.startDownEvent_=null;Blockly.Flyout.startBlock_=null;Blockly.Flyout.onMouseUpWrapper_=null;Blockly.Flyout.onMouseMoveWrapper_=null;Blockly.Flyout.onMouseMoveBlockWrapper_=null;Blockly.Flyout.prototype.autoClose=!0;Blockly.Flyout.prototype.CORNER_RADIUS=8;Blockly.Flyout.prototype.DRAG_RADIUS=10;Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS;Blockly.Flyout.prototype.GAP_X=3*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.GAP_Y=3*Blockly.Flyout.prototype.MARGIN;\nBlockly.Flyout.prototype.SCROLLBAR_PADDING=2;Blockly.Flyout.prototype.width_=0;Blockly.Flyout.prototype.height_=0;Blockly.Flyout.prototype.dragMode_=Blockly.DRAG_NONE;Blockly.Flyout.prototype.dragAngleRange_=70;Blockly.Flyout.prototype.createDom=function(){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyFlyout"},null);this.svgBackground_=Blockly.createSvgElement("path",{"class":"blocklyFlyoutBackground"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());return this.svgGroup_};\nBlockly.Flyout.prototype.init=function(a){this.targetWorkspace_=a;this.workspace_.targetWorkspace=a;this.scrollbar_=new Blockly.Scrollbar(this.workspace_,this.horizontalLayout_,!1);this.hide();Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_));this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_));Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgGroup_,\n"mousedown",this,this.onMouseDown_))};\nBlockly.Flyout.prototype.dispose=function(){this.hide();Blockly.unbindEvent_(this.eventWrappers_);this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null);this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null);this.workspace_&&(this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null);this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.targetWorkspace_=this.svgBackground_=null};\nBlockly.Flyout.prototype.getWidth=function(){return this.width_};Blockly.Flyout.prototype.getHeight=function(){return this.height_};\nBlockly.Flyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var a=this.workspace_.getCanvas().getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.SCROLLBAR_PADDING,c=this.SCROLLBAR_PADDING;if(this.horizontalLayout_){this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(b=0);var d=this.height_;this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&&(d+=this.MARGIN-this.SCROLLBAR_PADDING);var e=this.width_-2*this.SCROLLBAR_PADDING}else c=0,d=this.height_-2*this.SCROLLBAR_PADDING,\ne=this.width_,this.RTL||(e-=this.SCROLLBAR_PADDING);return{viewHeight:d,viewWidth:e,contentHeight:(a.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(a.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:a.y,contentLeft:a.x,absoluteTop:b,absoluteLeft:c}};\nBlockly.Flyout.prototype.setMetrics_=function(a){var b=this.getMetrics_();b&&(!this.horizontalLayout_&&goog.isNumber(a.y)?this.workspace_.scrollY=-b.contentHeight*a.y:this.horizontalLayout_&&goog.isNumber(a.x)&&(this.workspace_.scrollX=-b.contentWidth*a.x),this.workspace_.translate(this.workspace_.scrollX+b.absoluteLeft,this.workspace_.scrollY+b.absoluteTop))};\nBlockly.Flyout.prototype.position=function(){if(this.isVisible()){var a=this.targetWorkspace_.getMetrics();if(a){var b=this.horizontalLayout_?a.viewWidth:this.width_,b=b-this.CORNER_RADIUS;this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(b*=-1);this.setBackgroundPath_(b,this.horizontalLayout_?this.height_:a.viewHeight);b=a.absoluteLeft;this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(b+=a.viewWidth,b-=this.width_);var c=a.absoluteTop;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(c+=a.viewHeight,\nc-=this.height_);this.svgGroup_.setAttribute("transform","translate("+b+","+c+")");this.horizontalLayout_?this.width_=a.viewWidth:this.height_=a.viewHeight;this.scrollbar_&&this.scrollbar_.resize()}}};Blockly.Flyout.prototype.setBackgroundPath_=function(a,b){this.horizontalLayout_?this.setBackgroundPathHorizontal_(a,b):this.setBackgroundPathVertical_(a,b)};\nBlockly.Flyout.prototype.setBackgroundPathVertical_=function(a,b){var c=this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,d=["M "+(c?this.width_:0)+",0"];d.push("h",a);d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("v",Math.max(0,b-2*this.CORNER_RADIUS));d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("h",-a);d.push("z");this.svgBackground_.setAttribute("d",\nd.join(" "))};\nBlockly.Flyout.prototype.setBackgroundPathHorizontal_=function(a,b){var c=this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,d=["M 0,"+(c?0:this.CORNER_RADIUS)];c?(d.push("h",a+this.CORNER_RADIUS),d.push("v",b),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-1*(a-this.CORNER_RADIUS)),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,\n-this.CORNER_RADIUS),d.push("h",a-this.CORNER_RADIUS),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",b-this.CORNER_RADIUS),d.push("h",-a-this.CORNER_RADIUS));d.push("z");this.svgBackground_.setAttribute("d",d.join(" "))};Blockly.Flyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.horizontalLayout_&&this.RTL?Infinity:0)};\nBlockly.Flyout.prototype.wheel_=function(a){var b=this.horizontalLayout_?a.deltaX:a.deltaY;if(b){goog.userAgent.GECKO&&(b*=10);var c=this.getMetrics_(),b=this.horizontalLayout_?c.viewLeft+b:c.viewTop+b,b=Math.min(b,this.horizontalLayout_?c.contentWidth-c.viewWidth:c.contentHeight-c.viewHeight),b=Math.max(b,0);this.scrollbar_.set(b)}a.preventDefault();a.stopPropagation()};Blockly.Flyout.prototype.isVisible=function(){return this.svgGroup_&&"block"==this.svgGroup_.style.display};\nBlockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.svgGroup_.style.display="none";for(var a=0,b;b=this.listeners_[a];a++)Blockly.unbindEvent_(b);this.listeners_.length=0;this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}};\nBlockly.Flyout.prototype.show=function(a){this.hide();this.clearOldBlocks_();a==Blockly.Variables.NAME_TYPE?a=Blockly.Variables.flyoutCategory(this.workspace_.targetWorkspace):a==Blockly.Procedures.NAME_TYPE&&(a=Blockly.Procedures.flyoutCategory(this.workspace_.targetWorkspace));this.svgGroup_.style.display="block";for(var b=[],c=[],d=this.permanentlyDisabled_.length=0,e;e=a[d];d++)if(e.tagName){var f=e.tagName.toUpperCase(),g=this.horizontalLayout_?this.GAP_X:this.GAP_Y;"BLOCK"==f?(f=Blockly.Xml.domToBlock(e,\nthis.workspace_),f.disabled&&this.permanentlyDisabled_.push(f),b.push({type:"block",block:f}),e=parseInt(e.getAttribute("gap"),10),c.push(isNaN(e)?g:e)):"SEP"==e.tagName.toUpperCase()?(e=parseInt(e.getAttribute("gap"),10),!isNaN(e)&&0<c.length?c[c.length-1]=e:c.push(g)):"BUTTON"==f&&(e=e.getAttribute("text"),e=new Blockly.FlyoutButton(this.workspace_,this.targetWorkspace_,e),b.push({type:"button",button:e}),c.push(g))}this.layout_(b,c);this.listeners_.push(Blockly.bindEventWithChecks_(this.svgBackground_,\n"mouseover",this,function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)c.removeSelect()}));this.horizontalLayout_?this.height_=0:this.width_=0;this.reflow();this.filterForCapacity_();this.position();this.reflowWrapper_=this.reflow.bind(this);this.workspace_.addChangeListener(this.reflowWrapper_)};\nBlockly.Flyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace_.scale;var c=this.MARGIN,d=this.RTL?c:c+Blockly.BlockSvg.TAB_WIDTH;this.horizontalLayout_&&this.RTL&&(a=a.reverse());for(var e=0,f;f=a[e];e++)if("block"==f.type){f=f.block;for(var g=f.getDescendants(),h=0,k;k=g[h];h++)k.isInFlyout=!0;f.render();g=f.getSvgRoot();h=f.getHeightWidth();k=f.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0;this.horizontalLayout_&&(d+=k);f.moveBy(this.horizontalLayout_&&this.RTL?d+h.width-\nk:d,c);this.horizontalLayout_?d+=h.width+b[e]-k:c+=h.height+b[e];h=Blockly.createSvgElement("rect",{"fill-opacity":0},null);h.tooltip=f;Blockly.Tooltip.bindMouseEvents(h);this.workspace_.getCanvas().insertBefore(h,f.getSvgRoot());f.flyoutRect_=h;this.backgroundButtons_[e]=h;this.addBlockListeners_(g,f,h)}else"button"==f.type&&(f=f.button,g=f.createDom(),f.moveTo(d,c),f.show(),Blockly.bindEventWithChecks_(g,"mouseup",f,f.onMouseUp),this.buttons_.push(f),this.horizontalLayout_?d+=f.width+b[e]:c+=f.height+\nb[e])};Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)c.workspace==this.workspace_&&c.dispose(!1,!1);for(b=0;a=this.backgroundButtons_[b];b++)goog.dom.removeNode(a);for(b=this.backgroundButtons_.length=0;a=this.buttons_[b];b++)a.dispose();this.buttons_.length=0};\nBlockly.Flyout.prototype.addBlockListeners_=function(a,b,c){this.listeners_.push(Blockly.bindEventWithChecks_(a,"mousedown",null,this.blockMouseDown_(b)));this.listeners_.push(Blockly.bindEventWithChecks_(c,"mousedown",null,this.blockMouseDown_(b)));this.listeners_.push(Blockly.bindEvent_(a,"mouseover",b,b.addSelect));this.listeners_.push(Blockly.bindEvent_(a,"mouseout",b,b.removeSelect));this.listeners_.push(Blockly.bindEvent_(c,"mouseover",b,b.addSelect));this.listeners_.push(Blockly.bindEvent_(c,\n"mouseout",b,b.removeSelect))};Blockly.Flyout.blockRightClick_=function(a,b){Blockly.terminateDrag_();Blockly.hideChaff(!0);b.showContextMenu_(a);Blockly.Touch.clearTouchIdentifier()};\nBlockly.Flyout.prototype.blockMouseDown_=function(a){var b=this;return function(c){Blockly.isRightButton(c)?Blockly.Flyout.blockRightClick_(c,a):(Blockly.terminateDrag_(),Blockly.hideChaff(!0),Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),b.startDragMouseY_=c.clientY,b.startDragMouseX_=c.clientX,Blockly.Flyout.startDownEvent_=c,Blockly.Flyout.startBlock_=a,Blockly.Flyout.startFlyout_=b,Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",b,b.onMouseUp_),Blockly.Flyout.onMouseMoveBlockWrapper_=\nBlockly.bindEventWithChecks_(document,"mousemove",b,b.onMouseMoveBlock_));c.stopPropagation();c.preventDefault()}};\nBlockly.Flyout.prototype.onMouseDown_=function(a){Blockly.isRightButton(a)?Blockly.Touch.clearTouchIdentifier():(Blockly.hideChaff(!0),this.dragMode_=Blockly.DRAG_FREE,this.startDragMouseY_=a.clientY,this.startDragMouseX_=a.clientX,Blockly.Flyout.startFlyout_=this,Blockly.Flyout.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMove_),Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Flyout.terminateDrag_),a.preventDefault(),\na.stopPropagation())};Blockly.Flyout.prototype.onMouseUp_=function(a){this.workspace_.isDragging()||(Blockly.Touch.clearTouchIdentifier(),this.autoClose?this.createBlockFunc_(Blockly.Flyout.startBlock_)(Blockly.Flyout.startDownEvent_):Blockly.WidgetDiv.isVisible()||Blockly.Events.fire(new Blockly.Events.Ui(Blockly.Flyout.startBlock_,"click",void 0,void 0)));Blockly.terminateDrag_()};\nBlockly.Flyout.prototype.onMouseMove_=function(a){var b=this.getMetrics_();if(this.horizontalLayout_){if(!(0>b.contentWidth-b.viewWidth)){var c=a.clientX-this.startDragMouseX_;this.startDragMouseX_=a.clientX;a=b.viewLeft-c;a=goog.math.clamp(a,0,b.contentWidth-b.viewWidth);this.scrollbar_.set(a)}}else 0>b.contentHeight-b.viewHeight||(c=a.clientY-this.startDragMouseY_,this.startDragMouseY_=a.clientY,a=b.viewTop-c,a=goog.math.clamp(a,0,b.contentHeight-b.viewHeight),this.scrollbar_.set(a))};\nBlockly.Flyout.prototype.onMouseMoveBlock_=function(a){"mousemove"==a.type&&1>=a.clientX&&0==a.clientY&&0==a.button||(this.determineDragIntention_(a.clientX-Blockly.Flyout.startDownEvent_.clientX,a.clientY-Blockly.Flyout.startDownEvent_.clientY)?(Blockly.longStop_(),this.createBlockFunc_(Blockly.Flyout.startBlock_)(Blockly.Flyout.startDownEvent_)):this.dragMode_==Blockly.DRAG_FREE&&(Blockly.longStop_(),this.onMouseMove_(a)));a.stopPropagation()};\nBlockly.Flyout.prototype.determineDragIntention_=function(a,b){if(this.dragMode_==Blockly.DRAG_FREE)return!1;if(Math.sqrt(a*a+b*b)<this.DRAG_RADIUS)return this.dragMode_=Blockly.DRAG_STICKY,!1;if(this.isDragTowardWorkspace_(a,b)||!this.scrollbar_.isVisible())return!0;this.dragMode_=Blockly.DRAG_FREE;return!1};\nBlockly.Flyout.prototype.isDragTowardWorkspace_=function(a,b){var c=Math.atan2(b,a)/Math.PI*180,d=!1,e=this.dragAngleRange_;if(this.horizontalLayout_)this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?c<90+e&&c>90-e&&(d=!0):c>-90-e&&c<-90+e&&(d=!0);else if(this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT)c<e&&c>-e&&(d=!0);else if(c<-180+e||c>180-e)d=!0;return d};\nBlockly.Flyout.prototype.createBlockFunc_=function(a){var b=this;return function(c){if(!Blockly.isRightButton(c)&&!a.disabled){Blockly.Events.disable();try{var d=b.placeNewBlock_(a)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(d)));b.autoClose?b.hide():b.filterForCapacity_();d.onMouseDown_(c);Blockly.dragMode_=Blockly.DRAG_FREE;d.setDragging_(!0)}}};\nBlockly.Flyout.prototype.placeNewBlock_=function(a){var b=this.targetWorkspace_,c=a.getSvgRoot();if(!c)throw"originBlock is not rendered.";var c=Blockly.getSvgXY_(c,b),d=this.workspace_.scrollX,e=this.workspace_.scale;c.x+=d/e-d;this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(d=b.getMetrics().viewWidth-this.width_,e=b.scale,c.x+=d/e-d);d=this.workspace_.scrollY;e=this.workspace_.scale;c.y+=d/e-d;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(d=b.getMetrics().viewHeight-this.height_,e=b.scale,\nc.y+=d/e-d);a=Blockly.Xml.blockToDom(a);a=Blockly.Xml.domToBlock(a,b);e=a.getSvgRoot();if(!e)throw"block is not rendered.";e=Blockly.getSvgXY_(e,b);e.x+=b.scrollX/b.scale-b.scrollX;e.y+=b.scrollY/b.scale-b.scrollY;b.toolbox_&&!b.scrollbar&&(e.x+=b.toolbox_.getWidth()/b.scale,e.y+=b.toolbox_.getHeight()/b.scale);a.moveBy(c.x-e.x,c.y-e.y);return a};\nBlockly.Flyout.prototype.filterForCapacity_=function(){for(var a=this.targetWorkspace_.remainingCapacity(),b=this.workspace_.getTopBlocks(!1),c=0,d;d=b[c];c++)if(-1==this.permanentlyDisabled_.indexOf(d)){var e=d.getDescendants();d.setDisabled(e.length>a)}};\nBlockly.Flyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.left,c=a.top,d=a.width,a=a.height;return this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1E9,c-1E9,2E9,1E9+a):this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM?new goog.math.Rect(-1E9,c,2E9,1E9+a):this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?new goog.math.Rect(b-1E9,-1E9,1E9+d,2E9):new goog.math.Rect(b,-1E9,1E9+d,2E9)};\nBlockly.Flyout.terminateDrag_=function(){Blockly.Flyout.startFlyout_&&(Blockly.Flyout.startFlyout_.dragMode_==Blockly.DRAG_FREE&&Blockly.Touch.clearTouchIdentifier(),Blockly.Flyout.startFlyout_.dragMode_=Blockly.DRAG_NONE,Blockly.Flyout.startFlyout_=null);Blockly.Flyout.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseUpWrapper_),Blockly.Flyout.onMouseUpWrapper_=null);Blockly.Flyout.onMouseMoveBlockWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveBlockWrapper_),Blockly.Flyout.onMouseMoveBlockWrapper_=\nnull);Blockly.Flyout.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveWrapper_),Blockly.Flyout.onMouseMoveWrapper_=null);Blockly.Flyout.startDownEvent_=null;Blockly.Flyout.startBlock_=null};\nBlockly.Flyout.prototype.reflowHorizontal=function(a){this.workspace_.scale=this.targetWorkspace_.scale;for(var b=0,c=0,d;d=a[c];c++)b=Math.max(b,d.getHeightWidth().height);b+=1.5*this.MARGIN;b*=this.workspace_.scale;b+=Blockly.Scrollbar.scrollbarThickness;if(this.height_!=b){for(c=0;d=a[c];c++){var e=d.getHeightWidth();if(d.flyoutRect_){d.flyoutRect_.setAttribute("width",e.width);d.flyoutRect_.setAttribute("height",e.height);var f=d.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,g=d.getRelativeToSurfaceXY();\nd.flyoutRect_.setAttribute("y",g.y);d.flyoutRect_.setAttribute("x",this.RTL?g.x-e.width+f:g.x-f);(e=d.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0)&&d.moveBy(0,e);d.flyoutRect_.setAttribute("y",g.y)}}this.height_=b;this.targetWorkspace_.resize()}};\nBlockly.Flyout.prototype.reflowVertical=function(a){this.workspace_.scale=this.targetWorkspace_.scale;for(var b=0,c=0,d;d=a[c];c++){var e=d.getHeightWidth().width;d.outputConnection&&(e-=Blockly.BlockSvg.TAB_WIDTH);b=Math.max(b,e)}for(c=0;d=this.buttons_[c];c++)b=Math.max(b,d.width);b+=1.5*this.MARGIN+Blockly.BlockSvg.TAB_WIDTH;b*=this.workspace_.scale;b+=Blockly.Scrollbar.scrollbarThickness;if(this.width_!=b){for(c=0;d=a[c];c++){e=d.getHeightWidth();if(this.RTL){var f=d.getRelativeToSurfaceXY().x,\ng=b/this.workspace_.scale-this.MARGIN,g=g-Blockly.BlockSvg.TAB_WIDTH;d.moveBy(g-f,0)}d.flyoutRect_&&(d.flyoutRect_.setAttribute("width",e.width),d.flyoutRect_.setAttribute("height",e.height),g=d.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,f=d.getRelativeToSurfaceXY(),d.flyoutRect_.setAttribute("x",this.RTL?f.x-e.width+g:f.x-g),(e=d.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0)&&d.moveBy(0,e),d.flyoutRect_.setAttribute("y",f.y))}this.width_=b;this.targetWorkspace_.resize()}};\nBlockly.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_);var a=this.workspace_.getTopBlocks(!1);this.horizontalLayout_?this.reflowHorizontal(a):this.reflowVertical(a);this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)};Blockly.Toolbox=function(a){this.workspace_=a;this.RTL=a.options.RTL;this.horizontalLayout_=a.options.horizontalLayout;this.toolboxPosition=a.options.toolboxPosition;this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"};this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"};\nthis.horizontalLayout_&&(this.config_.cssTreeRow+=a.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")};Blockly.Toolbox.prototype.width=0;Blockly.Toolbox.prototype.height=0;Blockly.Toolbox.prototype.selectedOption_=null;Blockly.Toolbox.prototype.lastCategory_=null;\nBlockly.Toolbox.prototype.init=function(){var a=this.workspace_,b=this.workspace_.getParentSvg();this.HtmlDiv=goog.dom.createDom("DIV","blocklyToolboxDiv");this.HtmlDiv.setAttribute("dir",a.RTL?"RTL":"LTR");b.parentNode.insertBefore(this.HtmlDiv,b);Blockly.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,function(a){Blockly.isRightButton(a)||a.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0);Blockly.Touch.clearTouchIdentifier()});this.flyout_=new Blockly.Flyout({disabledPatternId:a.options.disabledPatternId,\nparentWorkspace:a,RTL:a.RTL,oneBasedIndex:a.options.oneBasedIndex,horizontalLayout:a.horizontalLayout,toolboxPosition:a.options.toolboxPosition});goog.dom.insertSiblingAfter(this.flyout_.createDom(),a.svgGroup_);this.flyout_.init(a);this.config_.cleardotPath=a.options.pathToMedia+"1x1.gif";this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.RTL?"Rtl":"Ltr");this.tree_=b=new Blockly.Toolbox.TreeControl(this,this.config_);b.setShowRootNode(!1);b.setShowLines(!1);b.setShowExpandIcons(!1);\nb.setSelectedItem(null);a=this.populate_(a.options.languageTree);b.render(this.HtmlDiv);a&&b.setSelectedItem(a);this.addColour_();this.position()};Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose();this.tree_.dispose();goog.dom.removeNode(this.HtmlDiv);this.lastCategory_=this.workspace_=null};Blockly.Toolbox.prototype.getWidth=function(){return this.width};Blockly.Toolbox.prototype.getHeight=function(){return this.height};\nBlockly.Toolbox.prototype.position=function(){var a=this.HtmlDiv;if(a){var b=this.workspace_.getParentSvg();goog.style.getPageOffset(b);b=Blockly.svgSize(b);this.horizontalLayout_?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?a.style.top="0":a.style.bottom="0"):(this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.flyout_.position()}};\nBlockly.Toolbox.prototype.populate_=function(a){this.tree_.removeChildren();this.tree_.blocks=[];this.hasColours_=!1;a=this.syncTrees_(a,this.tree_,this.workspace_.options.pathToMedia);if(this.tree_.blocks.length)throw"Toolbox cannot have both blocks and categories in the root level.";this.workspace_.resizeContents();return a};\nBlockly.Toolbox.prototype.syncTrees_=function(a,b,c){for(var d=null,e=null,f=0,g;g=a.childNodes[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "CATEGORY":e=this.tree_.createNode(g.getAttribute("name"));e.blocks=[];b.add(e);var h=g.getAttribute("custom");h?e.blocks=h:(h=this.syncTrees_(g,e,c))&&(d=h);h=g.getAttribute("colour");goog.isString(h)?(h.match(/^#[0-9a-fA-F]{6}$/)?e.hexColour=h:e.hexColour=Blockly.hueToRgb(h),this.hasColours_=!0):e.hexColour="";"true"==g.getAttribute("expanded")?\n(e.blocks.length&&(d=e),e.setExpanded(!0)):e.setExpanded(!1);e=g;break;case "SEP":e&&("CATEGORY"==e.tagName.toUpperCase()?b.add(new Blockly.Toolbox.TreeSeparator(this.treeSeparatorConfig_)):(g=parseFloat(g.getAttribute("gap")),!isNaN(g)&&e&&e.setAttribute("gap",g)));break;case "BLOCK":case "SHADOW":b.blocks.push(g),e=g}return d};\nBlockly.Toolbox.prototype.addColour_=function(a){a=(a||this.tree_).getChildren();for(var b=0,c;c=a[b];b++){var d=c.getRowElement();if(d){var e=this.hasColours_?"8px solid "+(c.hexColour||"#ddd"):"none";this.workspace_.RTL?d.style.borderRight=e:d.style.borderLeft=e}this.addColour_(c)}};Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)};\nBlockly.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var a=this.HtmlDiv.getBoundingClientRect(),b=a.left,c=a.top,d=a.width,a=a.height;return this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?new goog.math.Rect(-1E7,-1E7,1E7+b+d,2E7):this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?new goog.math.Rect(b,-1E7,1E7+d,2E7):this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1E7,-1E7,2E7,1E7+c+a):new goog.math.Rect(0,c,2E7,1E7+d)};\nBlockly.Toolbox.prototype.refreshSelection=function(){var a=this.tree_.getSelectedItem();a&&a.blocks&&this.flyout_.show(a.blocks)};Blockly.Toolbox.TreeControl=function(a,b){this.toolbox_=a;goog.ui.tree.TreeControl.call(this,goog.html.SafeHtml.EMPTY,b)};goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl);\nBlockly.Toolbox.TreeControl.prototype.enterDocument=function(){Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this);var a=this.getElement();goog.events.BrowserFeature.TOUCH_ENABLED&&Blockly.bindEventWithChecks_(a,goog.events.EventType.TOUCHSTART,this,this.handleTouchEvent_)};Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(a){a.preventDefault();var b=this.getNodeFromEvent_(a);b&&a.type===goog.events.EventType.TOUCHSTART&&setTimeout(function(){b.onMouseDown(a)},1)};\nBlockly.Toolbox.TreeControl.prototype.createNode=function(a){return new Blockly.Toolbox.TreeNode(this.toolbox_,a?goog.html.SafeHtml.htmlEscape(a):goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())};\nBlockly.Toolbox.TreeControl.prototype.setSelectedItem=function(a){var b=this.toolbox_;if(a!=this.selectedItem_&&a!=b.tree_){b.lastCategory_&&(b.lastCategory_.getRowElement().style.backgroundColor="");if(a){var c=a.hexColour||"#57e";a.getRowElement().style.backgroundColor=c;b.addColour_(a)}c=this.getSelectedItem();goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,a);a&&a.blocks&&a.blocks.length?(b.flyout_.show(a.blocks),b.lastCategory_!=a&&b.flyout_.scrollToStart()):b.flyout_.hide();c!=\na&&c!=this&&(c=new Blockly.Events.Ui(null,"category",c&&c.getHtml(),a&&a.getHtml()),c.workspaceId=b.workspace_.id,Blockly.Events.fire(c));a&&(b.lastCategory_=a)}};Blockly.Toolbox.TreeNode=function(a,b,c,d){goog.ui.tree.TreeNode.call(this,b,c,d);a&&(this.horizontalLayout_=a.horizontalLayout_,b=function(){Blockly.svgResize(a.workspace_)},goog.events.listen(a.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,b),goog.events.listen(a.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,b))};\ngoog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode);Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")};Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(a){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select();this.updateRow()};Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(a){};\nBlockly.Toolbox.TreeNode.prototype.onKeyDown=function(a){if(this.horizontalLayout_){var b={};b[goog.events.KeyCodes.RIGHT]=goog.events.KeyCodes.DOWN;b[goog.events.KeyCodes.LEFT]=goog.events.KeyCodes.UP;b[goog.events.KeyCodes.UP]=goog.events.KeyCodes.LEFT;b[goog.events.KeyCodes.DOWN]=goog.events.KeyCodes.RIGHT;a.keyCode=b[a.keyCode]||a.keyCode}return Blockly.Toolbox.TreeNode.superClass_.onKeyDown.call(this,a)};Blockly.Toolbox.TreeSeparator=function(a){Blockly.Toolbox.TreeNode.call(this,null,"",a)};\ngoog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode);Blockly.Css={};Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed",DELETE:"handdelete"};Blockly.Css.currentCursor_="";Blockly.Css.styleSheet_=null;Blockly.Css.mediaPath_="";\nBlockly.Css.inject=function(a,b){if(!Blockly.Css.styleSheet_){var c=".blocklyDraggable {}\\n";a&&(c+=Blockly.Css.CONTENT.join("\\n"),Blockly.FieldDate&&(c+=Blockly.FieldDate.CSS.join("\\n")));Blockly.Css.mediaPath_=b.replace(/[\\\\\\/]$/,"");var c=c.replace(/<<<PATH>>>/g,Blockly.Css.mediaPath_),d=document.createElement("style");document.head.appendChild(d);c=document.createTextNode(c);d.appendChild(c);Blockly.Css.styleSheet_=d.sheet;Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN)}};\nBlockly.Css.setCursor=function(a){if(Blockly.Css.currentCursor_!=a){Blockly.Css.currentCursor_=a;var b="url("+Blockly.Css.mediaPath_+"/"+a+".cur), auto",c=".blocklyDraggable {\\n  cursor: "+b+";\\n}\\n";Blockly.Css.styleSheet_.deleteRule(0);Blockly.Css.styleSheet_.insertRule(c,0);for(var c=document.getElementsByClassName("blocklyToolboxDiv"),d=0,e;e=c[d];d++)e.style.cursor=a==Blockly.Css.Cursor.DELETE?b:"";document.body.parentNode.style.cursor=a==Blockly.Css.Cursor.OPEN?"":b}};\nBlockly.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","-ms-user-select: none;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",\n"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: 0.9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #888;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;",\n"}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {",\n"cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",\n".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklySvg text {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;",\n"stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentTextarea {","background-color: #ffc;","border: 0;","margin: 0;","padding: 2px;","resize: none;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {",\n"fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",\n"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",\n"}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {",\n"outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",\'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;",\n"height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0px -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",\n"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyTreeSelected .blocklyTreeLabel {",\n"color: #fff;","}",".blocklyWidgetDiv .goog-palette {","outline: none;","cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","border: 1px solid #666;","border-collapse: collapse;","}",".blocklyWidgetDiv .goog-palette-cell {","height: 13px;","width: 15px;","margin: 0;","border: 0;","text-align: center;","vertical-align: middle;","border-right: 1px solid #666;","font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","position: relative;","height: 13px;","width: 15px;","border: 1px solid #666;",\n"}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {","border: 1px solid #000;","color: #fff;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;",\n"overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {",\n"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","-moz-opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {",\n"background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {",\n"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;",\n"text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];Blockly.WidgetDiv={};Blockly.WidgetDiv.DIV=null;Blockly.WidgetDiv.owner_=null;Blockly.WidgetDiv.dispose_=null;Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=goog.dom.createDom("DIV","blocklyWidgetDiv"),document.body.appendChild(Blockly.WidgetDiv.DIV))};\nBlockly.WidgetDiv.show=function(a,b,c){Blockly.WidgetDiv.hide();Blockly.WidgetDiv.owner_=a;Blockly.WidgetDiv.dispose_=c;a=goog.style.getViewportPageOffset(document);Blockly.WidgetDiv.DIV.style.top=a.y+"px";Blockly.WidgetDiv.DIV.style.direction=b?"rtl":"ltr";Blockly.WidgetDiv.DIV.style.display="block"};\nBlockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.DIV.style.left="",Blockly.WidgetDiv.DIV.style.top="",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=null,goog.dom.removeChildren(Blockly.WidgetDiv.DIV))};Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_};Blockly.WidgetDiv.hideIfOwner=function(a){Blockly.WidgetDiv.owner_==a&&Blockly.WidgetDiv.hide()};\nBlockly.WidgetDiv.position=function(a,b,c,d,e){b<d.y&&(b=d.y);e?a>c.width+d.x&&(a=c.width+d.x):a<d.x&&(a=d.x);Blockly.WidgetDiv.DIV.style.left=a+"px";Blockly.WidgetDiv.DIV.style.top=b+"px";Blockly.WidgetDiv.DIV.style.height=c.height+"px"};Blockly.inject=function(a,b){goog.isString(a)&&(a=document.getElementById(a)||document.querySelector(a));if(!goog.dom.contains(document,a))throw"Error: container is not in current document.";var c=new Blockly.Options(b||{}),d=goog.dom.createDom("div","injectionDiv");a.appendChild(d);d=Blockly.createDom_(d,c);c=Blockly.createMainWorkspace_(d,c);Blockly.init_(c);c.markFocused();Blockly.bindEventWithChecks_(d,"focus",c,c.markFocused);Blockly.svgResize(c);return c};\nBlockly.createDom_=function(a,b){a.setAttribute("dir","LTR");goog.ui.Component.setDefaultRightToLeft(b.RTL);Blockly.Css.inject(b.hasCss,b.pathToMedia);var c=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a),d=Blockly.createSvgElement("defs",{},c),e=String(Math.random()).substring(2),f=Blockly.createSvgElement("filter",{id:"blocklyEmbossFilter"+e},d);Blockly.createSvgElement("feGaussianBlur",\n{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var g=Blockly.createSvgElement("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},f);Blockly.createSvgElement("fePointLight",{x:-5E3,y:-1E4,z:2E4},g);Blockly.createSvgElement("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);Blockly.createSvgElement("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,\nk4:0},f);b.embossFilterId=f.id;f=Blockly.createSvgElement("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);Blockly.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},f);Blockly.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},f);b.disabledPatternId=f.id;d=Blockly.createSvgElement("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},d);0<b.gridOptions.length&&0<b.gridOptions.spacing&&(Blockly.createSvgElement("line",\n{stroke:b.gridOptions.colour},d),1<b.gridOptions.length&&Blockly.createSvgElement("line",{stroke:b.gridOptions.colour},d));b.gridPattern=d;return c};\nBlockly.createMainWorkspace_=function(a,b){b.parentWorkspace=null;var c=new Blockly.WorkspaceSvg(b);c.scale=b.zoomOptions.startScale;a.appendChild(c.createDom("blocklyMainBackground"));c.translate(0,0);c.markFocused();b.readOnly||b.hasScrollbars||c.addChangeListener(function(){if(Blockly.dragMode_==Blockly.DRAG_NONE){var a=c.getMetrics(),e=a.viewLeft+a.absoluteLeft,f=a.viewTop+a.absoluteTop;if(a.contentTop<f||a.contentTop+a.contentHeight>a.viewHeight+f||a.contentLeft<(b.RTL?a.viewLeft:e)||a.contentLeft+\na.contentWidth>(b.RTL?a.viewWidth:a.viewWidth+e))for(var g=c.getTopBlocks(!1),h=0,k;k=g[h];h++){var m=k.getRelativeToSurfaceXY(),p=k.getHeightWidth(),l=f+25-p.height-m.y;0<l&&k.moveBy(0,l);l=f+a.viewHeight-25-m.y;0>l&&k.moveBy(0,l);l=25+e-m.x-(b.RTL?0:p.width);0<l&&k.moveBy(l,0);m=e+a.viewWidth-25-m.x+(b.RTL?p.width:0);0>m&&k.moveBy(m,0)}}});Blockly.svgResize(c);Blockly.WidgetDiv.createDom();Blockly.Tooltip.createDom();return c};\nBlockly.init_=function(a){var b=a.options,c=a.getParentSvg();Blockly.bindEventWithChecks_(c,"contextmenu",null,function(a){Blockly.isTargetInput_(a)||a.preventDefault()});c=Blockly.bindEventWithChecks_(window,"resize",null,function(){Blockly.hideChaff(!0);Blockly.svgResize(a)});a.setResizeHandlerWrapper(c);Blockly.inject.bindDocumentEvents_();b.languageTree&&(a.toolbox_?a.toolbox_.init(a):a.flyout_&&(a.flyout_.init(a),a.flyout_.show(b.languageTree.childNodes),a.flyout_.scrollToStart(),a.scrollX=a.flyout_.width_,\nb.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(a.scrollX*=-1),a.translate(a.scrollX,0)));b.hasScrollbars&&(a.scrollbar=new Blockly.ScrollbarPair(a),a.scrollbar.resize());b.hasSounds&&Blockly.inject.loadSounds_(b.pathToMedia,a)};\nBlockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEventWithChecks_(document,"keydown",null,Blockly.onKeyDown_),Blockly.bindEventWithChecks_(document,"touchend",null,Blockly.longStop_),Blockly.bindEventWithChecks_(document,"touchcancel",null,Blockly.longStop_),document.addEventListener("mouseup",Blockly.onMouseUp_,!1),goog.userAgent.IPAD&&Blockly.bindEventWithChecks_(window,"orientationchange",document,function(){Blockly.svgResize(Blockly.getMainWorkspace())}));\nBlockly.documentEventsBound_=!0};\nBlockly.inject.loadSounds_=function(a,b){b.loadAudio_([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");b.loadAudio_([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");b.loadAudio_([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var c=[],d=function(){for(;c.length;)Blockly.unbindEvent_(c.pop());b.preloadAudio_()};c.push(Blockly.bindEventWithChecks_(document,"mousemove",null,d,!0));c.push(Blockly.bindEventWithChecks_(document,"touchstart",null,d,!0))};\nBlockly.updateToolbox=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");Blockly.getMainWorkspace().updateToolbox(a)};Blockly.utils={};Blockly.addClass_=function(a,b){var c=a.getAttribute("class")||"";-1==(" "+c+" ").indexOf(" "+b+" ")&&(c&&(c+=" "),a.setAttribute("class",c+b))};Blockly.removeClass_=function(a,b){var c=a.getAttribute("class");if(-1!=(" "+c+" ").indexOf(" "+b+" ")){for(var c=c.split(/\\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}};\nBlockly.hasClass_=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};\nBlockly.bindEventWithChecks_=function(a,b,c,d,e){var f=!1,g=function(a){var b=!e;a=Blockly.Touch.splitEventByTouches(a);for(var g=0,h;h=a[g];g++)if(!b||Blockly.Touch.shouldHandleEvent(h))Blockly.Touch.setClientFromTouch(h),c?d.call(c,h):d(h),f=!0};a.addEventListener(b,g,!1);var h=[[a,b,g]];if(b in Blockly.Touch.TOUCH_MAP)for(var k=function(a){g(a);f&&a.preventDefault()},m=0,p;p=Blockly.Touch.TOUCH_MAP[b][m];m++)a.addEventListener(p,k,!1),h.push([a,p,k]);return h};\nBlockly.bindEvent_=function(a,b,c,d){var e=function(a){c?d.call(c,a):d(a)};a.addEventListener(b,e,!1);var f=[[a,b,e]];if(b in Blockly.Touch.TOUCH_MAP)for(var g=function(a){if(1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}e(a);a.preventDefault()},h=0,k;k=Blockly.Touch.TOUCH_MAP[b][h];h++)a.addEventListener(k,g,!1),f.push([a,k,g]);return f};Blockly.unbindEvent_=function(a){for(;a.length;){var b=a.pop(),c=b[2];b[0].removeEventListener(b[1],c,!1)}return c};\nBlockly.noEvent=function(a){a.preventDefault();a.stopPropagation()};Blockly.isTargetInput_=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};\nBlockly.getRelativeXY_=function(a){var b=new goog.math.Coordinate(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(a=(a=a.getAttribute("transform"))&&a.match(Blockly.getRelativeXY_.XY_REGEXP_))b.x+=parseFloat(a[1]),a[3]&&(b.y+=parseFloat(a[3]));return b};Blockly.getRelativeXY_.XY_REGEXP_=/translate\\(\\s*([-+\\d.e]+)([ ,]\\s*([-+\\d.e]+)\\s*\\))?/;\nBlockly.getSvgXY_=function(a,b){var c=0,d=0,e=1;if(goog.dom.contains(b.getCanvas(),a)||goog.dom.contains(b.getBubbleCanvas(),a))e=b.scale;do{var f=Blockly.getRelativeXY_(a);if(a==b.getCanvas()||a==b.getBubbleCanvas())e=1;c+=f.x*e;d+=f.y*e;a=a.parentNode}while(a&&a!=b.getParentSvg());return new goog.math.Coordinate(c,d)};\nBlockly.createSvgElement=function(a,b,c,d){a=document.createElementNS(Blockly.SVG_NS,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a};Blockly.isRightButton=function(a){return a.ctrlKey&&goog.userAgent.MAC?!0:2==a.button};Blockly.mouseToSvg=function(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};\nBlockly.shortestStringLength=function(a){if(!a.length)return 0;for(var b=a[0].length,c=1;c<a.length;c++)b=Math.min(b,a[c].length);return b};Blockly.commonWordPrefix=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;for(var c=0,d=b||Blockly.shortestStringLength(a),e=0;e<d;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return c;" "==f&&(c=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return c;return d};\nBlockly.commonWordSuffix=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;for(var c=0,d=b||Blockly.shortestStringLength(a),e=0;e<d;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return c;" "==f&&(c=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return c;return d};Blockly.isNumber=function(a){return!!a.match(/^\\s*-?\\d+(\\.\\d+)?\\s*$/)};\nBlockly.utils.tokenizeInterpolation=function(a){var b=[];a=a.split("");a.push("");for(var c=0,d=[],e=null,f=0;f<a.length;f++){var g=a[f];0==c?"%"==g?c=1:d.push(g):1==c?"%"==g?(d.push(g),c=0):"0"<=g&&"9">=g?(c=2,e=g,(g=d.join(""))&&b.push(g),d.length=0):(d.push("%",g),c=0):2==c&&("0"<=g&&"9">=g?e+=g:(b.push(parseInt(e,10)),f--,c=0))}(g=d.join(""))&&b.push(g);return b};\nBlockly.genUid=function(){for(var a=Blockly.genUid.soup_.length,b=[],c=0;20>c;c++)b[c]=Blockly.genUid.soup_.charAt(Math.random()*a);return b.join("")};Blockly.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";Blockly.utils.wrap=function(a,b){for(var c=a.split("\\n"),d=0;d<c.length;d++)c[d]=Blockly.utils.wrap_line_(c[d],b);return c.join("\\n")};\nBlockly.utils.wrap_line_=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\\s+/),d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);var e,d=-Infinity,f,g=1;do{e=d;f=a;for(var h=[],k=c.length/g,m=1,d=0;d<c.length-1;d++)m<(d+1.5)/k?(m++,h[d]=!0):h[d]=!1;h=Blockly.utils.wrapMutate_(c,h,b);d=Blockly.utils.wrapScore_(c,h,b);a=Blockly.utils.wrapToText_(c,h);g++}while(d>e);return f};\nBlockly.utils.wrapScore_=function(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};\nBlockly.utils.wrapMutate_=function(a,b,c){for(var d=Blockly.utils.wrapScore_(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];var h=Blockly.utils.wrapScore_(a,g,c);h>d&&(d=h,e=g)}return e?Blockly.utils.wrapMutate_(a,e,c):b};Blockly.utils.wrapToText_=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),void 0!==b[d]&&c.push(b[d]?"\\n":" ");return c.join("")};var CLOSURE_DEFINES={"goog.DEBUG":!1};Blockly.mainWorkspace=null;Blockly.selected=null;Blockly.highlightedConnection_=null;Blockly.localConnection_=null;Blockly.draggingConnections_=[];Blockly.clipboardXml_=null;Blockly.clipboardSource_=null;Blockly.dragMode_=Blockly.DRAG_NONE;Blockly.hueToRgb=function(a){return goog.color.hsvToHex(a,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)};Blockly.svgSize=function(a){return{width:a.cachedWidth_,height:a.cachedHeight_}};Blockly.resizeSvgContents=function(a){a.resizeContents()};\nBlockly.svgResize=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;var b=a.getParentSvg(),c=b.parentNode;if(c){var d=c.offsetWidth,c=c.offsetHeight;b.cachedWidth_!=d&&(b.setAttribute("width",d+"px"),b.cachedWidth_=d);b.cachedHeight_!=c&&(b.setAttribute("height",c+"px"),b.cachedHeight_=c);a.resize()}};\nBlockly.onKeyDown_=function(a){if(!Blockly.mainWorkspace.options.readOnly&&!Blockly.isTargetInput_(a)){var b=!1;if(27==a.keyCode)Blockly.hideChaff();else if(8==a.keyCode||46==a.keyCode)a.preventDefault(),Blockly.selected&&Blockly.selected.isDeletable()&&(b=!0);else if(a.altKey||a.ctrlKey||a.metaKey)Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(67==a.keyCode?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):88==a.keyCode&&(Blockly.copy_(Blockly.selected),b=!0)),\n86==a.keyCode?Blockly.clipboardXml_&&(Blockly.Events.setGroup(!0),Blockly.clipboardSource_.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!1)):90==a.keyCode&&(Blockly.hideChaff(),Blockly.mainWorkspace.undo(a.shiftKey));b&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(Blockly.dragMode_!=Blockly.DRAG_FREE,!0),Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null),Blockly.Events.setGroup(!1))}};\nBlockly.terminateDrag_=function(){Blockly.BlockSvg.terminateDrag();Blockly.Flyout.terminateDrag_()};Blockly.copy_=function(a){var b=Blockly.Xml.blockToDom(a);Blockly.dragMode_!=Blockly.DRAG_FREE&&Blockly.Xml.deleteNext(b);var c=a.getRelativeToSurfaceXY();b.setAttribute("x",a.RTL?-c.x:c.x);b.setAttribute("y",c.y);Blockly.clipboardXml_=b;Blockly.clipboardSource_=a.workspace};\nBlockly.duplicate_=function(a){var b=Blockly.clipboardXml_,c=Blockly.clipboardSource_;Blockly.copy_(a);a.workspace.paste(Blockly.clipboardXml_);Blockly.clipboardXml_=b;Blockly.clipboardSource_=c};Blockly.onContextMenu_=function(a){Blockly.isTargetInput_(a)||a.preventDefault()};Blockly.hideChaff=function(a){Blockly.Tooltip.hide();Blockly.WidgetDiv.hide();a||(a=Blockly.getMainWorkspace(),a.toolbox_&&a.toolbox_.flyout_&&a.toolbox_.flyout_.autoClose&&a.toolbox_.clearSelection())};\nBlockly.addChangeListener=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return Blockly.getMainWorkspace().addChangeListener(a)};Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace};goog.global.console||(goog.global.console={log:function(){},warn:function(){}});goog.global.Blockly||(goog.global.Blockly={});goog.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace;goog.global.Blockly.addChangeListener=Blockly.addChangeListener;';
},function(e,t){e.exports='// Do not edit this file; automatically generated by build.py.\n\'use strict\';\n\n\n// Copyright 2012 Google Inc.  Apache License 2.0\nBlockly.Blocks.lists={};Blockly.Blocks.lists.HUE=260;Blockly.Blocks.lists_create_empty={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_CREATE_EMPTY_TITLE,output:"Array",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP,helpUrl:Blockly.Msg.LISTS_CREATE_EMPTY_HELPURL})}};\nBlockly.Blocks.lists_create_with={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL);this.setColour(Blockly.Blocks.lists.HUE);this.itemCount_=3;this.updateShape_();this.setOutput(!0,"Array");this.setMutator(new Blockly.Mutator(["lists_create_with_item"]));this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("items",this.itemCount_);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),\n10);this.updateShape_()},decompose:function(a){var b=a.newBlock("lists_create_with_container");b.initSvg();for(var c=b.getInput("STACK").connection,e=0;e<this.itemCount_;e++){var d=a.newBlock("lists_create_with_item");d.initSvg();c.connect(d.previousConnection);c=d.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;\nc&&-1==a.indexOf(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++)Blockly.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection;b++;a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||\nthis.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a);0==a&&b.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+a);)this.removeInput("ADD"+a),a++}};\nBlockly.Blocks.lists_create_with_container={init:function(){this.setColour(Blockly.Blocks.lists.HUE);this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.appendStatementInput("STACK");this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.lists_create_with_item={init:function(){this.setColour(Blockly.Blocks.lists.HUE);this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.lists_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_REPEAT_TITLE,args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_REPEAT_HELPURL})}};\nBlockly.Blocks.lists_length={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.LISTS_LENGTH_HELPURL})}};\nBlockly.Blocks.lists_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.LISTS_ISEMPTY_HELPURL})}};\nBlockly.Blocks.lists_indexOf={init:function(){var a=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL);this.setColour(Blockly.Blocks.lists.HUE);this.setOutput(!0,"Number");this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST);this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(a),"END");this.setInputsInline(!0);this.setTooltip(function(){return Blockly.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",\nthis.workspace.options.oneBasedIndex?"0":"-1")})}};\nBlockly.Blocks.lists_getIndex={init:function(){var a=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL);\nthis.setColour(Blockly.Blocks.lists.HUE);a=new Blockly.FieldDropdown(a,function(a){this.sourceBlock_.updateStatement_("REMOVE"==a)});this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST);this.appendDummyInput().appendField(a,"MODE").appendField("","SPACE");this.appendDummyInput("AT");Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL);this.setInputsInline(!0);this.setOutput(!0);this.updateAt_(!0);\nvar b=this;this.setTooltip(function(){var a=b.getFieldValue("MODE"),e=b.getFieldValue("WHERE"),d="";switch(a+" "+e){case "GET FROM_START":case "GET FROM_END":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;\nbreak;case "GET_REMOVE FIRST":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;\nbreak;case "REMOVE RANDOM":d=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)d+="  "+("FROM_START"==e?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0");return d})},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("statement",!this.outputConnection);var b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},domToMutation:function(a){var b=\n"true"==a.getAttribute("statement");this.updateStatement_(b);a="false"!=a.getAttribute("at");this.updateAt_(a)},updateStatement_:function(a){a!=!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput("AT");this.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&\nthis.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(b){var e="FROM_START"==b||"FROM_END"==b;if(e!=a){var d=this.sourceBlock_;d.updateAt_(e);d.setFieldValue(b,"WHERE");return null}});this.getInput("AT").appendField(b,"WHERE");Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};\nBlockly.Blocks.lists_setIndex={init:function(){var a=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL);this.setColour(Blockly.Blocks.lists.HUE);this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST);\nthis.appendDummyInput().appendField(new Blockly.FieldDropdown(a),"MODE").appendField("","SPACE");this.appendDummyInput("AT");this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP);this.updateAt_(!0);var b=this;this.setTooltip(function(){var a=b.getFieldValue("MODE"),e=b.getFieldValue("WHERE"),d="";switch(a+" "+e){case "SET FROM_START":case "SET FROM_END":d=\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;\nbreak;case "INSERT RANDOM":d=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)d+="  "+Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0");return d})},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},domToMutation:function(a){a="false"!=a.getAttribute("at");this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT");\nthis.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(b){var e="FROM_START"==b||"FROM_END"==b;if(e!=a){var d=this.sourceBlock_;d.updateAt_(e);d.setFieldValue(b,"WHERE");return null}});this.moveInputBefore("AT","TO");this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL",\n"TO");this.getInput("AT").appendField(b,"WHERE")}};\nBlockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL);this.setColour(Blockly.Blocks.lists.HUE);\nthis.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);this.appendDummyInput("AT1");this.appendDummyInput("AT2");Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL);this.setInputsInline(!0);this.setOutput(!0,"Array");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getInput("AT1").type==\nBlockly.INPUT_VALUE;a.setAttribute("at1",b);b=this.getInput("AT2").type==Blockly.INPUT_VALUE;a.setAttribute("at2",b);return a},domToMutation:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a);this.removeInput("ORDINAL"+a,!0);b?(this.appendValueInput("AT"+a).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):\nthis.appendDummyInput("AT"+a);var c=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+a],function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=b){var f=this.sourceBlock_;f.updateAt_(a,d);f.setFieldValue(c,"WHERE"+a);return null}});this.getInput("AT"+a).appendField(c,"WHERE"+a);1==a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"));Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};\nBlockly.Blocks.lists_sort={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[Blockly.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:Blockly.Blocks.lists.HUE,\ntooltip:Blockly.Msg.LISTS_SORT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_SORT_HELPURL})}};\nBlockly.Blocks.lists_split={init:function(){var a=this,b=new Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(b){a.updateType_(b)});this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL);this.setColour(Blockly.Blocks.lists.HUE);this.appendValueInput("INPUT").setCheck("String").appendField(b,"MODE");this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER);this.setInputsInline(!0);\nthis.setOutput(!0,"Array");this.setTooltip(function(){var b=a.getFieldValue("MODE");if("SPLIT"==b)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==b)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw"Unknown mode: "+b;})},updateType_:function(a){"SPLIT"==a?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("mode",\nthis.getFieldValue("MODE"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("mode"))}};Blockly.Blocks.math={};Blockly.Blocks.math.HUE=230;Blockly.Blocks.math_number={init:function(){this.setHelpUrl(Blockly.Msg.MATH_NUMBER_HELPURL);this.setColour(Blockly.Blocks.math.HUE);this.appendDummyInput().appendField(new Blockly.FieldNumber("0"),"NUM");this.setOutput(!0,"Number");var a=this;this.setTooltip(function(){var b=a.getParent();return b&&b.getInputsInline()&&b.tooltip||Blockly.Msg.MATH_NUMBER_TOOLTIP})}};\nBlockly.Blocks.math_arithmetic={init:function(){this.jsonInit({message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_ADDITION_SYMBOL,"ADD"],[Blockly.Msg.MATH_SUBTRACTION_SYMBOL,"MINUS"],[Blockly.Msg.MATH_MULTIPLICATION_SYMBOL,"MULTIPLY"],[Blockly.Msg.MATH_DIVISION_SYMBOL,"DIVIDE"],[Blockly.Msg.MATH_POWER_SYMBOL,"POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,\nhelpUrl:Blockly.Msg.MATH_ARITHMETIC_HELPURL});var a=this;this.setTooltip(function(){var b=a.getFieldValue("OP");return{ADD:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,DIVIDE:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE,POWER:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER}[b]})}};\nBlockly.Blocks.math_single={init:function(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_SINGLE_OP_ROOT,"ROOT"],[Blockly.Msg.MATH_SINGLE_OP_ABSOLUTE,"ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:Blockly.Blocks.math.HUE,helpUrl:Blockly.Msg.MATH_SINGLE_HELPURL});var a=this;this.setTooltip(function(){var b=a.getFieldValue("OP");return{ROOT:Blockly.Msg.MATH_SINGLE_TOOLTIP_ROOT,\nABS:Blockly.Msg.MATH_SINGLE_TOOLTIP_ABS,NEG:Blockly.Msg.MATH_SINGLE_TOOLTIP_NEG,LN:Blockly.Msg.MATH_SINGLE_TOOLTIP_LN,LOG10:Blockly.Msg.MATH_SINGLE_TOOLTIP_LOG10,EXP:Blockly.Msg.MATH_SINGLE_TOOLTIP_EXP,POW10:Blockly.Msg.MATH_SINGLE_TOOLTIP_POW10}[b]})}};\nBlockly.Blocks.math_trig={init:function(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_TRIG_SIN,"SIN"],[Blockly.Msg.MATH_TRIG_COS,"COS"],[Blockly.Msg.MATH_TRIG_TAN,"TAN"],[Blockly.Msg.MATH_TRIG_ASIN,"ASIN"],[Blockly.Msg.MATH_TRIG_ACOS,"ACOS"],[Blockly.Msg.MATH_TRIG_ATAN,"ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:Blockly.Blocks.math.HUE,helpUrl:Blockly.Msg.MATH_TRIG_HELPURL});var a=this;this.setTooltip(function(){var b=\na.getFieldValue("OP");return{SIN:Blockly.Msg.MATH_TRIG_TOOLTIP_SIN,COS:Blockly.Msg.MATH_TRIG_TOOLTIP_COS,TAN:Blockly.Msg.MATH_TRIG_TOOLTIP_TAN,ASIN:Blockly.Msg.MATH_TRIG_TOOLTIP_ASIN,ACOS:Blockly.Msg.MATH_TRIG_TOOLTIP_ACOS,ATAN:Blockly.Msg.MATH_TRIG_TOOLTIP_ATAN}[b]})}};\nBlockly.Blocks.math_constant={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\\u03c0","PI"],["e","E"],["\\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\\u00bd)","SQRT1_2"],["\\u221e","INFINITY"]]}],output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_CONSTANT_TOOLTIP,helpUrl:Blockly.Msg.MATH_CONSTANT_HELPURL})}};\nBlockly.Blocks.math_number_property={init:function(){var a=[[Blockly.Msg.MATH_IS_EVEN,"EVEN"],[Blockly.Msg.MATH_IS_ODD,"ODD"],[Blockly.Msg.MATH_IS_PRIME,"PRIME"],[Blockly.Msg.MATH_IS_WHOLE,"WHOLE"],[Blockly.Msg.MATH_IS_POSITIVE,"POSITIVE"],[Blockly.Msg.MATH_IS_NEGATIVE,"NEGATIVE"],[Blockly.Msg.MATH_IS_DIVISIBLE_BY,"DIVISIBLE_BY"]];this.setColour(Blockly.Blocks.math.HUE);this.appendValueInput("NUMBER_TO_CHECK").setCheck("Number");a=new Blockly.FieldDropdown(a,function(a){this.sourceBlock_.updateShape_("DIVISIBLE_BY"==\na)});this.appendDummyInput().appendField(a,"PROPERTY");this.setInputsInline(!0);this.setOutput(!0,"Boolean");this.setTooltip(Blockly.Msg.MATH_IS_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");a.setAttribute("divisor_input",b);return a},domToMutation:function(a){a="true"==a.getAttribute("divisor_input");this.updateShape_(a)},updateShape_:function(a){var b=this.getInput("DIVISOR");a?b||this.appendValueInput("DIVISOR").setCheck("Number"):\nb&&this.removeInput("DIVISOR")}};Blockly.Blocks.math_change={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CHANGE_TITLE,args0:[{type:"field_variable",name:"VAR",variable:Blockly.Msg.MATH_CHANGE_TITLE_ITEM},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.variables.HUE,helpUrl:Blockly.Msg.MATH_CHANGE_HELPURL});var a=this;this.setTooltip(function(){return Blockly.Msg.MATH_CHANGE_TOOLTIP.replace("%1",a.getFieldValue("VAR"))})}};\nBlockly.Blocks.math_round={init:function(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_ROUND_OPERATOR_ROUND,"ROUND"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP,"ROUNDUP"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN,"ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_ROUND_TOOLTIP,helpUrl:Blockly.Msg.MATH_ROUND_HELPURL})}};\nBlockly.Blocks.math_on_list={init:function(){var a=[[Blockly.Msg.MATH_ONLIST_OPERATOR_SUM,"SUM"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MIN,"MIN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MAX,"MAX"],[Blockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE,"AVERAGE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN,"MEDIAN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MODE,"MODE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV,"STD_DEV"],[Blockly.Msg.MATH_ONLIST_OPERATOR_RANDOM,"RANDOM"]],b=this;this.setHelpUrl(Blockly.Msg.MATH_ONLIST_HELPURL);this.setColour(Blockly.Blocks.math.HUE);\nthis.setOutput(!0,"Number");a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendValueInput("LIST").setCheck("Array").appendField(a,"OP");this.setTooltip(function(){var a=b.getFieldValue("OP");return{SUM:Blockly.Msg.MATH_ONLIST_TOOLTIP_SUM,MIN:Blockly.Msg.MATH_ONLIST_TOOLTIP_MIN,MAX:Blockly.Msg.MATH_ONLIST_TOOLTIP_MAX,AVERAGE:Blockly.Msg.MATH_ONLIST_TOOLTIP_AVERAGE,MEDIAN:Blockly.Msg.MATH_ONLIST_TOOLTIP_MEDIAN,MODE:Blockly.Msg.MATH_ONLIST_TOOLTIP_MODE,STD_DEV:Blockly.Msg.MATH_ONLIST_TOOLTIP_STD_DEV,\nRANDOM:Blockly.Msg.MATH_ONLIST_TOOLTIP_RANDOM}[a]})},updateType_:function(a){"MODE"==a?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("op",this.getFieldValue("OP"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("op"))}};\nBlockly.Blocks.math_modulo={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_MODULO_TITLE,args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_MODULO_TOOLTIP,helpUrl:Blockly.Msg.MATH_MODULO_HELPURL})}};\nBlockly.Blocks.math_constrain={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CONSTRAIN_TITLE,args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_CONSTRAIN_TOOLTIP,helpUrl:Blockly.Msg.MATH_CONSTRAIN_HELPURL})}};\nBlockly.Blocks.math_random_int={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_RANDOM_INT_TITLE,args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_RANDOM_INT_TOOLTIP,helpUrl:Blockly.Msg.MATH_RANDOM_INT_HELPURL})}};\nBlockly.Blocks.math_random_float={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP,helpUrl:Blockly.Msg.MATH_RANDOM_FLOAT_HELPURL})}};Blockly.Blocks.variables={};Blockly.Blocks.variables.HUE=330;\nBlockly.Blocks.variables_get={init:function(){this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL);this.setColour(Blockly.Blocks.variables.HUE);this.appendDummyInput().appendField(new Blockly.FieldVariable(Blockly.Msg.VARIABLES_DEFAULT_NAME),"VAR");this.setOutput(!0);this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP);this.contextMenuMsg_=Blockly.Msg.VARIABLES_GET_CREATE_SET},contextMenuType_:"variables_set",customContextMenu:function(a){var b={enabled:!0},c=this.getFieldValue("VAR");b.text=this.contextMenuMsg_.replace("%1",\nc);c=goog.dom.createDom("field",null,c);c.setAttribute("name","VAR");c=goog.dom.createDom("block",null,c);c.setAttribute("type",this.contextMenuType_);b.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(b)}};\nBlockly.Blocks.variables_set={init:function(){this.jsonInit({message0:Blockly.Msg.VARIABLES_SET,args0:[{type:"field_variable",name:"VAR",variable:Blockly.Msg.VARIABLES_DEFAULT_NAME},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.variables.HUE,tooltip:Blockly.Msg.VARIABLES_SET_TOOLTIP,helpUrl:Blockly.Msg.VARIABLES_SET_HELPURL});this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET},contextMenuType_:"variables_get",customContextMenu:Blockly.Blocks.variables_get.customContextMenu};Blockly.Blocks.colour={};Blockly.Blocks.colour.HUE=20;Blockly.Blocks.colour_picker={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:Blockly.Blocks.colour.HUE,helpUrl:Blockly.Msg.COLOUR_PICKER_HELPURL});var a=this;this.setTooltip(function(){var b=a.getParent();return b&&b.getInputsInline()&&b.tooltip||Blockly.Msg.COLOUR_PICKER_TOOLTIP})}};\nBlockly.Blocks.colour_random={init:function(){this.jsonInit({message0:Blockly.Msg.COLOUR_RANDOM_TITLE,output:"Colour",colour:Blockly.Blocks.colour.HUE,tooltip:Blockly.Msg.COLOUR_RANDOM_TOOLTIP,helpUrl:Blockly.Msg.COLOUR_RANDOM_HELPURL})}};\nBlockly.Blocks.colour_rgb={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_RGB_HELPURL);this.setColour(Blockly.Blocks.colour.HUE);this.appendValueInput("RED").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_TITLE).appendField(Blockly.Msg.COLOUR_RGB_RED);this.appendValueInput("GREEN").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_GREEN);this.appendValueInput("BLUE").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_BLUE);\nthis.setOutput(!0,"Colour");this.setTooltip(Blockly.Msg.COLOUR_RGB_TOOLTIP)}};\nBlockly.Blocks.colour_blend={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_BLEND_HELPURL);this.setColour(Blockly.Blocks.colour.HUE);this.appendValueInput("COLOUR1").setCheck("Colour").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_BLEND_TITLE).appendField(Blockly.Msg.COLOUR_BLEND_COLOUR1);this.appendValueInput("COLOUR2").setCheck("Colour").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_BLEND_COLOUR2);this.appendValueInput("RATIO").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_BLEND_RATIO);\nthis.setOutput(!0,"Colour");this.setTooltip(Blockly.Msg.COLOUR_BLEND_TOOLTIP)}};Blockly.Blocks.procedures={};Blockly.Blocks.procedures.HUE=290;\nBlockly.Blocks.procedures_defnoreturn={init:function(){var a=new Blockly.FieldTextInput(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,Blockly.Procedures.rename);a.setSpellcheck(!1);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS");this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&\nBlockly.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);this.setColour(Blockly.Blocks.procedures.HUE);this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL);this.arguments_=[];this.setStatements_(!0);this.statementConnection_=null},setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&\nthis.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=a)},updateParams_:function(){for(var a=!1,b={},c=0;c<this.arguments_.length;c++){if(b["arg_"+this.arguments_[c].toLowerCase()]){a=!0;break}b["arg_"+this.arguments_[c].toLowerCase()]=!0}a?this.setWarningText(Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING):this.setWarningText(null);a="";this.arguments_.length&&(a=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", "));Blockly.Events.disable();try{this.setFieldValue(a,\n"PARAMS")}finally{Blockly.Events.enable()}},mutationToDom:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",this.getFieldValue("NAME"));for(var c=0;c<this.arguments_.length;c++){var e=document.createElement("arg");e.setAttribute("name",this.arguments_[c]);a&&this.paramIds_&&e.setAttribute("paramId",this.paramIds_[c]);b.appendChild(e)}this.hasStatements_||b.setAttribute("statements","false");return b},domToMutation:function(a){this.arguments_=[];for(var b=0,c;c=a.childNodes[b];b++)"arg"==\nc.nodeName.toLowerCase()&&this.arguments_.push(c.getAttribute("name"));this.updateParams_();Blockly.Procedures.mutateCallers(this);this.setStatements_("false"!==a.getAttribute("statements"))},decompose:function(a){var b=a.newBlock("procedures_mutatorcontainer");b.initSvg();this.getInput("RETURN")?b.setFieldValue(this.hasStatements_?"TRUE":"FALSE","STATEMENTS"):b.getInput("STATEMENT_INPUT").setVisible(!1);for(var c=b.getInput("STACK").connection,e=0;e<this.arguments_.length;e++){var d=a.newBlock("procedures_mutatorarg");\nd.initSvg();d.setFieldValue(this.arguments_[e],"NAME");d.oldLocation=e;c.connect(d.previousConnection);c=d.nextConnection}Blockly.Procedures.mutateCallers(this);return b},compose:function(a){this.arguments_=[];this.paramIds_=[];for(var b=a.getInputTargetBlock("STACK");b;)this.arguments_.push(b.getFieldValue("NAME")),this.paramIds_.push(b.id),b=b.nextConnection&&b.nextConnection.targetBlock();this.updateParams_();Blockly.Procedures.mutateCallers(this);a=a.getFieldValue("STATEMENTS");if(null!==a&&(a=\n"TRUE"==a,this.hasStatements_!=a))if(a)this.setStatements_(!0),Blockly.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null;else{a=this.getInput("STACK").connection;if(this.statementConnection_=a.targetConnection)a=a.targetBlock(),a.unplug(),a.bumpNeighbours_();this.setStatements_(!1)}},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},renameVar:function(a,b){for(var c=!1,e=0;e<this.arguments_.length;e++)Blockly.Names.equals(a,\nthis.arguments_[e])&&(this.arguments_[e]=b,c=!0);if(c&&(this.updateParams_(),this.mutator.isVisible()))for(var c=this.mutator.workspace_.getAllBlocks(),e=0,d;d=c[e];e++)"procedures_mutatorarg"==d.type&&Blockly.Names.equals(a,d.getFieldValue("NAME"))&&d.setFieldValue(b,"NAME")},customContextMenu:function(a){var b={enabled:!0},c=this.getFieldValue("NAME");b.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1",c);var e=goog.dom.createDom("mutation");e.setAttribute("name",c);for(var d=0;d<this.arguments_.length;d++)c=\ngoog.dom.createDom("arg"),c.setAttribute("name",this.arguments_[d]),e.appendChild(c);e=goog.dom.createDom("block",null,e);e.setAttribute("type",this.callType_);b.callback=Blockly.ContextMenu.callbackFactory(this,e);a.push(b);if(!this.isCollapsed())for(d=0;d<this.arguments_.length;d++)b={enabled:!0},c=this.arguments_[d],b.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c),e=goog.dom.createDom("field",null,c),e.setAttribute("name","VAR"),e=goog.dom.createDom("block",null,e),e.setAttribute("type",\n"variables_get"),b.callback=Blockly.ContextMenu.callbackFactory(this,e),a.push(b)},callType_:"procedures_callnoreturn"};\nBlockly.Blocks.procedures_defreturn={init:function(){var a=new Blockly.FieldTextInput(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE,Blockly.Procedures.rename);a.setSpellcheck(!1);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS");this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));(this.workspace.options.comments||\nthis.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT);this.setColour(Blockly.Blocks.procedures.HUE);this.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL);this.arguments_=[];this.setStatements_(!0);this.statementConnection_=null},setStatements_:Blockly.Blocks.procedures_defnoreturn.setStatements_,\nupdateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,renameVar:Blockly.Blocks.procedures_defnoreturn.renameVar,\ncustomContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"};\nBlockly.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE);this.appendStatementInput("STACK");this.appendDummyInput("STATEMENT_INPUT").appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Blockly.FieldCheckbox("TRUE"),"STATEMENTS");this.setColour(Blockly.Blocks.procedures.HUE);this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.procedures_mutatorarg={init:function(){var a=new Blockly.FieldTextInput("x",this.validator_);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,"NAME");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setColour(Blockly.Blocks.procedures.HUE);this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.onFinishEditing_=this.createNewVar_;a.onFinishEditing_("x")},validator_:function(a){return(a=a.replace(/[\\s\\xa0]+/g,\n" ").replace(/^ | $/g,""))||null},createNewVar_:function(a){var b=this.sourceBlock_;b&&b.workspace&&b.workspace.options&&b.workspace.options.parentWorkspace&&b.workspace.options.parentWorkspace.createVariable(a)}};\nBlockly.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setColour(Blockly.Blocks.procedures.HUE);this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL);this.arguments_=[];this.quarkConnections_={};this.quarkIds_=null},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(a,b){Blockly.Names.equals(a,this.getProcedureCall())&&(this.setFieldValue(b,\n"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},setProcedureParameters_:function(a,b){var c=Blockly.Procedures.getDefinition(this.getProcedureCall(),this.workspace),e=c&&c.mutator&&c.mutator.isVisible();e||(this.quarkConnections_={},this.quarkIds_=null);if(b)if(goog.array.equals(this.arguments_,a))this.quarkIds_=b;else{if(b.length!=a.length)throw"Error: paramNames and paramIds must be the same length.";\nthis.setCollapsed(!1);this.quarkIds_||(this.quarkConnections_={},a.join("\\n")==this.arguments_.join("\\n")?this.quarkIds_=b:this.quarkIds_=[]);c=this.rendered;this.rendered=!1;for(var d=0;d<this.arguments_.length;d++){var f=this.getInput("ARG"+d);f&&(f=f.connection.targetConnection,this.quarkConnections_[this.quarkIds_[d]]=f,e&&f&&-1==b.indexOf(this.quarkIds_[d])&&(f.disconnect(),f.getSourceBlock().bumpNeighbours_()))}this.arguments_=[].concat(a);this.updateShape_();if(this.quarkIds_=b)for(d=0;d<this.arguments_.length;d++)e=\nthis.quarkIds_[d],e in this.quarkConnections_&&(f=this.quarkConnections_[e],Blockly.Mutator.reconnect(f,this,"ARG"+d)||delete this.quarkConnections_[e]);(this.rendered=c)&&this.render()}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField("ARGNAME"+a);if(b){Blockly.Events.disable();try{b.setValue(this.arguments_[a])}finally{Blockly.Events.enable()}}else b=new Blockly.FieldLabel(this.arguments_[a]),this.appendValueInput("ARG"+a).setAlign(Blockly.ALIGN_RIGHT).appendField(b,\n"ARGNAME"+a).init()}for(;this.getInput("ARG"+a);)this.removeInput("ARG"+a),a++;if(a=this.getInput("TOPROW"))this.arguments_.length?this.getField("WITH")||(a.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.init()):this.getField("WITH")&&a.removeField("WITH")},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("name",this.getProcedureCall());for(var b=0;b<this.arguments_.length;b++){var c=document.createElement("arg");c.setAttribute("name",this.arguments_[b]);\na.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute("name");this.renameProcedure(this.getProcedureCall(),b);for(var b=[],c=[],e=0,d;d=a.childNodes[e];e++)"arg"==d.nodeName.toLowerCase()&&(b.push(d.getAttribute("name")),c.push(d.getAttribute("paramId")));this.setProcedureParameters_(b,c)},renameVar:function(a,b){for(var c=0;c<this.arguments_.length;c++)Blockly.Names.equals(a,this.arguments_[c])&&(this.arguments_[c]=b,this.getField("ARGNAME"+c).setValue(b))},onchange:function(a){if(this.workspace&&\n!this.workspace.isFlyout)if(a.type==Blockly.Events.CREATE&&-1!=a.ids.indexOf(this.id)){var b=this.getProcedureCall(),b=Blockly.Procedures.getDefinition(b,this.workspace);!b||b.type==this.defType_&&JSON.stringify(b.arguments_)==JSON.stringify(this.arguments_)||(b=null);if(!b){Blockly.Events.setGroup(a.group);a=goog.dom.createDom("xml");b=goog.dom.createDom("block");b.setAttribute("type",this.defType_);var c=this.getRelativeToSurfaceXY(),e=c.y+2*Blockly.SNAP_RADIUS;b.setAttribute("x",c.x+Blockly.SNAP_RADIUS*\n(this.RTL?-1:1));b.setAttribute("y",e);c=this.mutationToDom();b.appendChild(c);c=goog.dom.createDom("field");c.setAttribute("name","NAME");c.appendChild(document.createTextNode(this.getProcedureCall()));b.appendChild(c);a.appendChild(b);Blockly.Xml.domToWorkspace(a,this.workspace);Blockly.Events.setGroup(!1)}}else a.type==Blockly.Events.DELETE&&(b=this.getProcedureCall(),b=Blockly.Procedures.getDefinition(b,this.workspace),b||(Blockly.Events.setGroup(a.group),this.dispose(!0,!1),Blockly.Events.setGroup(!1)))},\ncustomContextMenu:function(a){var b={enabled:!0};b.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var c=this.getProcedureCall(),e=this.workspace;b.callback=function(){var a=Blockly.Procedures.getDefinition(c,e);a&&a.select()};a.push(b)},defType_:"procedures_defnoreturn"};\nBlockly.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME");this.setOutput(!0);this.setColour(Blockly.Blocks.procedures.HUE);this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL);this.arguments_=[];this.quarkConnections_={};this.quarkIds_=null},getProcedureCall:Blockly.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters_,\nupdateShape_:Blockly.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,renameVar:Blockly.Blocks.procedures_callnoreturn.renameVar,onchange:Blockly.Blocks.procedures_callnoreturn.onchange,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"};\nBlockly.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF);this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setColour(Blockly.Blocks.procedures.HUE);this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_IFRETURN_HELPURL);this.hasReturnValue_=!0},\nmutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("value",Number(this.hasReturnValue_));return a},domToMutation:function(a){this.hasReturnValue_=1==a.getAttribute("value");this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(a){a=!1;var b=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?("procedures_defnoreturn"==b.type&&\nthis.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=b.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING)},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Blockly.Blocks.texts={};Blockly.Blocks.texts.HUE=160;\nBlockly.Blocks.text={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_TEXT_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.appendDummyInput().appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1));this.setOutput(!0,"String");var a=this;this.setTooltip(function(){var b=a.getParent();return b&&b.getInputsInline()&&b.tooltip||Blockly.Msg.TEXT_TEXT_TOOLTIP})},newQuote_:function(a){return new Blockly.FieldImage(a==this.RTL?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==":\n"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",12,12,\'"\')}};\nBlockly.Blocks.text_join={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_JOIN_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.itemCount_=2;this.updateShape_();this.setOutput(!0,"String");this.setMutator(new Blockly.Mutator(["text_create_join_item"]));this.setTooltip(Blockly.Msg.TEXT_JOIN_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("items",this.itemCount_);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),10);\nthis.updateShape_()},decompose:function(a){var b=a.newBlock("text_create_join_container");b.initSvg();for(var c=b.getInput("STACK").connection,e=0;e<this.itemCount_;e++){var d=a.newBlock("text_create_join_item");d.initSvg();c.connect(d.previousConnection);c=d.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;\nc&&-1==a.indexOf(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++)Blockly.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection;b++;a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||\nthis.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a);0==a&&b.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+a);)this.removeInput("ADD"+a),a++},newQuote_:Blockly.Blocks.text.newQuote_};\nBlockly.Blocks.text_create_join_container={init:function(){this.setColour(Blockly.Blocks.texts.HUE);this.appendDummyInput().appendField(Blockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN);this.appendStatementInput("STACK");this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.text_create_join_item={init:function(){this.setColour(Blockly.Blocks.texts.HUE);this.appendDummyInput().appendField(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.text_append={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_APPEND_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.appendValueInput("TEXT").appendField(Blockly.Msg.TEXT_APPEND_TO).appendField(new Blockly.FieldVariable(Blockly.Msg.TEXT_APPEND_VARIABLE),"VAR").appendField(Blockly.Msg.TEXT_APPEND_APPENDTEXT);this.setPreviousStatement(!0);this.setNextStatement(!0);var a=this;this.setTooltip(function(){return Blockly.Msg.TEXT_APPEND_TOOLTIP.replace("%1",a.getFieldValue("VAR"))})}};\nBlockly.Blocks.text_length={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:Blockly.Blocks.texts.HUE,tooltip:Blockly.Msg.TEXT_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.TEXT_LENGTH_HELPURL})}};\nBlockly.Blocks.text_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:Blockly.Blocks.texts.HUE,tooltip:Blockly.Msg.TEXT_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.TEXT_ISEMPTY_HELPURL})}};\nBlockly.Blocks.text_indexOf={init:function(){var a=[[Blockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST,"FIRST"],[Blockly.Msg.TEXT_INDEXOF_OPERATOR_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_INDEXOF_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.setOutput(!0,"Number");this.appendValueInput("VALUE").setCheck("String").appendField(Blockly.Msg.TEXT_INDEXOF_INPUT_INTEXT);this.appendValueInput("FIND").setCheck("String").appendField(new Blockly.FieldDropdown(a),"END");Blockly.Msg.TEXT_INDEXOF_TAIL&&this.appendDummyInput().appendField(Blockly.Msg.TEXT_INDEXOF_TAIL);\nthis.setInputsInline(!0);var b=this;this.setTooltip(function(){return Blockly.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",b.workspace.options.oneBasedIndex?"0":"-1")})}};\nBlockly.Blocks.text_charAt={init:function(){this.WHERE_OPTIONS=[[Blockly.Msg.TEXT_CHARAT_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_CHARAT_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_CHARAT_FIRST,"FIRST"],[Blockly.Msg.TEXT_CHARAT_LAST,"LAST"],[Blockly.Msg.TEXT_CHARAT_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.TEXT_CHARAT_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.setOutput(!0,"String");this.appendValueInput("VALUE").setCheck("String").appendField(Blockly.Msg.TEXT_CHARAT_INPUT_INTEXT);this.appendDummyInput("AT");\nthis.setInputsInline(!0);this.updateAt_(!0);var a=this;this.setTooltip(function(){var b=a.getFieldValue("WHERE"),c=Blockly.Msg.TEXT_CHARAT_TOOLTIP;if("FROM_START"==b||"FROM_END"==b)c+="  "+("FROM_START"==b?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",a.workspace.options.oneBasedIndex?"#1":"#0");return c})},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},\ndomToMutation:function(a){a="false"!=a.getAttribute("at");this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT");this.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");Blockly.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL));var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,\nfunction(b){var e="FROM_START"==b||"FROM_END"==b;if(e!=a){var d=this.sourceBlock_;d.updateAt_(e);d.setFieldValue(b,"WHERE");return null}});this.getInput("AT").appendField(b,"WHERE")}};\nBlockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);\nthis.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);this.appendDummyInput("AT1");this.appendDummyInput("AT2");Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL);this.setInputsInline(!0);this.setOutput(!0,"String");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation"),\nb=this.getInput("AT1").type==Blockly.INPUT_VALUE;a.setAttribute("at1",b);b=this.getInput("AT2").type==Blockly.INPUT_VALUE;a.setAttribute("at2",b);return a},domToMutation:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a);this.removeInput("ORDINAL"+a,!0);b?(this.appendValueInput("AT"+a).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):\nthis.appendDummyInput("AT"+a);2==a&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var c=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+a],function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=b){var f=this.sourceBlock_;f.updateAt_(a,d);f.setFieldValue(c,"WHERE"+a);return null}});this.getInput("AT"+a).appendField(c,"WHERE"+a);1==a&&this.moveInputBefore("AT1","AT2")}};\nBlockly.Blocks.text_changeCase={init:function(){var a=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a),"CASE");this.setOutput(!0,"String");this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}};\nBlockly.Blocks.text_trim={init:function(){var a=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a),"MODE");this.setOutput(!0,"String");this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}};\nBlockly.Blocks.text_print={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.texts.HUE,tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}};\nBlockly.Blocks.text_prompt_ext={init:function(){var a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);var b=this,a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendValueInput("TEXT").appendField(a,"TYPE");this.setOutput(!0,"String");this.setTooltip(function(){return"TEXT"==b.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},\nupdateType_:function(a){this.outputConnection.setCheck("NUMBER"==a?"Number":"String")},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("type",this.getFieldValue("TYPE"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("type"))}};\nBlockly.Blocks.text_prompt={init:function(){var a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);this.setColour(Blockly.Blocks.texts.HUE);a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendDummyInput().appendField(a,"TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1));this.setOutput(!0,"String");this.setTooltip(function(){return"TEXT"==\nb.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},newQuote_:Blockly.Blocks.text.newQuote_,updateType_:Blockly.Blocks.text_prompt_ext.updateType_,mutationToDom:Blockly.Blocks.text_prompt_ext.mutationToDom,domToMutation:Blockly.Blocks.text_prompt_ext.domToMutation};Blockly.Blocks.loops={};Blockly.Blocks.loops.HUE=120;Blockly.Blocks.controls_repeat_ext={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,args0:[{type:"input_value",name:"TIMES",check:"Number"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL});this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO)}};\nBlockly.Blocks.controls_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL});this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO)}};\nBlockly.Blocks.controls_whileUntil={init:function(){var a=[[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE,"WHILE"],[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL,"UNTIL"]];this.setHelpUrl(Blockly.Msg.CONTROLS_WHILEUNTIL_HELPURL);this.setColour(Blockly.Blocks.loops.HUE);this.appendValueInput("BOOL").setCheck("Boolean").appendField(new Blockly.FieldDropdown(a),"MODE");this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO);this.setPreviousStatement(!0);this.setNextStatement(!0);\nvar b=this;this.setTooltip(function(){var a=b.getFieldValue("MODE");return{WHILE:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,UNTIL:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}[a]})}};\nBlockly.Blocks.controls_for={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOR_TITLE,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,helpUrl:Blockly.Msg.CONTROLS_FOR_HELPURL});this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOR_INPUT_DO);\nvar a=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOR_TOOLTIP.replace("%1",a.getFieldValue("VAR"))})},customContextMenu:function(a){if(!this.isCollapsed()){var b={enabled:!0},c=this.getFieldValue("VAR");b.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c);c=goog.dom.createDom("field",null,c);c.setAttribute("name","VAR");c=goog.dom.createDom("block",null,c);c.setAttribute("type","variables_get");b.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(b)}}};\nBlockly.Blocks.controls_forEach={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOREACH_TITLE,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,helpUrl:Blockly.Msg.CONTROLS_FOREACH_HELPURL});this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOREACH_INPUT_DO);var a=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOREACH_TOOLTIP.replace("%1",\na.getFieldValue("VAR"))})},customContextMenu:Blockly.Blocks.controls_for.customContextMenu};\nBlockly.Blocks.controls_flow_statements={init:function(){var a=[[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK,"BREAK"],[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE,"CONTINUE"]];this.setHelpUrl(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL);this.setColour(Blockly.Blocks.loops.HUE);this.appendDummyInput().appendField(new Blockly.FieldDropdown(a),"FLOW");this.setPreviousStatement(!0);var b=this;this.setTooltip(function(){var a=b.getFieldValue("FLOW");return{BREAK:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK,\nCONTINUE:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}[a]})},onchange:function(a){a=!1;var b=this;do{if(-1!=this.LOOP_TYPES.indexOf(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?this.setWarningText(null):this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING)},LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]};Blockly.Blocks.logic={};Blockly.Blocks.logic.HUE=210;\nBlockly.Blocks.controls_if={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_IF_HELPURL);this.setColour(Blockly.Blocks.logic.HUE);this.appendValueInput("IF0").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF);this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setMutator(new Blockly.Mutator(["controls_if_elseif","controls_if_else"]));var a=this;this.setTooltip(function(){if(a.elseifCount_||a.elseCount_){if(!a.elseifCount_&&\na.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_2;if(a.elseifCount_&&!a.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_3;if(a.elseifCount_&&a.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_4}else return Blockly.Msg.CONTROLS_IF_TOOLTIP_1;return""});this.elseCount_=this.elseifCount_=0},mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var a=document.createElement("mutation");this.elseifCount_&&a.setAttribute("elseif",this.elseifCount_);this.elseCount_&&a.setAttribute("else",\n1);return a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute("elseif"),10)||0;this.elseCount_=parseInt(a.getAttribute("else"),10)||0;this.updateShape_()},decompose:function(a){var b=a.newBlock("controls_if_if");b.initSvg();for(var c=b.nextConnection,e=1;e<=this.elseifCount_;e++){var d=a.newBlock("controls_if_elseif");d.initSvg();c.connect(d.previousConnection);c=d.nextConnection}this.elseCount_&&(a=a.newBlock("controls_if_else"),a.initSvg(),c.connect(a.previousConnection));return b},\ncompose:function(a){var b=a.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0;a=[null];for(var c=[null],e=null;b;){switch(b.type){case "controls_if_elseif":this.elseifCount_++;a.push(b.valueConnection_);c.push(b.statementConnection_);break;case "controls_if_else":this.elseCount_++;e=b.statementConnection_;break;default:throw"Unknown block type.";}b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateShape_();for(b=1;b<=this.elseifCount_;b++)Blockly.Mutator.reconnect(a[b],this,\n"IF"+b),Blockly.Mutator.reconnect(c[b],this,"DO"+b);Blockly.Mutator.reconnect(e,this,"ELSE")},saveConnections:function(a){a=a.nextConnection.targetBlock();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=this.getInput("IF"+b),e=this.getInput("DO"+b);a.valueConnection_=c&&c.connection.targetConnection;a.statementConnection_=e&&e.connection.targetConnection;b++;break;case "controls_if_else":e=this.getInput("ELSE");a.statementConnection_=e&&e.connection.targetConnection;break;default:throw"Unknown block type.";\n}a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var a=1;this.getInput("IF"+a);)this.removeInput("IF"+a),this.removeInput("DO"+a),a++;for(a=1;a<=this.elseifCount_;a++)this.appendValueInput("IF"+a).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+a).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)}};\nBlockly.Blocks.controls_if_if={init:function(){this.setColour(Blockly.Blocks.logic.HUE);this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_IF_TITLE_IF);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.CONTROLS_IF_IF_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.controls_if_elseif={init:function(){this.setColour(Blockly.Blocks.logic.HUE);this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.controls_if_else={init:function(){this.setColour(Blockly.Blocks.logic.HUE);this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE);this.setPreviousStatement(!0);this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSE_TOOLTIP);this.contextMenu=!1}};\nBlockly.Blocks.logic_compare={init:function(){var a=[["=","EQ"],["\\u2260","NEQ"],["\\u200f<\\u200f","LT"],["\\u200f\\u2264\\u200f","LTE"],["\\u200f>\\u200f","GT"],["\\u200f\\u2265\\u200f","GTE"]],b=[["=","EQ"],["\\u2260","NEQ"],["<","LT"],["\\u2264","LTE"],[">","GT"],["\\u2265","GTE"]],a=this.RTL?a:b;this.setHelpUrl(Blockly.Msg.LOGIC_COMPARE_HELPURL);this.setColour(Blockly.Blocks.logic.HUE);this.setOutput(!0,"Boolean");this.appendValueInput("A");this.appendValueInput("B").appendField(new Blockly.FieldDropdown(a),\n"OP");this.setInputsInline(!0);var c=this;this.setTooltip(function(){var a=c.getFieldValue("OP");return{EQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,LT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,LTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE,GT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT,GTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE}[a]});this.prevBlocks_=[null,null]},onchange:function(a){var b=this.getInputTargetBlock("A"),c=this.getInputTargetBlock("B");if(b&&c&&!b.outputConnection.checkType_(c.outputConnection)){Blockly.Events.setGroup(a.group);\nfor(a=0;a<this.prevBlocks_.length;a++){var e=this.prevBlocks_[a];if(e===b||e===c)e.unplug(),e.bumpNeighbours_()}Blockly.Events.setGroup(!1)}this.prevBlocks_[0]=b;this.prevBlocks_[1]=c}};\nBlockly.Blocks.logic_operation={init:function(){var a=[[Blockly.Msg.LOGIC_OPERATION_AND,"AND"],[Blockly.Msg.LOGIC_OPERATION_OR,"OR"]];this.setHelpUrl(Blockly.Msg.LOGIC_OPERATION_HELPURL);this.setColour(Blockly.Blocks.logic.HUE);this.setOutput(!0,"Boolean");this.appendValueInput("A").setCheck("Boolean");this.appendValueInput("B").setCheck("Boolean").appendField(new Blockly.FieldDropdown(a),"OP");this.setInputsInline(!0);var b=this;this.setTooltip(function(){var a=b.getFieldValue("OP");return{AND:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_AND,\nOR:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_OR}[a]})}};Blockly.Blocks.logic_negate={init:function(){this.jsonInit({message0:Blockly.Msg.LOGIC_NEGATE_TITLE,args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",colour:Blockly.Blocks.logic.HUE,tooltip:Blockly.Msg.LOGIC_NEGATE_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_NEGATE_HELPURL})}};\nBlockly.Blocks.logic_boolean={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[[Blockly.Msg.LOGIC_BOOLEAN_TRUE,"TRUE"],[Blockly.Msg.LOGIC_BOOLEAN_FALSE,"FALSE"]]}],output:"Boolean",colour:Blockly.Blocks.logic.HUE,tooltip:Blockly.Msg.LOGIC_BOOLEAN_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_BOOLEAN_HELPURL})}};\nBlockly.Blocks.logic_null={init:function(){this.jsonInit({message0:Blockly.Msg.LOGIC_NULL,output:null,colour:Blockly.Blocks.logic.HUE,tooltip:Blockly.Msg.LOGIC_NULL_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_NULL_HELPURL})}};\nBlockly.Blocks.logic_ternary={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_TERNARY_HELPURL);this.setColour(Blockly.Blocks.logic.HUE);this.appendValueInput("IF").setCheck("Boolean").appendField(Blockly.Msg.LOGIC_TERNARY_CONDITION);this.appendValueInput("THEN").appendField(Blockly.Msg.LOGIC_TERNARY_IF_TRUE);this.appendValueInput("ELSE").appendField(Blockly.Msg.LOGIC_TERNARY_IF_FALSE);this.setOutput(!0);this.setTooltip(Blockly.Msg.LOGIC_TERNARY_TOOLTIP);this.prevParentConnection_=null},onchange:function(a){var b=\nthis.getInputTargetBlock("THEN"),c=this.getInputTargetBlock("ELSE"),e=this.outputConnection.targetConnection;if((b||c)&&e)for(var d=0;2>d;d++){var f=1==d?b:c;f&&!f.outputConnection.checkType_(e)&&(Blockly.Events.setGroup(a.group),e===this.prevParentConnection_?(this.unplug(),e.getSourceBlock().bumpNeighbours_()):(f.unplug(),f.bumpNeighbours_()),Blockly.Events.setGroup(!1))}this.prevParentConnection_=e}};';
},function(e,t){e.exports='// Do not edit this file; automatically generated by build.py.\n\'use strict\';\n\n\n// Copyright 2012 Google Inc.  Apache License 2.0\nBlockly.JavaScript=new Blockly.Generator("JavaScript");Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");\nBlockly.JavaScript.ORDER_ATOMIC=0;Blockly.JavaScript.ORDER_NEW=1.1;Blockly.JavaScript.ORDER_MEMBER=1.2;Blockly.JavaScript.ORDER_FUNCTION_CALL=2;Blockly.JavaScript.ORDER_INCREMENT=3;Blockly.JavaScript.ORDER_DECREMENT=3;Blockly.JavaScript.ORDER_BITWISE_NOT=4.1;Blockly.JavaScript.ORDER_UNARY_PLUS=4.2;Blockly.JavaScript.ORDER_UNARY_NEGATION=4.3;Blockly.JavaScript.ORDER_LOGICAL_NOT=4.4;Blockly.JavaScript.ORDER_TYPEOF=4.5;Blockly.JavaScript.ORDER_VOID=4.6;Blockly.JavaScript.ORDER_DELETE=4.7;\nBlockly.JavaScript.ORDER_DIVISION=5.1;Blockly.JavaScript.ORDER_MULTIPLICATION=5.2;Blockly.JavaScript.ORDER_MODULUS=5.3;Blockly.JavaScript.ORDER_SUBTRACTION=6.1;Blockly.JavaScript.ORDER_ADDITION=6.2;Blockly.JavaScript.ORDER_BITWISE_SHIFT=7;Blockly.JavaScript.ORDER_RELATIONAL=8;Blockly.JavaScript.ORDER_IN=8;Blockly.JavaScript.ORDER_INSTANCEOF=8;Blockly.JavaScript.ORDER_EQUALITY=9;Blockly.JavaScript.ORDER_BITWISE_AND=10;Blockly.JavaScript.ORDER_BITWISE_XOR=11;Blockly.JavaScript.ORDER_BITWISE_OR=12;\nBlockly.JavaScript.ORDER_LOGICAL_AND=13;Blockly.JavaScript.ORDER_LOGICAL_OR=14;Blockly.JavaScript.ORDER_CONDITIONAL=15;Blockly.JavaScript.ORDER_ASSIGNMENT=16;Blockly.JavaScript.ORDER_COMMA=17;Blockly.JavaScript.ORDER_NONE=99;\nBlockly.JavaScript.ORDER_OVERRIDES=[[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_LOGICAL_NOT,Blockly.JavaScript.ORDER_LOGICAL_NOT],[Blockly.JavaScript.ORDER_MULTIPLICATION,Blockly.JavaScript.ORDER_MULTIPLICATION],[Blockly.JavaScript.ORDER_ADDITION,\nBlockly.JavaScript.ORDER_ADDITION],[Blockly.JavaScript.ORDER_LOGICAL_AND,Blockly.JavaScript.ORDER_LOGICAL_AND],[Blockly.JavaScript.ORDER_LOGICAL_OR,Blockly.JavaScript.ORDER_LOGICAL_OR]];\nBlockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null);Blockly.JavaScript.functionNames_=Object.create(null);Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);var b=[];a=a.variableList;if(a.length){for(var c=0;c<a.length;c++)b[c]=Blockly.JavaScript.variableDB_.getName(a[c],Blockly.Variables.NAME_TYPE);Blockly.JavaScript.definitions_.variables="var "+b.join(", ")+\n";"}};Blockly.JavaScript.finish=function(a){var b=[],c;for(c in Blockly.JavaScript.definitions_)b.push(Blockly.JavaScript.definitions_[c]);delete Blockly.JavaScript.definitions_;delete Blockly.JavaScript.functionNames_;Blockly.JavaScript.variableDB_.reset();return b.join("\\n\\n")+"\\n\\n\\n"+a};Blockly.JavaScript.scrubNakedValue=function(a){return a+";\\n"};Blockly.JavaScript.quote_=function(a){a=a.replace(/\\\\/g,"\\\\\\\\").replace(/\\n/g,"\\\\\\n").replace(/\'/g,"\\\\\'");return"\'"+a+"\'"};\nBlockly.JavaScript.scrub_=function(a,b){var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();(d=Blockly.utils.wrap(d,Blockly.JavaScript.COMMENT_WRAP-3))&&(c=a.getProcedureDef?c+("/**\\n"+Blockly.JavaScript.prefixLines(d+"\\n"," * ")+" */\\n"):c+Blockly.JavaScript.prefixLines(d+"\\n","// "));for(var e=0;e<a.inputList.length;e++)a.inputList[e].type==Blockly.INPUT_VALUE&&(d=a.inputList[e].connection.targetBlock())&&(d=Blockly.JavaScript.allNestedComments(d))&&(c+=\nBlockly.JavaScript.prefixLines(d,"// "))}e=a.nextConnection&&a.nextConnection.targetBlock();e=Blockly.JavaScript.blockToCode(e);return c+b+e};\nBlockly.JavaScript.getAdjusted=function(a,b,c,d,e){c=c||0;e=e||Blockly.JavaScript.ORDER_NONE;a.workspace.options.oneBasedIndex&&c--;var f=a.workspace.options.oneBasedIndex?"1":"0";a=0<c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_ADDITION)||f:0>c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_SUBTRACTION)||f:d?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_UNARY_NEGATION)||f:Blockly.JavaScript.valueToCode(a,b,e)||f;if(Blockly.isNumber(a))a=parseFloat(a)+c,\nd&&(a=-a);else{if(0<c){a=a+" + "+c;var g=Blockly.JavaScript.ORDER_ADDITION}else 0>c&&(a=a+" - "+-c,g=Blockly.JavaScript.ORDER_SUBTRACTION);d&&(a=c?"-("+a+")":"-"+a,g=Blockly.JavaScript.ORDER_UNARY_NEGATION);g=Math.floor(g);e=Math.floor(e);g&&e>=g&&(a="("+a+")")}return a};Blockly.JavaScript.lists={};Blockly.JavaScript.lists_create_empty=function(a){return["[]",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.lists_create_with=function(a){for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++)b[c]=Blockly.JavaScript.valueToCode(a,"ADD"+c,Blockly.JavaScript.ORDER_COMMA)||"null";return["["+b.join(", ")+"]",Blockly.JavaScript.ORDER_ATOMIC]};\nBlockly.JavaScript.lists_repeat=function(a){var b=Blockly.JavaScript.provideFunction_("listsRepeat",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Blockly.JavaScript.valueToCode(a,"ITEM",Blockly.JavaScript.ORDER_COMMA)||"null";a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_COMMA)||"0";return[b+"("+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.lists_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.lists_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]};\nBlockly.JavaScript.lists_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"\'\'",b=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+b+"("+c+")";return a.workspace.options.oneBasedIndex?[b+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.lists_getIndex=function(a){var b=a.getFieldValue("MODE")||"GET",c=a.getFieldValue("WHERE")||"FROM_START",d=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==c?Blockly.JavaScript.ORDER_COMMA:Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==b)return[d+".shift()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==b)return d+".shift();\\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",Blockly.JavaScript.ORDER_MEMBER];\nif("GET_REMOVE"==b)return[d+".pop()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==b)return d+".pop();\\n";break;case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT");if("GET"==b)return[d+"["+a+"]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+".splice("+a+", 1);\\n";break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];\nif("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=Blockly.JavaScript.provideFunction_("listsGetRandomItem",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,\nBlockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+";\\n"}throw"Unhandled combination (lists_getIndex).";};\nBlockly.JavaScript.lists_setIndex=function(a){function b(){if(c.match(/^\\w+$/))return"";var a=Blockly.JavaScript.variableDB_.getDistinctName("tmpList",Blockly.Variables.NAME_TYPE),b="var "+a+" = "+c+";\\n";c=a;return b}var c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(e){case "FIRST":if("SET"==d)return c+\n"[0] = "+f+";\\n";if("INSERT"==d)return c+".unshift("+f+");\\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\\n");if("INSERT"==d)return c+".push("+f+");\\n";break;case "FROM_START":e=Blockly.JavaScript.getAdjusted(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\\n";break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+\n"] = "+f+";\\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\\n");break;case "RANDOM":a=b();e=Blockly.JavaScript.variableDB_.getDistinctName("tmpX",Blockly.Variables.NAME_TYPE);a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+f+");\\n")}throw"Unhandled combination (lists_setIndex).";};\nBlockly.JavaScript.lists.getIndex_=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};\nBlockly.JavaScript.lists_getSublist=function(a){var b=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=Blockly.JavaScript.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);e=b+".length - "+e;break;case "FIRST":e=\n"0";break;default:throw"Unhandled option (lists_getSublist).";}switch(d){case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw"Unhandled option (lists_getSublist).";}b=b+".slice("+e+", "+a+")"}else{e=Blockly.JavaScript.getAdjusted(a,"AT1");a=Blockly.JavaScript.getAdjusted(a,"AT2");var f=Blockly.JavaScript.lists.getIndex_,\ng={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},b=Blockly.JavaScript.provideFunction_("subsequence"+g[c]+g[d],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==\nd?", "+a:"")+")"}return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.lists_sort=function(a){var b=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",c="1"===a.getFieldValue("DIRECTION")?1:-1;a=a.getFieldValue("TYPE");var d=Blockly.JavaScript.provideFunction_("listsGetSortCompare",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",\'    "NUMERIC": function(a, b) {\',"        return parseFloat(a) - parseFloat(b); },",\'    "TEXT": function(a, b) {\',"        return a.toString() > b.toString() ? 1 : -1; },",\n\'    "IGNORE_CASE": function(a, b) {\',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+\'("\'+a+\'", \'+c+"))",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.lists_split=function(a){var b=Blockly.JavaScript.valueToCode(a,"INPUT",Blockly.JavaScript.ORDER_MEMBER),c=Blockly.JavaScript.valueToCode(a,"DELIM",Blockly.JavaScript.ORDER_NONE)||"\'\'";a=a.getFieldValue("MODE");if("SPLIT"==a)b||(b="\'\'"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw"Unknown mode: "+a;return[b+"."+a+"("+c+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math={};Blockly.JavaScript.math_number=function(a){return[parseFloat(a.getFieldValue("NUM")),Blockly.JavaScript.ORDER_ATOMIC]};\nBlockly.JavaScript.math_arithmetic=function(a){var b={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION],POWER:[null,Blockly.JavaScript.ORDER_COMMA]}[a.getFieldValue("OP")],c=b[0],b=b[1],d=Blockly.JavaScript.valueToCode(a,"A",b)||"0";a=Blockly.JavaScript.valueToCode(a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.math_single=function(a){var b=a.getFieldValue("OP"),c;if("NEG"==b)return a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==a[0]&&(a=" "+a),["-"+a,Blockly.JavaScript.ORDER_UNARY_NEGATION];a="SIN"==b||"COS"==b||"TAN"==b?Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_DIVISION)||"0":Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_NONE)||"0";switch(b){case "ABS":c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+\na+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c="Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(b){case "LOG10":c="Math.log("+a+\n") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw"Unknown math operator: "+b;}return[c,Blockly.JavaScript.ORDER_DIVISION]};\nBlockly.JavaScript.math_constant=function(a){return{PI:["Math.PI",Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",Blockly.JavaScript.ORDER_ATOMIC]}[a.getFieldValue("CONSTANT")]};\nBlockly.JavaScript.math_number_property=function(a){var b=Blockly.JavaScript.valueToCode(a,"NUMBER_TO_CHECK",Blockly.JavaScript.ORDER_MODULUS)||"0",c=a.getFieldValue("PROPERTY"),d;if("PRIME"==c)return[Blockly.JavaScript.provideFunction_("mathIsPrime",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.",\n"  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=\nb+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0",d=b+" % "+a+" == 0"}return[d,Blockly.JavaScript.ORDER_EQUALITY]};Blockly.JavaScript.math_change=function(a){var b=Blockly.JavaScript.valueToCode(a,"DELTA",Blockly.JavaScript.ORDER_ADDITION)||"0";a=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return a+" = (typeof "+a+" == \'number\' ? "+a+" : 0) + "+b+";\\n"};\nBlockly.JavaScript.math_round=Blockly.JavaScript.math_single;Blockly.JavaScript.math_trig=Blockly.JavaScript.math_single;\nBlockly.JavaScript.math_on_list=function(a){var b=a.getFieldValue("OP");switch(b){case "SUM":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=Blockly.JavaScript.provideFunction_("mathMean",\n["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=Blockly.JavaScript.provideFunction_("mathMedian",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == \'number\';});","  if (!localList.length) return null;",\n"  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "MODE":b=Blockly.JavaScript.provideFunction_("mathModes",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];",\n"  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {",\n"    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=Blockly.JavaScript.provideFunction_("mathStandardDeviation",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;",\n"  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "RANDOM":b=Blockly.JavaScript.provideFunction_("mathRandomList",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Blockly.JavaScript.valueToCode(a,\n"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;default:throw"Unknown operator: "+b;}return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_modulo=function(a){var b=Blockly.JavaScript.valueToCode(a,"DIVIDEND",Blockly.JavaScript.ORDER_MODULUS)||"0";a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0";return[b+" % "+a,Blockly.JavaScript.ORDER_MODULUS]};\nBlockly.JavaScript.math_constrain=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_COMMA)||"0",c=Blockly.JavaScript.valueToCode(a,"LOW",Blockly.JavaScript.ORDER_COMMA)||"0";a=Blockly.JavaScript.valueToCode(a,"HIGH",Blockly.JavaScript.ORDER_COMMA)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.math_random_int=function(a){var b=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_COMMA)||"0";a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_COMMA)||"0";return[Blockly.JavaScript.provideFunction_("mathRandomInt",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);",\n"}"])+"("+b+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_random_float=function(a){return["Math.random()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.variables={};Blockly.JavaScript.variables_get=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.variables_set=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\\n"};Blockly.JavaScript.colour={};Blockly.JavaScript.colour_picker=function(a){return["\'"+a.getFieldValue("COLOUR")+"\'",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.colour_random=function(a){return[Blockly.JavaScript.provideFunction_("colourRandom",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return \'#\' + (\'00000\' + num.toString(16)).substr(-6);","}"])+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.colour_rgb=function(a){var b=Blockly.JavaScript.valueToCode(a,"RED",Blockly.JavaScript.ORDER_COMMA)||0,c=Blockly.JavaScript.valueToCode(a,"GREEN",Blockly.JavaScript.ORDER_COMMA)||0;a=Blockly.JavaScript.valueToCode(a,"BLUE",Blockly.JavaScript.ORDER_COMMA)||0;return[Blockly.JavaScript.provideFunction_("colourRgb",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;",\n"  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = (\'0\' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = (\'0\' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = (\'0\' + (Math.round(b) || 0).toString(16)).slice(-2);","  return \'#\' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.colour_blend=function(a){var b=Blockly.JavaScript.valueToCode(a,"COLOUR1",Blockly.JavaScript.ORDER_COMMA)||"\'#000000\'",c=Blockly.JavaScript.valueToCode(a,"COLOUR2",Blockly.JavaScript.ORDER_COMMA)||"\'#000000\'";a=Blockly.JavaScript.valueToCode(a,"RATIO",Blockly.JavaScript.ORDER_COMMA)||.5;return[Blockly.JavaScript.provideFunction_("colourBlend",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);",\n"  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = (\'0\' + (r || 0).toString(16)).slice(-2);","  g = (\'0\' + (g || 0).toString(16)).slice(-2);","  b = (\'0\' + (b || 0).toString(16)).slice(-2);",\n"  return \'#\' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.procedures={};\nBlockly.JavaScript.procedures_defreturn=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.JavaScript.statementToCode(a,"STACK");Blockly.JavaScript.STATEMENT_PREFIX&&(c=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"\'"+a.id+"\'"),Blockly.JavaScript.INDENT)+c);Blockly.JavaScript.INFINITE_LOOP_TRAP&&(c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"\'"+a.id+"\'")+c);var d=Blockly.JavaScript.valueToCode(a,\n"RETURN",Blockly.JavaScript.ORDER_NONE)||"";d&&(d="  return "+d+";\\n");for(var e=[],f=0;f<a.arguments_.length;f++)e[f]=Blockly.JavaScript.variableDB_.getName(a.arguments_[f],Blockly.Variables.NAME_TYPE);c="function "+b+"("+e.join(", ")+") {\\n"+c+d+"}";c=Blockly.JavaScript.scrub_(a,c);Blockly.JavaScript.definitions_["%"+b]=c;return null};Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn;\nBlockly.JavaScript.procedures_callreturn=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return[b+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.procedures_callnoreturn=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return b+"("+c.join(", ")+");\\n"};\nBlockly.JavaScript.procedures_ifreturn=function(a){var b="if ("+(Blockly.JavaScript.valueToCode(a,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\\n";a.hasReturnValue_?(a=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null",b+="  return "+a+";\\n"):b+="  return;\\n";return b+"}\\n"};Blockly.JavaScript.texts={};Blockly.JavaScript.text=function(a){return[Blockly.JavaScript.quote_(a.getFieldValue("TEXT")),Blockly.JavaScript.ORDER_ATOMIC]};\nBlockly.JavaScript.text_join=function(a){switch(a.itemCount_){case 0:return["\'\'",Blockly.JavaScript.ORDER_ATOMIC];case 1:return["String("+(Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"\'\'")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case 2:var b=Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"\'\'";a=Blockly.JavaScript.valueToCode(a,"ADD1",Blockly.JavaScript.ORDER_NONE)||"\'\'";return["String("+b+") + String("+a+")",Blockly.JavaScript.ORDER_ADDITION];\ndefault:for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++)b[c]=Blockly.JavaScript.valueToCode(a,"ADD"+c,Blockly.JavaScript.ORDER_COMMA)||"\'\'";a="["+b.join(",")+"].join(\'\')";return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]}};Blockly.JavaScript.text_append=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);a=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"\'\'";return b+" = String("+b+") + String("+a+");\\n"};\nBlockly.JavaScript.text_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"\'\'")+".length",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.text_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"\'\'")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]};\nBlockly.JavaScript.text_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"\'\'",b=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"\'\'")+"."+b+"("+c+")";return a.workspace.options.oneBasedIndex?[b+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.text_charAt=function(a){var b=a.getFieldValue("WHERE")||"FROM_START",c=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==b?Blockly.JavaScript.ORDER_NONE:Blockly.JavaScript.ORDER_MEMBER)||"\'\'";switch(b){case "FIRST":return[c+".charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "LAST":return[c+".slice(-1)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "FROM_START":return a=Blockly.JavaScript.getAdjusted(a,"AT"),[c+".charAt("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "FROM_END":return a=\nBlockly.JavaScript.getAdjusted(a,"AT",1,!0),[c+".slice("+a+").charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "RANDOM":return[Blockly.JavaScript.provideFunction_("textRandomLetter",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+c+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt).";};\nBlockly.JavaScript.text.getIndex_=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};\nBlockly.JavaScript.text_getSubstring=function(a){var b=Blockly.JavaScript.valueToCode(a,"STRING",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"\'\'",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"!=c||"LAST"!=d)if(b.match(/^\'?\\w+\'?$/)||"FROM_END"!=c&&"LAST"!=c&&"FROM_END"!=d&&"LAST"!=d){switch(c){case "FROM_START":var e=Blockly.JavaScript.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);e=b+".length - "+e;break;\ncase "FIRST":e="0";break;default:throw"Unhandled option (text_getSubstring).";}switch(d){case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw"Unhandled option (text_getSubstring).";}b=b+".slice("+e+", "+a+")"}else{e=Blockly.JavaScript.getAdjusted(a,"AT1");a=Blockly.JavaScript.getAdjusted(a,"AT2");var f=Blockly.JavaScript.text.getIndex_,\ng={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},b=Blockly.JavaScript.provideFunction_("subsequence"+g[c]+g[d],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==\nd?", "+a:"")+")"}return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};\nBlockly.JavaScript.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[a.getFieldValue("CASE")];a=Blockly.JavaScript.valueToCode(a,"TEXT",b?Blockly.JavaScript.ORDER_MEMBER:Blockly.JavaScript.ORDER_NONE)||"\'\'";return[b?a+b:Blockly.JavaScript.provideFunction_("textToTitleCase",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+\n"("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_trim=function(a){var b={LEFT:".replace(/^[\\\\s\\\\xa0]+/, \'\')",RIGHT:".replace(/[\\\\s\\\\xa0]+$/, \'\')",BOTH:".trim()"}[a.getFieldValue("MODE")];return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"\'\'")+b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_print=function(a){return"window.alert("+(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"\'\'")+");\\n"};\nBlockly.JavaScript.text_prompt_ext=function(a){var b="window.prompt("+(a.getField("TEXT")?Blockly.JavaScript.quote_(a.getFieldValue("TEXT")):Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"\'\'")+")";"NUMBER"==a.getFieldValue("TYPE")&&(b="parseFloat("+b+")");return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_prompt=Blockly.JavaScript.text_prompt_ext;Blockly.JavaScript.loops={};\nBlockly.JavaScript.controls_repeat_ext=function(a){var b=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",c=Blockly.JavaScript.statementToCode(a,"DO"),c=Blockly.JavaScript.addLoopTrap(c,a.id);a="";var d=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),e=b;b.match(/^\\w+$/)||Blockly.isNumber(b)||(e=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),\na+="var "+e+" = "+b+";\\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\\n"+c+"}\\n")};Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext;\nBlockly.JavaScript.controls_whileUntil=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.JavaScript.valueToCode(a,"BOOL",b?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO"),d=Blockly.JavaScript.addLoopTrap(d,a.id);b&&(c="!"+c);return"while ("+c+") {\\n"+d+"}\\n"};\nBlockly.JavaScript.controls_for=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",d=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",f=Blockly.JavaScript.statementToCode(a,"DO"),f=Blockly.JavaScript.addLoopTrap(f,a.id);if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&\nBlockly.isNumber(e)){var g=parseFloat(c)<=parseFloat(d);a="for ("+b+" = "+c+"; "+b+(g?" <= ":" >= ")+d+"; "+b;b=Math.abs(parseFloat(e));a=(1==b?a+(g?"++":"--"):a+((g?" += ":" -= ")+b))+(") {\\n"+f+"}\\n")}else a="",g=c,c.match(/^\\w+$/)||Blockly.isNumber(c)||(g=Blockly.JavaScript.variableDB_.getDistinctName(b+"_start",Blockly.Variables.NAME_TYPE),a+="var "+g+" = "+c+";\\n"),c=d,d.match(/^\\w+$/)||Blockly.isNumber(d)||(c=Blockly.JavaScript.variableDB_.getDistinctName(b+"_end",Blockly.Variables.NAME_TYPE),\na+="var "+c+" = "+d+";\\n"),d=Blockly.JavaScript.variableDB_.getDistinctName(b+"_inc",Blockly.Variables.NAME_TYPE),a+="var "+d+" = ",a=Blockly.isNumber(e)?a+(Math.abs(e)+";\\n"):a+("Math.abs("+e+");\\n"),a=a+("if ("+g+" > "+c+") {\\n")+(Blockly.JavaScript.INDENT+d+" = -"+d+";\\n"),a+="}\\n",a+="for ("+b+" = "+g+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\\n"+f+"}\\n";return a};\nBlockly.JavaScript.controls_forEach=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",d=Blockly.JavaScript.statementToCode(a,"DO"),d=Blockly.JavaScript.addLoopTrap(d,a.id);a="";var e=c;c.match(/^\\w+$/)||(e=Blockly.JavaScript.variableDB_.getDistinctName(b+"_list",Blockly.Variables.NAME_TYPE),a+="var "+e+" = "+c+";\\n");c=Blockly.JavaScript.variableDB_.getDistinctName(b+\n"_index",Blockly.Variables.NAME_TYPE);d=Blockly.JavaScript.INDENT+b+" = "+e+"["+c+"];\\n"+d;return a+("for (var "+c+" in "+e+") {\\n"+d+"}\\n")};Blockly.JavaScript.controls_flow_statements=function(a){switch(a.getFieldValue("FLOW")){case "BREAK":return"break;\\n";case "CONTINUE":return"continue;\\n"}throw"Unknown flow statement.";};Blockly.JavaScript.logic={};\nBlockly.JavaScript.controls_if=function(a){for(var b=0,c=Blockly.JavaScript.valueToCode(a,"IF"+b,Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO"+b),e="if ("+c+") {\\n"+d+"}",b=1;b<=a.elseifCount_;b++)c=Blockly.JavaScript.valueToCode(a,"IF"+b,Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO"+b),e+=" else if ("+c+") {\\n"+d+"}";a.elseCount_&&(d=Blockly.JavaScript.statementToCode(a,"ELSE"),e+=" else {\\n"+d+"}");return e+"\\n"};\nBlockly.JavaScript.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="==b||"!="==b?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL,d=Blockly.JavaScript.valueToCode(a,"A",c)||"0";a=Blockly.JavaScript.valueToCode(a,"B",c)||"0";return[d+" "+b+" "+a,c]};\nBlockly.JavaScript.logic_operation=function(a){var b="AND"==a.getFieldValue("OP")?"&&":"||",c="&&"==b?Blockly.JavaScript.ORDER_LOGICAL_AND:Blockly.JavaScript.ORDER_LOGICAL_OR,d=Blockly.JavaScript.valueToCode(a,"A",c);a=Blockly.JavaScript.valueToCode(a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};\nBlockly.JavaScript.logic_negate=function(a){var b=Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(Blockly.JavaScript.valueToCode(a,"BOOL",b)||"true"),b]};Blockly.JavaScript.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"true":"false",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.logic_null=function(a){return["null",Blockly.JavaScript.ORDER_ATOMIC]};\nBlockly.JavaScript.logic_ternary=function(a){var b=Blockly.JavaScript.valueToCode(a,"IF",Blockly.JavaScript.ORDER_CONDITIONAL)||"false",c=Blockly.JavaScript.valueToCode(a,"THEN",Blockly.JavaScript.ORDER_CONDITIONAL)||"null";a=Blockly.JavaScript.valueToCode(a,"ELSE",Blockly.JavaScript.ORDER_CONDITIONAL)||"null";return[b+" ? "+c+" : "+a,Blockly.JavaScript.ORDER_CONDITIONAL]};';
},function(e,t){e.exports='// This file was automatically generated.  Do not modify.\n\n\'use strict\';\n\ngoog.provide(\'Blockly.Msg.en\');\n\ngoog.require(\'Blockly.Msg\');\n\nBlockly.Msg.ADD_COMMENT = "Add Comment";\nBlockly.Msg.CHANGE_VALUE_TITLE = "Change value:";\nBlockly.Msg.CLEAN_UP = "Clean up Blocks";\nBlockly.Msg.COLLAPSE_ALL = "Collapse Blocks";\nBlockly.Msg.COLLAPSE_BLOCK = "Collapse Block";\nBlockly.Msg.COLOUR_BLEND_COLOUR1 = "colour 1";\nBlockly.Msg.COLOUR_BLEND_COLOUR2 = "colour 2";\nBlockly.Msg.COLOUR_BLEND_HELPURL = "http://meyerweb.com/eric/tools/color-blend/";\nBlockly.Msg.COLOUR_BLEND_RATIO = "ratio";\nBlockly.Msg.COLOUR_BLEND_TITLE = "blend";\nBlockly.Msg.COLOUR_BLEND_TOOLTIP = "Blends two colours together with a given ratio (0.0 - 1.0).";\nBlockly.Msg.COLOUR_PICKER_HELPURL = "https://en.wikipedia.org/wiki/Color";\nBlockly.Msg.COLOUR_PICKER_TOOLTIP = "Choose a colour from the palette.";\nBlockly.Msg.COLOUR_RANDOM_HELPURL = "http://randomcolour.com";\nBlockly.Msg.COLOUR_RANDOM_TITLE = "random colour";\nBlockly.Msg.COLOUR_RANDOM_TOOLTIP = "Choose a colour at random.";\nBlockly.Msg.COLOUR_RGB_BLUE = "blue";\nBlockly.Msg.COLOUR_RGB_GREEN = "green";\nBlockly.Msg.COLOUR_RGB_HELPURL = "http://www.december.com/html/spec/colorper.html";\nBlockly.Msg.COLOUR_RGB_RED = "red";\nBlockly.Msg.COLOUR_RGB_TITLE = "colour with";\nBlockly.Msg.COLOUR_RGB_TOOLTIP = "Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";\nBlockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL = "https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";\nBlockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK = "break out of loop";\nBlockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE = "continue with next iteration of loop";\nBlockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK = "Break out of the containing loop.";\nBlockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE = "Skip the rest of this loop, and continue with the next iteration.";\nBlockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING = "Warning: This block may only be used within a loop.";\nBlockly.Msg.CONTROLS_FOREACH_HELPURL = "https://github.com/google/blockly/wiki/Loops#for-each";\nBlockly.Msg.CONTROLS_FOREACH_TITLE = "for each item %1 in list %2";\nBlockly.Msg.CONTROLS_FOREACH_TOOLTIP = "For each item in a list, set the variable \'%1\' to the item, and then do some statements.";\nBlockly.Msg.CONTROLS_FOR_HELPURL = "https://github.com/google/blockly/wiki/Loops#count-with";\nBlockly.Msg.CONTROLS_FOR_TITLE = "count with %1 from %2 to %3 by %4";\nBlockly.Msg.CONTROLS_FOR_TOOLTIP = "Have the variable \'%1\' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";\nBlockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP = "Add a condition to the if block.";\nBlockly.Msg.CONTROLS_IF_ELSE_TOOLTIP = "Add a final, catch-all condition to the if block.";\nBlockly.Msg.CONTROLS_IF_HELPURL = "https://github.com/google/blockly/wiki/IfElse";\nBlockly.Msg.CONTROLS_IF_IF_TOOLTIP = "Add, remove, or reorder sections to reconfigure this if block.";\nBlockly.Msg.CONTROLS_IF_MSG_ELSE = "else";\nBlockly.Msg.CONTROLS_IF_MSG_ELSEIF = "else if";\nBlockly.Msg.CONTROLS_IF_MSG_IF = "if";\nBlockly.Msg.CONTROLS_IF_TOOLTIP_1 = "If a value is true, then do some statements.";\nBlockly.Msg.CONTROLS_IF_TOOLTIP_2 = "If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";\nBlockly.Msg.CONTROLS_IF_TOOLTIP_3 = "If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";\nBlockly.Msg.CONTROLS_IF_TOOLTIP_4 = "If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";\nBlockly.Msg.CONTROLS_REPEAT_HELPURL = "https://en.wikipedia.org/wiki/For_loop";\nBlockly.Msg.CONTROLS_REPEAT_INPUT_DO = "do";\nBlockly.Msg.CONTROLS_REPEAT_TITLE = "repeat %1 times";\nBlockly.Msg.CONTROLS_REPEAT_TOOLTIP = "Do some statements several times.";\nBlockly.Msg.CONTROLS_WHILEUNTIL_HELPURL = "https://github.com/google/blockly/wiki/Loops#repeat";\nBlockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL = "repeat until";\nBlockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE = "repeat while";\nBlockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL = "While a value is false, then do some statements.";\nBlockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE = "While a value is true, then do some statements.";\nBlockly.Msg.DELETE_ALL_BLOCKS = "Delete all %1 blocks?";\nBlockly.Msg.DELETE_BLOCK = "Delete Block";\nBlockly.Msg.DELETE_VARIABLE = "Delete the \'%1\' variable";\nBlockly.Msg.DELETE_VARIABLE_CONFIRMATION = "Delete %1 uses of the \'%2\' variable?";\nBlockly.Msg.DELETE_X_BLOCKS = "Delete %1 Blocks";\nBlockly.Msg.DISABLE_BLOCK = "Disable Block";\nBlockly.Msg.DUPLICATE_BLOCK = "Duplicate";\nBlockly.Msg.ENABLE_BLOCK = "Enable Block";\nBlockly.Msg.EXPAND_ALL = "Expand Blocks";\nBlockly.Msg.EXPAND_BLOCK = "Expand Block";\nBlockly.Msg.EXTERNAL_INPUTS = "External Inputs";\nBlockly.Msg.HELP = "Help";\nBlockly.Msg.INLINE_INPUTS = "Inline Inputs";\nBlockly.Msg.LISTS_CREATE_EMPTY_HELPURL = "https://github.com/google/blockly/wiki/Lists#create-empty-list";\nBlockly.Msg.LISTS_CREATE_EMPTY_TITLE = "create empty list";\nBlockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP = "Returns a list, of length 0, containing no data records";\nBlockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD = "list";\nBlockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP = "Add, remove, or reorder sections to reconfigure this list block.";\nBlockly.Msg.LISTS_CREATE_WITH_HELPURL = "https://github.com/google/blockly/wiki/Lists#create-list-with";\nBlockly.Msg.LISTS_CREATE_WITH_INPUT_WITH = "create list with";\nBlockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP = "Add an item to the list.";\nBlockly.Msg.LISTS_CREATE_WITH_TOOLTIP = "Create a list with any number of items.";\nBlockly.Msg.LISTS_GET_INDEX_FIRST = "first";\nBlockly.Msg.LISTS_GET_INDEX_FROM_END = "# from end";\nBlockly.Msg.LISTS_GET_INDEX_FROM_START = "#";\nBlockly.Msg.LISTS_GET_INDEX_GET = "get";\nBlockly.Msg.LISTS_GET_INDEX_GET_REMOVE = "get and remove";\nBlockly.Msg.LISTS_GET_INDEX_LAST = "last";\nBlockly.Msg.LISTS_GET_INDEX_RANDOM = "random";\nBlockly.Msg.LISTS_GET_INDEX_REMOVE = "remove";\nBlockly.Msg.LISTS_GET_INDEX_TAIL = "";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST = "Returns the first item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM = "Returns the item at the specified position in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST = "Returns the last item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM = "Returns a random item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST = "Removes and returns the first item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM = "Removes and returns the item at the specified position in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST = "Removes and returns the last item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM = "Removes and returns a random item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST = "Removes the first item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM = "Removes the item at the specified position in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST = "Removes the last item in a list.";\nBlockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM = "Removes a random item in a list.";\nBlockly.Msg.LISTS_GET_SUBLIST_END_FROM_END = "to # from end";\nBlockly.Msg.LISTS_GET_SUBLIST_END_FROM_START = "to #";\nBlockly.Msg.LISTS_GET_SUBLIST_END_LAST = "to last";\nBlockly.Msg.LISTS_GET_SUBLIST_HELPURL = "https://github.com/google/blockly/wiki/Lists#getting-a-sublist";\nBlockly.Msg.LISTS_GET_SUBLIST_START_FIRST = "get sub-list from first";\nBlockly.Msg.LISTS_GET_SUBLIST_START_FROM_END = "get sub-list from # from end";\nBlockly.Msg.LISTS_GET_SUBLIST_START_FROM_START = "get sub-list from #";\nBlockly.Msg.LISTS_GET_SUBLIST_TAIL = "";\nBlockly.Msg.LISTS_GET_SUBLIST_TOOLTIP = "Creates a copy of the specified portion of a list.";\nBlockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP = "%1 is the last item.";\nBlockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP = "%1 is the first item.";\nBlockly.Msg.LISTS_INDEX_OF_FIRST = "find first occurrence of item";\nBlockly.Msg.LISTS_INDEX_OF_HELPURL = "https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";\nBlockly.Msg.LISTS_INDEX_OF_LAST = "find last occurrence of item";\nBlockly.Msg.LISTS_INDEX_OF_TOOLTIP = "Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";\nBlockly.Msg.LISTS_INLIST = "in list";\nBlockly.Msg.LISTS_ISEMPTY_HELPURL = "https://github.com/google/blockly/wiki/Lists#is-empty";\nBlockly.Msg.LISTS_ISEMPTY_TITLE = "%1 is empty";\nBlockly.Msg.LISTS_ISEMPTY_TOOLTIP = "Returns true if the list is empty.";\nBlockly.Msg.LISTS_LENGTH_HELPURL = "https://github.com/google/blockly/wiki/Lists#length-of";\nBlockly.Msg.LISTS_LENGTH_TITLE = "length of %1";\nBlockly.Msg.LISTS_LENGTH_TOOLTIP = "Returns the length of a list.";\nBlockly.Msg.LISTS_REPEAT_HELPURL = "https://github.com/google/blockly/wiki/Lists#create-list-with";\nBlockly.Msg.LISTS_REPEAT_TITLE = "create list with item %1 repeated %2 times";\nBlockly.Msg.LISTS_REPEAT_TOOLTIP = "Creates a list consisting of the given value repeated the specified number of times.";\nBlockly.Msg.LISTS_SET_INDEX_HELPURL = "https://github.com/google/blockly/wiki/Lists#in-list--set";\nBlockly.Msg.LISTS_SET_INDEX_INPUT_TO = "as";\nBlockly.Msg.LISTS_SET_INDEX_INSERT = "insert at";\nBlockly.Msg.LISTS_SET_INDEX_SET = "set";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST = "Inserts the item at the start of a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM = "Inserts the item at the specified position in a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST = "Append the item to the end of a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM = "Inserts the item randomly in a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST = "Sets the first item in a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM = "Sets the item at the specified position in a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST = "Sets the last item in a list.";\nBlockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM = "Sets a random item in a list.";\nBlockly.Msg.LISTS_SORT_HELPURL = "https://github.com/google/blockly/wiki/Lists#sorting-a-list";\nBlockly.Msg.LISTS_SORT_ORDER_ASCENDING = "ascending";\nBlockly.Msg.LISTS_SORT_ORDER_DESCENDING = "descending";\nBlockly.Msg.LISTS_SORT_TITLE = "sort %1 %2 %3";\nBlockly.Msg.LISTS_SORT_TOOLTIP = "Sort a copy of a list.";\nBlockly.Msg.LISTS_SORT_TYPE_IGNORECASE = "alphabetic, ignore case";\nBlockly.Msg.LISTS_SORT_TYPE_NUMERIC = "numeric";\nBlockly.Msg.LISTS_SORT_TYPE_TEXT = "alphabetic";\nBlockly.Msg.LISTS_SPLIT_HELPURL = "https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";\nBlockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT = "make list from text";\nBlockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST = "make text from list";\nBlockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN = "Join a list of texts into one text, separated by a delimiter.";\nBlockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT = "Split text into a list of texts, breaking at each delimiter.";\nBlockly.Msg.LISTS_SPLIT_WITH_DELIMITER = "with delimiter";\nBlockly.Msg.LOGIC_BOOLEAN_FALSE = "false";\nBlockly.Msg.LOGIC_BOOLEAN_HELPURL = "https://github.com/google/blockly/wiki/Logic#values";\nBlockly.Msg.LOGIC_BOOLEAN_TOOLTIP = "Returns either true or false.";\nBlockly.Msg.LOGIC_BOOLEAN_TRUE = "true";\nBlockly.Msg.LOGIC_COMPARE_HELPURL = "https://en.wikipedia.org/wiki/Inequality_(mathematics)";\nBlockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ = "Return true if both inputs equal each other.";\nBlockly.Msg.LOGIC_COMPARE_TOOLTIP_GT = "Return true if the first input is greater than the second input.";\nBlockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE = "Return true if the first input is greater than or equal to the second input.";\nBlockly.Msg.LOGIC_COMPARE_TOOLTIP_LT = "Return true if the first input is smaller than the second input.";\nBlockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE = "Return true if the first input is smaller than or equal to the second input.";\nBlockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ = "Return true if both inputs are not equal to each other.";\nBlockly.Msg.LOGIC_NEGATE_HELPURL = "https://github.com/google/blockly/wiki/Logic#not";\nBlockly.Msg.LOGIC_NEGATE_TITLE = "not %1";\nBlockly.Msg.LOGIC_NEGATE_TOOLTIP = "Returns true if the input is false. Returns false if the input is true.";\nBlockly.Msg.LOGIC_NULL = "null";\nBlockly.Msg.LOGIC_NULL_HELPURL = "https://en.wikipedia.org/wiki/Nullable_type";\nBlockly.Msg.LOGIC_NULL_TOOLTIP = "Returns null.";\nBlockly.Msg.LOGIC_OPERATION_AND = "and";\nBlockly.Msg.LOGIC_OPERATION_HELPURL = "https://github.com/google/blockly/wiki/Logic#logical-operations";\nBlockly.Msg.LOGIC_OPERATION_OR = "or";\nBlockly.Msg.LOGIC_OPERATION_TOOLTIP_AND = "Return true if both inputs are true.";\nBlockly.Msg.LOGIC_OPERATION_TOOLTIP_OR = "Return true if at least one of the inputs is true.";\nBlockly.Msg.LOGIC_TERNARY_CONDITION = "test";\nBlockly.Msg.LOGIC_TERNARY_HELPURL = "https://en.wikipedia.org/wiki/%3F:";\nBlockly.Msg.LOGIC_TERNARY_IF_FALSE = "if false";\nBlockly.Msg.LOGIC_TERNARY_IF_TRUE = "if true";\nBlockly.Msg.LOGIC_TERNARY_TOOLTIP = "Check the condition in \'test\'. If the condition is true, returns the \'if true\' value; otherwise returns the \'if false\' value.";\nBlockly.Msg.MATH_ADDITION_SYMBOL = "+";\nBlockly.Msg.MATH_ARITHMETIC_HELPURL = "https://en.wikipedia.org/wiki/Arithmetic";\nBlockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD = "Return the sum of the two numbers.";\nBlockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE = "Return the quotient of the two numbers.";\nBlockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS = "Return the difference of the two numbers.";\nBlockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY = "Return the product of the two numbers.";\nBlockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER = "Return the first number raised to the power of the second number.";\nBlockly.Msg.MATH_CHANGE_HELPURL = "https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";\nBlockly.Msg.MATH_CHANGE_TITLE = "change %1 by %2";\nBlockly.Msg.MATH_CHANGE_TOOLTIP = "Add a number to variable \'%1\'.";\nBlockly.Msg.MATH_CONSTANT_HELPURL = "https://en.wikipedia.org/wiki/Mathematical_constant";\nBlockly.Msg.MATH_CONSTANT_TOOLTIP = "Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).";\nBlockly.Msg.MATH_CONSTRAIN_HELPURL = "https://en.wikipedia.org/wiki/Clamping_%28graphics%29";\nBlockly.Msg.MATH_CONSTRAIN_TITLE = "constrain %1 low %2 high %3";\nBlockly.Msg.MATH_CONSTRAIN_TOOLTIP = "Constrain a number to be between the specified limits (inclusive).";\nBlockly.Msg.MATH_DIVISION_SYMBOL = "÷";\nBlockly.Msg.MATH_IS_DIVISIBLE_BY = "is divisible by";\nBlockly.Msg.MATH_IS_EVEN = "is even";\nBlockly.Msg.MATH_IS_NEGATIVE = "is negative";\nBlockly.Msg.MATH_IS_ODD = "is odd";\nBlockly.Msg.MATH_IS_POSITIVE = "is positive";\nBlockly.Msg.MATH_IS_PRIME = "is prime";\nBlockly.Msg.MATH_IS_TOOLTIP = "Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";\nBlockly.Msg.MATH_IS_WHOLE = "is whole";\nBlockly.Msg.MATH_MODULO_HELPURL = "https://en.wikipedia.org/wiki/Modulo_operation";\nBlockly.Msg.MATH_MODULO_TITLE = "remainder of %1 ÷ %2";\nBlockly.Msg.MATH_MODULO_TOOLTIP = "Return the remainder from dividing the two numbers.";\nBlockly.Msg.MATH_MULTIPLICATION_SYMBOL = "×";\nBlockly.Msg.MATH_NUMBER_HELPURL = "https://en.wikipedia.org/wiki/Number";\nBlockly.Msg.MATH_NUMBER_TOOLTIP = "A number.";\nBlockly.Msg.MATH_ONLIST_HELPURL = "";\nBlockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE = "average of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_MAX = "max of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN = "median of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_MIN = "min of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_MODE = "modes of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_RANDOM = "random item of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV = "standard deviation of list";\nBlockly.Msg.MATH_ONLIST_OPERATOR_SUM = "sum of list";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_AVERAGE = "Return the average (arithmetic mean) of the numeric values in the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_MAX = "Return the largest number in the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_MEDIAN = "Return the median number in the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_MIN = "Return the smallest number in the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_MODE = "Return a list of the most common item(s) in the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_RANDOM = "Return a random element from the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_STD_DEV = "Return the standard deviation of the list.";\nBlockly.Msg.MATH_ONLIST_TOOLTIP_SUM = "Return the sum of all the numbers in the list.";\nBlockly.Msg.MATH_POWER_SYMBOL = "^";\nBlockly.Msg.MATH_RANDOM_FLOAT_HELPURL = "https://en.wikipedia.org/wiki/Random_number_generation";\nBlockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM = "random fraction";\nBlockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP = "Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";\nBlockly.Msg.MATH_RANDOM_INT_HELPURL = "https://en.wikipedia.org/wiki/Random_number_generation";\nBlockly.Msg.MATH_RANDOM_INT_TITLE = "random integer from %1 to %2";\nBlockly.Msg.MATH_RANDOM_INT_TOOLTIP = "Return a random integer between the two specified limits, inclusive.";\nBlockly.Msg.MATH_ROUND_HELPURL = "https://en.wikipedia.org/wiki/Rounding";\nBlockly.Msg.MATH_ROUND_OPERATOR_ROUND = "round";\nBlockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN = "round down";\nBlockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP = "round up";\nBlockly.Msg.MATH_ROUND_TOOLTIP = "Round a number up or down.";\nBlockly.Msg.MATH_SINGLE_HELPURL = "https://en.wikipedia.org/wiki/Square_root";\nBlockly.Msg.MATH_SINGLE_OP_ABSOLUTE = "absolute";\nBlockly.Msg.MATH_SINGLE_OP_ROOT = "square root";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_ABS = "Return the absolute value of a number.";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_EXP = "Return e to the power of a number.";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_LN = "Return the natural logarithm of a number.";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_LOG10 = "Return the base 10 logarithm of a number.";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_NEG = "Return the negation of a number.";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_POW10 = "Return 10 to the power of a number.";\nBlockly.Msg.MATH_SINGLE_TOOLTIP_ROOT = "Return the square root of a number.";\nBlockly.Msg.MATH_SUBTRACTION_SYMBOL = "-";\nBlockly.Msg.MATH_TRIG_ACOS = "acos";\nBlockly.Msg.MATH_TRIG_ASIN = "asin";\nBlockly.Msg.MATH_TRIG_ATAN = "atan";\nBlockly.Msg.MATH_TRIG_COS = "cos";\nBlockly.Msg.MATH_TRIG_HELPURL = "https://en.wikipedia.org/wiki/Trigonometric_functions";\nBlockly.Msg.MATH_TRIG_SIN = "sin";\nBlockly.Msg.MATH_TRIG_TAN = "tan";\nBlockly.Msg.MATH_TRIG_TOOLTIP_ACOS = "Return the arccosine of a number.";\nBlockly.Msg.MATH_TRIG_TOOLTIP_ASIN = "Return the arcsine of a number.";\nBlockly.Msg.MATH_TRIG_TOOLTIP_ATAN = "Return the arctangent of a number.";\nBlockly.Msg.MATH_TRIG_TOOLTIP_COS = "Return the cosine of a degree (not radian).";\nBlockly.Msg.MATH_TRIG_TOOLTIP_SIN = "Return the sine of a degree (not radian).";\nBlockly.Msg.MATH_TRIG_TOOLTIP_TAN = "Return the tangent of a degree (not radian).";\nBlockly.Msg.NEW_VARIABLE = "Create variable...";\nBlockly.Msg.NEW_VARIABLE_TITLE = "New variable name:";\nBlockly.Msg.ORDINAL_NUMBER_SUFFIX = "";\nBlockly.Msg.PROCEDURES_ALLOW_STATEMENTS = "allow statements";\nBlockly.Msg.PROCEDURES_BEFORE_PARAMS = "with:";\nBlockly.Msg.PROCEDURES_CALLNORETURN_HELPURL = "https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";\nBlockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP = "Run the user-defined function \'%1\'.";\nBlockly.Msg.PROCEDURES_CALLRETURN_HELPURL = "https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";\nBlockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP = "Run the user-defined function \'%1\' and use its output.";\nBlockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS = "with:";\nBlockly.Msg.PROCEDURES_CREATE_DO = "Create \'%1\'";\nBlockly.Msg.PROCEDURES_DEFNORETURN_COMMENT = "Describe this function...";\nBlockly.Msg.PROCEDURES_DEFNORETURN_DO = "";\nBlockly.Msg.PROCEDURES_DEFNORETURN_HELPURL = "https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";\nBlockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE = "do something";\nBlockly.Msg.PROCEDURES_DEFNORETURN_TITLE = "to";\nBlockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP = "Creates a function with no output.";\nBlockly.Msg.PROCEDURES_DEFRETURN_HELPURL = "https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";\nBlockly.Msg.PROCEDURES_DEFRETURN_RETURN = "return";\nBlockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP = "Creates a function with an output.";\nBlockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING = "Warning: This function has duplicate parameters.";\nBlockly.Msg.PROCEDURES_HIGHLIGHT_DEF = "Highlight function definition";\nBlockly.Msg.PROCEDURES_IFRETURN_HELPURL = "http://c2.com/cgi/wiki?GuardClause";\nBlockly.Msg.PROCEDURES_IFRETURN_TOOLTIP = "If a value is true, then return a second value.";\nBlockly.Msg.PROCEDURES_IFRETURN_WARNING = "Warning: This block may be used only within a function definition.";\nBlockly.Msg.PROCEDURES_MUTATORARG_TITLE = "input name:";\nBlockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP = "Add an input to the function.";\nBlockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE = "inputs";\nBlockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP = "Add, remove, or reorder inputs to this function.";\nBlockly.Msg.REDO = "Redo";\nBlockly.Msg.REMOVE_COMMENT = "Remove Comment";\nBlockly.Msg.RENAME_VARIABLE = "Rename variable...";\nBlockly.Msg.RENAME_VARIABLE_TITLE = "Rename all \'%1\' variables to:";\nBlockly.Msg.TEXT_APPEND_APPENDTEXT = "append text";\nBlockly.Msg.TEXT_APPEND_HELPURL = "https://github.com/google/blockly/wiki/Text#text-modification";\nBlockly.Msg.TEXT_APPEND_TO = "to";\nBlockly.Msg.TEXT_APPEND_TOOLTIP = "Append some text to variable \'%1\'.";\nBlockly.Msg.TEXT_CHANGECASE_HELPURL = "https://github.com/google/blockly/wiki/Text#adjusting-text-case";\nBlockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE = "to lower case";\nBlockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE = "to Title Case";\nBlockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE = "to UPPER CASE";\nBlockly.Msg.TEXT_CHANGECASE_TOOLTIP = "Return a copy of the text in a different case.";\nBlockly.Msg.TEXT_CHARAT_FIRST = "get first letter";\nBlockly.Msg.TEXT_CHARAT_FROM_END = "get letter # from end";\nBlockly.Msg.TEXT_CHARAT_FROM_START = "get letter #";\nBlockly.Msg.TEXT_CHARAT_HELPURL = "https://github.com/google/blockly/wiki/Text#extracting-text";\nBlockly.Msg.TEXT_CHARAT_INPUT_INTEXT = "in text";\nBlockly.Msg.TEXT_CHARAT_LAST = "get last letter";\nBlockly.Msg.TEXT_CHARAT_RANDOM = "get random letter";\nBlockly.Msg.TEXT_CHARAT_TAIL = "";\nBlockly.Msg.TEXT_CHARAT_TOOLTIP = "Returns the letter at the specified position.";\nBlockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP = "Add an item to the text.";\nBlockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN = "join";\nBlockly.Msg.TEXT_CREATE_JOIN_TOOLTIP = "Add, remove, or reorder sections to reconfigure this text block.";\nBlockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END = "to letter # from end";\nBlockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START = "to letter #";\nBlockly.Msg.TEXT_GET_SUBSTRING_END_LAST = "to last letter";\nBlockly.Msg.TEXT_GET_SUBSTRING_HELPURL = "https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";\nBlockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT = "in text";\nBlockly.Msg.TEXT_GET_SUBSTRING_START_FIRST = "get substring from first letter";\nBlockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END = "get substring from letter # from end";\nBlockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START = "get substring from letter #";\nBlockly.Msg.TEXT_GET_SUBSTRING_TAIL = "";\nBlockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP = "Returns a specified portion of the text.";\nBlockly.Msg.TEXT_INDEXOF_HELPURL = "https://github.com/google/blockly/wiki/Text#finding-text";\nBlockly.Msg.TEXT_INDEXOF_INPUT_INTEXT = "in text";\nBlockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST = "find first occurrence of text";\nBlockly.Msg.TEXT_INDEXOF_OPERATOR_LAST = "find last occurrence of text";\nBlockly.Msg.TEXT_INDEXOF_TAIL = "";\nBlockly.Msg.TEXT_INDEXOF_TOOLTIP = "Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";\nBlockly.Msg.TEXT_ISEMPTY_HELPURL = "https://github.com/google/blockly/wiki/Text#checking-for-empty-text";\nBlockly.Msg.TEXT_ISEMPTY_TITLE = "%1 is empty";\nBlockly.Msg.TEXT_ISEMPTY_TOOLTIP = "Returns true if the provided text is empty.";\nBlockly.Msg.TEXT_JOIN_HELPURL = "https://github.com/google/blockly/wiki/Text#text-creation";\nBlockly.Msg.TEXT_JOIN_TITLE_CREATEWITH = "create text with";\nBlockly.Msg.TEXT_JOIN_TOOLTIP = "Create a piece of text by joining together any number of items.";\nBlockly.Msg.TEXT_LENGTH_HELPURL = "https://github.com/google/blockly/wiki/Text#text-modification";\nBlockly.Msg.TEXT_LENGTH_TITLE = "length of %1";\nBlockly.Msg.TEXT_LENGTH_TOOLTIP = "Returns the number of letters (including spaces) in the provided text.";\nBlockly.Msg.TEXT_PRINT_HELPURL = "https://github.com/google/blockly/wiki/Text#printing-text";\nBlockly.Msg.TEXT_PRINT_TITLE = "print %1";\nBlockly.Msg.TEXT_PRINT_TOOLTIP = "Print the specified text, number or other value.";\nBlockly.Msg.TEXT_PROMPT_HELPURL = "https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";\nBlockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER = "Prompt for user for a number.";\nBlockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT = "Prompt for user for some text.";\nBlockly.Msg.TEXT_PROMPT_TYPE_NUMBER = "prompt for number with message";\nBlockly.Msg.TEXT_PROMPT_TYPE_TEXT = "prompt for text with message";\nBlockly.Msg.TEXT_TEXT_HELPURL = "https://en.wikipedia.org/wiki/String_(computer_science)";\nBlockly.Msg.TEXT_TEXT_TOOLTIP = "A letter, word, or line of text.";\nBlockly.Msg.TEXT_TRIM_HELPURL = "https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";\nBlockly.Msg.TEXT_TRIM_OPERATOR_BOTH = "trim spaces from both sides of";\nBlockly.Msg.TEXT_TRIM_OPERATOR_LEFT = "trim spaces from left side of";\nBlockly.Msg.TEXT_TRIM_OPERATOR_RIGHT = "trim spaces from right side of";\nBlockly.Msg.TEXT_TRIM_TOOLTIP = "Return a copy of the text with spaces removed from one or both ends.";\nBlockly.Msg.TODAY = "Today";\nBlockly.Msg.UNDO = "Undo";\nBlockly.Msg.VARIABLES_DEFAULT_NAME = "item";\nBlockly.Msg.VARIABLES_GET_CREATE_SET = "Create \'set %1\'";\nBlockly.Msg.VARIABLES_GET_HELPURL = "https://github.com/google/blockly/wiki/Variables#get";\nBlockly.Msg.VARIABLES_GET_TOOLTIP = "Returns the value of this variable.";\nBlockly.Msg.VARIABLES_SET = "set %1 to %2";\nBlockly.Msg.VARIABLES_SET_CREATE_GET = "Create \'get %1\'";\nBlockly.Msg.VARIABLES_SET_HELPURL = "https://github.com/google/blockly/wiki/Variables#set";\nBlockly.Msg.VARIABLES_SET_TOOLTIP = "Sets this variable to be equal to the input.";\nBlockly.Msg.VARIABLE_ALREADY_EXISTS = "A variable named \'%1\' already exists.";\nBlockly.Msg.PROCEDURES_DEFRETURN_TITLE = Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE;\nBlockly.Msg.CONTROLS_IF_IF_TITLE_IF = Blockly.Msg.CONTROLS_IF_MSG_IF;\nBlockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO = Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;\nBlockly.Msg.CONTROLS_IF_MSG_THEN = Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;\nBlockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE = Blockly.Msg.CONTROLS_IF_MSG_ELSE;\nBlockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE = Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE;\nBlockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST = Blockly.Msg.LISTS_INLIST;\nBlockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST = Blockly.Msg.LISTS_INLIST;\nBlockly.Msg.MATH_CHANGE_TITLE_ITEM = Blockly.Msg.VARIABLES_DEFAULT_NAME;\nBlockly.Msg.PROCEDURES_DEFRETURN_DO = Blockly.Msg.PROCEDURES_DEFNORETURN_DO;\nBlockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF = Blockly.Msg.CONTROLS_IF_MSG_ELSEIF;\nBlockly.Msg.LISTS_GET_INDEX_HELPURL = Blockly.Msg.LISTS_INDEX_OF_HELPURL;\nBlockly.Msg.CONTROLS_FOREACH_INPUT_DO = Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;\nBlockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST = Blockly.Msg.LISTS_INLIST;\nBlockly.Msg.CONTROLS_FOR_INPUT_DO = Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;\nBlockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE = Blockly.Msg.VARIABLES_DEFAULT_NAME;\nBlockly.Msg.TEXT_APPEND_VARIABLE = Blockly.Msg.VARIABLES_DEFAULT_NAME;\nBlockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM = Blockly.Msg.VARIABLES_DEFAULT_NAME;\nBlockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST = Blockly.Msg.LISTS_INLIST;\nBlockly.Msg.PROCEDURES_DEFRETURN_COMMENT = Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT;'},function(e,t){function o(e){return"number"==typeof e&&e?e<0?-1:1:0}function n(e,t,n){return e=o(e),t=o(t),n=o(n),e>>>-1<<5|(1&e)<<4|t>>>-1<<3|(1&t)<<2|n>>>-1<<1|1&n}e.exports=n,n.MMM=63,n.MMP=61,n.MPM=55,n.MPP=53,n.PMM=31,n.PMP=29,n.PPM=23,n.PPP=21,n.POO=16,n.MOO=48,n.OPO=4,n.OMO=12,n.OOP=1,n.OOM=3,n.OMM=15,n.OMP=13,n.OPM=7,n.OPP=5,n.MOM=51,n.MOP=49,n.POM=19,n.POP=17,n.MMO=60,n.MPO=52,n.PMO=28,n.PPO=20},function(e,t,o){e.exports=o(820).create},function(e,t,o){"use strict";var n=function(e,t,o,n,r,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,i,a,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};e.exports=n},function(e,t){"use strict";var o=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=o},function(e,t,o){"use strict";function n(e,t){var o=u.extractSingleTouch(t);return o?o[e.page]:e.page in t?t[e.page]:t[e.client]+h[e.envScroll]}function r(e,t){var o=n(E.x,t),r=n(E.y,t);return Math.pow(Math.pow(o-e.x,2)+Math.pow(r-e.y,2),.5)}function i(e){return{tapMoveThreshold:b,ignoreMouseThreshold:_,eventTypes:S,extractEvents:function(t,o,i,a){if(y(t))v=C();else if(e(v,C()))return null;if(!f(t)&&!p(t))return null;var s=null,u=r(m,i);return p(t)&&u<b&&(s=c.getPooled(S.touchTap,o,i,a)),f(t)?(m.x=n(E.x,i),m.y=n(E.y,i)):p(t)&&(m.x=0,m.y=0),l.accumulateTwoPhaseDispatches(s),s}}}var a=o(33),s=o(110),l=o(73),c=o(76),u=o(787),h=o(181),g=o(785),d=a.topLevelTypes,f=s.isStartish,p=s.isEndish,y=function(e){var t=[d.topTouchCancel,d.topTouchEnd,d.topTouchStart,d.topTouchMove];return t.indexOf(e)>=0},b=10,_=750,m={x:null,y:null},v=null,E={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}},k=[d.topTouchStart,d.topTouchCancel,d.topTouchEnd,d.topTouchMove],T=[d.topMouseDown,d.topMouseMove,d.topMouseUp].concat(k),S={touchTap:{phasedRegistrationNames:{bubbled:g({onTouchTap:null}),captured:g({onTouchTapCapture:null})},dependencies:T}},C=function(){return Date.now?Date.now:function(){return+new Date}}();e.exports=i},function(e,t){var o={extractSingleTouch:function(e){var t=e.touches,o=e.changedTouches,n=t&&t.length>0,r=o&&o.length>0;return!n&&r?o[0]:n?t[0]:e}};e.exports=o},function(e,t){e.exports=function(e,t){if(e&&t-e<750)return!0}},function(e,t,o){var n=(o(784),o(788)),r=!1;e.exports=function(e){e=e||{};var t=e.shouldRejectClick||n;r=!0,o(72).injection.injectEventPluginsByName({TapEventPlugin:o(786)(t)})}},function(e,t,o){"use strict";var n=o(12),r=o(251),i={focusDOMComponent:function(){r(n.getNodeFromInstance(this))}};e.exports=i},function(e,t,o){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey);
}function i(e){switch(e){case w.topCompositionStart:return I.compositionStart;case w.topCompositionEnd:return I.compositionEnd;case w.topCompositionUpdate:return I.compositionUpdate}}function a(e,t){return e===w.topKeyDown&&t.keyCode===E}function s(e,t){switch(e){case w.topKeyUp:return v.indexOf(t.keyCode)!==-1;case w.topKeyDown:return t.keyCode!==E;case w.topKeyPress:case w.topMouseDown:case w.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,o,n){var r,c;if(k?r=i(e):R?s(e,o)&&(r=I.compositionEnd):a(e,o)&&(r=I.compositionStart),!r)return null;C&&(R||r!==I.compositionStart?r===I.compositionEnd&&R&&(c=R.getData()):R=y.getPooled(n));var u=b.getPooled(r,t,o,n);if(c)u.data=c;else{var h=l(o);null!==h&&(u.data=h)}return f.accumulateTwoPhaseDispatches(u),u}function u(e,t){switch(e){case w.topCompositionEnd:return l(t);case w.topKeyPress:var o=t.which;return o!==B?null:(O=!0,A);case w.topTextInput:var n=t.data;return n===A&&O?null:n;default:return null}}function h(e,t){if(R){if(e===w.topCompositionEnd||!k&&s(e,t)){var o=R.getData();return y.release(R),R=null,o}return null}switch(e){case w.topPaste:return null;case w.topKeyPress:return t.which&&!r(t)?String.fromCharCode(t.which):null;case w.topCompositionEnd:return C?null:t.data;default:return null}}function g(e,t,o,n){var r;if(r=S?u(e,o):h(e,o),!r)return null;var i=_.getPooled(I.beforeInput,t,o,n);return i.data=r,f.accumulateTwoPhaseDispatches(i),i}var d=o(33),f=o(73),p=o(15),y=o(797),b=o(837),_=o(840),m=o(48),v=[9,13,27,32],E=229,k=p.canUseDOM&&"CompositionEvent"in window,T=null;p.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var S=p.canUseDOM&&"TextEvent"in window&&!T&&!n(),C=p.canUseDOM&&(!k||T&&T>8&&T<=11),B=32,A=String.fromCharCode(B),w=d.topLevelTypes,I={beforeInput:{phasedRegistrationNames:{bubbled:m({onBeforeInput:null}),captured:m({onBeforeInputCapture:null})},dependencies:[w.topCompositionEnd,w.topKeyPress,w.topTextInput,w.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:m({onCompositionEnd:null}),captured:m({onCompositionEndCapture:null})},dependencies:[w.topBlur,w.topCompositionEnd,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:m({onCompositionStart:null}),captured:m({onCompositionStartCapture:null})},dependencies:[w.topBlur,w.topCompositionStart,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:m({onCompositionUpdate:null}),captured:m({onCompositionUpdateCapture:null})},dependencies:[w.topBlur,w.topCompositionUpdate,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]}},O=!1,R=null,M={eventTypes:I,extractEvents:function(e,t,o,n){return[c(e,t,o,n),g(e,t,o,n)]}};e.exports=M},function(e,t,o){"use strict";var n=o(298),r=o(15),i=(o(30),o(577),o(847)),a=o(584),s=o(587),l=(o(4),s(function(e){return a(e)})),c=!1,u="cssFloat";if(r.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(g){c=!0}void 0===document.documentElement.style.cssFloat&&(u="styleFloat")}var d={createMarkupForStyles:function(e,t){var o="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(o+=l(n)+":",o+=i(n,r,t)+";")}return o||null},setValueForStyles:function(e,t,o){var r=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=i(a,t[a],o);if("float"!==a&&"cssFloat"!==a||(a=u),s)r[a]=s;else{var l=c&&n.shorthandPropertyExpansions[a];if(l)for(var h in l)r[h]="";else r[a]=""}}}};e.exports=d},function(e,t,o){"use strict";function n(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=S.getPooled(O.change,M,e,C(e));v.accumulateTwoPhaseDispatches(t),T.batchedUpdates(i,t)}function i(e){m.enqueueEvents(e),m.processEventQueue(!1)}function a(e,t){R=e,M=t,R.attachEvent("onchange",r)}function s(){R&&(R.detachEvent("onchange",r),R=null,M=null)}function l(e,t){if(e===I.topChange)return t}function c(e,t,o){e===I.topFocus?(s(),a(t,o)):e===I.topBlur&&s()}function u(e,t){R=e,M=t,x=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",P),R.attachEvent?R.attachEvent("onpropertychange",g):R.addEventListener("propertychange",g,!1)}function h(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",g):R.removeEventListener("propertychange",g,!1),R=null,M=null,x=null,N=null)}function g(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==x&&(x=t,r(e))}}function d(e,t){if(e===I.topInput)return t}function f(e,t,o){e===I.topFocus?(h(),u(t,o)):e===I.topBlur&&h()}function p(e,t){if((e===I.topSelectionChange||e===I.topKeyUp||e===I.topKeyDown)&&R&&R.value!==x)return x=R.value,M}function y(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function b(e,t){if(e===I.topClick)return t}var _=o(33),m=o(72),v=o(73),E=o(15),k=o(12),T=o(34),S=o(41),C=o(185),B=o(186),A=o(322),w=o(48),I=_.topLevelTypes,O={change:{phasedRegistrationNames:{bubbled:w({onChange:null}),captured:w({onChangeCapture:null})},dependencies:[I.topBlur,I.topChange,I.topClick,I.topFocus,I.topInput,I.topKeyDown,I.topKeyUp,I.topSelectionChange]}},R=null,M=null,x=null,N=null,L=!1;E.canUseDOM&&(L=B("change")&&(!document.documentMode||document.documentMode>8));var D=!1;E.canUseDOM&&(D=B("input")&&(!document.documentMode||document.documentMode>11));var P={get:function(){return N.get.call(this)},set:function(e){x=""+e,N.set.call(this,e)}},F={eventTypes:O,extractEvents:function(e,t,o,r){var i,a,s=t?k.getNodeFromInstance(t):window;if(n(s)?L?i=l:a=c:A(s)?D?i=d:(i=p,a=f):y(s)&&(i=b),i){var u=i(e,t);if(u){var h=S.getPooled(O.change,u,o,r);return h.type="change",v.accumulateTwoPhaseDispatches(h),h}}a&&a(e,s,t)}};e.exports=F},function(e,t,o){"use strict";var n=o(3),r=o(70),i=o(15),a=o(580),s=o(16),l=(o(2),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:n("56"),t?void 0:n("57"),"HTML"===e.nodeName?n("58"):void 0,"string"==typeof t){var o=a(t,s)[0];e.parentNode.replaceChild(o,e)}else r.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,o){"use strict";var n=o(48),r=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];e.exports=r},function(e,t,o){"use strict";var n=o(33),r=o(73),i=o(12),a=o(112),s=o(48),l=n.topLevelTypes,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},u={eventTypes:c,extractEvents:function(e,t,o,n){if(e===l.topMouseOver&&(o.relatedTarget||o.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(n.window===n)s=n;else{var u=n.ownerDocument;s=u?u.defaultView||u.parentWindow:window}var h,g;if(e===l.topMouseOut){h=t;var d=o.relatedTarget||o.toElement;g=d?i.getClosestInstanceFromNode(d):null}else h=null,g=t;if(h===g)return null;var f=null==h?s:i.getNodeFromInstance(h),p=null==g?s:i.getNodeFromInstance(g),y=a.getPooled(c.mouseLeave,h,o,n);y.type="mouseleave",y.target=f,y.relatedTarget=p;var b=a.getPooled(c.mouseEnter,g,o,n);return b.type="mouseenter",b.target=p,b.relatedTarget=f,r.accumulateEnterLeaveDispatches(y,b,h,g),[y,b]}};e.exports=u},function(e,t,o){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=o(7),i=o(52),a=o(320);r(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,o=this._startText,n=o.length,r=this.getText(),i=r.length;for(e=0;e<n&&o[e]===r[e];e++);var a=n-e;for(t=1;t<=a&&o[n-t]===r[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=r.slice(e,s),this._fallbackText}}),i.addPoolingTo(n),e.exports=n},function(e,t,o){"use strict";var n=o(71),r=n.injection.MUST_USE_PROPERTY,i=n.injection.HAS_BOOLEAN_VALUE,a=n.injection.HAS_NUMERIC_VALUE,s=n.injection.HAS_POSITIVE_NUMERIC_VALUE,l=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:r|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:r|i,muted:r|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:r|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=c},function(e,t,o){(function(t){"use strict";function n(e,t,o,n){var r=void 0===e[o];null!=t&&r&&(e[o]=i(t,!0))}var r=o(75),i=o(321),a=(o(169),o(187)),s=o(188),l=(o(4),{instantiateChildren:function(e,t,o,r){if(null==e)return null;var i={};return s(e,n,i),i},updateChildren:function(e,t,o,n,s,l,c,u,h){if(t||e){var g,d;for(g in t)if(t.hasOwnProperty(g)){d=e&&e[g];var f=d&&d._currentElement,p=t[g];if(null!=d&&a(f,p))r.receiveComponent(d,p,s,u),t[g]=d;else{d&&(n[g]=r.getHostNode(d),r.unmountComponent(d,!1));var y=i(p,!0);t[g]=y;var b=r.mountComponent(y,s,l,c,u,h);o.push(b)}}for(g in e)!e.hasOwnProperty(g)||t&&t.hasOwnProperty(g)||(d=e[g],n[g]=r.getHostNode(d),r.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var o in e)if(e.hasOwnProperty(o)){var n=e[o];r.unmountComponent(n,t)}}});e.exports=l}).call(t,o(5))},function(e,t,o){"use strict";var n=o(166),r=o(809),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup};e.exports=i},function(e,t,o){"use strict";function n(e){}function r(e,t){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=o(3),l=o(7),c=o(173),u=o(53),h=o(29),g=o(175),d=o(74),f=(o(30),o(311)),p=(o(178),o(75)),y=o(846),b=o(86),_=(o(2),o(101)),m=o(187),v=(o(4),{ImpureClass:0,PureClass:1,StatelessFunctional:2});n.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return r(e,t),t};var E=1,k={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,o,l){this._context=l,this._mountOrder=E++,this._hostParent=t,this._hostContainerInfo=o;var c,u=this._currentElement.props,g=this._processContext(l),f=this._currentElement.type,p=e.getUpdateQueue(),y=i(f),_=this._constructComponent(y,u,g,p);y||null!=_&&null!=_.render?a(f)?this._compositeType=v.PureClass:this._compositeType=v.ImpureClass:(c=_,r(f,c),null===_||_===!1||h.isValidElement(_)?void 0:s("105",f.displayName||f.name||"Component"),_=new n(f),this._compositeType=v.StatelessFunctional);_.props=u,_.context=g,_.refs=b,_.updater=p,this._instance=_,d.set(_,this);var m=_.state;void 0===m&&(_.state=m=null),"object"!=typeof m||Array.isArray(m)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var k;return k=_.unstable_handleError?this.performInitialMountWithErrorHandling(c,t,o,e,l):this.performInitialMount(c,t,o,e,l),_.componentDidMount&&e.getReactMountReady().enqueue(_.componentDidMount,_),k},_constructComponent:function(e,t,o,n){return this._constructComponentWithoutOwner(e,t,o,n)},_constructComponentWithoutOwner:function(e,t,o,n){var r=this._currentElement.type;return e?new r(t,o,n):r(t,o,n)},performInitialMountWithErrorHandling:function(e,t,o,n,r){var i,a=n.checkpoint();try{i=this.performInitialMount(e,t,o,n,r)}catch(s){n.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=n.checkpoint(),this._renderedComponent.unmountComponent(!0),n.rollback(a),i=this.performInitialMount(e,t,o,n,r)}return i},performInitialMount:function(e,t,o,n,r){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var s=f.getType(e);this._renderedNodeType=s;var l=this._instantiateReactComponent(e,s!==f.EMPTY);this._renderedComponent=l;var c=p.mountComponent(l,n,t,o,this._processChildContext(r),a);return c},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var o=this.getName()+".componentWillUnmount()";g.invokeGuardedCallback(o,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(p.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,o=t.contextTypes;if(!o)return b;var n={};for(var r in o)n[r]=e[r];return n},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,o=this._currentElement.type,n=this._instance;if(n.getChildContext&&(t=n.getChildContext()),t){"object"!=typeof o.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var r in t)r in o.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",r);return l({},e,t)}return e},_checkContextTypes:function(e,t,o){y(e,t,o,this.getName(),null,this._debugID)},receiveComponent:function(e,t,o){var n=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,n,e,r,o)},performUpdateIfNecessary:function(e){null!=this._pendingElement?p.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,o,n,r){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,l=!1;this._context===r?a=i.context:(a=this._processContext(r),l=!0);var c=t.props,u=o.props;t!==o&&(l=!0),l&&i.componentWillReceiveProps&&i.componentWillReceiveProps(u,a);var h=this._processPendingState(u,a),g=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?g=i.shouldComponentUpdate(u,h,a):this._compositeType===v.PureClass&&(g=!_(c,u)||!_(i.state,h))),this._updateBatchNumber=null,g?(this._pendingForceUpdate=!1,this._performComponentUpdate(o,u,h,a,e,r)):(this._currentElement=o,this._context=r,i.props=u,i.state=h,i.context=a)},_processPendingState:function(e,t){var o=this._instance,n=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return o.state;if(r&&1===n.length)return n[0];for(var i=l({},r?n[0]:o.state),a=r?1:0;a<n.length;a++){var s=n[a];l(i,"function"==typeof s?s.call(o,i,e,t):s)}return i},_performComponentUpdate:function(e,t,o,n,r,i){var a,s,l,c=this._instance,u=Boolean(c.componentDidUpdate);u&&(a=c.props,s=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,o,n),this._currentElement=e,this._context=i,c.props=t,c.state=o,c.context=n,this._updateRenderedComponent(r,i),u&&r.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,l),c)},_updateRenderedComponent:function(e,t){var o=this._renderedComponent,n=o._currentElement,r=this._renderValidatedComponent(),i=0;if(m(n,r))p.receiveComponent(o,r,e,this._processChildContext(t));else{var a=p.getHostNode(o);p.unmountComponent(o,!1);var s=f.getType(r);this._renderedNodeType=s;var l=this._instantiateReactComponent(r,s!==f.EMPTY);this._renderedComponent=l;var c=p.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),i);this._replaceNodeWithMarkup(a,c,o)}},_replaceNodeWithMarkup:function(e,t,o){c.replaceNodeWithMarkup(e,t,o)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==v.StatelessFunctional){u.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{u.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||h.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var o=this.getPublicInstance();null==o?s("110"):void 0;var n=t.getPublicInstance(),r=o.refs===b?o.refs={}:o.refs;r[e]=n},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===v.StatelessFunctional?null:e},_instantiateReactComponent:null},T={Mixin:k};e.exports=T},function(e,t,o){"use strict";var n=o(12),r=o(817),i=o(309),a=o(75),s=o(34),l=o(313),c=o(848),u=o(318),h=o(854);o(4);r.inject();var g={findDOMNode:c,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:n.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=u(e)),e?n.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});e.exports=g},function(e,t,o){"use strict";var n=o(109),r={getHostProps:n.getHostProps};e.exports=r},function(e,t,o){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var o=t.getName();if(o)return" This DOM node was rendered by `"+o+"`."}}return""}function r(e,t){t&&(Z[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?p("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?p("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&z in t.dangerouslySetInnerHTML?void 0:p("61")),null!=t.style&&"object"!=typeof t.style?p("62",n(e)):void 0)}function i(e,t,o,n){if(!(n instanceof L)){var r=e._hostContainerInfo,i=r._node&&r._node.nodeType===X,s=i?r._node:r._ownerDocument;V(t,s),n.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:o})}}function a(){var e=this;S.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;O.postMountWrapper(e)}function l(){var e=this;x.postMountWrapper(e)}function c(){var e=this;R.postMountWrapper(e)}function u(){var e=this;e._rootNodeID?void 0:p("63");var t=H(e);switch(t?void 0:p("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[B.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var o in Y)Y.hasOwnProperty(o)&&e._wrapperState.listeners.push(B.trapBubbledEvent(T.topLevelTypes[o],Y[o],t));break;case"source":e._wrapperState.listeners=[B.trapBubbledEvent(T.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[B.trapBubbledEvent(T.topLevelTypes.topError,"error",t),B.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[B.trapBubbledEvent(T.topLevelTypes.topReset,"reset",t),B.trapBubbledEvent(T.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[B.trapBubbledEvent(T.topLevelTypes.topInvalid,"invalid",t)]}}function h(){M.postUpdateWrapper(this)}function g(e){ee.call($,e)||(Q.test(e)?void 0:p("65",e),$[e]=!0)}function d(e,t){return e.indexOf("-")>=0||null!=t.is}function f(e){var t=e.type;g(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var p=o(3),y=o(7),b=o(790),_=o(792),m=o(70),v=o(167),E=o(71),k=o(300),T=o(33),S=o(72),C=o(168),B=o(111),A=o(803),w=o(303),I=o(12),O=o(810),R=o(811),M=o(304),x=o(814),N=(o(30),o(823)),L=o(828),D=(o(16),o(113)),P=(o(2),o(186),o(48)),F=(o(101),o(189),o(4),w),U=S.deleteListener,H=I.getNodeFromInstance,V=B.listenTo,j=C.registrationNameModules,G={string:!0,number:!0},W=P({style:null}),z=P({__html:null}),K={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},X=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},J={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},q={listing:!0,pre:!0,textarea:!0},Z=y({menuitem:!0},J),Q=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},ee={}.hasOwnProperty,te=1;f.displayName="ReactDOMComponent",f.Mixin={mountComponent:function(e,t,o,n){this._rootNodeID=te++,this._domID=o._idCounter++,this._hostParent=t,this._hostContainerInfo=o;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(u,this);break;case"button":i=A.getHostProps(this,i,t);break;case"input":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"option":R.mountWrapper(this,i,t),i=R.getHostProps(this,i);break;case"select":M.mountWrapper(this,i,t),i=M.getHostProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"textarea":x.mountWrapper(this,i,t),i=x.getHostProps(this,i),e.getReactMountReady().enqueue(u,this)}r(this,i);var a,h;null!=t?(a=t._namespaceURI,h=t._tag):o._tag&&(a=o._namespaceURI,h=o._tag),(null==a||a===v.svg&&"foreignobject"===h)&&(a=v.html),a===v.html&&("svg"===this._tag?a=v.svg:"math"===this._tag&&(a=v.mathml)),this._namespaceURI=a;var g;if(e.useCreateElement){var d,f=o._ownerDocument;if(a===v.html)if("script"===this._tag){var p=f.createElement("div"),y=this._currentElement.type;p.innerHTML="<"+y+"></"+y+">",d=p.removeChild(p.firstChild)}else d=i.is?f.createElement(this._currentElement.type,i.is):f.createElement(this._currentElement.type);else d=f.createElementNS(a,this._currentElement.type);I.precacheNode(this,d),this._flags|=F.hasCachedChildNodes,this._hostParent||k.setAttributeForRoot(d),this._updateDOMProperties(null,i,e);var _=m(d);this._createInitialChildren(e,i,n,_),g=_}else{var E=this._createOpenTagMarkupAndPutListeners(e,i),T=this._createContentMarkup(e,i,n);g=!T&&J[this._tag]?E+"/>":E+">"+T+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(b.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),i.autoFocus&&e.getReactMountReady().enqueue(b.focusDOMComponent,this);break;case"select":i.autoFocus&&e.getReactMountReady().enqueue(b.focusDOMComponent,this);break;case"button":i.autoFocus&&e.getReactMountReady().enqueue(b.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(c,this)}return g},_createOpenTagMarkupAndPutListeners:function(e,t){var o="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(null!=r)if(j.hasOwnProperty(n))r&&i(this,n,r,e);else{n===W&&(r&&(r=this._previousStyleCopy=y({},t.style)),r=_.createMarkupForStyles(r,this));var a=null;null!=this._tag&&d(this._tag,t)?K.hasOwnProperty(n)||(a=k.createMarkupForCustomAttribute(n,r)):a=k.createMarkupForProperty(n,r),a&&(o+=" "+a)}}return e.renderToStaticMarkup?o:(this._hostParent||(o+=" "+k.createMarkupForRoot()),o+=" "+k.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,o){var n="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(n=r.__html);else{var i=G[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)n=D(i);else if(null!=a){var s=this.mountChildren(a,e,o);n=s.join("")}}return q[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,o,n){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&m.queueHTML(n,r.__html);else{var i=G[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)m.queueText(n,i);else if(null!=a)for(var s=this.mountChildren(a,e,o),l=0;l<s.length;l++)m.queueChild(n,s[l])}},receiveComponent:function(e,t,o){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,o)},updateComponent:function(e,t,o,n){var i=t.props,a=this._currentElement.props;switch(this._tag){case"button":i=A.getHostProps(this,i),a=A.getHostProps(this,a);break;case"input":i=O.getHostProps(this,i),a=O.getHostProps(this,a);break;case"option":i=R.getHostProps(this,i),a=R.getHostProps(this,a);break;case"select":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"textarea":i=x.getHostProps(this,i),a=x.getHostProps(this,a)}switch(r(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,n),this._tag){case"input":O.updateWrapper(this);break;case"textarea":x.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(h,this)}},_updateDOMProperties:function(e,t,o){var n,r,a;for(n in e)if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&null!=e[n])if(n===W){var s=this._previousStyleCopy;for(r in s)s.hasOwnProperty(r)&&(a=a||{},a[r]="");this._previousStyleCopy=null}else j.hasOwnProperty(n)?e[n]&&U(this,n):d(this._tag,e)?K.hasOwnProperty(n)||k.deleteValueForAttribute(H(this),n):(E.properties[n]||E.isCustomAttribute(n))&&k.deleteValueForProperty(H(this),n);for(n in t){var l=t[n],c=n===W?this._previousStyleCopy:null!=e?e[n]:void 0;if(t.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if(n===W)if(l?l=this._previousStyleCopy=y({},l):this._previousStyleCopy=null,c){for(r in c)!c.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(a=a||{},a[r]="");for(r in l)l.hasOwnProperty(r)&&c[r]!==l[r]&&(a=a||{},a[r]=l[r])}else a=l;else if(j.hasOwnProperty(n))l?i(this,n,l,o):c&&U(this,n);else if(d(this._tag,t))K.hasOwnProperty(n)||k.setValueForAttribute(H(this),n,l);else if(E.properties[n]||E.isCustomAttribute(n)){var u=H(this);null!=l?k.setValueForProperty(u,n,l):k.deleteValueForProperty(u,n)}}a&&_.setValueForStyles(H(this),a,this)},_updateDOMChildren:function(e,t,o,n){var r=G[typeof e.children]?e.children:null,i=G[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,c=null!=i?null:t.children,u=null!=r||null!=a,h=null!=i||null!=s;null!=l&&null==c?this.updateChildren(null,o,n):u&&!h&&this.updateTextContent(""),null!=i?r!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,o,n)},getHostNode:function(){return H(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var o=0;o<t.length;o++)t[o].remove();break;case"html":case"head":case"body":p("66",this._tag)}this.unmountChildren(e),I.uncacheNode(this),S.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return H(this)}},y(f.prototype,f.Mixin,N.Mixin),e.exports=f},function(e,t,o){"use strict";function n(e,t){var o={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===r?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return o}var r=(o(189),9);e.exports=n},function(e,t,o){"use strict";var n=o(7),r=o(70),i=o(12),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};n(a.prototype,{mountComponent:function(e,t,o,n){var a=o._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=o;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=o._ownerDocument,c=l.createComment(s);return i.precacheNode(this,c),r(c)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=a},function(e,t,o){"use strict";var n=o(29),r=n.createFactory,i={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),
picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=i},function(e,t){"use strict";var o={useCreateElement:!0};e.exports=o},function(e,t,o){"use strict";var n=o(166),r=o(12),i={dangerouslyProcessChildrenUpdates:function(e,t){var o=r.getNodeFromInstance(e);n.processUpdates(o,t)}};e.exports=i},function(e,t,o){"use strict";function n(){this._rootNodeID&&g.updateWrapper(this)}function r(e){var t=this._currentElement.props,o=c.executeOnChange(t,e);h.asap(n,this);var r=t.name;if("radio"===t.type&&null!=r){for(var a=u.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),g=0;g<l.length;g++){var d=l[g];if(d!==a&&d.form===a.form){var f=u.getInstanceFromNode(d);f?void 0:i("90"),h.asap(n,f)}}}return o}var i=o(3),a=o(7),s=o(109),l=o(300),c=o(170),u=o(12),h=o(34),g=(o(2),o(4),{getHostProps:function(e,t){var o=c.getValue(t),n=c.getChecked(t),r=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=o?o:e._wrapperState.initialValue,checked:null!=n?n:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var o=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:o,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,o=t.checked;null!=o&&l.setValueForProperty(u.getNodeFromInstance(e),"checked",o||!1);var n=u.getNodeFromInstance(e),r=c.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i)}else null==t.value&&null!=t.defaultValue&&(n.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,o=u.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":o.value="",o.value=o.defaultValue;break;default:o.value=o.value}var n=o.name;""!==n&&(o.name=""),o.defaultChecked=!o.defaultChecked,o.defaultChecked=!o.defaultChecked,""!==n&&(o.name=n)}});e.exports=g},function(e,t,o){"use strict";function n(e){var t="";return i.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:l||(l=!0))}),t}var r=o(7),i=o(171),a=o(12),s=o(304),l=(o(4),!1),c={mountWrapper:function(e,t,o){var r=null;if(null!=o){var i=o;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(r=s.getSelectValueContext(i))}var a=null;if(null!=r){var l;if(l=null!=t.value?t.value+"":n(t.children),a=!1,Array.isArray(r)){for(var c=0;c<r.length;c++)if(""+r[c]===l){a=!0;break}}else a=""+r===l}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var o=a.getNodeFromInstance(e);o.setAttribute("value",t.value)}},getHostProps:function(e,t){var o=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(o.selected=e._wrapperState.selected);var i=n(t.children);return i&&(o.children=i),o}};e.exports=c},function(e,t,o){"use strict";function n(e,t,o,n){return e===o&&t===n}function r(e){var t=document.selection,o=t.createRange(),n=o.text.length,r=o.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",o);var i=r.text.length,a=i+n;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var o=t.anchorNode,r=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var c=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=c?0:s.toString().length,h=s.cloneRange();h.selectNodeContents(e),h.setEnd(s.startContainer,s.startOffset);var g=n(h.startContainer,h.startOffset,h.endContainer,h.endOffset),d=g?0:h.toString().length,f=d+u,p=document.createRange();p.setStart(o,r),p.setEnd(i,a);var y=p.collapsed;return{start:y?f:d,end:y?d:f}}function a(e,t){var o,n,r=document.selection.createRange().duplicate();void 0===t.end?(o=t.start,n=o):t.start>t.end?(o=t.end,n=t.start):(o=t.start,n=t.end),r.moveToElementText(e),r.moveStart("character",o),r.setEndPoint("EndToStart",r),r.moveEnd("character",n-o),r.select()}function s(e,t){if(window.getSelection){var o=window.getSelection(),n=e[u()].length,r=Math.min(t.start,n),i=void 0===t.end?r:Math.min(t.end,n);if(!o.extend&&r>i){var a=i;i=r,r=a}var s=c(e,r),l=c(e,i);if(s&&l){var h=document.createRange();h.setStart(s.node,s.offset),o.removeAllRanges(),r>i?(o.addRange(h),o.extend(l.node,l.offset)):(h.setEnd(l.node,l.offset),o.addRange(h))}}}var l=o(15),c=o(850),u=o(320),h=l.canUseDOM&&"selection"in document&&!("getSelection"in window),g={getOffsets:h?r:i,setOffsets:h?a:s};e.exports=g},function(e,t,o){"use strict";var n=o(3),r=o(7),i=o(166),a=o(70),s=o(12),l=o(113),c=(o(2),o(189),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(c.prototype,{mountComponent:function(e,t,o,n){var r=o._idCounter++,i=" react-text: "+r+" ",c=" /react-text ";if(this._domID=r,this._hostParent=t,e.useCreateElement){var u=o._ownerDocument,h=u.createComment(i),g=u.createComment(c),d=a(u.createDocumentFragment());return a.queueChild(d,a(h)),this._stringText&&a.queueChild(d,a(u.createTextNode(this._stringText))),a.queueChild(d,a(g)),s.precacheNode(this,h),this._closingComment=g,d}var f=l(this._stringText);return e.renderToStaticMarkup?f:"<!--"+i+"-->"+f+"<!--"+c+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var o=""+e;if(o!==this._stringText){this._stringText=o;var n=this.getHostNode();i.replaceDelimitedText(n[0],n[1],o)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),o=t.nextSibling;;){if(null==o?n("67",this._domID):void 0,8===o.nodeType&&" /react-text "===o.nodeValue){this._closingComment=o;break}o=o.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=c},function(e,t,o){"use strict";function n(){this._rootNodeID&&h.updateWrapper(this)}function r(e){var t=this._currentElement.props,o=l.executeOnChange(t,e);return u.asap(n,this),o}var i=o(3),a=o(7),s=o(109),l=o(170),c=o(12),u=o(34),h=(o(2),o(4),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?i("91"):void 0;var o=a({},s.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var o=l.getValue(t),n=o;if(null==o){var a=t.defaultValue,s=t.children;null!=s&&(null!=a?i("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:i("93"),s=s[0]),a=""+s),null==a&&(a=""),n=a}e._wrapperState={initialValue:""+n,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,o=c.getNodeFromInstance(e),n=l.getValue(t);if(null!=n){var r=""+n;r!==o.value&&(o.value=r),null==t.defaultValue&&(o.defaultValue=r)}null!=t.defaultValue&&(o.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=c.getNodeFromInstance(e);t.value=t.textContent}});e.exports=h},function(e,t,o){"use strict";function n(e,t){"_hostNode"in e?void 0:l("33"),"_hostNode"in t?void 0:l("33");for(var o=0,n=e;n;n=n._hostParent)o++;for(var r=0,i=t;i;i=i._hostParent)r++;for(;o-r>0;)e=e._hostParent,o--;for(;r-o>0;)t=t._hostParent,r--;for(var a=o;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function r(e,t){"_hostNode"in e?void 0:l("35"),"_hostNode"in t?void 0:l("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e?void 0:l("36"),e._hostParent}function a(e,t,o){for(var n=[];e;)n.push(e),e=e._hostParent;var r;for(r=n.length;r-- >0;)t(n[r],!1,o);for(r=0;r<n.length;r++)t(n[r],!0,o)}function s(e,t,o,r,i){for(var a=e&&t?n(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var l=[];t&&t!==a;)l.push(t),t=t._hostParent;var c;for(c=0;c<s.length;c++)o(s[c],!0,r);for(c=l.length;c-- >0;)o(l[c],!1,i)}var l=o(3);o(2);e.exports={isAncestor:r,getLowestCommonAncestor:n,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,o){"use strict";function n(){this.reinitializeTransaction()}var r=o(7),i=o(34),a=o(90),s=o(16),l={initialize:s,close:function(){g.isBatchingUpdates=!1}},c={initialize:s,close:i.flushBatchedUpdates.bind(i)},u=[c,l];r(n.prototype,a.Mixin,{getTransactionWrappers:function(){return u}});var h=new n,g={isBatchingUpdates:!1,batchedUpdates:function(e,t,o,n,r,i){var a=g.isBatchingUpdates;g.isBatchingUpdates=!0,a?e(t,o,n,r,i):h.perform(e,null,t,o,n,r,i)}};e.exports=g},function(e,t,o){"use strict";function n(){k||(k=!0,b.EventEmitter.injectReactEventListener(y),b.EventPluginHub.injectEventPluginOrder(a),b.EventPluginUtils.injectComponentTree(h),b.EventPluginUtils.injectTreeTraversal(d),b.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:v,BeforeInputEventPlugin:r}),b.HostComponent.injectGenericComponentClass(u),b.HostComponent.injectTextComponentClass(f),b.DOMProperty.injectDOMPropertyConfig(l),b.DOMProperty.injectDOMPropertyConfig(m),b.EmptyComponent.injectEmptyComponentFactory(function(e){return new g(e)}),b.Updates.injectReconcileTransaction(_),b.Updates.injectBatchingStrategy(p),b.Component.injectEnvironment(c))}var r=o(791),i=o(793),a=o(795),s=o(796),l=o(798),c=o(800),u=o(804),h=o(12),g=o(806),d=o(815),f=o(813),p=o(816),y=o(819),b=o(821),_=o(826),m=o(832),v=o(833),E=o(834),k=!1;e.exports={inject:n}},function(e,t,o){"use strict";function n(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=o(72),i={handleTopLevel:function(e,t,o,i){var a=r.extractEvents(e,t,o,i);n(a)}};e.exports=i},function(e,t,o){"use strict";function n(e){for(;e._hostParent;)e=e._hostParent;var t=h.getNodeFromInstance(e),o=t.parentNode;return h.getClosestInstanceFromNode(o)}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=d(e.nativeEvent),o=h.getClosestInstanceFromNode(t),r=o;do e.ancestors.push(r),r=r&&n(r);while(r);for(var i=0;i<e.ancestors.length;i++)o=e.ancestors[i],p._handleTopLevel(e.topLevelType,o,e.nativeEvent,d(e.nativeEvent))}function a(e){var t=f(window);e(t)}var s=o(7),l=o(250),c=o(15),u=o(52),h=o(12),g=o(34),d=o(185),f=o(582);s(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(r,u.twoArgumentPooler);var p={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){p._handleTopLevel=e},setEnabled:function(e){p._enabled=!!e},isEnabled:function(){return p._enabled},trapBubbledEvent:function(e,t,o){var n=o;return n?l.listen(n,t,p.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,o){var n=o;return n?l.capture(n,t,p.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(p._enabled){var o=r.getPooled(e,t);try{g.batchedUpdates(i,o)}finally{r.release(o)}}}};e.exports=p},function(e,t,o){"use strict";var n=o(3),r=o(171),i=o(29),a=o(16),s=(o(2),o(4),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType?n("0"):void 0;var t=[];for(var o in e)r.mapIntoWithKeyPrefixInternal(e[o],t,o,a.thatReturnsArgument);return t}});e.exports=s},function(e,t,o){"use strict";var n=o(71),r=o(72),i=o(110),a=o(173),s=o(302),l=o(305),c=o(111),u=o(307),h=o(34),g={Component:a.injection,Class:s.injection,DOMProperty:n.injection,EmptyComponent:l.injection,EventPluginHub:r.injection,EventPluginUtils:i.injection,EventEmitter:c.injection,HostComponent:u.injection,Updates:h.injection};e.exports=g},function(e,t,o){"use strict";var n=o(845),r=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return i.test(e)?e:e.replace(r," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var o=t.getAttribute(a.CHECKSUM_ATTR_NAME);o=o&&parseInt(o,10);var r=n(e);return r===o}};e.exports=a},function(e,t,o){"use strict";function n(e,t,o){return{type:g.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:o,afterNode:t}}function r(e,t,o){return{type:g.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:o,afterNode:t}}function i(e,t){return{type:g.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:g.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:g.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function c(e,t){h.processChildrenUpdates(e,t)}var u=o(3),h=o(173),g=(o(74),o(30),o(310)),d=(o(53),o(75)),f=o(799),p=(o(16),o(316)),y=(o(2),{Mixin:{_reconcilerInstantiateChildren:function(e,t,o){return f.instantiateChildren(e,t,o)},_reconcilerUpdateChildren:function(e,t,o,n,r,i){var a,s=0;return a=p(t,s),f.updateChildren(e,a,o,n,r,this,this._hostContainerInfo,i,s),a},mountChildren:function(e,t,o){var n=this._reconcilerInstantiateChildren(e,t,o);this._renderedChildren=n;var r=[],i=0;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=0,c=d.mountComponent(s,t,this,this._hostContainerInfo,o,l);s._mountIndex=i++,r.push(c)}return r},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var o in t)t.hasOwnProperty(o)&&u("118");var n=[s(e)];c(this,n)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var o in t)t.hasOwnProperty(o)&&u("118");var n=[a(e)];c(this,n)},updateChildren:function(e,t,o){this._updateChildren(e,t,o)},_updateChildren:function(e,t,o){var n=this._renderedChildren,r={},i=[],a=this._reconcilerUpdateChildren(n,e,i,r,t,o);if(a||n){var s,u=null,h=0,g=0,f=0,p=null;for(s in a)if(a.hasOwnProperty(s)){var y=n&&n[s],b=a[s];y===b?(u=l(u,this.moveChild(y,p,h,g)),g=Math.max(y._mountIndex,g),y._mountIndex=h):(y&&(g=Math.max(y._mountIndex,g)),u=l(u,this._mountChildAtIndex(b,i[f],p,h,t,o)),f++),h++,p=d.getHostNode(b)}for(s in r)r.hasOwnProperty(s)&&(u=l(u,this._unmountChild(n[s],r[s])));u&&c(this,u),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,o,n){if(e._mountIndex<n)return r(e,t,o)},createChild:function(e,t,o){return n(o,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,o,n,r,i){return e._mountIndex=n,this.createChild(e,o,t)},_unmountChild:function(e,t){var o=this.removeChild(e,t);return e._mountIndex=null,o}}});e.exports=y},function(e,t,o){"use strict";var n=o(3),r=(o(2),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,o){r.isValidOwner(o)?void 0:n("119"),o.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,o){r.isValidOwner(o)?void 0:n("120");var i=o.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&o.detachRef(t)}});e.exports=r},function(e,t,o){"use strict";function n(e,t,o){this.props=e,this.context=t,this.refs=l,this.updater=o||s}function r(){}var i=o(7),a=o(172),s=o(176),l=o(86);r.prototype=a.prototype,n.prototype=new r,n.prototype.constructor=n,i(n.prototype,a.prototype),n.prototype.isPureReactComponent=!0,e.exports=n},function(e,t,o){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var r=o(7),i=o(299),a=o(52),s=o(111),l=o(308),c=(o(30),o(90)),u=o(180),h={initialize:l.getSelectionInformation,close:l.restoreSelection},g={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,g,d],p={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return u},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};r(n.prototype,c.Mixin,p),a.addPoolingTo(n),e.exports=n},function(e,t,o){"use strict";function n(e,t,o){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,o)}function r(e,t,o){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,o)}var i=o(824),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var o=t.ref;null!=o&&n(o,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var o=null===e||e===!1,n=null===t||t===!1;return o||n||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var o=t.ref;null!=o&&r(o,e,t._owner)}},e.exports=a},function(e,t,o){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var r=o(7),i=o(52),a=o(90),s=(o(30),o(829)),l=[],c={enqueue:function(){}},u={getTransactionWrappers:function(){return l},getReactMountReady:function(){return c},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(n.prototype,a.Mixin,u),i.addPoolingTo(n),e.exports=n},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){}var i=o(180),a=(o(90),o(4),function(){function e(t){n(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,o){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,o)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?i.enqueueForceUpdate(e):r(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?i.enqueueReplaceState(e,t):r(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?i.enqueueSetState(e,t):r(e,"setState")},e}());e.exports=a},function(e,t,o){"use strict";var n=o(316),r={getChildMapping:function(e,t){return e?n(e):e},mergeChildMappings:function(e,t){function o(o){return t.hasOwnProperty(o)?t[o]:e[o]}e=e||{},t=t||{};var n={},r=[];for(var i in e)t.hasOwnProperty(i)?r.length&&(n[i]=r,r=[]):r.push(i);var a,s={};for(var l in t){if(n.hasOwnProperty(l))for(a=0;a<n[l].length;a++){var c=n[l][a];s[n[l][a]]=o(c)}s[l]=o(l)}for(a=0;a<r.length;a++)s[r[a]]=o(r[a]);return s}};e.exports=r},function(e,t,o){"use strict";var n=o(7),r=o(301),i=(o(74),o(830)),a=o(16),s=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t;t=i.getChildMapping(e.children);var o=this.state.children;this.setState({children:i.mergeChildMappings(o,t)});var n;for(n in t){var r=o&&o.hasOwnProperty(n);!t[n]||r||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(n in o){var a=t&&t.hasOwnProperty(n);!o[n]||a||this.currentlyTransitioningKeys[n]||this.keysToLeave.push(n)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var o;o=i.getChildMapping(this.props.children),o&&o.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var o;o=i.getChildMapping(this.props.children),o&&o.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var o;o=i.getChildMapping(this.props.children),o&&o.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var o=n({},t.children);return delete o[e],{children:o}})},render:function(){var e=[];for(var t in this.state.children){var o=this.state.children[t];o&&e.push(r.cloneElement(this.props.childFactory(o),{ref:t,key:t}))}var i=n({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,r.createElement(this.props.component,i,e)}});e.exports=s},function(e,t){"use strict";var o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},n={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{}};Object.keys(n).forEach(function(e){r.Properties[e]=0,n[e]&&(r.DOMAttributeNames[e]=n[e])}),e.exports=r},function(e,t,o){"use strict";function n(e){if("selectionStart"in e&&c.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var o=document.selection.createRange();return{parentElement:o.parentElement(),text:o.text,top:o.boundingTop,left:o.boundingLeft}}}function r(e,t){if(E||null==_||_!==h())return null;var o=n(_);if(!v||!f(v,o)){v=o;var r=u.getPooled(b.select,m,e,t);return r.type="select",r.target=_,a.accumulateTwoPhaseDispatches(r),r}return null}var i=o(33),a=o(73),s=o(15),l=o(12),c=o(308),u=o(41),h=o(252),g=o(322),d=o(48),f=o(101),p=i.topLevelTypes,y=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,b={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topKeyUp,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},_=null,m=null,v=null,E=!1,k=!1,T=d({onSelect:null}),S={eventTypes:b,extractEvents:function(e,t,o,n){if(!k)return null;var i=t?l.getNodeFromInstance(t):window;switch(e){case p.topFocus:(g(i)||"true"===i.contentEditable)&&(_=i,m=t,v=null);break;case p.topBlur:_=null,m=null,v=null;break;case p.topMouseDown:E=!0;break;case p.topContextMenu:case p.topMouseUp:return E=!1,r(o,n);case p.topSelectionChange:if(y)break;case p.topKeyDown:case p.topKeyUp:return r(o,n)}return null},didPutListener:function(e,t,o){t===T&&(k=!0)}};e.exports=S},function(e,t,o){"use strict";function n(e){return"."+e._rootNodeID}var r=o(3),i=o(33),a=o(250),s=o(73),l=o(12),c=o(835),u=o(836),h=o(41),g=o(839),d=o(841),f=o(112),p=o(838),y=o(842),b=o(843),_=o(76),m=o(844),v=o(16),E=o(183),k=(o(2),o(48)),T=i.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:k({onAbort:!0}),captured:k({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:k({onAnimationEnd:!0}),captured:k({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:k({onAnimationIteration:!0}),captured:k({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:k({onAnimationStart:!0}),captured:k({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:k({onBlur:!0}),captured:k({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:k({onCanPlay:!0}),captured:k({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:k({onCanPlayThrough:!0}),captured:k({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:k({onClick:!0}),captured:k({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:k({onContextMenu:!0}),captured:k({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:k({onCopy:!0}),captured:k({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:k({onCut:!0}),captured:k({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:k({onDoubleClick:!0}),captured:k({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:k({onDrag:!0}),captured:k({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:k({onDragEnd:!0}),captured:k({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:k({onDragEnter:!0}),captured:k({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:k({onDragExit:!0}),captured:k({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:k({onDragLeave:!0}),captured:k({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:k({onDragOver:!0}),captured:k({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:k({onDragStart:!0}),captured:k({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:k({onDrop:!0}),captured:k({onDropCapture:!0})}
},durationChange:{phasedRegistrationNames:{bubbled:k({onDurationChange:!0}),captured:k({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:k({onEmptied:!0}),captured:k({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:k({onEncrypted:!0}),captured:k({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:k({onEnded:!0}),captured:k({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:k({onError:!0}),captured:k({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:k({onFocus:!0}),captured:k({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:k({onInput:!0}),captured:k({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:k({onInvalid:!0}),captured:k({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:k({onKeyDown:!0}),captured:k({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:k({onKeyPress:!0}),captured:k({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:k({onKeyUp:!0}),captured:k({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:k({onLoad:!0}),captured:k({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:k({onLoadedData:!0}),captured:k({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:k({onLoadedMetadata:!0}),captured:k({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:k({onLoadStart:!0}),captured:k({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:k({onMouseDown:!0}),captured:k({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:k({onMouseMove:!0}),captured:k({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:k({onMouseOut:!0}),captured:k({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:k({onMouseOver:!0}),captured:k({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:k({onMouseUp:!0}),captured:k({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:k({onPaste:!0}),captured:k({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:k({onPause:!0}),captured:k({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:k({onPlay:!0}),captured:k({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:k({onPlaying:!0}),captured:k({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:k({onProgress:!0}),captured:k({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:k({onRateChange:!0}),captured:k({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:k({onReset:!0}),captured:k({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:k({onScroll:!0}),captured:k({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:k({onSeeked:!0}),captured:k({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:k({onSeeking:!0}),captured:k({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:k({onStalled:!0}),captured:k({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:k({onSubmit:!0}),captured:k({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:k({onSuspend:!0}),captured:k({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:k({onTimeUpdate:!0}),captured:k({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:k({onTouchCancel:!0}),captured:k({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:k({onTouchEnd:!0}),captured:k({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:k({onTouchMove:!0}),captured:k({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:k({onTouchStart:!0}),captured:k({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:k({onTransitionEnd:!0}),captured:k({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:k({onVolumeChange:!0}),captured:k({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:k({onWaiting:!0}),captured:k({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:k({onWheel:!0}),captured:k({onWheelCapture:!0})}}},C={topAbort:S.abort,topAnimationEnd:S.animationEnd,topAnimationIteration:S.animationIteration,topAnimationStart:S.animationStart,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topInvalid:S.invalid,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topTransitionEnd:S.transitionEnd,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var B in C)C[B].dependencies=[B];var A=k({onClick:null}),w={},I={eventTypes:S,extractEvents:function(e,t,o,n){var i=C[e];if(!i)return null;var a;switch(e){case T.topAbort:case T.topCanPlay:case T.topCanPlayThrough:case T.topDurationChange:case T.topEmptied:case T.topEncrypted:case T.topEnded:case T.topError:case T.topInput:case T.topInvalid:case T.topLoad:case T.topLoadedData:case T.topLoadedMetadata:case T.topLoadStart:case T.topPause:case T.topPlay:case T.topPlaying:case T.topProgress:case T.topRateChange:case T.topReset:case T.topSeeked:case T.topSeeking:case T.topStalled:case T.topSubmit:case T.topSuspend:case T.topTimeUpdate:case T.topVolumeChange:case T.topWaiting:a=h;break;case T.topKeyPress:if(0===E(o))return null;case T.topKeyDown:case T.topKeyUp:a=d;break;case T.topBlur:case T.topFocus:a=g;break;case T.topClick:if(2===o.button)return null;case T.topContextMenu:case T.topDoubleClick:case T.topMouseDown:case T.topMouseMove:case T.topMouseOut:case T.topMouseOver:case T.topMouseUp:a=f;break;case T.topDrag:case T.topDragEnd:case T.topDragEnter:case T.topDragExit:case T.topDragLeave:case T.topDragOver:case T.topDragStart:case T.topDrop:a=p;break;case T.topTouchCancel:case T.topTouchEnd:case T.topTouchMove:case T.topTouchStart:a=y;break;case T.topAnimationEnd:case T.topAnimationIteration:case T.topAnimationStart:a=c;break;case T.topTransitionEnd:a=b;break;case T.topScroll:a=_;break;case T.topWheel:a=m;break;case T.topCopy:case T.topCut:case T.topPaste:a=u}a?void 0:r("86",e);var l=a.getPooled(i,t,o,n);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(e,t,o){if(t===A){var r=n(e),i=l.getNodeFromInstance(e);w[r]||(w[r]=a.listen(i,"click",v))}},willDeleteListener:function(e,t){if(t===A){var o=n(e);w[o].remove(),delete w[o]}}};e.exports=I},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(41),i={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(41),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(41),i={data:null};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(112),i={dataTransfer:null};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(76),i={relatedTarget:null};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(41),i={data:null};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(76),i=o(183),a=o(849),s=o(184),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(n,l),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(76),i=o(184),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(n,a),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(41),i={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(n,i),e.exports=n},function(e,t,o){"use strict";function n(e,t,o,n){return r.call(this,e,t,o,n)}var r=o(112),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(n,i),e.exports=n},function(e,t){"use strict";function o(e){for(var t=1,o=0,r=0,i=e.length,a=i&-4;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)o+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=n,o%=n}for(;r<i;r++)o+=t+=e.charCodeAt(r);return t%=n,o%=n,t|o<<16}var n=65521;e.exports=o},function(e,t,o){(function(t){"use strict";function n(e,t,o,n,l,c){for(var u in e)if(e.hasOwnProperty(u)){var h;try{"function"!=typeof e[u]?r("84",n||"React class",i[o],u):void 0,h=e[u](t,u,n,o,null,a)}catch(g){h=g}if(h instanceof Error&&!(h.message in s)){s[h.message]=!0}}}var r=o(3),i=o(177),a=o(179),s=(o(2),o(4),{});e.exports=n}).call(t,o(5))},function(e,t,o){"use strict";function n(e,t,o){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);if(r||0===t||i.hasOwnProperty(e)&&i[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var r=o(298),i=(o(4),r.isUnitlessNumber);e.exports=n},function(e,t,o){"use strict";function n(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?i.getNodeFromInstance(t):null):void("function"==typeof e.render?r("44"):r("45",Object.keys(e)))}var r=o(3),i=(o(53),o(12)),a=o(74),s=o(318);o(2),o(4);e.exports=n},function(e,t,o){"use strict";function n(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var o=r(e);return 13===o?"Enter":String.fromCharCode(o)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var r=o(183),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=n},function(e,t){"use strict";function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var r=o(e),i=0,a=0;r;){if(3===r.nodeType){if(a=i+r.textContent.length,i<=t&&a>=t)return{node:r,offset:t-i};i=a}r=o(n(r))}}e.exports=r},function(e,t,o){"use strict";function n(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o["ms"+e]="MS"+t,o["O"+e]="o"+t.toLowerCase(),o}function r(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var o in t)if(t.hasOwnProperty(o)&&o in l)return s[e]=t[o];return""}var i=o(15),a={animationend:n("Animation","AnimationEnd"),animationiteration:n("Animation","AnimationIteration"),animationstart:n("Animation","AnimationStart"),transitionend:n("Transition","TransitionEnd")},s={},l={};i.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=r},function(e,t,o){"use strict";function n(e){return i.isValidElement(e)?void 0:r("143"),e}var r=o(3),i=o(29);o(2);e.exports=n},function(e,t,o){"use strict";function n(e){return'"'+r(e)+'"'}var r=o(113);e.exports=n},function(e,t,o){"use strict";var n=o(309);e.exports=n.renderSubtreeIntoContainer},function(e,t,o){e.exports=o(115)},function(e,t,o){e.exports=o(324)},[1250,325,191,115,190,324],[1239,190],function(e,t,o){e.exports=o(191)},function(e,t){"use strict";function o(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var n=t[t.length-1];return function(){for(var e=n.apply(void 0,arguments),o=t.length-2;o>=0;o--){var r=t[o];e=r(e)}return e}}t.__esModule=!0,t.default=o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(865),i=n(r),a=o(863),s=n(a),l=function(e){var t=(0,s.default)(e);return function(o,n){return(0,i.default)(!1,t,e,o,n)}};t.default=l},function(e,t){"use strict";t.__esModule=!0;var o=function(e){return Boolean(e&&e.prototype&&"object"==typeof e.prototype.isReactComponent)};t.default=o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(862),i=n(r),a=function(e){return Boolean(!("function"!=typeof e||(0,i.default)(e)||e.defaultProps||e.contextTypes||e.propTypes))};t.default=a},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=o(6),l=o(326),c=n(l),u=o(861),h=n(u),g=function(e){return function(t){var o=(0,h.default)(t);return function(t){function n(){return r(this,n),i(this,t.apply(this,arguments))}return a(n,t),n.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},n.prototype.render=function(){return o(this.props)},n}(s.Component)}};t.default=(0,c.default)(g,"shouldUpdate")},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=o(6),a=n(i),s=function(e,t,o,n,i){if(!e&&t)return o(i?r({},n,{children:i}):n);var s=o;return i?a.default.createElement(s,n,i):a.default.createElement(s,n)};t.default=s},function(e,t,o){(function(t){var n="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=o(867),r)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(a){n.regeneratorRuntime=void 0}}).call(t,function(){return this}())},function(e,t,o){(function(t,o){!function(t){"use strict";function n(e,t,o,n){var r=Object.create((t||i).prototype),a=new f(n||[]);return r._invoke=h(e,o,a),r}function r(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(n){return{type:"throw",arg:n}}}function i(){}function a(){}function s(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){this.arg=e}function u(e){function t(o,n,i,a){var s=r(e[o],e,n);if("throw"!==s.type){var l=s.arg,u=l.value;return u instanceof c?Promise.resolve(u.arg).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){l.value=e,i(l)},a)}a(s.arg)}function n(e,o){function n(){return new Promise(function(n,r){t(e,o,n,r)})}return i=i?i.then(n,n):n()}"object"==typeof o&&o.domain&&(t=o.domain.bind(t));var i;this._invoke=n}function h(e,t,o){var n=S;return function(i,a){if(n===B)throw new Error("Generator is already running");if(n===A){if("throw"===i)throw a;return y()}for(;;){var s=o.delegate;if(s){if("return"===i||"throw"===i&&s.iterator[i]===b){o.delegate=null;var l=s.iterator.return;if(l){var c=r(l,s.iterator,a);if("throw"===c.type){i="throw",a=c.arg;continue}}if("return"===i)continue}var c=r(s.iterator[i],s.iterator,a);if("throw"===c.type){o.delegate=null,i="throw",a=c.arg;continue}i="next",a=b;var u=c.arg;if(!u.done)return n=C,u;o[s.resultName]=u.value,o.next=s.nextLoc,o.delegate=null}if("next"===i)o.sent=o._sent=a;else if("throw"===i){if(n===S)throw n=A,a;o.dispatchException(a)&&(i="next",a=b)}else"return"===i&&o.abrupt("return",a);n=B;var c=r(e,t,o);if("normal"===c.type){n=o.done?A:C;var u={value:c.arg,done:o.done};if(c.arg!==w)return u;o.delegate&&"next"===i&&(a=b)}else"throw"===c.type&&(n=A,i="throw",a=c.arg)}}}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function p(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(_.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=b,t.done=!0,t};return n.next=n}}return{next:y}}function y(){return{value:b,done:!0}}var b,_=Object.prototype.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},v=m.iterator||"@@iterator",E=m.toStringTag||"@@toStringTag",k="object"==typeof e,T=t.regeneratorRuntime;if(T)return void(k&&(e.exports=T));T=t.regeneratorRuntime=k?e.exports:{},T.wrap=n;var S="suspendedStart",C="suspendedYield",B="executing",A="completed",w={},I=s.prototype=i.prototype;a.prototype=I.constructor=s,s.constructor=a,s[E]=a.displayName="GeneratorFunction",T.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},T.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(I),e},T.awrap=function(e){return new c(e)},l(u.prototype),T.async=function(e,t,o,r){var i=new u(n(e,t,o,r));return T.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},l(I),I[v]=function(){return this},I[E]="Generator",I.toString=function(){return"[object Generator]"},T.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},T.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=b)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,o.next=t,!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],i=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=_.call(r,"catchLoc"),s=_.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&_.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?this.next=r.finallyLoc:this.complete(i),w},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),d(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;d(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:p(e),resultName:t,nextLoc:o},w}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),o(5))},function(e,t){"use strict";function o(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var o=e.length*t;if(n!==e||"undefined"==typeof n)n=e,r="";else if(r.length>=o)return r.substr(0,o);for(;o>r.length&&t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+=e,r=r.substr(0,o)}var n,r="";e.exports=o},function(e,t,o){o(193)(o(779))},function(e,t,o){o(193)(o(780))},function(e,t,o){o(193)(o(781))},function(e,t,o){!function(e){function o(){var e=arguments[0],t=o.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=o.parse(e)),o.format.call(null,t[e],arguments)}function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){return Array(t+1).join(e)}var i={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};o.format=function(e,t){var a,s,l,c,u,h,g,d=1,f=e.length,p="",y=[],b=!0,_="";for(s=0;s<f;s++)if(p=n(e[s]),"string"===p)y[y.length]=e[s];else if("array"===p){if(c=e[s],c[2])for(a=t[d],l=0;l<c[2].length;l++){if(!a.hasOwnProperty(c[2][l]))throw new Error(o("[sprintf] property '%s' does not exist",c[2][l]));a=a[c[2][l]]}else a=c[1]?t[c[1]]:t[d++];if("function"==n(a)&&(a=a()),i.not_string.test(c[8])&&i.not_json.test(c[8])&&"number"!=n(a)&&isNaN(a))throw new TypeError(o("[sprintf] expecting number but found %s",n(a)));switch(i.number.test(c[8])&&(b=a>=0),c[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,c[6]?parseInt(c[6]):0);break;case"e":a=c[7]?a.toExponential(c[7]):a.toExponential();break;case"f":a=c[7]?parseFloat(a).toFixed(c[7]):parseFloat(a);break;case"g":a=c[7]?parseFloat(a).toPrecision(c[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&c[7]?a.substring(0,c[7]):a;break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}i.json.test(c[8])?y[y.length]=a:(!i.number.test(c[8])||b&&!c[3]?_="":(_=b?"+":"-",a=a.toString().replace(i.sign,"")),h=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",g=c[6]-(_+a).length,u=c[6]&&g>0?r(h,g):"",y[y.length]=c[5]?_+a+u:"0"===h?_+u+a:u+_+a)}return y.join("")},o.cache={},o.parse=function(e){for(var t=e,o=[],n=[],r=0;t;){if(null!==(o=i.text.exec(t)))n[n.length]=o[0];else if(null!==(o=i.modulo.exec(t)))n[n.length]="%";else{if(null===(o=i.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(o[2]){r|=1;var a=[],s=o[2],l=[];if(null===(l=i.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=i.key_access.exec(s)))a[a.length]=l[1];else{if(null===(l=i.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=l[1]}o[2]=a}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=o}t=t.substring(o[0].length)}return n};var a=function(e,t,n){return n=(t||[]).slice(0),n.splice(0,0,e),o.apply(null,n)};t.sprintf=o,t.vsprintf=a}("undefined"==typeof window?this:window)},function(e,t){var o=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++n%r.children.length)},!1);var i=(performance||Date).now(),a=i,s=0,l=e(new o.Panel("FPS","#0ff","#002")),c=e(new o.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=e(new o.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-i,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:r,setMode:t}};o.Panel=function(e,t,o){var n=1/0,r=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,l=48*a,c=3*a,u=2*a,h=3*a,g=15*a,d=74*a,f=30*a,p=document.createElement("canvas");p.width=s,p.height=l,p.style.cssText="width:80px;height:48px";var y=p.getContext("2d");return y.font="bold "+9*a+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=o,y.fillRect(0,0,s,l),y.fillStyle=t,y.fillText(e,c,u),y.fillRect(h,g,d,f),y.fillStyle=o,y.globalAlpha=.9,y.fillRect(h,g,d,f),{dom:p,update:function(l,b){n=Math.min(n,l),r=Math.max(r,l),y.fillStyle=o,y.globalAlpha=1,y.fillRect(0,0,s,g),y.fillStyle=t,y.fillText(i(l)+" "+e+" ("+i(n)+"-"+i(r)+")",c,u),y.drawImage(p,h+a,g,d-a,f,h,g,d-a,f),y.fillRect(h+d-a,g,a,f),y.fillStyle=o,y.globalAlpha=.9,y.fillRect(h+d-a,g,a,i((1-l/b)*f))}}},"object"==typeof e&&(e.exports=o)},function(e,t,o){var n,r;!function(i,a){n=a,r="function"==typeof n?n.call(t,o,t,e):n,!(void 0!==r&&(e.exports=r))}(this,function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=e.getBoundingClientRect(),o={};for(var n in t)o[n]=t[n];if(e.ownerDocument!==document){var i=e.ownerDocument.defaultView.frameElement;if(i){var a=r(i);o.top+=a.top,o.bottom+=a.top,o.left+=a.left,o.right+=a.left}}return o}function i(e){var t=getComputedStyle(e)||{},o=t.position,n=[];if("fixed"===o)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var i=void 0;try{i=getComputedStyle(r)}catch(a){}if("undefined"==typeof i||null===i)return n.push(r),n;var s=i,l=s.overflow,c=s.overflowX,u=s.overflowY;/(auto|scroll)/.test(l+u+c)&&("absolute"!==o||["relative","absolute","fixed"].indexOf(i.position)>=0)&&n.push(r)}return n.push(e.ownerDocument.body),e.ownerDocument!==document&&n.push(e.ownerDocument.defaultView),n}function a(){C&&document.body.removeChild(C),C=null}function s(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var o=t.documentElement,n=r(e),i=w();return n.top-=i.top,n.left-=i.left,"undefined"==typeof n.width&&(n.width=document.body.scrollWidth-n.left-n.right),"undefined"==typeof n.height&&(n.height=document.body.scrollHeight-n.top-n.bottom),n.top=n.top-o.clientTop,n.left=n.left-o.clientLeft,n.right=t.body.clientWidth-n.width-n.left,n.bottom=t.body.clientHeight-n.height-n.top,n}function l(e){return e.offsetParent||document.documentElement}function c(){if(I)return I;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");u(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var o=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;o===n&&(n=t.clientWidth),document.body.removeChild(t);var r=o-n;return I={width:r,height:r}}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}),e}function h(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var o=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),n=f(e).replace(o," ");p(e,n)}}function g(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{h(e,t);var o=f(e)+(" "+t);p(e,o)}}function d(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var o=f(e);return new RegExp("(^| )"+t+"( |$)","gi").test(o)}function f(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function p(e,t){e.setAttribute("class",t)}function y(e,t,o){o.forEach(function(o){t.indexOf(o)===-1&&d(e,o)&&h(e,o)}),t.forEach(function(t){d(e,t)||g(e,t)})}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var o=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+o>=t&&t>=e-o}function m(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function v(){for(var e={top:0,left:0},t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(function(t){var o=t.top,n=t.left;"string"==typeof o&&(o=parseFloat(o,10)),"string"==typeof n&&(n=parseFloat(n,10)),e.top+=o,e.left+=n}),e}function E(e,t){return"string"==typeof e.left&&e.left.indexOf("%")!==-1&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&e.top.indexOf("%")!==-1&&(e.top=parseFloat(e.top,10)/100*t.height),e}function k(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=t,o=s(t),n=o,r=getComputedStyle(t);if(t=[n.left,n.top,o.width+n.left,o.height+n.top],e.ownerDocument!==document){var i=e.ownerDocument.defaultView;t[0]+=i.pageXOffset,t[1]+=i.pageYOffset,t[2]+=i.pageXOffset,t[3]+=i.pageYOffset}J.forEach(function(e,o){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[o]+=parseFloat(r["border"+e+"Width"]):t[o]-=parseFloat(r["border"+e+"Width"])})}(),t}var T=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),S=void 0;
"undefined"==typeof S&&(S={modules:[]});var C=null,B=function(){var e=0;return function(){return++e}}(),A={},w=function(){var e=C;e||(e=document.createElement("div"),e.setAttribute("data-tether-id",B()),u(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),C=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof A[t]&&(A[t]=r(e),R(function(){delete A[t]})),A[t]},I=null,O=[],R=function(e){O.push(e)},M=function(){for(var e=void 0;e=O.pop();)e()},x=function(){function e(){n(this,e)}return T(e,[{key:"on",value:function(e,t,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:o,once:n})}},{key:"once",value:function(e,t,o){this.on(e,t,o,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var o=0;o<this.bindings[e].length;)this.bindings[e][o].handler===t?this.bindings[e].splice(o,1):++o}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];for(;t<this.bindings[e].length;){var i=this.bindings[e][t],a=i.handler,s=i.ctx,l=i.once,c=s;"undefined"==typeof c&&(c=this),a.apply(c,n),l?this.bindings[e].splice(t,1):++t}}}}]),e}();S.Utils={getActualBoundingClientRect:r,getScrollParents:i,getBounds:s,getOffsetParent:l,extend:u,addClass:g,removeClass:h,hasClass:d,updateClasses:y,defer:R,flush:M,uniqueId:B,Evented:x,getScrollBarSize:c,removeUtilElements:a};var N=function(){function e(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),L=function(e,t,o){for(var n=!0;n;){var r=e,i=t,a=o;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,o=a,n=!0,s=c=void 0}};if("undefined"==typeof S)throw new Error("You must include the utils.js file before tether.js");var D=S.Utils,i=D.getScrollParents,s=D.getBounds,l=D.getOffsetParent,u=D.extend,g=D.addClass,h=D.removeClass,y=D.updateClasses,R=D.defer,M=D.flush,c=D.getScrollBarSize,a=D.removeUtilElements,P=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],o=0;o<t.length;++o){var n=t[o];if(void 0!==e.style[n])return n}}(),F=[],U=function(){F.forEach(function(e){e.position(!1)}),M()};!function(){var e=null,t=null,o=null,n=function n(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(o=setTimeout(n,250))):void("undefined"!=typeof e&&m()-e<10||(null!=o&&(clearTimeout(o),o=null),e=m(),U(),t=m()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,n)})}();var H={center:"center",left:"right",right:"left"},V={middle:"middle",top:"bottom",bottom:"top"},j={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},G=function(e,t){var o=e.left,n=e.top;return"auto"===o&&(o=H[t.left]),"auto"===n&&(n=V[t.top]),{left:o,top:n}},W=function(e){var t=e.left,o=e.top;return"undefined"!=typeof j[e.left]&&(t=j[e.left]),"undefined"!=typeof j[e.top]&&(o=j[e.top]),{left:t,top:o}},z=function(e){var t=e.split(" "),o=N(t,2),n=o[0],r=o[1];return{top:n,left:r}},K=z,X=function(e){function t(e){var o=this;n(this,t),L(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),F.push(this),this.history=[],this.setOptions(e,!1),S.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(o)}),this.position()}return b(t,e),T(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,o=arguments.length<=1||void 0===arguments[1]||arguments[1],n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(n,e);var r=this.options,a=r.element,s=r.target,l=r.targetModifier;if(this.element=a,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),g(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&g(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=K(this.options.targetAttachment),this.attachment=K(this.options.attachment),this.offset=z(this.options.offset),this.targetOffset=z(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=i(this.target),this.options.enabled!==!1&&this.enable(o)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=s(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,o=this.target;o===document.body?(o=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=s(o);var n=getComputedStyle(o),r=o.scrollWidth>o.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body,i=0;r&&(i=15);var a=e.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,t={width:15,height:.975*a*(a/o.scrollHeight),left:e.left+e.width-parseFloat(n.borderLeftWidth)-15},l=0;a<408&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var c=this.target.scrollTop/(o.scrollHeight-a);return t.top=c*(a-t.height-l)+e.top+parseFloat(n.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&g(this.target,this.getClass("enabled")),g(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),F.forEach(function(t,o){t===e&&F.splice(o,1)}),0===F.length&&a()}},{key:"updateAttachClasses",value:function(e,t){var o=this;e=e||this.attachment,t=t||this.targetAttachment;var n=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;e.top&&r.push(this.getClass("element-attached")+"-"+e.top),e.left&&r.push(this.getClass("element-attached")+"-"+e.left),t.top&&r.push(this.getClass("target-attached")+"-"+t.top),t.left&&r.push(this.getClass("target-attached")+"-"+t.left);var i=[];n.forEach(function(e){i.push(o.getClass("element-attached")+"-"+e),i.push(o.getClass("target-attached")+"-"+e)}),R(function(){"undefined"!=typeof o._addAttachClasses&&(y(o.element,o._addAttachClasses,i),o.options.addTargetClasses!==!1&&y(o.target,o._addAttachClasses,i),delete o._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var o=G(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,o);var n=this.cache("element-bounds",function(){return s(e.element)}),r=n.width,i=n.height;if(0===r&&0===i&&"undefined"!=typeof this.lastSize){var a=this.lastSize;r=a.width,i=a.height}else this.lastSize={width:r,height:i};var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),h=u,g=E(W(this.attachment),{width:r,height:i}),d=E(W(o),h),f=E(this.offset,{width:r,height:i}),p=E(this.targetOffset,h);g=v(g,f),d=v(d,p);for(var y=u.left+d.left-g.left,b=u.top+d.top-g.top,_=0;_<S.modules.length;++_){var m=S.modules[_],k=m.position.call(this,{left:y,top:b,targetAttachment:o,targetPos:u,elementPos:n,offset:g,targetOffset:d,manualOffset:f,manualTargetOffset:p,scrollbarSize:A,attachment:this.attachment});if(k===!1)return!1;"undefined"!=typeof k&&"object"==typeof k&&(b=k.top,y=k.left)}var T={page:{top:b,left:y},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-i+innerHeight,left:y-pageXOffset,right:pageXOffset-y-r+innerWidth}},C=this.target.ownerDocument,B=C.defaultView,A=void 0;return B.innerHeight>C.documentElement.clientHeight&&(A=this.cache("scrollbar-size",c),T.viewport.bottom-=A.height),B.innerWidth>C.documentElement.clientWidth&&(A=this.cache("scrollbar-size",c),T.viewport.right-=A.width),["","static"].indexOf(C.body.style.position)!==-1&&["","static"].indexOf(C.body.parentElement.style.position)!==-1||(T.page.bottom=C.body.scrollHeight-b-i,T.page.right=C.body.scrollWidth-y-r),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),o=e.cache("target-offsetparent-bounds",function(){return s(t)}),n=getComputedStyle(t),r=o,i={};if(["Top","Left","Bottom","Right"].forEach(function(e){i[e.toLowerCase()]=parseFloat(n["border"+e+"Width"])}),o.right=C.body.scrollWidth-o.left-r.width+i.right,o.bottom=C.body.scrollHeight-o.top-r.height+i.bottom,T.page.top>=o.top+i.top&&T.page.bottom>=o.bottom&&T.page.left>=o.left+i.left&&T.page.right>=o.right){var a=t.scrollTop,c=t.scrollLeft;T.offset={top:T.page.top-o.top+a-i.top,left:T.page.left-o.left+c-i.left}}}(),this.move(T),this.history.unshift(T),this.history.length>3&&this.history.pop(),t&&M(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var o={};for(var n in e){o[n]={};for(var r in e[n]){for(var i=!1,a=0;a<this.history.length;++a){var s=this.history[a];if("undefined"!=typeof s[n]&&!_(s[n][r],e[n][r])){i=!0;break}}i||(o[n][r]=!0)}}var c={top:"",left:"",right:"",bottom:""},h=function(e,o){var n="undefined"!=typeof t.options.optimizations,r=n?t.options.optimizations.gpu:null;if(r!==!1){var i=void 0,a=void 0;if(e.top?(c.top=0,i=o.top):(c.bottom=0,i=-o.bottom),e.left?(c.left=0,a=o.left):(c.right=0,a=-o.right),window.matchMedia){var s=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;s||(a=Math.round(a),i=Math.round(i))}c[P]="translateX("+a+"px) translateY("+i+"px)","msTransform"!==P&&(c[P]+=" translateZ(0)")}else e.top?c.top=o.top+"px":c.bottom=o.bottom+"px",e.left?c.left=o.left+"px":c.right=o.right+"px"},g=!1;if((o.page.top||o.page.bottom)&&(o.page.left||o.page.right)?(c.position="absolute",h(o.page,e.page)):(o.viewport.top||o.viewport.bottom)&&(o.viewport.left||o.viewport.right)?(c.position="fixed",h(o.viewport,e.viewport)):"undefined"!=typeof o.offset&&o.offset.top&&o.offset.left?!function(){c.position="absolute";var n=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==n&&R(function(){t.element.parentNode.removeChild(t.element),n.appendChild(t.element)}),h(o.offset,e.offset),g=!0}():(c.position="absolute",h({top:!0,left:!0},e.page)),!g){for(var d=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){d=!1;break}f=f.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var p={},y=!1;for(var r in c){var b=c[r],m=this.element.style[r];m!==b&&(y=!0,p[r]=b)}y&&R(function(){u(t.element.style,p),t.trigger("repositioned")})}}}]),t}(x);X.modules=[],S.position=U;var Y=u(X,S),N=function(){function e(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=S.Utils,s=D.getBounds,u=D.extend,y=D.updateClasses,R=D.defer,J=["left","top","right","bottom"];S.modules.push({position:function(e){var t=this,o=e.top,n=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var i=this.cache("element-bounds",function(){return s(t.element)}),a=i.height,l=i.width;if(0===l&&0===a&&"undefined"!=typeof this.lastSize){var c=this.lastSize;l=c.width,a=c.height}var h=this.cache("target-bounds",function(){return t.getTargetBounds()}),g=h.height,d=h.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,o=e.pinnedClass;t&&f.push(t),o&&f.push(o)}),f.forEach(function(e){["left","top","right","bottom"].forEach(function(t){f.push(e+"-"+t)})});var p=[],b=u({},r),_=u({},this.attachment);return this.options.constraints.forEach(function(e){var i=e.to,s=e.attachment,c=e.pin;"undefined"==typeof s&&(s="");var u=void 0,h=void 0;if(s.indexOf(" ")>=0){var f=s.split(" "),y=N(f,2);h=y[0],u=y[1]}else u=h=s;var m=k(t,i);"target"!==h&&"both"!==h||(o<m[1]&&"top"===b.top&&(o+=g,b.top="bottom"),o+a>m[3]&&"bottom"===b.top&&(o-=g,b.top="top")),"together"===h&&("top"===b.top&&("bottom"===_.top&&o<m[1]?(o+=g,b.top="bottom",o+=a,_.top="top"):"top"===_.top&&o+a>m[3]&&o-(a-g)>=m[1]&&(o-=a-g,b.top="bottom",_.top="bottom")),"bottom"===b.top&&("top"===_.top&&o+a>m[3]?(o-=g,b.top="top",o-=a,_.top="bottom"):"bottom"===_.top&&o<m[1]&&o+(2*a-g)<=m[3]&&(o+=a-g,b.top="top",_.top="top")),"middle"===b.top&&(o+a>m[3]&&"top"===_.top?(o-=a,_.top="bottom"):o<m[1]&&"bottom"===_.top&&(o+=a,_.top="top"))),"target"!==u&&"both"!==u||(n<m[0]&&"left"===b.left&&(n+=d,b.left="right"),n+l>m[2]&&"right"===b.left&&(n-=d,b.left="left")),"together"===u&&(n<m[0]&&"left"===b.left?"right"===_.left?(n+=d,b.left="right",n+=l,_.left="left"):"left"===_.left&&(n+=d,b.left="right",n-=l,_.left="right"):n+l>m[2]&&"right"===b.left?"left"===_.left?(n-=d,b.left="left",n-=l,_.left="right"):"right"===_.left&&(n-=d,b.left="left",n+=l,_.left="left"):"center"===b.left&&(n+l>m[2]&&"left"===_.left?(n-=l,_.left="right"):n<m[0]&&"right"===_.left&&(n+=l,_.left="left"))),"element"!==h&&"both"!==h||(o<m[1]&&"bottom"===_.top&&(o+=a,_.top="top"),o+a>m[3]&&"top"===_.top&&(o-=a,_.top="bottom")),"element"!==u&&"both"!==u||(n<m[0]&&("right"===_.left?(n+=l,_.left="left"):"center"===_.left&&(n+=l/2,_.left="left")),n+l>m[2]&&("left"===_.left?(n-=l,_.left="right"):"center"===_.left&&(n-=l/2,_.left="right"))),"string"==typeof c?c=c.split(",").map(function(e){return e.trim()}):c===!0&&(c=["top","left","right","bottom"]),c=c||[];var v=[],E=[];o<m[1]&&(c.indexOf("top")>=0?(o=m[1],v.push("top")):E.push("top")),o+a>m[3]&&(c.indexOf("bottom")>=0?(o=m[3]-a,v.push("bottom")):E.push("bottom")),n<m[0]&&(c.indexOf("left")>=0?(n=m[0],v.push("left")):E.push("left")),n+l>m[2]&&(c.indexOf("right")>=0?(n=m[2]-l,v.push("right")):E.push("right")),v.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),p.push(e),v.forEach(function(t){p.push(e+"-"+t)})}(),E.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),p.push(e),E.forEach(function(t){p.push(e+"-"+t)})}(),(v.indexOf("left")>=0||v.indexOf("right")>=0)&&(_.left=b.left=!1),(v.indexOf("top")>=0||v.indexOf("bottom")>=0)&&(_.top=b.top=!1),b.top===r.top&&b.left===r.left&&_.top===t.attachment.top&&_.left===t.attachment.left||(t.updateAttachClasses(_,b),t.trigger("update",{attachment:_,targetAttachment:b}))}),R(function(){t.options.addTargetClasses!==!1&&y(t.target,p,f),y(t.element,p,f)}),{top:o,left:n}}});var D=S.Utils,s=D.getBounds,y=D.updateClasses,R=D.defer;S.modules.push({position:function(e){var t=this,o=e.top,n=e.left,r=this.cache("element-bounds",function(){return s(t.element)}),i=r.height,a=r.width,l=this.getTargetBounds(),c=o+i,u=n+a,h=[];o<=l.bottom&&c>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==n&&t!==u||h.push(e)}),n<=l.right&&u>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==o&&t!==c||h.push(e)});var g=[],d=[],f=["left","top","right","bottom"];return g.push(this.getClass("abutted")),f.forEach(function(e){g.push(t.getClass("abutted")+"-"+e)}),h.length&&d.push(this.getClass("abutted")),h.forEach(function(e){d.push(t.getClass("abutted")+"-"+e)}),R(function(){t.options.addTargetClasses!==!1&&y(t.target,d,g),y(t.element,d,g)}),!0}});var N=function(){function e(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return S.modules.push({position:function(e){var t=e.top,o=e.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:t,left:o}));var r=void 0,i=void 0;if("string"==typeof n){n=n.split(" "),n[1]=n[1]||n[0];var a=n,s=N(a,2);r=s[0],i=s[1],r=parseFloat(r,10),i=parseFloat(i,10)}else r=n.top,i=n.left;return t+=r,o+=i,{top:t,left:o}}}}),Y})},32,function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},[1251,878],function(e,t){function o(e,t){var o={identity:t},n=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?n.apply(this,arguments):o},writable:!0}),o}e.exports=o},[1252,877],function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return p.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function l(e){var t=new FileReader;return t.readAsText(e),a(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var o=t.body;if(h.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,o||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=u(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var o=e.split("="),n=o.shift().replace(/\+/g," "),r=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function d(e){var t=new r,o=(e.getAllResponseHeaders()||"").trim().split("\n");return o.forEach(function(e){var o=e.trim().split(":"),n=o.shift().trim(),r=o.join(":").trim();t.append(n,r)}),t}function f(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var p={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};r.prototype.append=function(e,n){e=t(e),n=o(n);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(n)},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var o=this.map[t(e)];return o?o[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,n){this.map[t(e)]=[o(n)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(o){this.map[o].forEach(function(n){e.call(t,n,o,this)},this)},this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,o){e.push(o)}),n(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,o){e.push([o,t])}),n(e)},p.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},c.call(h.prototype),c.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];f.redirect=function(e,t){if(b.indexOf(t)===-1)throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=h,e.Response=f,e.fetch=function(e,t){return new Promise(function(o,n){function r(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=h.prototype.isPrototypeOf(e)&&!t?e:new h(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:d(a),url:r()},t="response"in a?a.response:a.responseText;o(new f(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&p.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,o){e.exports=function(){return new Worker(o.p+"08d784242de515a89e8b.worker.js")}},function(e,t){"use strict";function o(e,t){var o=document.createElement("canvas");o.width=e,o.height=t;var n=o.getContext("2d");return{canvas:o,context:n}}function n(e,t,n){var r=e.width*t,i=e.height*n,a=o(r,i),s=a.canvas,l=a.context,c=l.createPattern(e,"repeat");return l.fillStyle=c,l.fillRect(0,0,r,i),s.toDataURL()}function r(e,t,n,r){var i=e.width*t,a=e.width*n,s=o(i,a),l=s.canvas,c=s.context;return"nearest-neighbor"===r&&(c.imageSmoothingEnabled=!1,c.oImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.webkitImageSmoothingEnabled=!1,c.mozImageSmoothingEnabled=!1),c.drawImage(e,0,0,i,a),l.toDataURL()}function i(e,t,n,r,i){var a=t||0,s=n||0,l=e.width-(r||0)-a,c=e.height-(i||0)-s,u=l,h=c,g=o(l,c),d=g.canvas,f=g.context;return console.log(a,s,u,h,0,0,l,c),f.drawImage(e,a,s,u,h,0,0,l,c),d.toDataURL()}function a(e){for(var t=0,o=0,n=0,r=e;n<r.length;n++){var i=r[n];i.width>t&&(t=i.width),i.height>o&&(o=i.height)}return[t,o]}function s(e,t,n){var r=a(e),i=r[0],s=r[1],l=o(i,s),c=l.canvas,u=l.context;u.globalAlpha=void 0!==n?n:1,u.globalCompositeOperation=void 0!==t?t:"source-over";for(var h=0,g=e;h<g.length;h++){var d=g[h];u.drawImage(d,0,0)}return c.toDataURL()}function l(e,t,o,n){return 16777216*e+(t<<16)+(o<<8)+n}function c(e){var t=e>>>24,o=e>>>16&255,n=e>>>8&255,r=255&e;return[t,o,n,r]}function u(e,t,n){var r=o(e.width,e.height),i=r.canvas,a=r.context;a.drawImage(e,0,0);for(var s=a.getImageData(0,0,e.width,e.height),u=s.data,h=0;h<u.length;h+=4){var g=u[h],d=u[h+1],f=u[h+2],p=u[h+3],y=l(g,d,f,p);y===t&&(b=c(n),g=b[0],d=b[1],f=b[2],p=b[3],u[h]=g,u[h+1]=d,u[h+2]=f,u[h+3]=p)}return a.putImageData(s,0,0),i.toDataURL();var b}t.repeat=n,t.scale=r,t.crop=i,t.overlay=s,t.recolor=u},function(e,t,o){"use strict";var n=o(331),r=o(118),i=1e3,a=function(){function e(){this.effects=[]}return e.prototype.add=function(e,t,o,a){var s=new n.default(a,r.ShaderType.SPRITE);return s.setPosition(e,t,o),this.effects.push({object:s,timer:i}),s},e.prototype.tick=function(e){for(var t=this.effects.length-1;t>=0;--t){var o=this.effects[t];o.timer<e?this.effects.splice(t,1):(o.timer-=e,o.object.translateY(e/i*.7))}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(11),i=(o(1107),o(951)),a=o(198),s=(o(998),o(1098)),l=o(1108),c=o(409),u=o(1103)(),h=o(23),g=o(1090),d=(o(1027),o(885)),f=o(899),p=o(950),y=o(912),b=o(118),_=o(906),m=o(910),v=o(893),E=o(898),k=o(895),T=o(890),S=o(896),C=o(980),B={},A=(h.create(),h.create(),h.create()),w=h.create(),I=(new c.AABB(A,w),function(e){function t(o,n){var r=this;if(e.call(this),this.getVoxel=function(e,t,o){var n=r.voxels.getVoxel(e,t,o);return n>1?n:0},this.getSolidVoxel=function(e,t,o){var n=r.voxels.getVoxel(e,t,o);return r.isSolidVoxel(n)?n:0},this.isSolidVoxel=function(e){if(!e)return!1;var t=r.registry.getBlockProps(e);return t&&!t.blockModel},this.testSolidVoxel=function(e,t,o){var n=r.voxels.getVoxel(e,t,o);return!!n&&r.isSolidVoxel(n)},this.testFluidVoxel=function(){return!1},this.friction=.3,this.epilson=1e-8,this.terminalVelocity=[.9,.1,.9],this.setInterval=u.interval.bind(u),this.setTimeout=u.timeout.bind(u),this.fpsControlOptions=n.fpsControlOptions||{},this.ray=g([0,0,0],[0,0,1]),this.shell=o,this.sunlight=h.fromValues(0,0,0),this.clock=0,this.objects=[],this.objectsIndexed=new Map,n.pluginOpts&&n.pluginOpts["voxel-engine"]&&(n=p(n,n.pluginOpts["voxel-engine"])),n.pluginOpts&&n.pluginOpts["voxel-engine-stackgl"]&&(n=p(n,n.pluginOpts["voxel-engine-stackgl"])),!this.notCapable()){this.isClient=Boolean("undefined"==typeof n.isClient||n.isClient),this.generateChunks=n.generateChunks!==!1,this.setConfigurablePositions(n),this.configureChunkLoading(n),this.setDimensions(n),this.arrayType=n.arrayType||{1:Uint8Array,2:Uint16Array,4:Uint32Array}[n.arrayTypeSize]||Uint16Array,this.cubeSize=1,this.chunkSize=n.chunkSize||32,this.chunkPad=n.chunkPad||4,this.chunkDistance=n.chunkDistance||2,this.removeDistance=n.removeDistance||this.chunkDistance+1,this.skyColor=n.skyColor||12571109,this.antialias=n.antialias,this.playerHeight=n.playerHeight||1.62,this.meshType=n.meshType||"surfaceMesh",this.items=[],this.voxels=new y.Chunker(this);var i=n.pluginLoaders||{};p(i,{"voxel-engine-stackgl":t});var b=m.default(this,{masterPluginName:"voxel-engine-stackgl",loaders:i});if(this.timer=this.initializeTimer(n.tickFPS||16),this.paused=!1,this.spatial=new s,this.region=l(this.spatial,a([0,0,0],[1,1,1]),this.chunkSize),this.voxelRegion=l(this.spatial,1),this.chunkRegion=l(this.spatial,this.chunkSize),this.asyncChunkGeneration=!1,this.chunksNeedsUpdate={},this.pendingChunks=[],this.isClient){var _=f.default(n.artpacks);this.registry=new v.default(_);for(var C=0,A=n.blocks;C<A.length;C++){var w=A[C];this.registry.registerBlock(w)}var I=this.shell.gl;this.stitcher=new E.default(I,this.registry,_),this.sprites=new S.default(I,this.stitcher),this.mesher=new T.default(I,this.registry,this.stitcher,this.chunkSize),this.physics=new c.Physics(null,this.testSolidVoxel,this.testFluidVoxel),
this.effectManager=new d.default,this.renderer=new k.default(I,this.mesher,this.stitcher,this.effectManager);var O=n.pluginOpts||{};for(var R in B)O[R]=O[R]||B[R];for(var M in O)b.add(M,O[M]);b.loadAll(),this.stitcher.on("updatedSides",function(){r.generateChunks&&r.handleChunkGeneration(),r.showAllChunks(),setTimeout(function(){r.asyncChunkGeneration=!("asyncChunkGeneration"in n)||n.asyncChunkGeneration},2e3)}),this.emit("engine-init",this),this.shell.bind("left","left","A"),this.shell.bind("right","right","D"),this.shell.bind("forward","up","W"),this.shell.bind("backward","down","S"),this.shell.bind("jump","space"),this.shell.bind("crouch","shift"),this.itemRegistry=new Map,this.modelRegistry=new Map}}}return n(t,e),t.createContainer=function(){var e=document.createElement("div");return e.tabIndex=1,e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.style.height="100%",e.style.overflow="hidden",document.body.appendChild(e),document.body.style.overflow="hidden",document.body.style.height="100%",e},t.initShell=function(e){void 0===e&&(e={});var o=e.skyColor||12571109,n=[(o>>16)/255,(o>>8&255)/255,(255&o)/255,1],r=void 0===e.pointerLock||e.pointerLock,i=void 0!==e.stickyPointerLock?e.stickyPointerLock:r,a=e.container||t.createContainer();return new Promise(function(e,t){var o=C({clearColor:n,pointerLock:r,stickyPointerLock:i,element:a});o.once("gl-init",function(){return e(o)}),o.once("gl-error",function(e){return t(e)})})},t.prototype.toString=function(){return"voxel-engine-stackgl"},t.prototype.voxelPosition=function(e){var t=Math.floor,o=e,n=[];return n[0]=t(o[0]),n[1]=t(o[1]),n[2]=t(o[2]),n},t.prototype.render=function(e){var t=this,o=Object.keys(this.voxels.chunks),n=o.map(function(e){return t.voxels.chunks[e]});this.renderer.onRender(e,n,this.objects,this.sunlight,this.focusedVoxel)},t.prototype.addItem=function(e,t){if(this.itemRegistry.has(e))throw new Error("Duplicate item id: "+e);var o={id:e,vao:t.vao,size:t.shape};return this.itemRegistry.set(e,o),o},t.prototype.getItem=function(e){return this.itemRegistry.get(e)},t.prototype.removeItem=function(e){var t=this.items.indexOf(e);t<0||(this.items.splice(t,1),e.mesh&&this.scene.remove(e.mesh))},t.prototype.raycastVoxels=function(e,t,o,n,r){return i(this.getVoxel,e,t,o,n,r)},t.prototype.raycastSolidVoxels=function(e,t,o,n,r){return i(this.getSolidVoxel,e,t,o,n,r)},t.prototype.canCreateBlock=function(e){e=this.parseVectorArguments(arguments);for(var t=e.map(function(e){return Math.floor(e)}),o=a(t,[1,1,1]),n=0,r=this.items.length;n<r;++n){var i=this.items[n],s=i.blocksCreation&&i.aabb&&o.intersects(i.aabb());if(s)return!1}return!0},t.prototype.setBlock=function(e,t,o,n){var r=(this.voxels.setVoxel(e,t,o,n),this.voxels.getChunkPosition(e,t,o)),i=this.voxels.chunks[r.join("|")];i&&this.addChunkToNextUpdate(i)},t.prototype.getBlock=function(e){return e=this.parseVectorArguments(arguments),this.voxels.voxelAtPosition(e)},t.prototype.blockPosition=function(e){e=this.parseVectorArguments(arguments);var t=Math.floor(e[0]),o=Math.floor(e[1]),n=Math.floor(e[2]);return[t,o,n]},t.prototype.blocks=function(e,t,o){for(var n=e,r=t,i=[r[0]-n[0],r[1]-n[1],r[2]-n[2]],a=o||new this.arrayType(i[0]*i[1]*i[2]),s=0,l=n[2];l<r[2];++l)for(var c=n[1];c<r[1];++c)for(var u=n[0];u<r[0];++u,++s)o?o(u,c,l,s):a[s]=this.voxels.voxelAtPosition([u,c,l]);if(!o)return{voxels:a,dims:i}},t.prototype.appendTo=function(e){},t.prototype.parseVectorArguments=function(e){return!!e&&(e[0]instanceof Array?e[0]:[e[0],e[1],e[2]])},t.prototype.setConfigurablePositions=function(e){var t=e.startingPosition;this.startingPosition=t||[35,1024,35];var o=e.worldOrigin;this.worldOrigin=o||[0,0,0]},t.prototype.createContainer=function(e){if(e.container)return e.container;var t=document.createElement("div");return t.tabIndex=1,t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.style.height="100%",t.style.overflow="hidden",document.body.appendChild(t),document.body.style.overflow="hidden",document.body.style.height="100%",t},t.prototype.setDimensions=function(e){e.container&&(this.container=e.container),e.container&&e.container.clientHeight?this.height=e.container.clientHeight:this.height="undefined"==typeof window?1:window.innerHeight,e.container&&e.container.clientWidth?this.width=e.container.clientWidth:this.width="undefined"==typeof window?1:window.innerWidth},t.prototype.notCapable=function(){return!_.default().webgl&&(this.reportedNotCapable||document.body.appendChild(this.notCapableMessage()),this.reportedNotCapable=!0,!0)},t.prototype.notCapableMessage=function(){var e=document.createElement("div");e.className="errorMessage";var t=document.createElement("a");return t.title="You need WebGL and Pointer Lock (Chrome 23/Firefox 14) to play this game. Click here for more information.",t.innerHTML=t.title,t.href="http://get.webgl.org",e.appendChild(t),e},t.prototype.configureChunkLoading=function(e){var t=this;if(e.generateChunks){if(e.generate){if("string"==typeof e.generate)throw new Error("Does not support this");this.generate=e.generate}else this.generate=y.generator.Valley;e.generateVoxelChunk?this.generateVoxelChunk=e.generateVoxelChunk:this.generateVoxelChunk=function(e,o){return y.generate(e,o,t.generate)}}},t.prototype.worldWidth=function(){return 2*this.chunkSize*this.chunkDistance},t.prototype.chunkToWorld=function(e){return[e[0]*this.chunkSize,e[1]*this.chunkSize,e[2]*this.chunkSize]},t.prototype.removeFarChunks=function(e){var t=this;e=e;var o=this.voxels.nearbyChunks(e,this.removeDistance).map(function(e){return e.join("|")});Object.keys(this.voxels.chunks).map(function(e){if(!(o.indexOf(e)>-1)){var n=t.voxels.chunks[e],r=t.voxels.meshes[e],i=t.pendingChunks.indexOf(e);if(i!==-1&&t.pendingChunks.splice(i,1),n){if(r)for(var a in r.vertexArrayObjects)r.vertexArrayObjects[a].dispose();delete t.voxels.chunks[e],delete t.voxels.meshes[e],t.emit("removeChunk",n.position)}}})},t.prototype.addChunkToNextUpdate=function(e){this.chunksNeedsUpdate[e.position.join("|")]=e},t.prototype.updateDirtyChunks=function(){var e=this;Object.keys(this.chunksNeedsUpdate).forEach(function(t){var o=e.chunksNeedsUpdate[t];e.emit("dirtyChunkUpdate",o),e.showChunk(o)}),this.chunksNeedsUpdate={}},t.prototype.loadPendingChunks=function(e){var t=this.pendingChunks;this.asyncChunkGeneration?(e=e||.1*t.length,e=Math.max(1,Math.min(e,t.length))):e=t.length;for(var o=0;o<e;o+=1){var n=t[o].split("|"),r=this.voxels.generateChunk(0|n[0],0|n[1],0|n[2]);this.isClient&&this.showChunk(r)}e&&t.splice(0,e)},t.prototype.getChunkAtPosition=function(e){var t=this.voxels.chunkAtPosition(e).join("|"),o=this.voxels.chunks[t];return o},t.prototype.showAllChunks=function(){for(var e in this.voxels.chunks)this.showChunk(this.voxels.chunks[e])},t.prototype.chunkDensity=function(e){for(var t={},o=e.data.length,n=0;n<o;n+=1){var r=e.data[n];r in t||(t[r]=0),t[r]+=1}var i={};for(var r in t)i[r]=t[r]/o;return i},t.prototype.showChunk=function(e,t){t&&(e.position=t);var o=e.position.join("|");this.voxels.chunks[o]=e,this.emit("renderChunk",e)},t.prototype.addModel=function(e,t,o){var n=this.mesher.createObjectVao(this.shell.gl,t,o,this.chunkPad);if(!n)return null;var r={vao:n,shaderType:b.ShaderType.PLAIN,shape:h.fromValues(t.shape[0],t.shape[1],t.shape[2])};return this.modelRegistry.set(e,r),r},t.prototype.addVoxelModel=function(e,t){var o=this.mesher.createVoxelObjectVao(t);if(!o)return null;var n={vao:o,shaderType:b.ShaderType.TEXTURE_SOLID,shape:h.fromValues(t.shape[0],t.shape[1],t.shape[2])};return this.modelRegistry.set(e,n),n},t.prototype.addObject=function(e){if(this.objectsIndexed.has(e.id))throw new Error("Duplicate id "+e.id);return this.physics.add(e.physics),this.objects.push(e),this.objectsIndexed.set(e.id,e),e},t.prototype.getObject=function(e){return this.objectsIndexed.get(e)},t.prototype.addMarker=function(e){throw new Error("voxel-engine-stackgl addMarker not yet implemented TODO: figure out how to fit this into the rendering pipeline")},t.prototype.addAABBMarker=function(e,t){throw new Error("voxel-engine-stackgl addAABBMarker not yet implemented TODO")},t.prototype.addVoxelMarker=function(e,t,o,n){var r=a([e,t,o],[1,1,1]);return this.addAABBMarker(r,n)},t.prototype.tick=function(e){this.clock+=e;var t=this.clock/5e3%1*2*Math.PI;t>Math.PI?h.set(this.sunlight,Math.cos(t),-Math.sin(t),0):h.set(this.sunlight,0,0,0);for(var o=0,n=this.items.length;o<n;++o)this.items[o].tick(e);for(var r=0,i=this.objects;r<i.length;r++){var a=i[r];a.update(e,this.objects)}this.physics.tick(e),this.effectManager.tick(e),this.pendingChunks.length&&this.loadPendingChunks(),Object.keys(this.chunksNeedsUpdate).length>0&&this.updateDirtyChunks(),u.tick(e),this.emit("tick",e)},t.prototype.initializeTimer=function(e){var t=this,o=0,n=0,r=null;return this.frameUpdated=!0,this.interval=setInterval(function(){if(t.paused)return r=Date.now(),void(o=0);n=Date.now();var i=n-(r||n);if(r=n,o+=i,!(o<e)){var a=o/e|0;a<=0||(a*=e,t.tick(a),o-=a,t.frameUpdated=!0)}},0),this.interval},t.prototype.handleChunkGeneration=function(){var e=this;this.voxels.on("missingChunk",function(t){e.pendingChunks.push(t.join("|"))}),this.voxels.requestMissingChunks(this.worldOrigin),this.loadPendingChunks(this.pendingChunks.length)},t.prototype.destroy=function(){clearInterval(this.timer)},t}(r.EventEmitter));Object.defineProperty(t,"__esModule",{value:!0}),t.default=I},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(23),i=o(11),a=o(331),s=o(409),l=o(904),c=o(118),u=r.create(),h=r.create(),g=r.create();new s.AABB(h,g);!function(e){e[e.NONE=0]="NONE",e[e.TRANSLATE=1]="TRANSLATE",e[e.ROTATE=2]="ROTATE"}(t.UpdateAABB||(t.UpdateAABB={}));var d=(t.UpdateAABB,function(e){function t(t,o,n){var a=o.vao,c=o.shape,u=o.shaderType;e.call(this,a,u,c),this.model=o,this.id=t,this.foundObjects=new Set,this.emitter=new i.EventEmitter;var g="number"==typeof n.mass?n.mass:1,d="number"==typeof n.gravityMultiplier?n.gravityMultiplier:1;r.multiply(h,this.model.shape,this.scale),this.physics=new s.RigidBody(this.position,h,g,1,0,d,{onMove:this.handleMove.bind(this)}),this.position=this.physics.aabb.center,this.commandControl=new l.default(this,n.control)}return n(t,e),t.prototype.handleMove=function(){this.modelMatrixNeedsUpdate=!0},t.prototype.setPosition=function(e,t,o){return this.physics.aabb.setCenter(e,t,o),this},t.prototype.copyPosition=function(e){return this.physics.aabb.copyCenter(e),this},t.prototype.addPosition=function(e){return this.physics.aabb.translate(e),this},t.prototype.translateOnAxis=function(e,t){return r.copy(h,e),r.transformQuat(h,h,this.quaternion),r.scale(h,h,t),this.physics.aabb.translate(h),this},t.prototype.setScale=function(e,t,o){return r.set(this.scale,e,t,o),r.multiply(h,this.model.shape,this.scale),this.physics.aabb.copySize(h),this.modelMatrixNeedsUpdate=!0,this},t.prototype.onTick=function(e){},t.prototype.emit=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return(n=this.emitter).emit.apply(n,[e].concat(t));var n},t.prototype.on=function(e,t){return this.emitter.on(e,t),this},t.prototype.removeListener=function(e,t){return this.emitter.removeListener(e,t),this},t.prototype.isListening=function(e,t){var o=this.emitter.listeners(e);return o.indexOf(t)!==-1},t.prototype.onAppear=function(e){this.emitter.emit("appear",e)},t.prototype.onDisappear=function(e){},t.prototype.onObjectFound=function(e){this.foundObjects.has(e)||(this.foundObjects.add(e),this.onAppear(e))},t.prototype.onObjectNotFound=function(e){this.foundObjects.has(e)&&(this.foundObjects.delete(e),this.onDisappear(e))},t.prototype.update=function(e,t){for(var o=2500,n=0,i=t;n<i.length;n++){var a=i[n];a!==this&&(r.sub(u,this.position,a.position),r.squaredLength(u)<=o?this.onObjectFound(a):this.onObjectNotFound(a))}this.commandControl.tick(e),this.onTick(e)},t.prototype.getNearestObject=function(e){for(var t=null,o=1/0,n=this.foundObjects.values();;){var i=n.next();if(i.done)break;var a=i.value;if(e(a)){var s=r.squaredDistance(this.position,a.position);s<o&&(o=s,t=a)}}return t},t.prototype.move=function(e){return this.commandControl.move(e)},t.prototype.jump=function(){return this.commandControl.jump()},t.prototype.stop=function(e){return void 0===e&&(e=!0),this.commandControl.stop(),e&&(r.negate(h,this.physics.velocity),this.physics.applyImpulse(h)),Promise.resolve()},t.prototype.holdItem=function(e){this.item&&this.throwItem(),this.item=e,this.itemObject=new a.default(this.item.vao,c.ShaderType.PLAIN,this.item.size),this.itemObject.setScale(1.5,1.5,1.5),this.itemObject.setPosition(-this.size[0]/2,this.size[1]/4,this.size[2]+this.item.size[2]/2),this.add(this.itemObject)},t.prototype.throwItem=function(){this.item&&(this.remove(this.itemObject),this.item=null,this.itemObject=null)},t.prototype.addSprite=function(e){var t=new a.default(e,c.ShaderType.SPRITE);t.translateY(18),this.add(t)},t}(a.default));Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(11),i=o(889),a=o(14),s=o(891),l=o(121),c=o(123),u=o(201),h=u({args:["array","array","scalar"],body:function(e,t,o){var n=t!==o;e=n?t:0}}),g=function(e){function t(t,o,n,r){e.call(this),this.gl=t,this.stitcher=n,this.registry=o,this.stitcher=n,this.isTransparent=void 0,this.hasBlockModel=void 0,this.chunkSize=r,this.solidVoxels=a(new Uint16Array(r*r*r),[r,r,r])}return n(t,e),t.prototype.createVoxelMesh=function(e){var t=this.splitVoxelArray(e),o=i.createVoxelMesh(this.gl,this.solidVoxels,this.stitcher.voxelSideTextureIDs,this.stitcher.voxelSideTextureSizes);return{surface:o,porous:t}},t.prototype.createObjectVao=function(e,t,o,n){return i.createObjectVao(e,t,o,n)},t.prototype.createVoxelObjectVao=function(e){var t=i.createVoxelMesh(this.gl,e,this.stitcher.voxelSideTextureIDs,this.stitcher.voxelSideTextureSizes);return t},t.prototype.meshCustomBlock=function(e,t,o,n){var r=this,i=this.registry.blockProps[e].blockModel,a=s.default(i,function(e){return r.stitcher.getTextureUV(e)},t,o,n);return a},t.prototype.splitVoxelArray=function(e){this.isTransparent||(this.isTransparent=this.registry.getBlockPropsAll("transparent"),this.isTransparent.unshift(!0)),this.hasBlockModel||(this.hasBlockModel=this.registry.getBlockPropsAll("blockModel"),this.hasBlockModel.unshift(void 0));var t=this.solidVoxels,o=this.isTransparent;h(t,e,1);for(var n=(this.porousMeshes=[],[]),r=[],i=0,a=t.data.length;i<a;++i){var s=t.data[i];if(s)if(this.hasBlockModel[s]){t.data[i]=0;var u=i,g=u%this.chunkSize;u=Math.floor(u/this.chunkSize);var d=u%this.chunkSize;u=Math.floor(u/this.chunkSize);var f=u,p=this.meshCustomBlock(s,f,d,g);n=n.concat(p.vertices),r=r.concat(p.uv)}else o[s]||(t.data[i]=32768|s)}var y=l(this.gl,new Float32Array(n)),b=l(this.gl,new Float32Array(r)),_=c(this.gl,[{buffer:y,size:3},{buffer:b,size:2}]);return _.length=n.length/3,_},t}(r.EventEmitter);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g},function(e,t,o){"use strict";function n(e,t,o,n){var r=u.pad(t);return c(r,l.OPAQUE_BIT),u.build(e,r,o)}function r(e,t,o,n){return h.build(e,h.pad(t),o,n)}var i=o(201),a=o(907),s=o(908),l=o(197),c=i({args:["array","scalar"],body:function(e,t){e&&(e|=t)}}),u=new a.default,h=new s.default;t.createObjectVao=n,t.createVoxelMesh=r},function(e,t,o){"use strict";var n=o(888);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default},function(e,t){"use strict";function o(e,t){return[[e[0],e[1],e[2]],[e[0],e[1],e[2]+t[2]],[e[0],e[1]+t[1],e[2]],[e[0],e[1]+t[1],e[2]+t[2]],[e[0]+t[0],e[1],e[2]],[e[0]+t[0],e[1],e[2]+t[2]],[e[0]+t[0],e[1]+t[1],e[2]],[e[0]+t[0],e[1]+t[1],e[2]+t[2]]]}function n(e,t,o,n,r){return[e[t],e[o],e[n],e[t],e[n],e[r]]}function r(e,t){var o={"0,0,-1":n(e,1,0,4,5).reduce(function(e,t){return e.concat([t[0],t[1]-c,t[2]])},[]),"0,0,1":n(e,3,7,6,2).reduce(function(e,t){return e.concat([t[0],t[1]+c,t[2]])},[]),"0,-1,0":n(e,1,3,2,0).reduce(function(e,t){return e.concat([t[0]-c,t[1],t[2]])},[]),"0,1,0":n(e,5,4,6,7).reduce(function(e,t){return e.concat([t[0]+c,t[1],t[2]])},[]),"-1,0,0":n(e,1,5,7,3).reduce(function(e,t){return e.concat([t[0],t[1],t[2]+c])},[]),"1,0,0":n(e,2,6,4,0).reduce(function(e,t){return e.concat([t[0],t[1],t[2]-c])},[])};return o[t.join(",")]}function i(e){return{north:[-1,0,0],south:[1,0,0],west:[0,1,0],east:[0,-1,0],up:[0,0,1],down:[0,0,-1]}[e]}function a(e,t,n,a,s){var l=[e.from[0]/16+n,e.from[1]/16+a,e.from[2]/16+s],c=[e.to[0]/16,e.to[1]/16,e.to[2]/16],h=o(l,c),g=[],d=[];for(var f in e.faceData){var p=(e.faceData[f],i(f));if(!p)throw new Error("invalid compass direction: "+f);var y=r(h,p);if(!y)throw new Error("invalid normal: "+p);g=g.concat(y);var b=t?t(e.texture):u;if(!b)throw new Error("failed to lookup UV texture: "+e.texture+" for "+e);var _=[new Float32Array(b.buffer,2*Float32Array.BYTES_PER_ELEMENT*3,2),new Float32Array(b.buffer,2*Float32Array.BYTES_PER_ELEMENT*0,2),new Float32Array(b.buffer,2*Float32Array.BYTES_PER_ELEMENT*1,2),new Float32Array(b.buffer,2*Float32Array.BYTES_PER_ELEMENT*2,2)],m=0;switch(f){case"north":m=3;break;case"south":m=1;break;case"west":m=3;break;case"east":m=0}d.push(_[(0+m)%4][0]),d.push(_[(0+m)%4][1]),d.push(_[(1+m)%4][0]),d.push(_[(1+m)%4][1]),d.push(_[(2+m)%4][0]),d.push(_[(2+m)%4][1]),d.push(_[(0+m)%4][0]),d.push(_[(0+m)%4][1]),d.push(_[(2+m)%4][0]),d.push(_[(2+m)%4][1]),d.push(_[(3+m)%4][0]),d.push(_[(3+m)%4][1])}return{vertices:g,uv:d}}function s(e,t,o,n,r){for(var i={vertices:[],uv:[]},s=0,l=e.length;s<l;s+=1){var c=e[s],u=a(c,t,o,n,r);i.vertices=i.vertices.concat(u.vertices),i.uv=i.uv.concat(u.uv)}return i}function l(e,t,o,n,r){return s(e,t,0|o,0|n,0|r)}var c=-.25,u=new Float32Array(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t){"use strict";var o={id:0,name:"air"},n=function(){function e(e){this.blockProps=[],this.blockId2Index={},this.blockIndex2Id=[],this.itemProps={},this.registerBlock(o),this.itemProps={}}return e.prototype.registerBlock=function(e){var t=this.blockProps.length;if(this.blockId2Index[e.id])throw new Error("registerBlock: duplicate block id "+e.id);return this.blockProps.push(e),this.blockId2Index[e.id]=t,this.blockIndex2Id[t]=e.id,t},e.prototype.getBlockMeta=function(e){var t="number"==typeof e?e:this.getBlockIndex(e);if(void 0!==t){var o=this.blockProps[t];if(o&&void 0!==o.baseIndex)return t-o.baseIndex}},e.prototype.getBlockBaseName=function(e){var t="number"==typeof e?e:this.getBlockIndex(e);if(void 0===t)throw new Error("getBlockBaseName("+e+"): invalid block name");var o=this.blockProps[t];if(o&&void 0!==o.baseIndex)return this.getBlockName(o.baseIndex)},e.prototype.changeBlockMeta=function(e,t){var o="number"==typeof e?e:this.getBlockIndex(e);if(void 0===o)throw new Error("setBlockMeta("+e+","+t+"): invalid block name");var n=this.blockProps[o];if(!n||void 0===n.baseIndex)throw new Error("setBlockMeta("+e+","+t+"): not a metablock");if(o=n.baseIndex,t<0||t>n.lastIndex)throw new Error("setBlockMeta("+e+","+t+"): out of range 0-"+n.lastIndex);var r=o+t;return r},e.prototype.getBlockIndex=function(e){return this.blockId2Index[e]},e.prototype.getBlockName=function(e){var t=this.blockIndex2Id[e];return t?t:"<index #"+e+">"},e.prototype.getBlockProps=function(e){var t=this.getBlockIndex(e);return this.blockProps[t]},e.prototype.getBlockPropsAll=function(e){for(var t=[],o=1;o<this.blockProps.length;++o)t.push(this.getProp(o,e));return t},e.prototype.registerItem=function(e,t){if(this.itemProps[e])throw new Error("registerItem: duplicate item name "+e+", existing properties: "+this.itemProps[e]);if(this.blockId2Index[e])throw new Error("registerItem: item name "+e+" conflicts with existing block name of index"+this.blockId2Index[e]);this.itemProps[e]=t},e.prototype.getItemProps=function(e){return this.itemProps[e]||this.getBlockProps(e)},e.prototype.getProp=function(e,t,o){var n;if(n="number"==typeof e?this.blockProps[e]:this.getItemProps(e),void 0!==n){var r=n[t];if("function"==typeof r){var i="number"==typeof e?e:this.getBlockIndex(e);r=i?r.call(n,i-(n.baseIndex||i),o):r.call(n,o)}return r}},e.prototype.getItemTexture=function(e,t){var o=this.getProp(e,"itemTexture",t);if(void 0===o){var n=this.getProp(e,"texture",t);if(void 0!==n)return"string"==typeof n&&(n=[n]),this._getTextureURLs(n)}return this._getTextureURLs(o)},e.prototype._getTextureURLs=function(e){var t;if(Array.isArray(e))t=e.map(this.getTextureURL.bind(this));else if("string"==typeof e)t=this.getTextureURL(e);else{if(!(e.top||e.left||e.front))throw console.warn("voxel-registry _getTextureURLs invald name object (try a string):"+name),new Error("voxel-registry _getTextureURLs invald name object (try a string):"+name);t={};for(var o=Object.keys(e),n=0;n<o.length;++n){var r=o[n];t[r]=this.getTextureURL(e[r])}}return t},e.prototype.getItemDisplayName=function(e){var t=this.getProp(e,"displayName");if(void 0!==t)return t;var o=e.substr(0,1).toUpperCase(),n=e.substr(1);return o+n},e.prototype.getItemPileTexture=function(e){return this.getItemTexture(e.item,e.tags)},e.prototype.isBlock=function(e){return void 0!==this.blockId2Index[e]},e.prototype.onTexturesReady=function(e){this.artpacks&&(this.artpacks.isQuiescent()?e():this.artpacks.on("loadedAll",e))},e.prototype.getTextureURL=function(e){if(this.artpacks)return this.artpacks.getTexture(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,o){"use strict";var n=o(892);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(11),i=o(982),a=o(23),s=o(37),l=o(118),c=o(956),u=o(965),h=function(e){function t(t,o,n,r){var i=this;if(e.call(this),this.texturesReady=function(e){i.texture=e.bind()},this.gl=t,this.mesher=o,this.stitcher=n,this.effectManager=r,!this.stitcher)throw new Error("voxel-shader requires voxel-stitch plugin");this.stitcher.on("updateTexture",this.texturesReady);var l=c();this.box=new u(t).attr("position",l.positions).faces(l.cells),this.boxModelMatrix=s.create(),this.boxOffset=a.fromValues(.5,.5,.5),this.boxPosition=a.create(),this.shader=this.createAOShader(),this.shader2=this.createCustomModelShader(),this.objectShader=this.createObjectShader(),this.focusedShader=this.createFocusedVoxelShader(),this.spriteShader=this.createSpriteShader(),this.sprites=[],this.texturedObjects=[],t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE)}return n(t,e),t.prototype.renderObject=function(e,t,o,n){void 0===n&&(n=!1);var r=o.updateModelMatrix(n);switch(o.shaderType){case l.ShaderType.PLAIN:var i=o.vao;i&&0!==i.length&&(t.uniforms.uModel=o._modelMatrix,i.bind(),e.drawArrays(e.TRIANGLES,0,i.length),i.unbind());break;case l.ShaderType.SPRITE:this.sprites.push(o);break;case l.ShaderType.TEXTURE_SOLID:this.texturedObjects.push(o);break;case l.ShaderType.TEXTURE_POROUS:}for(var a=0,s=o.children;a<s.length;a++){var c=s[a];this.renderObject(e,t,c,r)}},t.prototype.onRender=function(e,t,o,n,r){var i=this.gl,l=this,c=l.shader,u=l.shader2,h=e.viewMatrix,g=e.projectionMatrix;i.disable(i.BLEND),this.sprites.length=0,this.texturedObjects.length=0;var d=this.objectShader;d.bind(),d.attributes.attrib0.location=0,d.attributes.attrib1.location=1,d.attributes.attrib2.location=2,d.uniforms.uProjection=g,d.uniforms.uView=h,d.uniforms.uLightDirection=n;for(var f=0,p=o;f<p.length;f++){var y=p[f];this.renderObject(i,d,y)}if(this.sprites.length>0||this.effectManager.effects.length>0){this.spriteShader.bind(),this.spriteShader.uniforms.uProjection=g,this.spriteShader.uniforms.uView=h,this.texture&&(this.spriteShader.uniforms.tileMap=this.texture);for(var b=0,_=this.sprites;b<_.length;b++){var m=_[b];this.spriteShader.uniforms.uModel=m.modelMatrix,m.vao.bind(),i.drawArrays(i.TRIANGLES,0,m.vao.length),m.vao.unbind()}for(var v=0,E=this.effectManager.effects;v<E.length;v++){var k=E[v];k.object.updateModelMatrix(),this.spriteShader.uniforms.uModel=k.object.modelMatrix;var T=k.object.vao;T.bind(),i.drawArrays(i.TRIANGLES,0,T.length),T.unbind()}}if(!c)throw new Error("voxel-shader render() called before gl-init, shader="+this.shader);c.bind(),c.attributes.attrib0.location=0,c.attributes.attrib1.location=1,c.uniforms.projection=g,c.uniforms.view=h,c.uniforms.tileCount=this.stitcher.tileCount,this.texture&&(c.uniforms.tileMap=this.texture);for(var S=0,C=this.texturedObjects;S<C.length;S++){var y=C[S],B=y.vao;B&&0!==B.length&&(c.uniforms.model=y._modelMatrix,B.bind(),i.drawArrays(i.TRIANGLES,0,B.length),B.unbind())}for(var A=0,w=t;A<w.length;A++){var I=w[A],O=I.getVao(this.mesher),B=O.surface;B&&0!==B.length&&(c.uniforms.model=I.modelMatrix,B.bind(),i.drawArrays(i.TRIANGLES,0,B.length),B.unbind())}i.enable(i.BLEND),i.disable(i.CULL_FACE),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),u.bind(),u.attributes.position.location=0,u.attributes.uv.location=1,u.uniforms.projection=g,u.uniforms.view=h,this.texture&&(u.uniforms.texture=this.texture);for(var R=0,M=t;R<M.length;R++){var I=M[R],O=I.getVao(this.mesher),x=O.porous;x&&0!==x.length&&(u.uniforms.model=I.modelMatrix,x.bind(),x.draw(i.TRIANGLES,x.length),x.unbind())}i.enable(i.CULL_FACE),r&&(i.blendFunc(i.SRC_ALPHA,i.ONE),i.enable(i.POLYGON_OFFSET_FILL),i.polygonOffset(-2,2),a.add(this.boxPosition,r,this.boxOffset),s.fromTranslation(this.boxModelMatrix,this.boxPosition),this.box.bind(this.focusedShader),this.focusedShader.uniforms.uProjection=g,this.focusedShader.uniforms.uView=h,this.focusedShader.uniforms.uModel=this.boxModelMatrix,this.box.draw(),this.box.unbind(),i.disable(i.POLYGON_OFFSET_FILL))},t.prototype.createAOShader=function(){return i(this.gl,o(767),o(766))},t.prototype.createCustomModelShader=function(){return i(this.gl,o(769),o(768))},t.prototype.createObjectShader=function(){return i(this.gl,o(773),o(772))},t.prototype.createFocusedVoxelShader=function(){return i(this.gl,o(771),o(770))},t.prototype.createSpriteShader=function(){return i(this.gl,o(775),o(774))},t}(r.EventEmitter);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h},function(e,t,o){"use strict";var n=o(894);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default},function(e,t,o){"use strict";var n=o(123),r=o(121),i=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),a=function(){function e(e,t){this.gl=e,this.stitcher=t,this.registry={}}return e.prototype.register=function(e,t,o,a){void 0===a&&(a=1);for(var s=t[0]*t[1],l=new Float32Array(12*s),c=new Float32Array(12*s),u=0;u<s;++u){var h=o[u],g=this.stitcher.getTextureUV(h);if(!g)return null;var d=12*u;l[d+0]=g[6],l[d+1]=g[7],l[d+2]=g[4],l[d+3]=g[5],l[d+4]=g[0],l[d+5]=g[1],l[d+6]=g[0],l[d+7]=g[1],l[d+8]=g[4],l[d+9]=g[5],l[d+10]=g[2],l[d+11]=g[3]}for(var f=t[0]-1,p=t[1]-1,u=0;u<t[0];++u)for(var y=2*u-f,b=0;b<t[1];++b)for(var _=2*b-p,d=12*(u*t[1]+b),m=0;m<6;++m)c[d+2*m+0]=(i[2*m+0]+y)*a,c[d+2*m+1]=(i[2*m+1]+_)*a;var v=n(this.gl,[{buffer:r(this.gl,c),size:2},{buffer:r(this.gl,l),size:2}]);return v.length=c.length/2,this.registry[e]=v},e.prototype.get=function(e){return this.registry[e]},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(11),i=o(14),a=o(1053),s=(o(1104),o(399)),l=o(939),c=o(987),u=o(884),h=o(1102),g=o(909),d=function(e){function t(t,o,n,r){void 0===r&&(r={}),e.call(this),this.gl=t,this.registry=o,this.debug=void 0!==r.debug&&r.debug,this.verbose=void 0!==r.verbose&&r.verbose,this.atlasSize=void 0!==r.atlasSize?r.atlasSize:2048,this.tileSize=void 0!==r.tileSize?r.tileSize:16,this.tilePad=2,this.tileCount=this.atlasSize/this.tileSize/this.tilePad;var i=document.createElement("canvas");i.width=i.height=this.atlasSize,this.atlas=new h.Atlas(i),this.artpacks=n,this.artpacks.on("refresh",this.refresh.bind(this)),this.countLoading=0,this.countLoaded=0,this.countTextureID=r.countTextureID||65536,this.countVoxelID=r.countVoxelID||32768,this.extraTextures=[],this.voxelSideTextureIDs=a([this.countVoxelID,6]),this.voxelSideTextureSizes=a([this.countVoxelID,6]);var s=this.registry.getBlockPropsAll("texture").concat(this.extraTextures),c=[];this.sidesFor={};for(var u=0;u<s.length;u+=1)for(var g=l(s[u],"RTFLBK"),d=u+1,f=0;f<6;f+=1){var p=g[f];p&&(c.indexOf(p)===-1&&c.push(p),this.sidesFor[p]=this.sidesFor[p]||[],this.sidesFor[p].push([d,f]))}this.textureNamesSlots=[],this.countLoading=c.length;for(var y=0;y<c.length;y+=1)this._addTextureName(c[y])}return n(t,e),t.prototype.getTextureUV=function(e){var t=this.atlas.uv2(),o=t[e];if(o){o=o.slice();var n=this.tileSize/this.atlasSize;return o[2]-=n*(this.tilePad-1),o[4]-=n*(this.tilePad-1),o[5]-=n*(this.tilePad-1),o[7]-=n*(this.tilePad-1),o}},t.prototype.updateTextureSideID=function(){var e=this.atlas.uv2();for(var t in e){var o=e[t],n=o,r=new Float32Array(o.buffer,2*Float32Array.BYTES_PER_ELEMENT*2),i=this.atlasSize,a=this.atlasSize,s=n[0]*i,l=n[1]*a,c=r[0]*i,u=r[1]*a,h=c-s,g=u-l,d=l/(this.tileSize*this.tilePad),f=s/(this.tileSize*this.tilePad),p=d+this.tileCount*f;if(p>=this.countTextureID)throw new Error("voxel-stitch maximum texture ID exceeded in "+t+" at ("+f+","+d+"), try increasing countTextureID?");for(var y=0;y<(t in this.sidesFor?this.sidesFor[t].length:0);++y){var b=this.sidesFor[t][y],_=b[0],m=b[1];if(this.voxelSideTextureIDs.set(_,m,p),h!==g)throw new Error("voxel-stitch texture "+t+" non-square dimensions "+h+" != "+g);var v=Math.log(h/this.tilePad)/Math.log(2);if(0!==(v&v-1))throw new Error("voxel-stitch texture "+t+" non-power-of-two size "+h+", "+v);this.voxelSideTextureSizes.set(_,m,v),this.verbose&&console.log("texture",t,": block",_,this.registry.getBlockName(_),"side",m,"=",p," UV=("+s+","+l+")-("+c+","+u+") ("+h+"x"+g+") lgW="+v)}}var E=this;this.verbose&&console.log("updateTextureSideIDs complete, about to call createGLTexture"),this.emit("updatedSides"),this.createGLTexture(this.gl,function(e,t){if(e)throw new Error("stitcher createGLTexture error: "+e);E.emit("updateTexture",t)})},t.prototype.refresh=function(){},t.prototype.createGLTexture=function(e,t){var o=this.atlas,n=this.debug,r=this,a=o.canvas.getContext("2d"),l=this.atlasSize,u=a.getImageData(0,0,l,l),h=i(new Uint8Array(u.data),[l,l,4],[4,4*l,1],0),d=g.default(h,o);r.verbose&&console.log("pyramid=",d),n&&d.forEach(function(e,t){var o=new Image;o.src=s(e,"canvas").toDataURL(),o.style.border="1px dotted black",document.body.appendChild(document.createElement("br")),document.body.appendChild(o),document.body.appendChild(document.createTextNode(" level #"+t+" ("+o.width+"x"+o.height+")"))}),r.texture=c(e,d[0]),r.texture.generateMipmap();for(var f=1;f<d.length;++f)r.texture.setPixels(d[f],0,0,f);r.texture.magFilter=e.NEAREST,r.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,r.texture.mipSamples=4,t(null,r.texture)},t.prototype._addTextureName=function(e){var t=this;this.artpacks.getTextureImage(e,function(o){Array.isArray(o)&&(o=o[0]);var n=new Image;n.onload=function(){n.name=e;var o=t.atlas.pack(e,n);if(!o)throw new Error("voxel-stitch fatal error: texture sheet full! unable to fit "+e);t.emit("added"),t.countLoaded+=1,t.countLoaded%t.countLoading===0&&t.emit("addedAll")},n.src=u.repeat(o,t.tilePad,t.tilePad)},function(t){console.error("voxel-stitch _addTextureName error in getTextureImage for "+e+": "+t)})},t.prototype.addNonBlockTexture=function(e,t){var o=document.createElement("canvas");o.width=this.tilePad*t.width,
o.height=this.tilePad*t.height;var n=o.getContext("2d");n.fillStyle=n.createPattern(t,"repeat"),n.fillRect(0,0,o.width,o.height),this.atlas.pack(e,o)},t.prototype.preloadTexture=function(e){this.extraTextures.push(e)},t}(r.EventEmitter);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,o){"use strict";var n=o(897);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default},function(e,t,o){"use strict";function n(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function r(e){var t,o=e.split(":");return o.length>1&&(t=o[0],e=o[1]),void 0===t&&(t="*"),[t,e]}var i=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},a=o(11),s=(o(1031),o(294)),l=o(1046),c=o(343),u=o(399),h=o(1023),g=function(e){function t(t){e.call(this),this.packs=[],this.pending={},this.blobURLs={},this.shouldColorize={grass_top:!0,leaves_oak:!0},this.mimeTypes={textures:"image/png",sounds:"audio/ogg"};for(var o=0,n=t;o<n.length;o++){var r=n[o];this.addPack(r)}}return i(t,e),t.prototype.addPack=function(e,t){var o=e;this.packs.push(new d(o,t?t:"("+o.byteLength+" raw bytes)")),this.refresh(),this.emit("loadedRaw",o),this.emit("loadedAll")},t.prototype.swap=function(e,t){if(e!==t){var o=this.packs[e];this.packs[e]=this.packs[t],this.packs[t]=o,this.refresh()}},t.prototype.colorize=function(e,t,o){var n=this;c(e.src,function(r,i){if(r)return o(r,e);void 0===n.colorMap&&(n.colorMap=h.generateMap(120/360,.7)),h(i,n.colorMap);var a=new Image;a.src=u(i,"canvas").toDataURL(),a.onload=function(){return t(a)},a.onerror=function(e){return o(e,a)}})},t.prototype.getTextureNdarray=function(e,t,o){function n(e){Array.isArray(e)&&(e=e[0]),c(e.src,function(n,r){return n?o(n,e):void t(r)})}this.getTextureImage(e,n,o)},t.prototype.getTextureImage=function(e,t,o){var n=this,r=new Image,i=function(){var i=n.getTexture(e);return i?(r.src=i,r.onload=function(){if(n.shouldColorize[e])return n.colorize(r,t,o);if(r.height===r.width)t(r);else{var i=n.getMeta(e,"textures");c(r.src,function(e,n){if(e)return o(e,r);var a=l(n,i),s=[];a.forEach(function(e){var n=new Image;n.src=e.image,n.onerror=function(e){o(e,r,n)},n.onload=function(){s.push(n),s.length===a.length&&t(1===s.length?s[0]:s)}})})}},void(r.onerror=function(e){o(e,r)})):o("no such texture in artpacks: "+e,r)};this.isQuiescent()?i():this.on("loadedAll",i)},t.prototype.getTexture=function(e){return this.getURL(e,"textures")},t.prototype.getSound=function(e){return this.getURL(e,"sounds")},t.prototype.getURL=function(e,t){var o=this.blobURLs[t+" "+e];if(void 0!==o)return o;var n=this.getBlob(e,t);if(void 0!==n)return o=URL.createObjectURL(n),this.blobURLs[t+" "+e]=o,o},t.prototype.getBlob=function(e,t){var o=this.getArrayBuffer(e,t,!1);if(void 0!==o)return new Blob([o],{type:this.mimeTypes[t]})},t.prototype.getArrayBuffer=function(e,t,o){for(var n=0,r=this.packs.slice(0).reverse();n<r.length;n++){var i=r[n];if(i){var a=i.getArrayBuffer(e,t,o);if(void 0!==a)return a}}},t.prototype.getMeta=function(e,t){var o=this.getArrayBuffer(e,t,!0);if(void 0!==o){var r=n(o),i=decodeURIComponent(encodeURIComponent(r)),a=JSON.parse(i);return a}},t.prototype.refresh=function(){for(var e in this.blobURLs)URL.revokeObjectURL(e);this.blobURLs={},this.emit("refresh")},t.prototype.clear=function(){this.packs=[],this.refresh()},t.prototype.getLoadedPacks=function(){for(var e,t=[],o=0,n=this.packs.slice(0).reverse();o<n.length;o++)e=n[o],void 0!==e&&t.push(e);return t},t.prototype.isQuiescent=function(){return this.getLoadedPacks().length>0&&0===Object.keys(this.pending).length},t}(a.EventEmitter);t.ArtPacks=g;var d=function(){function e(e,t){this.name=t,this.zipEntries=e,this.namespaces=this.scanNamespaces()}return e.prototype.toString=function(){return this.name?this.name:"ArtPack"},e.prototype.scanNamespaces=function(){for(var e={},t=0,o=Object.keys(this.zipEntries);t<o.length;t++){var n=o[t],r=n.split(s.sep);r.length<2||"assets"===r[0]&&0!==r[1].length&&(e[r[1]]=!0)}return Object.keys(e)},e.prototype.nameToPath=function(e,t){if("textures"===e){var o=t.split("/"),n=void 0,i=void 0;o.length>1&&(n=o[0],i=o[1]),"i"===n&&(n="items"),void 0===n&&(n="blocks"),void 0===i&&(i=t);var a=r(i),s=a[0],l=a[1],c="assets/"+s+"/textures/"+n+"/"+l+".png";return c}if("sounds"===e){var a=r(t),s=a[0],l=a[1],c="assets/"+s+"/sounds/"+name+".ogg";return c}throw new Error("no such type: "+e+" of "+t)},e.prototype.getArrayBuffer=function(e,t,o){if(void 0===o&&(o=!1),"string"!=typeof e)throw console.log("invalid artpacks resource name (not a string) requested:",e,t),new Error("invalid artpacks resource name (not a string) requested: "+JSON.stringify(e)+" of "+t);var n=this.nameToPath(t,e);o&&(n+=".mcmeta");var r=[];if(n.indexOf("*")===-1)r.push(n);else for(var i=0,a=this.namespaces;i<a.length;i++){var s=a[i];r.push(n.replace("*",s))}for(var l=0,c=r;l<c.length;l++){var u=c[l],h=this.zipEntries[u];if(void 0!==h)return h}},e.prototype.getFixedPathArrayBuffer=function(e){return this.zipEntries[e]?this.zipEntries[e]:void 0},e.prototype.getPackLogo=function(){if(this.logoURL)return this.logoURL;var e=this.getFixedPathArrayBuffer("pack.png");if(void 0!==e){var t=new Blob([e],{type:"image/png"});this.logoURL=URL.createObjectURL(t)}else this.logoURL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAEUlEQVQYV2N48uTJfxBmgDEAg3wOrbpADeoAAAAASUVORK5CYII=";return this.logoURL},e.prototype.getPackJSON=function(){if(void 0!==this.json)return this.json;var e=this.getFixedPathArrayBuffer("pack.mcmeta");if(void 0===e)return{};var t=n(e);return this.json=JSON.parse(t),this.json},e.prototype.getDescription=function(){var e=this.getPackJSON();if(e){var t=e.pack;if(t){var o=t.description;return o}}return this.name},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new g(e)}},function(e,t,o){"use strict";var n=o(37),r=o(23),i=o(202),a=(n.create(),i.fromValues(0,1,0,0)),s=r.create(),l=i.create(),c=n.create(),u=function(){function e(e){this.parent=e,this.position=r.fromValues(0,.7,0),this.rotationX=0,this.modelMatrix=n.create(),this.modelMatrixNeedsUpdate=!0}return e.prototype.updateModelMatrix=function(){var e=this.parent.updateModelMatrixRecursively();(e||this.modelMatrixNeedsUpdate)&&(r.set(s,-this.position[0],this.position[1],-this.position[2]),i.rotateX(l,a,-this.rotationX),n.fromRotationTranslation(this.modelMatrix,l,s),r.inverse(s,this.parent.scale),n.scale(c,this.parent.modelMatrix,s),n.multiply(this.modelMatrix,c,this.modelMatrix),this.modelMatrixNeedsUpdate=!1)},e.prototype.view=function(e){return this.updateModelMatrix(),n.invert(e,this.modelMatrix),e},e.prototype.getCameraVector=function(e){return e[0]=this.modelMatrix[8],e[1]=this.modelMatrix[9],e[2]=this.modelMatrix[10],e},e.prototype.setRotationX=function(e){return this.rotationX=e,this.modelMatrixNeedsUpdate=!0,this},e.prototype.lookAt=function(e,t,o){console.log(e,t,o)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(900),i=o(37),a=o(117),s=[0,0,0],l=function(e){function t(t,o){void 0===o&&(o={});var n=45,i=.1,a=200;e.call(this,n,i,a),this.enableFlight=void 0===o.enableFlight||o.enableFlight,this.camera=new r.default(t)}return n(t,e),t.prototype.resizeViewport=function(e,t){i.perspective(this.projectionMatrix,this.fov*Math.PI/180,e/t,this.near,this.far)},t.prototype.update=function(){this.camera.view(this.viewMatrix)},t.prototype.getPosition=function(e){i.getTranslation(e,this.camera.modelMatrix)},t.prototype.getVector=function(e){this.camera.getCameraVector(s),e[0]=-s[0],e[1]=-s[1],e[2]=-s[2]},t}(a.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(37),i=o(23),a=o(119),s=(o(376),o(117)),l=i.fromValues(0,1,0),c=i.fromValues(7,10,7),u=i.create(),h=i.create(),g=function(e){function t(t,o){void 0===t&&(t=0),void 0===o&&(o=0);var n=45,r=.1,i=200;e.call(this,n,r,i),this.offsetRatioX=t,this.offsetRatioY=o}return n(t,e),t.prototype.resizeViewport=function(e,t){a.perspective(this.projectionMatrix,this.fov*Math.PI/180,this.near,this.far,e,t,this.offsetRatioX*e,this.offsetRatioY*t)},t.prototype.changeTarget=function(e){this.target=e,this.update(!0)},t.prototype.update=function(e){void 0===e&&(e=!1),(this.target.updateModelMatrixRecursively()||e)&&(r.getTranslation(u,this.target.modelMatrix),i.add(h,u,c),r.fromTranslation(this.viewMatrix,h),a.lookAt(this.viewMatrix,h,u,l),r.invert(this.viewMatrix,this.viewMatrix))},t}(s.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(23),i=o(333);!function(e){e[e.MOVE=0]="MOVE",e[e.JUMP=1]="JUMP"}(t.CommandType||(t.CommandType={}));var a,s=t.CommandType;!function(e){e[e.IDLE=0]="IDLE",e[e.WAITING=1]="WAITING",e[e.JUMPED=2]="JUMPED"}(a||(a={}));var l=function(e){function t(t,o){e.call(this,{},o),this.command=null,this.object=t,this.target(t.physics,t),e.prototype.tick.call(this,0)}return n(t,e),t.prototype.move=function(e){var t=this;return new Promise(function(o,n){t.command={type:s.MOVE,path:e,pathIndex:0,resolve:o,reject:n}})},t.prototype.jump=function(){var e=this;return new Promise(function(t,o){e.command={type:s.JUMP,state:a.IDLE,resolve:t,reject:o}})},t.prototype.stop=function(){this.command=null,this.state.forward=!1,this.state.jump=!1,e.prototype.tick.call(this,0)},t.prototype.tick=function(t){if(this.command){switch(this.command.type){case s.MOVE:this.tickMove(this.command);break;case s.JUMP:this.tickJump(this.command)}e.prototype.tick.call(this,t)}},t.prototype.tickMove=function(e){var t=e.path,o=e.pathIndex,n=t[o],i=r.squaredDistance(this.object.position,n);if(i<10){var a=o+1;if(!(a<t.length))return this.state.forward=!1,e.resolve(),void(this.command=null);e.pathIndex=a,n=t[a]}this.object.lookAt(n),this.state.forward=!0},t.prototype.tickJump=function(e){switch(e.state){case a.IDLE:this._target.atRestY()<0&&(this.state.jump=!0,e.state=a.WAITING);break;case a.WAITING:0===this._target.atRestY()&&(this.state.jump=!1,e.state=a.JUMPED);break;case a.JUMPED:this._target.atRestY()<0&&(e.resolve(),this.command=null)}},t}(i.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,o){"use strict";var n=o(903);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(8),i=function(e){function t(t){var o=this;if(e.call(this,Object.assign({objectMode:!0},t)),this.tick=function(){if(o.shell.pointerLock){var e=o.shell.prevMouseX-o.shell.mouseX,t=o.shell.prevMouseY-o.shell.mouseY,n=Date.now()-o.shell.startTime;o.push({dx:e,dy:t,dt:n})}},this.shell=t.shell,!this.shell)throw new Error("PointerStream requires shell option set to game-shell instance");this.enable()}return n(t,e),t.prototype.enable=function(){this.shell.on("tick",this.tick)},t.prototype.disable=function(){this.shell.removeListener("tick",this.tick)},t.prototype._read=function(){},t}(r.Readable);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";function o(){return{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.textAlign="center",e.style.background="#eee",e.style.color="#000",e.style.padding="1em",e.style.width="475px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/">here</a>.'].join("\n")),e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(197),i=16711680,a=65280,s=255,l=function(e){function t(){e.call(this,!1)}return n(t,e),t.prototype.build=function(e,t,o){this.palette=o;var n=this.createVao(e,t);return this.palette=null,n},t.prototype.getVertexData=function(e,t){var o=this.palette[t];e[0]=(o&i)>>16,e[1]=(o&a)>>8,e[2]=(o&s)>>0},t}(r.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,o){"use strict";function n(e,t,o){return o?o.get(e,t):e}function r(e,t,o){return o?o.get(e,t):4}var i=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},a=o(197),s=function(e){function t(){e.call(this,!1)}return i(t,e),t.prototype.build=function(e,t,o,n){this.voxelSideTextureIDs=o,this.voxelSideTextureSizes=n;var r=this.createVao(e,t);return this.voxelSideTextureIDs=null,this.voxelSideTextureSizes=null,r},t.prototype.getVertexData=function(e,t){var o=this.d+(this.flip?3:0),i=n(t,o,this.voxelSideTextureIDs),a=i>>8,s=255&i,l=r(t,o,this.voxelSideTextureSizes);e[0]=l,e[1]=a,e[2]=s},t}(a.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,o){"use strict";var n=o(14),r=o(1055),i=o(1065),a=function(e,t,o){var a=[],s=[],l=[],c=[],u=[],h=e.shape,g=h[0],d=h[1],f=h[2],p=e.data.constructor,y=t.uv2(),b=void 0,_=0;for(var m in y){var v=y[m],E=v,k=new Float32Array(v.buffer,2*Float32Array.BYTES_PER_ELEMENT*2),T=E[0]*g,S=E[1]*d,C=k[0]*g,B=k[1]*d,A=C-T,w=B-S;A>_?(_=A,b=s.length):w>_&&(_=w,b=s.length),s.push(T),l.push(S),c.push(A),u.push(w)}o=o||1/0;var I=g,O=d;do{var R=n(new p(I*O*f),[I,O,f]);if(0===a.length)for(var M=0,x=s.length;M<x;++M){var N=s[M],L=l[M],D=c[M],P=u[M];r.default(R.lo(N,L).hi(D,P),e.lo(N,L).hi(D,P)),s[M]>>>=1,l[M]>>>=1,c[M]>>>=1,u[M]>>>=1}else for(var F=a[a.length-1],M=0,x=s.length;M<x;++M){for(var N=s[M],L=l[M],D=c[M],P=u[M],U=0;U<f;U+=1){var H=R.pick(void 0,void 0,U),V=F.pick(void 0,void 0,U);i(H.lo(N,L).hi(D,P),V.lo(N<<1,L<<1).hi(D<<1,P<<1),0,255)}s[M]>>>=1,l[M]>>>=1,c[M]>>>=1,u[M]>>>=1}if(a.push(R),I>>>=1,O>>>=1,0===I||0===O)break;if(0===c[b]||0===u[b])break}while(a.length<o);return a};Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,o){"use strict";function n(e,t){return new s(e,t)}var r=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=o(11),a=o(1105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var s=function(e){function t(t,o){e.call(this),this.game=t,this.game&&(this.game.plugins=this),o=o||{},this.loaders=o.loaders||{},this.catchExceptions=!1,this.masterPluginName=o.masterPluginName||"voxel-engine",this.all={},this.savedOpts={},this.graph=a()}return r(t,e),t.prototype.wrapExceptions=function(e){var t;if(!this.catchExceptions)return t=e(),void 0===t||t;try{t=e()}catch(o){return console.log("caught exception:",o,"calling",e),console.trace(),!1}return void 0===t||t},t.prototype.scan=function(e){var t=this.loaders[e];return t},t.prototype.scanAndInstantiate=function(e,t){if(this.get(e))return console.log("plugin already instantiated: ",e),!1;t=t||{};var o=this.scan(e);if(o.pluginInfo&&o.pluginInfo.clientOnly&&!this.game.isClient)return console.log("Skipping client-only plugin ("+e+"), in non-client environment"),!1;if(this.game&&this.masterPluginName===e)return console.log("Skipping already-loaded master plugin: "+this.masterPluginName),!1;if(!o)return console.log("plugin not found: ",e),!1;var n=this;return this.wrapExceptions(function(){return n.instantiate(o,e,t)})||console.log("failed to instantiate ",e),!0},t.prototype.instantiate=function(e,t,o){var n;if(this.game||t!==this.masterPluginName){if(n=e(this.game,o),!n)return console.log("create plugin failed:",t,e,n),!1}else if(this.game=n=e(o),this.game.plugins=this,this.game.notCapable())throw window.document&&window.document.body.appendChild(this.game.notCapableMessage()),new Error("[voxel-plugins] fatal error: your system is not capable of running voxel-engine (game.notCapable)");return n.pluginName=t,this.emit("new plugin",t),n.pluginEnabled=!0,this.emit("plugin enabled",t),this.all[t]=n,console.log("Instantiated plugin:",t),n},t.prototype.preconfigure=function(e,t){this.savedOpts[e]=t,this.get(e)||this.emit("new plugin",e)},t.prototype.add=function(e,t){if(!t&&!this.savedOpts[e])throw new Error("voxel-plugins preload("+e+"): missing required options and not preconfigured");if(t.onDemand)return this.preconfigure(e,t);var o=this.scan(e);return!!o&&(this.buildGraph(o,e),void this.preconfigure(e,t))},t.prototype.buildGraph=function(e,t){var o=[];e.pluginInfo&&(o=e.pluginInfo.loadAfter,o||(o=[])),t!==this.masterPluginName&&o.unshift(this.masterPluginName);for(var n=0;n<o.length;++n)this.graph.add(o[n],t)},t.prototype.loadAll=function(){var e=this.graph.sort();console.log("sortedPluginNames:"+JSON.stringify(e));for(var t=0;t<e.length;++t){var o=e[t];this.isEnabled(o)||this.enable(o)}},t.prototype.get=function(e){return"string"==typeof e?this.all[e]:e},t.prototype.isEnabled=function(e){var t=this.get(e);return!(!t||!t.pluginEnabled)},t.prototype.isLoaded=function(e){var t=this.get(e);return!!(t&&t.pluginName&&this.all[t.pluginName])},t.prototype.list=function(){return this.listAll().filter(this.isEnabled.bind(this))},t.prototype.listAll=function(){var e=Object.keys(this.all),t=Object.keys(this.savedOpts).filter(function(t){return e.indexOf(t)==-1});return e.concat(t)},t.prototype.enable=function(e){var t=this.get(e);return t?t.pluginEnabled?(console.log("already enabled: ",t,e),!1):t.enable&&!this.wrapExceptions(function(){t.enable()})?(console.log("failed to enable:",t,e),!1):(t.pluginEnabled=!0,this.emit("plugin enabled",e),!0):this.savedOpts[e]?this.scanAndInstantiate(e,this.savedOpts[e]):(e!==this.masterPluginName&&console.log("no such plugin loaded to enable: ",t,e),!1)},t.prototype.disable=function(e){console.log("disabling plugin ",e);var t=this.get(e);return t?this.isEnabled(t)?t.disable&&!this.wrapExceptions(function(){t.disable()})?(console.log("failed to disable:",t,e),!1):(t.pluginEnabled=!1,this.emit("plugin disabled",e),!0):(console.log("already disabled: ",t,e),!1):(console.log("no such plugin loaded to disable: ",t,e),!1)},t.prototype.toggle=function(e){return this.isEnabled(e)?this.disable(e):this.enable(e)},t.prototype.destroy=function(e){var t=this.get(e);return t?this.all[t.pluginName]?(this.isEnabled(t)&&this.disable(t),delete this.all[t.pluginName],console.log("destroyed  ",t),!0):(console.log("no such plugin to destroy: ",t),!1):(console.log("no plugin",t,e),!1)},t}(i.EventEmitter);t.Plugins=s},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(11),i=function(e){function t(t){if(e.call(this),this.distance=t.chunkDistance||2,this.chunkSize=t.chunkSize||32,this.cubeSize=t.cubeSize||25,this.generateVoxelChunk=t.generateVoxelChunk,this.chunks={},this.meshes={},0!==(this.chunkSize&this.chunkSize-1))throw new Error("chunkSize must be a power of 2");for(var o=0,n=this.chunkSize;n>0;n>>=1)o++;this.chunkBits=o-1,this.chunkMask=(1<<this.chunkBits)-1}return n(t,e),t.prototype.nearbyChunks=function(e,t){for(var o=this.chunkAtPosition(e),n=o[0],r=o[1],i=o[2],a=t||this.distance,s=[],l=n-a;l!==n+a;++l)for(var c=r-a;c!==r+a;++c)for(var u=i-a;u!==i+a;++u)s.push([l,c,u]);return s},t.prototype.requestMissingChunks=function(e){var t=this;this.nearbyChunks(e).map(function(e){t.chunks[e.join("|")]||t.emit("missingChunk",e)})},t.prototype.getBounds=function(e,t,o){var n=this.chunkBits,r=[e<<n,t<<n,o<<n],i=[e+1<<n,t+1<<n,o+1<<n];return[r,i]},t.prototype.generateChunk=function(e,t,o){var n=this.getBounds(e,t,o),r=this.generateVoxelChunk(n[0],n[1],e,t,o),i=[e,t,o];return r.position=i,this.chunks[i.join("|")]=r,r},t.prototype.chunkAtCoordinates=function(e,t,o){var n=this.chunkBits,r=e>>n,i=t>>n,a=o>>n,s=[r,i,a];return s},t.prototype.chunkAtPosition=function(e){var t=this.chunkSize,o=Math.floor(e[0]/t),n=Math.floor(e[1]/t),r=Math.floor(e[2]/t);return[o,n,r]},t.prototype.getChunkPosition=function(e,t,o){return this.chunkAtCoordinates(Math.floor(e/this.cubeSize),Math.floor(t/this.cubeSize),Math.floor(o/this.cubeSize))},t.prototype.voxelIndexFromCoordinates=function(e,t,o){throw new Error("Chunker.prototype.voxelIndexFromCoordinates removed, use voxelAtCoordinates")},t.prototype.voxelAtPosition=function(e,t){var o=this.cubeSize,n=Math.floor(e[0]/o),r=Math.floor(e[1]/o),i=Math.floor(e[2]/o),a=this.voxelAtCoordinates(n,r,i,t);return a},t.prototype.getVoxel=function(e,t,o){return this.voxelAtCoordinates(e,t,o)},t.prototype.setVoxel=function(e,t,o,n){return this.voxelAtCoordinates(e,t,o,n)},t.prototype.voxelAtCoordinates=function(e,t,o,n){var r=this.chunkAtCoordinates(e,t,o).join("|"),i=this.chunks[r];if(!i)return 0;var a=this.chunkMask,s=e&a,l=t&a,c=o&a,u=i.get(s,l,c);return"undefined"!=typeof n&&i.set(s,l,c,n),u},t}(r.EventEmitter);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,o){"use strict";function n(e,t,o){e[0]--,e[1]--,e[2]--,t[0]++,t[1]++,t[2]++;for(var n=[t[2]-e[2],t[1]-e[1],t[0]-e[0]],r=i(new Uint16Array(n[2]*n[1]*n[0]),n),a=e[2];a<t[2];a++)for(var s=e[1];s<t[1];s++)for(var l=e[0];l<t[0];l++)r.set(a-e[2],s-e[1],l-e[0],o(l,s,a));return r}var r=o(911);t.Chunker=r.default;var i=o(14);t.generator={Valley:function(e,t,o){return t<=31*(e*e+o*o)/2048+1?32769:0}},t.generate=n},function(e,t,o){"use strict";var n=o(14),r=o(917),i=o(361),a=function(){function e(e){void 0===e&&(e={}),this.z=0,this.u=0,this.v=0,this.d=0,this.meshSlice=i({order:[1,0],append:this.append.bind(this)});var t=e.margin||0;this.padSize=2+t,this.unpadSize=e.openEnd?2:1,this.planarOffset=2-this.unpadSize}return e.prototype.pad=function(e){var t=[e.shape[0]+this.padSize,e.shape[1]+this.padSize,e.shape[2]+this.padSize],o=n(new Int32Array(t[0]*t[1]*t[2]),t),i=o.lo(1,1,1).hi(e.shape[0],e.shape[1],e.shape[2]);return r.default(i,e),o.hi(e.shape[0]+2,e.shape[1]+2,e.shape[2]+2)},e.prototype.unpad=function(e){return e.hi(e.shape[0]-this.unpadSize,e.shape[1]-this.unpadSize,e.shape[2]-this.unpadSize)},e.prototype.computeSurface=function(e,t){var o=(e+1)%3,n=(e+2)%3,r=t.transpose(e,o,n).hi(t.shape[e],t.shape[o]-this.planarOffset,t.shape[n]-this.planarOffset),i=r.pick(0),a=r.shape[0];this.d=e,this.u=n,this.v=o;for(var s=0;s<a;++s)this.z=s,this.meshSlice(i),i.offset+=r.stride[0]},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},[1175,56],[1176,914],728,function(e,t,o){"use strict";var n=(o(335),o(918));Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"})},function(e,t,o){"use strict";function n(e){if(!e)return s.default;for(var t=0;t<e.args.length;++t){var o=e.args[t];0===t?e.args[t]={name:o,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[t]={name:o,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function r(e){return a({args:e.args,pre:n(e.pre),body:n(e.body),post:n(e.proc),funcName:e.funcName})}function i(e){for(var t=[],o=0;o<e.args.length;++o)t.push("a"+o);var n=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return n(r(e))}var a=o(335),s=o(916);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},[1155,1069],[1156,921],413,415,function(e,t){"use strict";function o(e,t,o,n,r,i){var a=["function ",e,"(a,l,h,",n.join(","),"){",i?"":"var i=",o?"l-1":"h+1",";while(l<=h){\tvar m=(l+h)>>>1,x=a",r?".get(m)":"[m]"];return i?t.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",t,"){i=m;"),o?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),i?a.push("return -1};"):a.push("return i};"),a.join("")}function n(e,t,n,r){var i=new Function([o("A","x"+e+"y",t,["y"],!1,r),o("B","x"+e+"y",t,["y"],!0,r),o("P","c(x,y)"+e+"0",t,["y","c"],!1,r),o("Q","c(x,y)"+e+"0",t,["y","c"],!0,r),"function dispatchBsearch",n,"(a,y,c,l,h){\tif(a.shape){\tif(typeof(c)==='function'){\treturn Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)\t}else{\treturn B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)\t}}else{\tif(typeof(c)==='function'){\treturn P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)\t}else{\treturn A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)\t}}}\treturn dispatchBsearch",n].join(""));return i()}e.exports={ge:n(">=",!1,"GE"),gt:n(">",!1,"GT"),lt:n("<",!0,"LT"),le:n("<=",!0,"LE"),eq:n("-",!0,"EQ",!0)}},function(e,t,o){(function(t){"use strict";function n(e,t){return this instanceof n?(r.call(this,t),null!==e&&void 0!==e||(e=String(e)),void(this._obj=e)):new n(e,t)}var r=o(1093).Readable,i=o(13);e.exports=n,i.inherits(n,r),n.prototype._read=function(e){var o=this._obj;"string"==typeof o?this.push(new t(o)):t.isBuffer(o)?this.push(o):this.push(new t(JSON.stringify(o))),this.push(null)}}).call(t,o(1).Buffer)},[1170,938,337],495,[1157,200],128,[1161,120,337,338,930],[1162,934,935,199],[1163,120],[1171,199,340,339],550,[1164,927,932,937,199],84,[1172,338,933,931,339,120,928],[1165,200],[1173,929,936],function(e,t){"use strict";var o=function(e,t){var o=new Array(6);if(t=t||"RTFLBK",6!==t.length)throw new Error("expandName invalid order length: "+t);var n=t.indexOf("K"),r=t.indexOf("F"),i=t.indexOf("T"),a=t.indexOf("B"),s=t.indexOf("L"),l=t.indexOf("R");if(n<0||r<0||i<0||a<0||s<0||l<0)throw new Error("expandName invalid order: "+t);if(e&&0!==e.length)if(e.top)o[n]=e.back,o[r]=e.front,o[i]=e.top,o[a]=e.bottom,o[s]=e.left,o[l]=e.right;else if(Array.isArray(e))if(1===e.length)o[n]=o[r]=o[i]=o[a]=o[s]=o[l]=e[0];else if(2===e.length)o[n]=o[r]=o[s]=o[l]=e[1],o[i]=o[a]=e[0];else if(3===e.length)o[n]=o[r]=o[s]=o[l]=e[2],o[i]=e[0],o[a]=e[1];else if(4===e.length)o[n]=o[r]=e[2],o[i]=e[0],o[a]=e[1],o[s]=o[l]=e[3];else{if(5!==e.length)throw 6===e.length?new Error("expandName("+e+"): 6-element array support removed, use objects instead ({back:, front:, top:, bottom:, left:, right:...})"):new Error("expandName("+e+"): invalid side count array length "+e.length);o[n]=e[3],o[r]=e[2],o[i]=e[0],o[a]=e[1],o[s]=o[l]=e[4]}else o[n]=o[r]=o[i]=o[a]=o[s]=o[l]=e;else o[n]=o[r]=o[i]=o[a]=o[s]=o[l]=void 0;return o};e.exports=o},function(e,t,o){"use strict";function n(e,t,o){var n,r,i=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],c=[],u=0,h=0;for(n=0;n<i;++n)c.push(["i",n,"=0"].join(""));for(r=0;r<a;++r)for(n=0;n<i;++n)h=u,u=e[n],0===n?c.push(["d",r,"s",n,"=t",r,"p",u].join("")):c.push(["d",r,"s",n,"=(t",r,"p",u,"-s",h,"*t",r,"p",h,")"].join(""));for(l.push("var "+c.join(",")),n=i-1;n>=0;--n)u=e[n],l.push(["for(i",n,"=0;i",n,"<s",u,";++i",n,"){"].join(""));for(l.push(o),n=0;n<i;++n){for(h=u,u=e[n],r=0;r<a;++r)l.push(["p",r,"+=d",r,"s",n].join(""));s&&(n>0&&l.push(["index[",h,"]-=s",h].join("")),l.push(["++index[",u,"]"].join(""))),l.push("}")}return l.join("\n")}function r(e,t,o,r){for(var i=t.length,a=o.arrayArgs.length,s=o.blockSize,l=o.indexArgs.length>0,c=[],u=0;u<a;++u)c.push(["var offset",u,"=p",u].join(""));for(var u=e;u<i;++u)c.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),c.push(["if(j",u,"<",s,"){"].join("")),c.push(["s",t[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",t[u],"=",s].join("")),c.push(["j",u,"-=",s,"}"].join("")),l&&c.push(["index[",t[u],"]=j",u].join(""));for(var u=0;u<a;++u){for(var h=["offset"+u],g=e;g<i;++g)h.push(["j",g,"*t",u,"p",t[g]].join(""));c.push(["p",u,"=(",h.join("+"),")"].join(""))}c.push(n(t,o,r));for(var u=e;u<i;++u)c.push("}");return c.join("\n")}function i(e){for(var t=0,o=e[0].length;t<o;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function a(e,t,o){for(var n=e.body,r=[],i=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),c="",u=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var h=t.offsetArgIndex.indexOf(a),g=t.offsetArgs[h];u=g.array,c="+q"+h;case"array":c="p"+u+c;var d="l"+a,f="a"+u;if(0===t.arrayBlockIndices[u])1===s.count?"generic"===o[u]?s.lvalue?(r.push(["var ",d,"=",f,".get(",c,")"].join("")),n=n.replace(l,d),i.push([f,".set(",c,",",d,")"].join(""))):n=n.replace(l,[f,".get(",c,")"].join("")):n=n.replace(l,[f,"[",c,"]"].join("")):"generic"===o[u]?(r.push(["var ",d,"=",f,".get(",c,")"].join("")),n=n.replace(l,d),s.lvalue&&i.push([f,".set(",c,",",d,")"].join(""))):(r.push(["var ",d,"=",f,"[",c,"]"].join("")),n=n.replace(l,d),s.lvalue&&i.push([f,"[",c,"]=",d].join("")));else{for(var p=[s.name],y=[c],b=0;b<Math.abs(t.arrayBlockIndices[u]);b++)p.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(b+1)+"*t"+u+"b"+b);if(l=new RegExp(p.join(""),"g"),c=y.join("+"),"generic"===o[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(l,[f,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":n=n.replace(l,"index");break;case"shape":n=n.replace(l,"shape")}}}return[r.join("\n"),n,i.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),o=!0,n=0;n<e.length;++n){var r=e[n],i=r.match(/\d+/);i=i?i[0]:"",0===r.charAt(0)?t[n]="u"+r.charAt(1)+i:t[n]=r.charAt(0)+i,n>0&&(o=o&&t[n]===t[n-1])}return o?t[0]:t.join("")}function l(e,t){for(var o=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,l=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),h=0;h<e.arrayArgs.length;++h)u[h]=t[2*h],l[h]=t[2*h+1];for(var g=[],d=[],f=[],p=[],y=[],h=0;h<e.arrayArgs.length;++h){e.arrayBlockIndices[h]<0?(f.push(0),p.push(o),g.push(o),d.push(o+e.arrayBlockIndices[h])):(f.push(e.arrayBlockIndices[h]),p.push(e.arrayBlockIndices[h]+o),g.push(0),d.push(e.arrayBlockIndices[h]));for(var b=[],_=0;_<l[h].length;_++)f[h]<=l[h][_]&&l[h][_]<p[h]&&b.push(l[h][_]-f[h]);y.push(b)}for(var m=["SS"],v=["'use strict'"],E=[],_=0;_<o;++_)E.push(["s",_,"=SS[",_,"]"].join(""));for(var h=0;h<e.arrayArgs.length;++h){m.push("a"+h),m.push("t"+h),m.push("p"+h);for(var _=0;_<o;++_)E.push(["t",h,"p",_,"=t",h,"[",f[h]+_,"]"].join(""));for(var _=0;_<Math.abs(e.arrayBlockIndices[h]);++_)E.push(["t",h,"b",_,"=t",h,"[",g[h]+_,"]"].join(""))}for(var h=0;h<e.scalarArgs.length;++h)m.push("Y"+h);if(e.shapeArgs.length>0&&E.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var k=new Array(o),h=0;h<o;++h)k[h]="0";E.push(["index=[",k.join(","),"]"].join(""))}for(var h=0;h<e.offsetArgs.length;++h){for(var T=e.offsetArgs[h],S=[],_=0;_<T.offset.length;++_)0!==T.offset[_]&&(1===T.offset[_]?S.push(["t",T.array,"p",_].join("")):S.push([T.offset[_],"*t",T.array,"p",_].join("")));
0===S.length?E.push("q"+h+"=0"):E.push(["q",h,"=",S.join("+")].join(""))}var C=c([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));E=E.concat(C),v.push("var "+E.join(","));for(var h=0;h<e.arrayArgs.length;++h)v.push("p"+h+"|=0");e.pre.body.length>3&&v.push(a(e.pre,e,u));var B=a(e.body,e,u),A=i(y);A<o?v.push(r(A,y[0],e,B)):v.push(n(y[0],e,B)),e.post.body.length>3&&v.push(a(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+v.join("\n")+"\n----------");var w=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",A,s(u)].join(""),I=new Function(["function ",w,"(",m.join(","),"){",v.join("\n"),"} return ",w].join(""));return I()}var c=o(56);e.exports=l},function(e,t,o){"use strict";function n(e){var t=["'use strict'","var CACHED={}"],o=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[l]),e.arrayBlockIndices[l]<0?","+e.arrayBlockIndices[l]+")":")"].join("")],l=0;l<e.arrayArgs.length;++l){var c=e.arrayArgs[l];o.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),i.push("t"+c),i.push("r"+c),a.push("t"+c),a.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0")}for(var l=0;l<e.scalarArgs.length;++l)s.push("scalar"+e.scalarArgs[l]);o.push(["type=[",a.join(","),"].join()"].join("")),o.push("proc=CACHED[type]"),t.push("var "+o.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------");var u=new Function("compile",t.join("\n"));return u(r.bind(void 0,e))}var r=o(940);e.exports=n},[1177,949,56],[1174,945],[1175,56],[1176,944],function(e,t,o){(function(t){function o(e){if(!/^data\:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");var o=e.indexOf(",");if(-1===o||o<=4)throw new TypeError("malformed data: URI");for(var n=e.substring(5,o).split(";"),r=!1,i="US-ASCII",a=0;a<n.length;a++)"base64"==n[a]?r=!0:0==n[a].indexOf("charset=")&&(i=n[a].substring(8));var s=unescape(e.substring(o+1)),l=r?"base64":"ascii",c=new t(s,l);return c.type=n[0]||"text/plain",c.charset=i,c}e.exports=o}).call(t,o(1).Buffer)},function(e,t,o){!function(t,o){e.exports=o()}("domready",function(){var e,t=[],o=document,n=o.documentElement.doScroll,r="DOMContentLoaded",i=(n?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);return i||o.addEventListener(r,e=function(){for(o.removeEventListener(r,e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})},560,561,function(e,t){"use strict";var o=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},i=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return"undefined"==typeof i||o.call(e,i)};e.exports=function e(){var t,o,n,a,s,l,c=arguments[0],u=1,h=arguments.length,g=!1;for("boolean"==typeof c?(g=c,c=arguments[1]||{},u=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});u<h;++u)if(t=arguments[u],null!=t)for(o in t)n=c[o],a=t[o],c!==a&&(g&&a&&(i(a)||(s=r(a)))?(s?(s=!1,l=n&&r(n)?n:[]):l=n&&i(n)?n:{},c[o]=e(g,l,a)):"undefined"!=typeof a&&(c[o]=a));return c}},function(e,t){"use strict";function o(e,t,o,n,r,i,a,s,l,c){for(var u=0,h=Math.floor,g=0|h(t),d=0|h(o),f=0|h(n),p=r>0?1:-1,y=i>0?1:-1,b=a>0?1:-1,_=Math.abs(1/r),m=Math.abs(1/i),v=Math.abs(1/a),E=p>0?g+1-t:t-g,k=y>0?d+1-o:o-d,T=b>0?f+1-n:n-f,S=_<1/0?_*E:1/0,C=m<1/0?m*k:1/0,B=v<1/0?v*T:1/0,A=-1;u<=s;){var w=e(g,d,f);if(w)return l&&(l[0]=t+u*r,l[1]=o+u*i,l[2]=n+u*a),c&&(c[0]=c[1]=c[2]=0,0===A&&(c[0]=-p),1===A&&(c[1]=-y),2===A&&(c[2]=-b)),w;S<C?S<B?(g+=p,u=S,S+=_,A=0):(f+=b,u=B,B+=v,A=2):C<B?(d+=y,u=C,C+=m,A=1):(f+=b,u=B,B+=v,A=2)}return l&&(l[0]=t+u*r,l[1]=o+u*i,l[2]=n+u*a),c&&(c[0]=c[1]=c[2]=0),0}function n(e,t,n,r,i,a){var s=+t[0],l=+t[1],c=+t[2],u=+n[0],h=+n[1],g=+n[2],d=Math.sqrt(u*u+h*h+g*g);if(0===d)throw new Error("Can't raycast along a zero vector");return u/=d,h/=d,g/=d,r="undefined"==typeof r?64:+r,o(e,s,l,c,u,h,g,r,i,a)}e.exports=n},function(e,t){"object"==typeof window.performance?window.performance.now?e.exports=function(){return window.performance.now()}:window.performance.webkitNow&&(e.exports=function(){return window.performance.webkitNow()}):Date.now?e.exports=Date.now:e.exports=function(){return(new Date).getTime()}},function(e,t){function o(e,t,o,a){e[n](i+t,"wheel"==r?o:function(e){!e&&(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==r?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,o(t)},a||!1)}var n,r,i="";window.addEventListener?n="addEventListener":(n="attachEvent",i="on"),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.exports=function(e,t,n){o(e,r,t,n),"DOMMouseScroll"==r&&o(e,"MozMousePixelScroll",t,n)}},function(e,t){for(var o=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-o)),i=window.setTimeout(function(){e(n+r)},r);return o=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})},function(e,t,o){"use strict";function n(e){return D.eq(j,e)}function r(e){return n(V[e])}function i(){O.call(this),this._curKeyState=new Array(j.length),this._pressCount=new Array(j.length),this._releaseCount=new Array(j.length),this._tickInterval=null,this._rafHandle=null,this._tickRate=0,this._lastTick=H(),this._frameTime=0,this._paused=!0,this._width=0,this._height=0,this._wantFullscreen=!1,this._wantPointerLock=!1,this._fullscreenActive=!1,this._pointerLockActive=!1,this._render=d.bind(void 0,this),this.preventDefaults=!0,this.stopPropagation=!1;for(var e=0;e<j.length;++e)this._curKeyState[e]=!1,this._pressCount[e]=this._releaseCount[e]=0;this.element=null,this.bindings={},this.frameSkip=100,this.tickCount=0,this.frameCount=0,this.startTime=H(),this.tickTime=this._tickRate,this.frameTime=10,this.stickyFullscreen=!1,this.stickyPointerLock=!1,this.scroll=[0,0,0],this.mouseX=0,this.mouseY=0,this.prevMouseX=0,this.prevMouseY=0}function a(e,t,o){if(o in t){for(var r=t[o],i=0,a=r.length;i<a;++i)if(e[n(r[i])])return!0;return!1}var s=n(o);return s>=0&&e[s]}function s(e,t,o){if(o in t){for(var r=t[o],i=0,a=0,s=r.length;a<s;++a)i+=e[n(r[a])];return i}var l=n(o);return l>=0?e[l]:0}function l(e){var t=e.element;if(e._wantFullscreen&&!e._fullscreenActive){var o=t.requestFullscreen||t.requestFullScreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullscreen||t.mozRequestFullScreen||function(){};o.call(t)}if(e._wantPointerLock&&!e._pointerLockActive){var n=t.requestPointerLock||t.webkitRequestPointerLock||t.mozRequestPointerLock||t.msRequestPointerLock||t.oRequestPointerLock||function(){};n.call(t)}}function c(e){e._fullscreenActive=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1,!e.stickyFullscreen&&e._fullscreenActive&&(e._wantFullscreen=!1)}function u(e,t){e._pointerLockActive=e.element===(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||null),!e.stickyPointerLock&&e._pointerLockActive&&(e._wantPointerLock=!1)}function h(e,t,o){var n=e._curKeyState[t];n!==o&&(o?e._pressCount[t]++:e._releaseCount[t]++,e._curKeyState[t]=o)}function g(e){for(var t,o,n,r=H()+e.frameSkip,i=e._pressCount,a=e._releaseCount,s=e._tickRate,l=j.length;!e._paused&&H()>=e._lastTick+s;){if(H()>r)return void(e._lastTick=H()+s);for(o=H(),e.emit("tick"),n=H(),e.tickTime=n-o,++e.tickCount,e._lastTick+=s,t=0;t<l;++t)i[t]=a[t]=0;e._pointerLockActive?(e.prevMouseX=e.mouseX=e.width>>1,e.prevMouseY=e.mouseY=e.height>>1):(e.prevMouseX=e.mouseX,e.prevMouseY=e.mouseY),e.scroll[0]=e.scroll[1]=e.scroll[2]=0}}function d(e){e._rafHandle=requestAnimationFrame(e._render),g(e);var t;t=e._paused?e._frameTime:F(1,(H()-e._lastTick)/e._tickRate),++e.frameCount;var o=H();e.emit("render",t);var n=H();e.frameTime=n-o}function f(e){return document.activeElement===document.body||document.activeElement===e.element}function p(e,t){e.preventDefaults&&t.preventDefault(),e.stopPropagation&&t.stopPropagation()}function y(e,t){p(e,t);var o=r(t.keyCode||t.char||t.which||t.charCode);o>=0&&h(e,o,!1)}function b(e,t){if(f(e))if(p(e,t),t.metaKey)B(e,t);else{var o=r(t.keyCode||t.char||t.which||t.charCode);o>=0&&h(e,o,!0)}}function _(e,t){for(var o=0;o<32;++o)h(e,K[o],!!(t&1<<o))}function m(e,t){if(p(e,t),e._pointerLockActive){var o=t.movementX||t.mozMovementX||t.webkitMovementX||0,n=t.movementY||t.mozMovementY||t.webkitMovementY||0;e.mouseX+=o,e.mouseY+=n}else e.mouseX=t.clientX-e.element.offsetLeft,e.mouseY=t.clientY-e.element.offsetTop;return!1}function v(e,t){return p(e,t),h(e,K[t.button],!0),!1}function E(e,t){return p(e,t),h(e,K[t.button],!1),!1}function k(e,t){return p(e,t),e._pointerLockActive?(e.prevMouseX=e.mouseX=e.width>>1,e.prevMouseY=e.mouseY=e.height>>1):(e.prevMouseX=e.mouseX=t.clientX-e.element.offsetLeft,e.prevMouseY=e.mouseY=t.clientY-e.element.offsetTop),!1}function T(e,t){return p(e,t),_(e,0),!1}function S(e,t){p(e,t);var o=1;switch(t.deltaMode){case 0:o=1;break;case 1:o=12;break;case 2:o=e.height}return e.scroll[0]+=t.deltaX*o,e.scroll[1]+=t.deltaY*o,e.scroll[2]+=t.deltaZ*o||0,!1}function C(e,t){return p(e,t),!1}function B(e,t){var o,n=j.length,r=e._curKeyState,i=e._releaseCount;for(o=0;o<n;++o)r[o]&&++i[o],r[o]=!1;return!1}function A(e,t){var o=0|e.element.clientWidth,n=0|e.element.clientHeight;o===e._width&&n===e._height||(e._width=o,e._height=n,e.emit("resize",o,n))}function w(){var e=document.createElement("div");return e.tabindex=1,e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.style.height="100%",e.style.overflow="hidden",document.body.appendChild(e),document.body.style.overflow="hidden",document.body.style.height="100%",e}function I(e){e=e||{};var t=!!e.fullscreen,o=t;void 0!==typeof e.pointerLock&&(o=!!e.pointerLock);var n=new i;return n._tickRate=e.tickRate||30,n.frameSkip=e.frameSkip||5*(n._tickRate+5),n.stickyFullscreen=!!e.stickyFullscreen||!!e.sticky,n.stickyPointerLock=!!e.stickyPointerLock||!!e.sticky,e.bindings&&(n.bindings=e.bindings),setTimeout(function(){M(function(){var r=e.element;if("string"==typeof r){var i=document.querySelector(r);i||(i=document.getElementById(r)),i||(i=document.getElementByClass(r)[0]),i||(i=w()),n.element=i}else"object"==typeof r&&r?n.element=r:"function"==typeof r?n.element=r():n.element=w();n.element.style&&(n.element.style["-webkit-touch-callout"]="none",n.element.style["-webkit-user-select"]="none",n.element.style["-khtml-user-select"]="none",n.element.style["-moz-user-select"]="none",n.element.style["-ms-user-select"]="none",n.element.style["user-select"]="none"),n._width=n.element.clientWidth,n._height=n.element.clientHeight;var a=A.bind(void 0,n);if("undefined"!=typeof MutationObserver){var s=new MutationObserver(a);s.observe(n.element,{attributes:!0,subtree:!0})}else n.element.addEventListener("DOMSubtreeModified",a,!1);window.addEventListener("resize",a,!1),window.addEventListener("keydown",b.bind(void 0,n),!1),window.addEventListener("keyup",y.bind(void 0,n),!1),n.element.oncontextmenu=C.bind(void 0,n),n.element.addEventListener("mousedown",v.bind(void 0,n),!1),n.element.addEventListener("mouseup",E.bind(void 0,n),!1),n.element.addEventListener("mousemove",m.bind(void 0,n),!1),n.element.addEventListener("mouseenter",k.bind(void 0,n),!1);var h=T.bind(void 0,n);n.element.addEventListener("mouseleave",h,!1),n.element.addEventListener("mouseout",h,!1),window.addEventListener("mouseleave",h,!1),window.addEventListener("mouseout",h,!1);var g=B.bind(void 0,n);n.element.addEventListener("blur",g,!1),n.element.addEventListener("focusout",g,!1),n.element.addEventListener("focus",g,!1),window.addEventListener("blur",g,!1),window.addEventListener("focusout",g,!1),window.addEventListener("focus",g,!1),U(n.element,S.bind(void 0,n),!1);var d=c.bind(void 0,n);document.addEventListener("fullscreenchange",d,!1),document.addEventListener("mozfullscreenchange",d,!1),document.addEventListener("webkitfullscreenchange",d,!1),n.element.addEventListener("click",l.bind(void 0,n),!1);var f=u.bind(void 0,n);document.addEventListener("pointerlockchange",f,!1),document.addEventListener("mozpointerlockchange",f,!1),document.addEventListener("webkitpointerlockchange",f,!1),document.addEventListener("pointerlocklost",f,!1),document.addEventListener("webkitpointerlocklost",f,!1),document.addEventListener("mozpointerlocklost",f,!1),n.fullscreen=t,n.pointerLock=o,n.bind("mouse-left","mouse-1"),n.bind("mouse-right","mouse-3"),n.bind("mouse-middle","mouse-2"),n._lastTick=H(),n.startTime=H(),n.paused=!1,n.emit("init")})},0),n}var O=o(11).EventEmitter,R=o(13),M=o(947),x=o(1106),N=o(1025),L=o(56),D=o(923),P=o(205),F=Math.min;o(954);var U=o(953),H=o(952),V=function(){var e,t,o=new Array(256);for(e=0;e<256;++e)o[e]="UNK";for(e in x)t=x[e],"<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),t=t.replace(/\s/g,"-"),o[parseInt(e)]=t;return o}(),j=L(Object.keys(N(V)));R.inherits(i,O);var G=i.prototype;G.keyNames=j,G.bind=function(e){var t;t=e in this.bindings?this.bindings[e]:[];for(var o,r=1,i=arguments.length;r<i;++r)if(o=arguments[r],n(o)>=0)t.push(o);else if(o in this.bindings)for(var a=this.bindings[o],s=0;s<a.length;++s)t.push(a[s]);t=L(t),t.length>0&&(this.bindings[e]=t),this.emit("bind",e,t)},G.unbind=function(e){e in this.bindings&&delete this.bindings[e],this.emit("unbind",e)},G.down=function(e){return a(this._curKeyState,this.bindings,e)},G.wasDown=function(e){return this.down(e)||!!this.press(e)},G.up=function(e){return!this.down(e)},G.wasUp=function(e){return this.up(e)||!!this.release(e)},G.press=function(e){return s(this._pressCount,this.bindings,e)},G.release=function(e){return s(this._releaseCount,this.bindings,e)},Object.defineProperty(G,"paused",{get:function(){return this._paused},set:function(e){var t=!!e;t!==this._paused&&(this._paused?(this._paused=!1,this._lastTick=H()-Math.floor(this._frameTime*this._tickRate),this._tickInterval=setInterval(g,this._tickRate,this),this._rafHandle=requestAnimationFrame(this._render)):(this._paused=!0,this._frameTime=F(1,(H()-this._lastTick)/this._tickRate),clearInterval(this._tickInterval)))}});var W=document.exitFullscreen||document.cancelFullscreen||document.cancelFullScreen||document.webkitCancelFullscreen||document.webkitCancelFullScreen||document.mozCancelFullscreen||document.mozCancelFullScreen||function(){};Object.defineProperty(G,"fullscreen",{get:function(){return this._fullscreenActive},set:function(e){var t=!!e;return t?(this._wantFullscreen=!0,l(this)):(this._wantFullscreen=!1,W.call(document)),this._fullscreenActive}});var z=document.exitPointerLock||document.webkitExitPointerLock||document.mozExitPointerLock||function(){};Object.defineProperty(G,"pointerLock",{get:function(){return this._pointerLockActive},set:function(e){var t=!!e;return t?(this._wantPointerLock=!0,l(this)):(this._wantPointerLock=!1,z.call(document)),this._pointerLockActive}}),Object.defineProperty(G,"width",{get:function(){return this.element.clientWidth}}),Object.defineProperty(G,"height",{get:function(){return this.element.clientHeight}});var K=P(32).map(function(e){return n("mouse-"+(e+1))});e.exports=I},620,function(e,t,o){(function(t){function n(e){i.call(this,e),this.okayToPush=!0,this.resetData()}function r(e,t,o){function r(){a.flushData()}o=o||{};var i=o.highWaterMark;n.call(this,{highWaterMark:i||0===i?i:65536}),this.width=~~e,this.height=~~t,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=[],this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10;var a=this;this.on("writeHeader#stop",r),this.on("frame#stop",r),this.on("finish#stop",function(){r(),a.push(null)})}var i=(o(212),o(11).EventEmitter,o(961)),a=o(13),s=o(959),l=o(958);a.inherits(n,i),n.prototype._read=function(){this.okayToPush=!0},n.prototype.resetData=function(){this.data=[]},n.prototype.flushData=function(){if(!this.okayToPush){var e=new Error("GIF memory limit exceeded. Please `read` from GIF before writing additional frames/information.");return this.emit("error",e)}var o=new t(this.data);this.resetData(),this.okayToPush=this.push(o)},n.prototype.writeByte=function(e){this.data.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,o=0;o<t;o++)this.writeByte(e.charCodeAt(o))},n.prototype.writeBytes=function(e,t,o){for(var n=o||e.length,r=t||0;r<n;r++)this.writeByte(e[r])},a.inherits(r,n),r.prototype.setDelay=function(e){this.delay=Math.round(e/10)},r.prototype.setFrameRate=function(e){this.delay=Math.round(100/e)},r.prototype.setDispose=function(e){e>=0&&(this.dispose=e)},r.prototype.setRepeat=function(e){this.repeat=e},r.prototype.setTransparent=function(e){this.transparent=e},r.prototype.analyzeImage=function(e){this.setImagePixels(this.removeAlphaChannel(e)),this.analyzePixels()},r.prototype.writeImageInfo=function(){this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.firstFrame=!1},r.prototype.outputImage=function(){this.writePixels()},r.prototype.addFrame=function(e){this.emit("frame#start"),this.analyzeImage(e),this.writeImageInfo(),this.outputImage(),this.emit("frame#stop")},r.prototype.finish=function(){this.emit("finish#start"),this.writeByte(59),this.emit("finish#stop")},r.prototype.setQuality=function(e){e<1&&(e=1),this.sample=e},r.prototype.writeHeader=function(){this.emit("writeHeader#start"),this.writeUTFBytes("GIF89a"),this.emit("writeHeader#stop")},r.prototype.analyzePixels=function(){var e=this.pixels.length,t=e/3;this.indexedPixels=new Uint8Array(t);var o=new s(this.pixels,this.sample);o.buildColormap(),this.colorTab=o.getColormap();for(var n=0,r=0;r<t;r++){var i=o.lookupRGB(255&this.pixels[n++],255&this.pixels[n++],255&this.pixels[n++]);this.usedEntry[i]=!0,this.indexedPixels[r]=i}this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent))},r.prototype.findClosest=function(e){if(null===this.colorTab)return-1;for(var t=(16711680&e)>>16,o=(65280&e)>>8,n=255&e,r=0,i=16777216,a=this.colorTab.length,s=0;s<a;){var l=t-(255&this.colorTab[s++]),c=o-(255&this.colorTab[s++]),u=n-(255&this.colorTab[s]),h=l*l+c*c+u*u,g=s/3;this.usedEntry[g]&&h<i&&(i=h,r=g),s++}return r},r.prototype.removeAlphaChannel=function(e){for(var t=this.width,o=this.height,n=new Uint8Array(t*o*3),r=0,i=0;i<o;i++)for(var a=0;a<t;a++){var s=i*t*4+4*a;n[r++]=e[s],n[r++]=e[s+1],n[r++]=e[s+2]}return n},r.prototype.setImagePixels=function(e){this.pixels=e},r.prototype.writeGraphicCtrlExt=function(){this.writeByte(33),this.writeByte(249),this.writeByte(4);var e,t;null===this.transparent?(e=0,t=0):(e=1,t=2),this.dispose>=0&&(t=7&dispose),t<<=2,this.writeByte(0|t|0|e),this.writeShort(this.delay),this.writeByte(this.transIndex),this.writeByte(0)},r.prototype.writeImageDesc=function(){this.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.writeByte(0):this.writeByte(128|this.palSize)},r.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.writeByte(240|this.palSize),this.writeByte(0),this.writeByte(0)},r.prototype.writeNetscapeExt=function(){this.writeByte(33),this.writeByte(255),this.writeByte(11),this.writeUTFBytes("NETSCAPE2.0"),this.writeByte(3),this.writeByte(1),this.writeShort(this.repeat),this.writeByte(0)},r.prototype.writePalette=function(){this.writeBytes(this.colorTab);for(var e=768-this.colorTab.length,t=0;t<e;t++)this.writeByte(0)},r.prototype.writeShort=function(e){this.writeByte(255&e),this.writeByte(e>>8&255)},r.prototype.writePixels=function(){var e=new l(this.width,this.height,this.indexedPixels,this.colorDepth);e.encode(this)},r.prototype.stream=function(){return this},r.ByteCapacitor=n,e.exports=r}).call(t,o(1).Buffer)},function(e,t){function o(e,t,o,s){function l(e,t){A[_++]=e,_>=254&&d(t)}function c(e){u(i),R=S+2,M=!0,y(S,e)}function u(e){for(var t=0;t<e;++t)w[t]=-1}function h(e,t){var o,a,s,l,h,g,d;for(T=e,M=!1,k=T,m=f(k),S=1<<e-1,C=S+1,R=S+2,_=0,l=p(),d=0,o=i;o<65536;o*=2)++d;d=8-d,g=i,u(g),y(S,t);e:for(;(a=p())!=n;)if(o=(a<<r)+l,s=a<<d^l,w[s]!==o){if(w[s]>=0){h=g-s,0===s&&(h=1);do if((s-=h)<0&&(s+=g),w[s]===o){l=I[s];continue e}while(w[s]>=0)}y(l,t),l=a,R<1<<r?(I[s]=R++,w[s]=o):c(t)}else l=I[s];y(l,t),y(C,t)}function g(o){o.writeByte(B),v=e*t,E=0,h(B+1,o),o.writeByte(0)}function d(e){_>0&&(e.writeByte(_),e.writeBytes(A,0,_),_=0)}function f(e){return(1<<e)-1}function p(){if(0===v)return n;--v;var e=o[E++];return 255&e}function y(e,t){for(b&=a[O],O>0?b|=e<<O:b=e,O+=k;O>=8;)l(255&b,t),b>>=8,O-=8;if((R>m||M)&&(M?(m=f(k=T),M=!1):(++k,m=k==r?1<<r:f(k))),e==C){for(;O>0;)l(255&b,t),b>>=8,O-=8;d(t)}}var b,_,m,v,E,k,T,S,C,B=Math.max(2,s),A=new Uint8Array(256),w=new Int32Array(i),I=new Int32Array(i),O=0,R=0,M=!1;this.encode=g}var n=-1,r=12,i=5003,a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=o},function(e,t){function o(e,t){function o(){x=[],N=new Int32Array(256),L=new Int32Array(r),D=new Int32Array(r),P=new Int32Array(r>>3);var e,t;for(e=0;e<r;e++)t=(e<<a+8)/r,x[e]=new Float64Array([t,t,t,0]),D[e]=l/r,L[e]=0}function d(){for(var e=0;e<r;e++)x[e][0]>>=a,x[e][1]>>=a,x[e][2]>>=a,x[e][3]=e}function p(e,t,o,n,r){x[t][0]-=e*(x[t][0]-o)/m,x[t][1]-=e*(x[t][1]-n)/m,x[t][2]-=e*(x[t][2]-r)/m}function _(e,t,o,n,i){for(var a,s,l=Math.abs(t-e),c=Math.min(t+e,r),u=t+1,h=t-1,g=1;u<c||h>l;)s=P[g++],u<c&&(a=x[u++],a[0]-=s*(a[0]-o)/T,a[1]-=s*(a[1]-n)/T,a[2]-=s*(a[2]-i)/T),h>l&&(a=x[h--],a[0]-=s*(a[0]-o)/T,a[1]-=s*(a[1]-n)/T,a[2]-=s*(a[2]-i)/T)}function v(e,t,o){var n,i,l,d,f,p=~(1<<31),y=p,b=-1,_=b;for(n=0;n<r;n++)i=x[n],l=Math.abs(i[0]-e)+Math.abs(i[1]-t)+Math.abs(i[2]-o),l<p&&(p=l,b=n),d=l-(L[n]>>s-a),d<y&&(y=d,_=n),f=D[n]>>u,D[n]-=f,L[n]+=f<<c;return D[b]+=h,L[b]-=g,_}function k(){var e,t,o,n,a,s,l=0,c=0;for(e=0;e<r;e++){for(o=x[e],a=e,s=o[1],t=e+1;t<r;t++)n=x[t],n[1]<s&&(a=t,s=n[1]);if(n=x[a],e!=a&&(t=n[0],n[0]=o[0],o[0]=t,t=n[1],n[1]=o[1],o[1]=t,t=n[2],n[2]=o[2],o[2]=t,t=n[3],n[3]=o[3],o[3]=t),s!=l){for(N[l]=c+e>>1,t=l+1;t<s;t++)N[t]=e;l=s,c=e}}for(N[l]=c+i>>1,t=l+1;t<256;t++)N[t]=i}function I(e,t,o){for(var n,i,a,s=1e3,l=-1,c=N[t],u=c-1;c<r||u>=0;)c<r&&(i=x[c],a=i[1]-t,a>=s?c=r:(c++,a<0&&(a=-a),n=i[0]-e,n<0&&(n=-n),a+=n,a<s&&(n=i[2]-o,n<0&&(n=-n),a+=n,a<s&&(s=a,l=i[3])))),u>=0&&(i=x[u],a=t-i[1],a>=s?u=-1:(u--,a<0&&(a=-a),n=i[0]-e,n<0&&(n=-n),a+=n,a<s&&(n=i[2]-o,n<0&&(n=-n),a+=n,a<s&&(s=a,l=i[3]))));return l}function O(){var o,r=e.length,i=30+(t-1)/3,s=r/(3*t),l=~~(s/n),c=m,u=y,h=u>>f;for(h<=1&&(h=0),o=0;o<h;o++)P[o]=c*((h*h-o*o)*E/(h*h));var g;r<w?(t=1,g=3):g=r%S!==0?3*S:r%C!==0?3*C:r%B!==0?3*B:3*A;var d,k,T,I,O=0;for(o=0;o<s;)if(d=(255&e[O])<<a,k=(255&e[O+1])<<a,T=(255&e[O+2])<<a,I=v(d,k,T),p(c,I,d,k,T),0!==h&&_(h,I,d,k,T),O+=g,O>=r&&(O-=r),o++,0===l&&(l=1),o%l===0)for(c-=c/i,u-=u/b,h=u>>f,h<=1&&(h=0),I=0;I<h;I++)P[I]=c*((h*h-I*I)*E/(h*h))}function R(){o(),O(),d(),k()}function M(){for(var e=[],t=[],o=0;o<r;o++)t[x[o][3]]=o;for(var n=0,i=0;i<r;i++){var a=t[i];e[n++]=x[a][0],e[n++]=x[a][1],e[n++]=x[a][2]}return e}var x,N,L,D,P;this.buildColormap=R,this.getColormap=M,this.lookupRGB=I}var n=100,r=256,i=r-1,a=4,s=16,l=1<<s,c=10,u=10,h=l>>u,g=l<<c-u,d=r>>3,f=6,p=1<<f,y=d*p,b=30,_=10,m=1<<_,v=8,E=1<<v,k=_+v,T=1<<k,S=499,C=491,B=487,A=503,w=3*A;e.exports=o},[1246,345,36,38],function(e,t,o){(function(n){t=e.exports=o(344),t.Stream=o(8),t.Readable=t,t.Writable=o(346),t.Duplex=o(77),t.Transform=o(345),t.PassThrough=o(960),n.browser||"disable"!=={NODE_ENV:"production",PUBLIC_URL:"/build-a-farm"}.READABLE_STREAM||(e.exports=o(8))}).call(t,o(5))},622,[1181,962],[1182,1100,963,1017,919],[1183,968,988,123,342],668,669,[1184,920,966,121,967,342],function(e,t){function o(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=o},function(e,t){function o(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,l=r+r,c=i+i,u=n*s,h=n*l,g=n*c,d=r*l,f=r*c,p=i*c,y=a*s,b=a*l,_=a*c;return e[0]=1-(d+p),e[1]=h+_,e[2]=g-b,e[3]=0,e[4]=h-_,e[5]=1-(u+p),e[6]=f+y,e[7]=0,e[8]=g+b,e[9]=f-y,e[10]=1-(u+d),e[11]=0,e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e}e.exports=o},function(e,t){function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=o},function(e,t){function o(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],g=t[10],d=t[11],f=t[12],p=t[13],y=t[14],b=t[15],_=o*s-n*a,m=o*l-r*a,v=o*c-i*a,E=n*l-r*s,k=n*c-i*s,T=r*c-i*l,S=u*p-h*f,C=u*y-g*f,B=u*b-d*f,A=h*y-g*p,w=h*b-d*p,I=g*b-d*y,O=_*I-m*w+v*A+E*B-k*C+T*S;return O?(O=1/O,e[0]=(s*I-l*w+c*A)*O,e[1]=(r*w-n*I-i*A)*O,e[2]=(p*T-y*k+b*E)*O,e[3]=(g*k-h*T-d*E)*O,e[4]=(l*B-a*I-c*C)*O,e[5]=(o*I-r*B+i*C)*O,e[6]=(y*v-f*T-b*m)*O,e[7]=(u*T-g*v+d*m)*O,e[8]=(a*w-s*B+c*S)*O,e[9]=(n*B-o*w-i*S)*O,e[10]=(f*k-p*v+b*_)*O,e[11]=(h*v-u*k-d*_)*O,e[12]=(s*C-a*A-l*S)*O,e[13]=(o*A-n*C+r*S)*O,e[14]=(p*m-f*E-y*_)*O,e[15]=(u*E-h*m+g*_)*O,e):null}e.exports=o},function(e,t){function o(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=t[9],d=t[10],f=t[11],p=t[12],y=t[13],b=t[14],_=t[15],m=o[0],v=o[1],E=o[2],k=o[3];return e[0]=m*n+v*s+E*h+k*p,e[1]=m*r+v*l+E*g+k*y,e[2]=m*i+v*c+E*d+k*b,e[3]=m*a+v*u+E*f+k*_,m=o[4],v=o[5],E=o[6],k=o[7],e[4]=m*n+v*s+E*h+k*p,e[5]=m*r+v*l+E*g+k*y,e[6]=m*i+v*c+E*d+k*b,e[7]=m*a+v*u+E*f+k*_,m=o[8],v=o[9],E=o[10],k=o[11],e[8]=m*n+v*s+E*h+k*p,e[9]=m*r+v*l+E*g+k*y,e[10]=m*i+v*c+E*d+k*b,e[11]=m*a+v*u+E*f+k*_,m=o[12],v=o[13],E=o[14],k=o[15],e[12]=m*n+v*s+E*h+k*p,e[13]=m*r+v*l+E*g+k*y,e[14]=m*i+v*c+E*d+k*b,e[15]=m*a+v*u+E*f+k*_,e}e.exports=o},function(e,t){function o(e,t,o){var n=o[0],r=o[1],i=o[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=o},function(e,t){function o(e,t,o){var n,r,i,a,s,l,c,u,h,g,d,f,p=o[0],y=o[1],b=o[2];return t===e?(e[12]=t[0]*p+t[4]*y+t[8]*b+t[12],e[13]=t[1]*p+t[5]*y+t[9]*b+t[13],e[14]=t[2]*p+t[6]*y+t[10]*b+t[14],e[15]=t[3]*p+t[7]*y+t[11]*b+t[15]):(n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=t[9],d=t[10],f=t[11],e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=g,e[10]=d,e[11]=f,e[12]=n*p+s*y+h*b+t[12],e[13]=r*p+l*y+g*b+t[13],e[14]=i*p+c*y+d*b+t[14],e[15]=a*p+u*y+f*b+t[15]),e}e.exports=o},function(e,t){function o(e,t){if(e===t){var o=t[1],n=t[2],r=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=o,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=r,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}e.exports=o},function(e,t,o){var n=o(42),r={};r.create=function(){var e=new n.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},r.clone=function(e){var t=new n.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},r.fromValues=function(e,t,o,r){var i=new n.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=o,i[3]=r,i},r.set=function(e,t,o,n,r){return e[0]=t,e[1]=o,e[2]=n,e[3]=r,e},r.transpose=function(e,t){if(e===t){var o=t[1];e[1]=t[2],e[2]=o}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},r.invert=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=o*i-r*n;return a?(a=1/a,e[0]=i*a,e[1]=-n*a,e[2]=-r*a,e[3]=o*a,e):null},r.adjoint=function(e,t){var o=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=o,e},r.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},r.multiply=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=o[0],l=o[1],c=o[2],u=o[3];return e[0]=n*s+i*l,e[1]=r*s+a*l,e[2]=n*c+i*u,e[3]=r*c+a*u,e},r.mul=r.multiply,r.rotate=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=Math.sin(o),l=Math.cos(o);return e[0]=n*l+i*s,e[1]=r*l+a*s,e[2]=n*-s+i*l,e[3]=r*-s+a*l,e},r.scale=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=o[0],l=o[1];return e[0]=n*s,e[1]=r*s,e[2]=i*l,e[3]=a*l,e},r.fromRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=o,e[2]=-o,e[3]=n,e},r.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},r.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},r.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},r.LDU=function(e,t,o,n){return e[2]=n[2]/n[0],o[0]=n[0],o[1]=n[1],o[3]=n[3]-e[2]*o[1],[e,t,o]},r.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e},r.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e},r.sub=r.subtract,r.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},r.equals=function(e,t){var o=e[0],r=e[1],i=e[2],a=e[3],s=t[0],l=t[1],c=t[2],u=t[3];return Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-c)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))},r.multiplyScalar=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e},r.multiplyScalarAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e[3]=t[3]+o[3]*n,e},e.exports=r},function(e,t,o){var n=o(42),r={};r.create=function(){var e=new n.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},r.clone=function(e){var t=new n.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},r.fromValues=function(e,t,o,r,i,a){var s=new n.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=o,s[3]=r,s[4]=i,s[5]=a,s},r.set=function(e,t,o,n,r,i,a){return e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=i,e[5]=a,e},r.invert=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=o*i-n*r;return l?(l=1/l,e[0]=i*l,e[1]=-n*l,e[2]=-r*l,e[3]=o*l,e[4]=(r*s-i*a)*l,e[5]=(n*a-o*s)*l,e):null},r.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},r.multiply=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=o[0],u=o[1],h=o[2],g=o[3],d=o[4],f=o[5];return e[0]=n*c+i*u,e[1]=r*c+a*u,e[2]=n*h+i*g,e[3]=r*h+a*g,e[4]=n*d+i*f+s,e[5]=r*d+a*f+l,e},r.mul=r.multiply,r.rotate=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=Math.sin(o),u=Math.cos(o);return e[0]=n*u+i*c,e[1]=r*u+a*c,e[2]=n*-c+i*u,e[3]=r*-c+a*u,e[4]=s,e[5]=l,e},r.scale=function(e,t,o){
var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=o[0],u=o[1];return e[0]=n*c,e[1]=r*c,e[2]=i*u,e[3]=a*u,e[4]=s,e[5]=l,e},r.translate=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=o[0],u=o[1];return e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=n*c+i*u+s,e[5]=r*c+a*u+l,e},r.fromRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=o,e[2]=-o,e[3]=n,e[4]=0,e[5]=0,e},r.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},r.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},r.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},r.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},r.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e[4]=t[4]+o[4],e[5]=t[5]+o[5],e},r.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e[4]=t[4]-o[4],e[5]=t[5]-o[5],e},r.sub=r.subtract,r.multiplyScalar=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*o,e[5]=t[5]*o,e},r.multiplyScalarAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e[3]=t[3]+o[3]*n,e[4]=t[4]+o[4]*n,e[5]=t[5]+o[5]*n,e},r.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},r.equals=function(e,t){var o=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],c=t[0],u=t[1],h=t[2],g=t[3],d=t[4],f=t[5];return Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-f)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(f))},e.exports=r},[1186,42],function(e,t,o){"use strict";function n(e){function t(){var e=n._width/a|0,t=n._height/a|0;n.canvas.width=e,n.canvas.height=t,n.canvas.style.width=n._width+"px",n.canvas.style.height=n._height+"px",n.emit("gl-resize",e,t)}e=e||{};var o=e.extensions||[],n=r(e),a=n.scale||1,s=e.glOptions;return n.on("init",function(){var r=document.createElement("canvas"),l=r.getContext("webgl",s)||r.getContext("experimental-webgl",s);if(!l)return void n.emit("gl-error",new Error("Unable to initialize WebGL"));for(var c=i(l),u=0;u<o.length;++u)if(!(o[u]in c))return void n.emit("gl-error",new Error("Missing extension: "+o[u]));r.style.position="absolute",r.style.left="0px",r.style.top="0px",n.element.appendChild(r),n.canvas=r,n.gl=l,t(),n.clearFlags=void 0===e.clearFlags?l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT:e.clearFlags,n.clearColor=e.clearColor||[0,0,0,0],n.clearDepth=e.clearDepth||1,n.clearStencil=e.clearStencil||0,n.on("resize",t),n.on("render",function(e){l.bindFramebuffer(l.FRAMEBUFFER,null),l.viewport(0,0,n._width/a|0,n._height/a|0),n.clearFlags&l.STENCIL_BUFFER_BIT&&l.clearStencil(n.clearStencil),n.clearFlags&l.COLOR_BUFFER_BIT&&l.clearColor(n.clearColor[0],n.clearColor[1],n.clearColor[2],n.clearColor[3]),n.clearFlags&l.DEPTH_BUFFER_BIT&&l.clearDepth(n.clearDepth),n.clearFlags&&l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT|l.STENCIL_BUFFER_BIT),n.emit("gl-render",e)}),n.emit("gl-init")}),Object.defineProperty(n,"scale",{get:function(){return a},set:function(e){return e=+e,e<=0||isNaN(e)||a===e?a:(a=e,t(),a)}}),Object.defineProperty(n,"width",{get:function(){return n._width/a|0}}),Object.defineProperty(n,"height",{get:function(){return n._height/a|0}}),Object.defineProperty(n,"mouse",{get:function(){return[n.mouseX/a,n.mouseY/a]}}),Object.defineProperty(n,"prevMouse",{get:function(){return[n.prevMouseX/a,n.prevMouseY/a]}}),n}var r=o(955),i=o(1114);e.exports=n},function(e,t){function o(e,t,o,n){var r,i,a,s,l,c=t[0],u=t[1],h=t[2],g=t[3],d=o[0],f=o[1],p=o[2],y=o[3];return i=c*d+u*f+h*p+g*y,i<0&&(i=-i,d=-d,f=-f,p=-p,y=-y),1-i>1e-6?(r=Math.acos(i),a=Math.sin(r),s=Math.sin((1-n)*r)/a,l=Math.sin(n*r)/a):(s=1-n,l=n),e[0]=s*c+l*d,e[1]=s*u+l*f,e[2]=s*h+l*p,e[3]=s*g+l*y,e}e.exports=o},[1188,984,983,352,986,985,122],[1189,122],[1190,352,122],630,[1191,122,964,1113],function(e,t,o){"use strict";function n(e){y=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],b=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],_=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function r(e,t,o){var n=e.gl,r=n.getParameter(n.MAX_TEXTURE_SIZE);if(t<0||t>r||o<0||o>r)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,o],e.bind(),n.texImage2D(n.TEXTURE_2D,0,e.format,t,o,0,e.format,e.type,null),e._mipLevels=[0],e}function i(e,t,o,n,r,i){this.gl=e,this.handle=t,this.format=r,this.type=i,this._shape=[o,n],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(e){return a.wrapS=e}},{get:function(){return a._wrapT},set:function(e){return a.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(e){return a.width=e}},{get:function(){return a._shape[1]},set:function(e){return a.height=e}}]),this._shapeVector=l}function a(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function s(e,t,o,n,r,i,s,l){var c=l.dtype,u=l.shape.slice();if(u.length<2||u.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var h=0,g=0,y=a(u,l.stride.slice());"float32"===c?h=e.FLOAT:"float64"===c?(h=e.FLOAT,y=!1,c="float32"):"uint8"===c?h=e.UNSIGNED_BYTE:(h=e.UNSIGNED_BYTE,y=!1,c="uint8");var b=1;if(2===u.length)g=e.LUMINANCE,u=[u[0],u[1],1],l=d(l.data,u,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==u.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===u[2])g=e.ALPHA;else if(2===u[2])g=e.LUMINANCE_ALPHA;else if(3===u[2])g=e.RGB;else{if(4!==u[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}b=u[2]}if(g!==e.LUMINANCE&&g!==e.ALPHA||r!==e.LUMINANCE&&r!==e.ALPHA||(g=r),g!==r)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var _=l.size,v=s.indexOf(n)<0;if(v&&s.push(n),h===i&&y)0===l.offset&&l.data.length===_?v?e.texImage2D(e.TEXTURE_2D,n,r,u[0],u[1],0,r,i,l.data):e.texSubImage2D(e.TEXTURE_2D,n,t,o,u[0],u[1],r,i,l.data):v?e.texImage2D(e.TEXTURE_2D,n,r,u[0],u[1],0,r,i,l.data.subarray(l.offset,l.offset+_)):e.texSubImage2D(e.TEXTURE_2D,n,t,o,u[0],u[1],r,i,l.data.subarray(l.offset,l.offset+_));else{var E;E=i===e.FLOAT?p.mallocFloat32(_):p.mallocUint8(_);var k=d(E,u,[u[2],u[2]*u[0],1]);h===e.FLOAT&&i===e.UNSIGNED_BYTE?m(k,l):f.assign(k,l),v?e.texImage2D(e.TEXTURE_2D,n,r,u[0],u[1],0,r,i,E.subarray(0,_)):e.texSubImage2D(e.TEXTURE_2D,n,t,o,u[0],u[1],r,i,E.subarray(0,_)),i===e.FLOAT?p.freeFloat32(E):p.freeUint8(E)}}function l(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function c(e,t,o,n,r){var a=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>a||o<0||o>a)throw new Error("gl-texture2d: Invalid texture shape");if(r===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=l(e);return e.texImage2D(e.TEXTURE_2D,0,n,t,o,0,n,r,null),new i(e,s,t,o,n,r)}function u(e,t,o,n){var r=l(e);return e.texImage2D(e.TEXTURE_2D,0,o,o,n,t),new i(e,r,0|t.width,0|t.height,o,n)}function h(e,t){var o=t.dtype,n=t.shape.slice(),r=e.getParameter(e.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>r||n[1]<0||n[1]>r)throw new Error("gl-texture2d: Invalid texture size");var s=a(n,t.stride.slice()),c=0;"float32"===o?c=e.FLOAT:"float64"===o?(c=e.FLOAT,s=!1,o="float32"):"uint8"===o?c=e.UNSIGNED_BYTE:(c=e.UNSIGNED_BYTE,s=!1,o="uint8");var u=0;if(2===n.length)u=e.LUMINANCE,n=[n[0],n[1],1],t=d(t.data,n,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])u=e.ALPHA;else if(2===n[2])u=e.LUMINANCE_ALPHA;else if(3===n[2])u=e.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");u=e.RGBA}}c!==e.FLOAT||e.getExtension("OES_texture_float")||(c=e.UNSIGNED_BYTE,s=!1);var h,g,y=t.size;if(s)h=0===t.offset&&t.data.length===y?t.data:t.data.subarray(t.offset,t.offset+y);else{var b=[n[2],n[2]*n[0],1];g=p.malloc(y,o);var _=d(g,n,b,0);"float32"!==o&&"float64"!==o||c!==e.UNSIGNED_BYTE?f.assign(_,t):m(_,t),h=g.subarray(0,y)}var v=l(e);return e.texImage2D(e.TEXTURE_2D,0,u,n[0],n[1],0,u,c,h),s||p.free(g),new i(e,v,n[0],n[1],u,c)}function g(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(y||n(e),"number"==typeof arguments[1])return c(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1];if(t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof ImageData)return u(e,t,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return h(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var d=o(14),f=o(79),p=o(80);e.exports=g;var y=null,b=null,_=null,m=function(e,t){f.muls(e,t,255)},v=i.prototype;Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&y.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&y.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var o=this.gl.getExtension("EXT_texture_filter_anisotropic");o&&this.gl.texParameterf(this.gl.TEXTURE_2D,o.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),_.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),_.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(_.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var o=this.gl;return this.bind(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,this._wrapS),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return r(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return e=0|e,r(this,e,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e=0|e,r(this,this._shape[0],e),e}}}),v.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},v.setPixels=function(e,t,o,n){var r=this.gl;if(this.bind(),Array.isArray(t)?(n=o,o=0|t[1],t=0|t[0]):(t=t||0,o=o||0),n=n||0,e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLImageElement||e instanceof HTMLVideoElement){var i=this._mipLevels.indexOf(n)<0;i?(r.texImage2D(r.TEXTURE_2D,0,this.format,this.format,this.type,e),this._mipLevels.push(n)):r.texSubImage2D(r.TEXTURE_2D,n,t,o,this.format,this.type,e)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>n||o+e.shape[0]>this._shape[0]>>>n||t<0||o<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");s(r,t,o,n,this.format,this.type,this._mipLevels,e)}}},632,[1192,353],[1193,353],function(e,t){function o(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e}e.exports=o},function(e,t,o){function n(e,t){var o=r(e[0],e[1],e[2]),n=r(t[0],t[1],t[2]);i(o,o),i(n,n);var s=a(o,n);return s>1?0:Math.acos(s)}e.exports=n;var r=o(356),i=o(204),a=o(203)},function(e,t){function o(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.exports=o},function(e,t){function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}e.exports=o},function(e,t){function o(e,t){var o=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(o*o+n*n+r*r)}e.exports=o},function(e,t){function o(e,t,o){return e[0]=t[0]/o[0],e[1]=t[1]/o[1],e[2]=t[2]/o[2],e}e.exports=o},function(e,t,o){function n(e,t,o,n,i,a){var s,l;for(t||(t=3),o||(o=0),l=n?Math.min(n*t+o,e.length):e.length,s=o;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],i(r,r,a),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}e.exports=n;var r=o(354)()},function(e,t,o){e.exports={create:o(354),clone:o(993),angle:o(992),fromValues:o(356),copy:o(994),set:o(1010),add:o(991),subtract:o(1013),multiply:o(1002),divide:o(996),min:o(1001),max:o(1e3),scale:o(1008),scaleAndAdd:o(1009),distance:o(995),squaredDistance:o(1011),length:o(357),squaredLength:o(1012),negate:o(1003),inverse:o(999),normalize:o(204),dot:o(203),cross:o(355),lerp:o(358),random:o(1004),transformMat4:o(1015),transformMat3:o(1014),transformQuat:o(1016),rotateX:o(1005),rotateY:o(1006),rotateZ:o(1007),forEach:o(997)}},function(e,t){function o(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}e.exports=o},function(e,t){function o(e,t,o){return e[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e[2]=Math.max(t[2],o[2]),e}e.exports=o},function(e,t){function o(e,t,o){return e[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e[2]=Math.min(t[2],o[2]),e}e.exports=o},function(e,t){function o(e,t,o){return e[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e}e.exports=o},function(e,t){function o(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}e.exports=o},function(e,t){function o(e,t){t=t||1;var o=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(o)*r,e[1]=Math.sin(o)*r,e[2]=n*t,e}e.exports=o},function(e,t){function o(e,t,o,n){var r=[],i=[];return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],i[0]=r[0],i[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),i[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),e[0]=i[0]+o[0],e[1]=i[1]+o[1],e[2]=i[2]+o[2],e}e.exports=o},function(e,t){function o(e,t,o,n){var r=[],i=[];return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],i[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),i[1]=r[1],i[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),e[0]=i[0]+o[0],e[1]=i[1]+o[1],e[2]=i[2]+o[2],e}e.exports=o},function(e,t){function o(e,t,o,n){var r=[],i=[];return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],i[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),i[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),i[2]=r[2],e[0]=i[0]+o[0],e[1]=i[1]+o[1],e[2]=i[2]+o[2],e}e.exports=o},function(e,t){function o(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}e.exports=o},function(e,t){function o(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e}e.exports=o},function(e,t){function o(e,t,o,n){return e[0]=t,e[1]=o,e[2]=n,e}e.exports=o},function(e,t){function o(e,t){var o=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return o*o+n*n+r*r}e.exports=o},function(e,t){function o(e){var t=e[0],o=e[1],n=e[2];return t*t+o*o+n*n}e.exports=o},function(e,t){function o(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e}e.exports=o},function(e,t){function o(e,t,o){var n=t[0],r=t[1],i=t[2];return e[0]=n*o[0]+r*o[3]+i*o[6],e[1]=n*o[1]+r*o[4]+i*o[7],e[2]=n*o[2]+r*o[5]+i*o[8],e}e.exports=o},function(e,t){function o(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[3]*n+o[7]*r+o[11]*i+o[15];return a=a||1,e[0]=(o[0]*n+o[4]*r+o[8]*i+o[12])/a,e[1]=(o[1]*n+o[5]*r+o[9]*i+o[13])/a,e[2]=(o[2]*n+o[6]*r+o[10]*i+o[14])/a,e}e.exports=o},function(e,t){function o(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[0],s=o[1],l=o[2],c=o[3],u=c*n+s*i-l*r,h=c*r+l*n-a*i,g=c*i+a*r-s*n,d=-a*n-s*r-l*i;return e[0]=u*c+d*-a+h*-l-g*-s,e[1]=h*c+d*-s+g*-a-u*-l,e[2]=g*c+d*-l+u*-s-h*-a,e}e.exports=o},[1195,1022,922],[1196,360,1021,359,1020,1019],[1197,359],[1198,360],639,[1199,1018],function(e,t,o){"use strict";var n=o(1068),r=o(14),i=function(e,t,o,n,r){return(e-t)*(r-n)/(o-t)+n},a=function(e,t,o,a){var s=r(new Uint8Array(1024),[256,4]);void 0===o&&(o=0),void 0===a&&(a=1);for(var l=0;l<256;l+=1){var c=i(l/255,0,1,o,a),u=new n.HSV(e,t,c).rgb(),h=Math.round(255*u.red()),g=Math.round(255*u.green()),d=Math.round(255*u.blue()),f=255;s.set(l,0,h),s.set(l,1,g),s.set(l,2,d),s.set(l,3,f)}return s},s=function(e,t){for(var o=e.shape[0],n=e.shape[1],r=0;r<o;r+=1)for(var i=0;i<n;i+=1){var a=e.get(i,r,0),s=e.get(i,r,1),l=e.get(i,r,2),c=e.get(i,r,3);if(a===s&&s===l&&0!==c){var u=a;0!==t.get(u,3)&&(e.set(i,r,0,t.get(u,0)),e.set(i,r,1,t.get(u,1)),e.set(i,r,2,t.get(u,2)),e.set(i,r,3,t.get(u,3)))}}};e.exports=s,e.exports.generateMap=a},642,function(e,t){"use strict";function o(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}e.exports=o},667,669,[1205,1070,10,24],[1206,10,24,78,207,371],[1207,364,1029],[1208,1035,1032,54,365,91],[1209,10,91,78,10,1039,372,124],[1210,10,24],[1211,366],[1212,78,10,24,375,365,206,1041,1030,124,1033],[1215,369,10],[1216,368,10],[1219,24,10],[1227,370,10,371,1040,78,54],[1228,370,10,206,207,78,364,54],[1229,375,374,78,206,24],[1230,1024],function(e,t,o){function n(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3];return e[0]=o[0]*n+o[4]*r+o[8]*i+o[12]*a,e[1]=o[1]*n+o[5]*r+o[9]*i+o[13]*a,e[2]=o[2]*n+o[6]*r+o[10]*i+o[14]*a,e[3]=o[3]*n+o[7]*r+o[11]*i+o[15]*a,e}function r(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function i(e,t,o,n,r){e[0]=t[0]*n+o[0]*r,e[1]=t[1]*n+o[1]*r,e[2]=t[2]*n+o[2]*r}var a=o(1044),s=o(347),l=o(969),c=o(348),u=o(972),h=o(976),g={length:o(357),normalize:o(204),dot:o(203),cross:o(355)},d=s(),f=s(),p=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],b=[0,0,0];e.exports=function(e,t,o,s,_,m){if(t||(t=[0,0,0]),o||(o=[0,0,0]),s||(s=[0,0,0]),_||(_=[0,0,0,1]),m||(m=[0,0,0,1]),!a(d,e))return!1;if(l(f,d),f[3]=0,f[7]=0,f[11]=0,f[15]=1,Math.abs(c(f)<1e-8))return!1;var v=d[3],E=d[7],k=d[11],T=d[12],S=d[13],C=d[14],B=d[15];if(0!==v||0!==E||0!==k){p[0]=v,p[1]=E,p[2]=k,p[3]=B;var A=u(f,f);if(!A)return!1;h(f,f),n(_,p,f)}else _[0]=_[1]=_[2]=0,_[3]=1;if(t[0]=T,t[1]=S,t[2]=C,r(y,d),o[0]=g.length(y[0]),g.normalize(y[0],y[0]),s[0]=g.dot(y[0],y[1]),i(y[1],y[1],y[0],1,-s[0]),o[1]=g.length(y[1]),g.normalize(y[1],y[1]),s[0]/=o[1],s[1]=g.dot(y[0],y[2]),i(y[2],y[2],y[0],1,-s[1]),s[2]=g.dot(y[1],y[2]),i(y[2],y[2],y[1],1,-s[2]),o[2]=g.length(y[2]),g.normalize(y[2],y[2]),s[1]/=o[2],s[2]/=o[2],g.cross(b,y[1],y[2]),g.dot(y[0],b)<0)for(var w=0;w<3;w++)o[w]*=-1,y[w][0]*=-1,y[w][1]*=-1,y[w][2]*=-1;return m[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),m[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),m[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),m[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(m[0]=-m[0]),y[0][2]>y[2][0]&&(m[1]=-m[1]),y[1][0]>y[0][1]&&(m[2]=-m[2]),!0}},function(e,t){e.exports=function(e,t){var o=t[15];if(0===o)return!1;for(var n=1/o,r=0;r<16;r++)e[r]=t[r]*n;return!0}},function(e,t,o){var n={identity:o(971),translate:o(975),multiply:o(973),create:o(347),scale:o(974),fromRotationTranslation:o(970)},r=(n.create(),n.create());e.exports=function(e,t,o,i,a,s){return n.identity(e),n.fromRotationTranslation(e,s,t),e[3]=a[0],e[7]=a[1],e[11]=a[2],e[15]=a[3],n.identity(r),0!==i[2]&&(r[9]=i[2],n.multiply(e,e,r)),0!==i[1]&&(r[9]=0,r[8]=i[1],n.multiply(e,e,r)),0!==i[0]&&(r[8]=0,r[4]=i[0],n.multiply(e,e,r)),n.scale(e,e,o),e}},function(e,t,o){"use strict";var n=(o(343),o(1050)),r=function(e){for(var t=[],o=0;o<e;o+=1)t.push(o);return t},i=function(e,t,o){return o.animation&&o.animation.width||1},a=function(e,t,o){return o.animation&&o.animation.height||t/e},s=function(e,t,o){console.log(o);var n=i(e,t,o),s=a(e,t,o),l=o.animation&&o.animation.frametime||1,c=[];if(o.animation)for(var u=o.animation.frames||r(n*s),h=0;h<u.length;h+=1){var g=u[h],d="number"==typeof g?g:g.index,f="object"==typeof g&&"time"in g?g.time:l;d="number"==typeof g?g:g.index,c.push({index:d,time:f})}else c.push({index:0,time:0});return c},l=function(e,t,o){var r=e.shape[0],i=e.shape[1];t=t||1,o=o||r/(i/t);var a=i/t,s=r/o,l=[];console.log(o,a,s);for(var c=0;c<t;c+=1)for(var u=0;u<o;u+=1){var h=c*a,g=u*s,d=(c+1)*a,f=(u+1)*s;console.log(h,g,d,g);var p=e.lo(g,h).hi(f-g,d-h);console.log(p);var y=n(p,"canvas");l.push(y.toDataURL())}return l},c=function(e,t){var o=("string"==typeof t?JSON.parse(t):t)||{};o.texture&&(o.texture.blur,o.texture.clamp);var n=e.shape[0],r=e.shape[1];console.log("wh",r,n);var c=s(r,n,o);console.log("framesInfo",c);for(var u=i(r,n,o),h=a(r,n,o),g=l(e,u,h),d=[],f=0;f<c.length;f+=1){var p=c[f],y=g[p.index],b={index:p.index,image:y,time:p.time};d.push(b),console.log(f,b.index,b.image,b.time)}return d};e.exports=c,e.exports.getFrames=c,e.exports.parseFramesInfo=s,e.exports.splitTiles=l},function(e,t,o){(function(t){"use strict";var n=o(13),r=o(8),i=o(60),a=o(380),s=o(379),l=o(378),c=e.exports=function(e){r.call(this),this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=e.deflateLevel||9,e.deflateStrategy=e.deflateStrategy||3,this.readable=!0};n.inherits(c,r),c.prototype.pack=function(e,o,n){this.emit("data",new t(l.PNG_SIGNATURE)),this.emit("data",this._packIHDR(o,n));var r=new a(o,n,4,e,this._options),e=r.filter(),s=i.createDeflate({chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy});s.on("error",this.emit.bind(this,"error")),s.on("data",function(e){this.emit("data",this._packIDAT(e))}.bind(this)),s.on("end",function(){this.emit("data",this._packIEND()),this.emit("end")}.bind(this)),s.end(e)},c.prototype._packChunk=function(e,o){var n=o?o.length:0,r=new t(n+12);return r.writeUInt32BE(n,0),r.writeUInt32BE(e,4),o&&o.copy(r,8),r.writeInt32BE(s.crc32(r.slice(4,r.length-4)),r.length-4),r},c.prototype._packIHDR=function(e,o){var n=new t(13);return n.writeUInt32BE(e,0),n.writeUInt32BE(o,4),n[8]=8,n[9]=6,n[10]=0,n[11]=0,n[12]=0,this._packChunk(l.TYPE_IHDR,n)},c.prototype._packIDAT=function(e){return this._packChunk(l.TYPE_IDAT,e)},c.prototype._packIEND=function(){return this._packChunk(l.TYPE_IEND,null)}}).call(t,o(1).Buffer)},function(e,t,o){(function(t){"use strict";var n=o(13),r=o(60),i=o(379),a=o(377),s=o(378),l=o(380),c=e.exports=function(e){a.call(this),this._options=e,e.checkCRC=e.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._inflate=null,this._filter=null,this._crc=null,this._palette=[],this._colorType=0,this._chunks={},this._chunks[s.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[s.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[s.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[s.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[s.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[s.TYPE_gAMA]=this._handleGAMA.bind(this),this.writable=!0,this.on("error",this._handleError.bind(this)),this._handleSignature()};n.inherits(c,a),c.prototype._handleError=function(){this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy()},c.prototype._handleSignature=function(){this.read(s.PNG_SIGNATURE.length,this._parseSignature.bind(this))},c.prototype._parseSignature=function(e){for(var t=s.PNG_SIGNATURE,o=0;o<t.length;o++)if(e[o]!=t[o])return void this.emit("error",new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},c.prototype._parseChunkBegin=function(e){for(var o=e.readUInt32BE(0),n=e.readUInt32BE(4),r="",a=4;a<8;a++)r+=String.fromCharCode(e[a]);var l=!!(32&e[4]);!!(32&e[5]),!!(32&e[7]);return this._hasIHDR||n==s.TYPE_IHDR?(this._crc=new i,this._crc.write(new t(r)),this._chunks[n]?this._chunks[n](o):l?void this.read(o+4,this._skipChunk.bind(this)):void this.emit("error",new Error("Unsupported critical chunk type "+r))):void this.emit("error",new Error("Expected IHDR on beggining"))},c.prototype._skipChunk=function(e){this.read(8,this._parseChunkBegin.bind(this))},c.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},c.prototype._parseChunkEnd=function(e){var t=e.readInt32BE(0),o=this._crc.crc32();return this._options.checkCRC&&o!=t?void this.emit("error",new Error("Crc error")):void(this._hasIEND?this.destroySoon():this.read(8,this._parseChunkBegin.bind(this)))},c.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},c.prototype._parseIHDR=function(e){this._crc.write(e);var o=e.readUInt32BE(0),n=e.readUInt32BE(4),r=e[8],i=e[9],a=e[10],c=e[11],h=e[12];return 8!=r?void this.emit("error",new Error("Unsupported bit depth "+r)):i in u?0!=a?void this.emit("error",new Error("Unsupported compression method")):0!=c?void this.emit("error",new Error("Unsupported filter method")):0!=h?void this.emit("error",new Error("Unsupported interlace method")):(this._colorType=i,this._data=new t(o*n*4),this._filter=new l(o,n,u[this._colorType],this._data,this._options),this._hasIHDR=!0,this.emit("metadata",{width:o,height:n,palette:!!(i&s.COLOR_PALETTE),color:!!(i&s.COLOR_COLOR),alpha:!!(i&s.COLOR_ALPHA),data:this._data}),void this._handleChunkEnd()):void this.emit("error",new Error("Unsupported color type"))},c.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},c.prototype._parsePLTE=function(e){this._crc.write(e);for(var t=Math.floor(e.length/3),o=0;o<t;o++)this._palette.push([e.readUInt8(3*o),e.readUInt8(3*o+1),e.readUInt8(3*o+2),255]);this._handleChunkEnd()},c.prototype._handleTRNS=function(e){this.read(e,this._parseTRNS.bind(this))},c.prototype._parseTRNS=function(e){if(this._crc.write(e),3==this._colorType){if(0==this._palette.length)return void this.emit("error",new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.emit("error",new Error("More transparent colors than palette size"));for(var t=0;t<this._palette.length;t++)this._palette[t][3]=t<e.length?e.readUInt8(t):255}this._handleChunkEnd()},c.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},c.prototype._parseGAMA=function(e){this._crc.write(e),this.emit("gamma",e.readUInt32BE(0)/1e5),this._handleChunkEnd()},c.prototype._handleIDAT=function(e){this.read(-e,this._parseIDAT.bind(this,e))},c.prototype._parseIDAT=function(e,t){if(this._crc.write(t),3==this._colorType&&0==this._palette.length)throw new Error("Expected palette not found");this._inflate||(this._inflate=r.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._reverseFiltered.bind(this)),this._inflate.pipe(this._filter)),this._inflate.write(t),e-=t.length,e>0?this._handleIDAT(e):this._handleChunkEnd()},c.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},c.prototype._parseIEND=function(e){this._crc.write(e),this._inflate.end(),this._hasIEND=!0,this._handleChunkEnd()};var u={0:1,2:3,3:1,4:2,6:4};c.prototype._reverseFiltered=function(e,t,o){if(3==this._colorType)for(var n=t<<2,r=0;r<o;r++)for(var i=r*n,a=0;a<t;a++)for(var s=i+(a<<2),l=this._palette[e[s]],c=0;c<4;c++)e[s+c]=l[c];this.emit("parsed",e)}}).call(t,o(1).Buffer)},function(e,t,o){(function(e,n){"use strict";var r=o(13),i=o(8),a=o(1048),s=o(1047),l=t.PNG=function(t){i.call(this),t=t||{},this.width=t.width||0,this.height=t.height||0,this.data=this.width>0&&this.height>0?new e(4*this.width*this.height):null,this.gamma=0,this.readable=this.writable=!0,this._parser=new a(t||{}),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new s(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};r.inherits(l,i),l.prototype.pack=function(){return n.nextTick(function(){this._packer.pack(this.data,this.width,this.height)}.bind(this)),this},l.prototype.parse=function(e,t){if(t){var o=null,n=null;this.once("parsed",o=function(e){this.removeListener("error",n),this.data=e,t(null,this)}.bind(this)),this.once("error",n=function(e){this.removeListener("parsed",o),t(e,null)}.bind(this))}return this.end(e),this},l.prototype.write=function(e){return this._parser.write(e),!0},l.prototype.end=function(e){this._parser.end(e)},l.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.data=e.data,delete e.data,this.emit("metadata",e)},l.prototype._gamma=function(e){this.gamma=e},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.prototype.bitblt=function(e,t,o,n,r,i,a){var s=this;if(t>s.width||o>s.height||t+n>s.width||o+r>s.height)throw new Error("bitblt reading outside image");if(i>e.width||a>e.height||i+n>e.width||a+r>e.height)throw new Error("bitblt writing outside image");for(var l=0;l<r;l++)s.data.copy(e.data,(a+l)*e.width+i<<2,(o+l)*s.width+t<<2,(o+l)*s.width+t+n<<2);return this}}).call(t,o(1).Buffer,o(5))},function(e,t,o){"use strict";function n(e,t){var o,n,r,i=0;if(3===e.shape.length)if(3===e.shape[2])for(o=0;o<e.shape[0];++o)for(n=0;n<e.shape[1];++n)t[i++]=e.get(o,n,0)>>>0,t[i++]=e.get(o,n,1)>>>0,t[i++]=e.get(o,n,2)>>>0,t[i++]=255;else if(4===e.shape[2])for(o=0;o<e.shape[0];++o)for(n=0;n<e.shape[1];++n)t[i++]=e.get(o,n,0)>>>0,t[i++]=e.get(o,n,1)>>>0,t[i++]=e.get(o,n,2)>>>0,t[i++]=e.get(o,n,3)>>>0;else{if(1!==e.shape[3])return new Error("Incompatible array shape");for(o=0;o<e.shape[0];++o)for(n=0;n<e.shape[1];++n){var r=e.get(o,n,0)>>>0;t[i++]=r,t[i++]=r,t[i++]=r,t[i++]=255}}else{if(2!==e.shape.length)return new Error("Incompatible array shape");for(o=0;o<e.shape[0];++o)for(n=0;n<e.shape[1];++n){var r=e.get(o,n,0)>>>0;t[i++]=r,t[i++]=r,t[i++]=r,t[i++]=255}}return t}function r(e){var t=a();return t.emit("error",e),t}var i=o(1049).PNG,a=o(210);e.exports=function(e,t){switch(t.toUpperCase()){case"PNG":case".PNG":var o=new i({width:e.shape[1],height:e.shape[0]}),a=n(e,o.data);return"Error"==typeof a?r(a):(o.data=a,o.pack());case"CANVAS":var s=document.createElement("canvas"),l=s.getContext("2d");s.width=e.shape[1],s.height=e.shape[0];var c=l.getImageData(0,0,s.width,s.height),a=c.data;
return a=n(e,a),"Error"==typeof a?r(a):(l.putImageData(c,0,0),s);default:return r(new Error("Unsupported file type: "+t))}}},function(e,t,o){"use strict";function n(e,t,o){var n,l,c=t.shape,u=c.length,h=1,g=new Array(u),d=0;for(n=u-1;n>=0;--n)if(g[n]=h,h*=c[n],d=Math.max(d,s.scratchMemory(c[n])),t.shape[n]!==o.shape[n])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var f,p=4*h+d;f="array"===t.dtype||"float64"===t.dtype||"custom"===t.dtype?a.mallocDouble(p):a.mallocFloat(p);var y,b,_,m,v=i(f,c.slice(0),g,0),E=i(f,c.slice(0),g.slice(0),h),k=i(f,c.slice(0),g.slice(0),2*h),T=i(f,c.slice(0),g.slice(0),3*h),S=4*h;for(r.assign(v,t),r.assign(E,o),n=u-1;n>=0&&(s(e,h/c[n],c[n],f,v.offset,E.offset,S),0!==n);--n){for(b=1,_=k.stride,m=T.stride,l=n-1;l<u;++l)m[l]=_[l]=b,b*=c[l];for(l=n-2;l>=0;--l)m[l]=_[l]=b,b*=c[l];r.assign(k,v),r.assign(T,E),y=v,v=k,k=y,y=E,E=T,T=y}r.assign(t,v),r.assign(o,E),a.free(f)}var r=o(79),i=o(14),a=o(80),s=o(1052);e.exports=n},function(e,t,o){function n(e,t,o,n,r,l,c){e|=0,t|=0,o|=0,r|=0,l|=0,s.isPow2(o)?i(e,t,o,n,r,l):a(e,t,o,n,r,l,c)}function r(e){return s.isPow2(e)?0:2*e+4*s.nextPow2(2*e+1)}function i(e,t,o,n,r,i){e|=0,t|=0,o|=0,r|=0,i|=0;var a,l,c,u,h,g,d,f,p,y,b,_,m,v,E,k,T,S,C,B,A,w,I,O,R;for(a=o,l=s.log2(a),S=0;S<t;++S){for(d=a>>1,h=0,c=0;c<a-1;c++){for(c<h&&(m=n[r+c],n[r+c]=n[r+h],n[r+h]=m,m=n[i+c],n[i+c]=n[i+h],n[i+h]=m),g=d;g<=h;)h-=g,g>>=1;h+=g}for(b=-1,_=0,y=1,f=0;f<l;f++){for(p=y,y<<=1,k=1,T=0,h=0;h<p;h++){for(c=h;c<a;c+=y)u=c+p,C=n[r+u],B=n[i+u],A=n[r+c],w=n[i+c],I=k*(C+B),O=C*(T-k),R=B*(k+T),v=I-R,E=I+O,n[r+u]=A-v,n[i+u]=w-E,n[r+c]+=v,n[i+c]+=E;I=b*(k+T),O=k*(_-b),R=T*(b+_),k=I-R,T=I+O}_=Math.sqrt((1-b)/2),e<0&&(_=-_),b=Math.sqrt((1+b)/2)}if(e<0){var M=1/a;for(c=0;c<a;c++)n[r+c]*=M,n[i+c]*=M}r+=o,i+=o}}function a(e,t,o,n,r,a,l){e|=0,t|=0,o|=0,r|=0,a|=0,l|=0;var c,u,h,g,d,f,p,y,b,_=s.nextPow2(2*o+1),m=l,v=m+o,E=v+o,k=E+_,T=k+_,S=T+_,C=-e*Math.PI/o;for(b=0;b<o;++b)u=C*(b*b%(2*o)),g=Math.cos(u),d=Math.sin(u),n[T+(_-b)]=n[T+b]=n[m+b]=g,n[S+(_-b)]=n[S+b]=n[v+b]=d;for(b=o;b<=_-o;++b)n[T+b]=0;for(b=o;b<=_-o;++b)n[S+b]=0;for(i(1,1,_,n,T,S),C=e<0?1/o:1,c=0;c<t;++c){for(b=0;b<o;++b)u=n[r+b],h=n[a+b],g=n[m+b],d=-n[v+b],f=g*(u+h),p=u*(d-g),y=h*(g+d),n[E+b]=f-y,n[k+b]=f+p;for(b=o;b<_;++b)n[E+b]=0;for(b=o;b<_;++b)n[k+b]=0;for(i(1,1,_,n,E,k),b=0;b<_;++b)u=n[E+b],h=n[k+b],g=n[T+b],d=n[S+b],f=g*(u+h),p=u*(d-g),y=h*(g+d),n[E+b]=f-y,n[k+b]=f+p;for(i(-1,1,_,n,E,k),b=0;b<o;++b)u=n[E+b],h=n[k+b],g=n[m+b],d=-n[v+b],f=g*(u+h),p=u*(d-g),y=h*(g+d),n[r+b]=C*(f-y),n[a+b]=C*(f+p);r+=o,a+=o}}var s=o(336);e.exports=n,e.exports.scratchMemory=r},function(e,t,o){"use strict";function n(e){this.length=e,this.store=a?new Map:{}}function r(e){for(var t=1,o=0;o<e.length;++o)t*=e[o];return i(new n(t),e)}var i=o(14),a=!("undefined"==typeof Map);a?(n.prototype.get=function(e){return this.store.get(e)||0},n.prototype.set=function(e,t){return 0===t?this.store.delete(e):this.store.set(e,t),t}):(n.prototype.get=function(e){return this.store[e]||0},n.prototype.set=function(e,t){return 0===t?delete this.store[e]:this.store[e]=t,t}),e.exports=r},728,[1231,1056],[1232,1057,1054],[1174,1059],[1175,56],[1176,1058],function(e,t,o){"use strict";var n=o(14),r=o(1061);e.exports=function(e,t){for(var o=[],i=e,a=1;Array.isArray(i);)o.push(i.length),a*=i.length,i=i[0];return 0===o.length?n():(t||(t=n(new Float64Array(a),o)),r(t,e),t)}},function(e,t,o){e.exports=o(1062)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},[1174,1064],[1175,56],[1176,1063],function(e,t,o){"use strict";function n(e,t,o,n){"undefined"==typeof o&&(o=-(1/0)),"undefined"==typeof n&&(n=1/0);var s=t.shape,c=e.shape;if(t.shape.length!==e.shape.length)throw new Error("ndarray-resample: input and output arrays should have the same dimensions");var u,h=s.map(function(){return 0});if(1===e.size)return u=a.sum(t)/t.size,u<o&&(u=o),u>n&&(u=n),void e.set.apply(e,h.concat(u));if(1===t.size)return u=t.get.apply(t,h),u<o&&(u=o),u>n&&(u=n),void a.assigns(e,u);for(var g=s.length,d=new Array(g),f=!1,p=0;p<g;p++)d[p]=Math.min(c[p],s[p]),c[p]>s[p]&&(f=!0);var y=i.malloc(s),b=i.malloc(s);a.assign(y,t),a.assigns(b,0),r(1,y,b);var _=y.lo,m=y.hi,v=i.malloc(c),E=i.malloc(c);f&&(a.assigns(v,0),a.assigns(E,0));for(var k=new Array(g),T=new Array(g),S=new Array(g),C=new Array(g),p=0;p<1<<g;++p){for(var B=0;B<g;++B)if(p&1<<B){if(k[B]=d[B]-(d[B]+1>>>1),0===k[B])continue;T[B]=c[B]-k[B],S[B]=s[B]-k[B],C[B]=1&d[B]?0:1}else k[B]=d[B]+1>>>1,T[B]=0,S[B]=0,C[B]=0;a.assign(m.apply(_.apply(v,T),k),m.apply(_.apply(y,S),k)),a.assign(_.apply(m.apply(_.apply(E,T),k),C),_.apply(m.apply(_.apply(b,S),k),C)),a.assigns(m.apply(m.apply(_.apply(E,T),k),C),0)}r(-1,v,E),l(e,v,e.size/t.size,o,n),i.free(y),i.free(b),i.free(v),i.free(E)}var r=o(1051),i=o(1066),a=o(79),s=o(201),l=s({args:["array","array","scalar","scalar","scalar"],body:function(e,t,o,n,r){var i=t*o;i<n&&(i=n),i>r&&(i=r),e=i}});e.exports=n},function(e,t,o){"use strict";function n(e){var t=e.dtype;"generic"!==t&&"array"!==t||(t="double");var o=h.malloc(e.size,t),n=c(o,e.shape);return u.assign(n,e),n}function r(e,t){t||(t="double");for(var o=1,n=new Array(e.length),r=e.length-1;r>=0;--r)n[r]=o,o*=e[r];return c(h.malloc(o,t),e,n,0)}function i(e){"generic"!==e.dtype&&"array"!==e.dtype&&h.free(e.data)}function a(e,t){t||(t="double");for(var o=1,n=new Array(e.length),r=e.length-1;r>=0;--r)n[r]=o,o*=e[r];for(var i=h.malloc(o,t),r=0;r<o;++r)i[r]=0;return c(i,e,n,0)}function s(e,t){t||(t="double");for(var o=1,n=new Array(e.length),r=e.length-1;r>=0;--r)n[r]=o,o*=e[r];for(var i=h.malloc(o,t),r=0;r<o;++r)i[r]=1;return c(i,e,n,0)}function l(e,t){var o,n;t||(t="double");var r=1,i=new Array(e.length);for(o=e.length-1;o>=0;--o)i[o]=r,r*=e[o];var a=h.malloc(r,t);for(o=0;o<r;++o)a[o]=0;var s=1/0,l=0;for(o=e.length-1;o>=0;o--)l+=i[o],s=Math.min(s,e[o]);for(o=0,n=0;o<s;o++,n+=l)a[n]=1;return c(a,e,i,0)}var c=o(14),u=o(79),h=o(80);t.clone=n,t.malloc=r,t.free=i,t.zeros=a,t.ones=s,t.eye=l},function(e,t){function o(e,t,o,r){function i(e){var t=e.length;if(t<2||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}var a=0,r=void 0===r?{}:r,s=void 0===r.loop?null:r.loop,l=void 0===r.palette?null:r.palette;if(t<=0||o<=0||t>65535||o>65535)throw"Width/Height invalid.";e[a++]=71,e[a++]=73,e[a++]=70,e[a++]=56,e[a++]=57,e[a++]=97;var c=0,u=0;if(null!==l){for(var h=i(l);h>>=1;)++c;if(h=1<<c,--c,void 0!==r.background){if(u=r.background,u>=h)throw"Background index out of range.";if(0===u)throw"Background index explicitly passed as 0."}}if(e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&o,e[a++]=o>>8&255,e[a++]=(null!==l?128:0)|c,e[a++]=u,e[a++]=0,null!==l)for(var g=0,d=l.length;g<d;++g){var f=l[g];e[a++]=f>>16&255,e[a++]=f>>8&255,e[a++]=255&f}if(null!==s){if(s<0||s>65535)throw"Loop count invalid.";e[a++]=33,e[a++]=255,e[a++]=11,e[a++]=78,e[a++]=69,e[a++]=84,e[a++]=83,e[a++]=67,e[a++]=65,e[a++]=80,e[a++]=69,e[a++]=50,e[a++]=46,e[a++]=48,e[a++]=3,e[a++]=1,e[a++]=255&s,e[a++]=s>>8&255,e[a++]=0}var p=!1;this.addFrame=function(t,o,r,s,c,u){if(p===!0&&(--a,p=!1),u=void 0===u?{}:u,t<0||o<0||t>65535||o>65535)throw"x/y invalid.";if(r<=0||s<=0||r>65535||s>65535)throw"Width/Height invalid.";if(c.length<r*s)throw"Not enough pixels for the frame size.";var h=!0,g=u.palette;if(void 0!==g&&null!==g||(h=!1,g=l),void 0===g||null===g)throw"Must supply either a local or global palette.";for(var d=i(g),f=0;d>>=1;)++f;d=1<<f;var y=void 0===u.delay?0:u.delay,b=void 0===u.disposal?0:u.disposal;if(b<0||b>3)throw"Disposal out of range.";var _=!1,m=0;if(void 0!==u.transparent&&null!==u.transparent&&(_=!0,m=u.transparent,m<0||m>=d))throw"Transparent color index.";if((0!==b||_||0!==y)&&(e[a++]=33,e[a++]=249,e[a++]=4,e[a++]=b<<2|(_===!0?1:0),e[a++]=255&y,e[a++]=y>>8&255,e[a++]=m,e[a++]=0),e[a++]=44,e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&o,e[a++]=o>>8&255,e[a++]=255&r,e[a++]=r>>8&255,e[a++]=255&s,e[a++]=s>>8&255,e[a++]=h===!0?128|f-1:0,h===!0)for(var v=0,E=g.length;v<E;++v){var k=g[v];e[a++]=k>>16&255,e[a++]=k>>8&255,e[a++]=255&k}a=n(e,a,f<2?2:f,c)},this.end=function(){return p===!1&&(e[a++]=59,p=!0),a}}function n(e,t,o,n){function r(o){for(;g>=o;)e[t++]=255&d,d>>=8,g-=8,t===a+256&&(e[a]=255,a=t++)}function i(e){d|=e<<g,g+=h,r(8)}e[t++]=o;var a=t++,s=1<<o,l=s-1,c=s+1,u=c+1,h=o+1,g=0,d=0,f=n[0]&l,p={};i(s);for(var y=1,b=n.length;y<b;++y){var _=n[y]&l,m=f<<8|_,v=p[m];if(void 0===v){for(d|=f<<g,g+=h;g>=8;)e[t++]=255&d,d>>=8,g-=8,t===a+256&&(e[a]=255,a=t++);4096===u?(i(s),u=c+1,h=o+1,p={}):(u>=1<<h&&++h,p[m]=u++),f=_}else f=v}return i(f),i(c),r(1),a+1===t?e[a]=0:(e[a]=t-a-1,e[t++]=0),t}function r(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!==(e[t++]+1&253)||97!==e[t++])throw"Invalid GIF 87a/89a header.";var o=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,s=7&r,l=1<<s+1;e[t++];e[t++];var c=null;a&&(c=t,t+=3*l);var u=!0,h=[],g=0,d=null,f=0,p=null;for(this.width=o,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var y=e[t++];if(0===y)break;t+=y}break;case 249:if(4!==e[t++]||0!==e[t+4])throw"Invalid graphics extension block.";var b=e[t++];g=e[t++]|e[t++]<<8,d=e[t++],0===(1&b)&&(d=null),f=b>>2&7,t++;break;case 254:for(;;){var y=e[t++];if(0===y)break;t+=y}break;default:throw"Unknown graphic control label: 0x"+e[t-1].toString(16)}break;case 44:var _=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,k=e[t++],T=k>>7,S=k>>6&1,C=7&k,B=1<<C+1,A=c,w=!1;if(T){var w=!0;A=t,t+=3*B}var I=t;for(t++;;){var y=e[t++];if(0===y)break;t+=y}h.push({x:_,y:m,width:v,height:E,has_local_palette:w,palette_offset:A,data_offset:I,data_length:t-I,transparent_index:d,interlaced:!!S,delay:g,disposal:f});break;case 59:u=!1;break;default:throw"Unknown gif block: 0x"+e[t-1].toString(16)}this.numFrames=function(){return h.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=h.length)throw"Frame index out of range.";return h[e]},this.decodeAndBlitFrameBGRA=function(t,n){var r=this.frameInfo(t),a=r.width*r.height,s=new Uint8Array(a);i(e,r.data_offset,s,a);var l=r.palette_offset,c=r.transparent_index;null===c&&(c=256);var u=r.width,h=o-u,g=u,d=4*(r.y*o+r.x),f=4*((r.y+r.height)*o+r.x),p=d,y=4*h;r.interlaced===!0&&(y+=4*o*7);for(var b=8,_=0,m=s.length;_<m;++_){var v=s[_];if(0===g&&(p+=y,g=u,p>=f&&(y=4*h+4*o*(b-1),p=d+(u+h)*(b<<1),b>>=1)),v===c)p+=4;else{var E=e[l+3*v],k=e[l+3*v+1],T=e[l+3*v+2];n[p++]=T,n[p++]=k,n[p++]=E,n[p++]=255}--g}},this.decodeAndBlitFrameRGBA=function(t,n){var r=this.frameInfo(t),a=r.width*r.height,s=new Uint8Array(a);i(e,r.data_offset,s,a);var l=r.palette_offset,c=r.transparent_index;null===c&&(c=256);var u=r.width,h=o-u,g=u,d=4*(r.y*o+r.x),f=4*((r.y+r.height)*o+r.x),p=d,y=4*h;r.interlaced===!0&&(y+=4*o*7);for(var b=8,_=0,m=s.length;_<m;++_){var v=s[_];if(0===g&&(p+=y,g=u,p>=f&&(y=4*h+4*o*(b-1),p=d+(u+h)*(b<<1),b>>=1)),v===c)p+=4;else{var E=e[l+3*v],k=e[l+3*v+1],T=e[l+3*v+2];n[p++]=E,n[p++]=k,n[p++]=T,n[p++]=255}--g}}}function i(e,t,o,n){for(var r=e[t++],i=1<<r,a=i+1,s=a+1,l=r+1,c=(1<<l)-1,u=0,h=0,g=0,d=e[t++],f=new Int32Array(4096),p=null;;){for(;u<16&&0!==d;)h|=e[t++]<<u,u+=8,1===d?d=e[t++]:--d;if(u<l)break;var y=h&c;if(h>>=l,u-=l,y!==i){if(y===a)break;for(var b=y<s?y:p,_=0,m=b;m>i;)m=f[m]>>8,++_;var v=m,E=g+_+(b!==y?1:0);if(E>n)return void console.log("Warning, gif stream longer than expected.");o[g++]=v,g+=_;var k=g;for(b!==y&&(o[g++]=v),m=b;_--;)m=f[m],o[--k]=255&m,m>>=8;null!==p&&s<4096&&(f[s++]=p<<8|v,s>=c+1&&l<12&&(++l,c=c<<1|1)),p=y}else s=a+1,l=r+1,c=(1<<l)-1,p=null}return g!==n&&console.log("Warning, gif stream shorter than expected."),o}try{t.GifWriter=o,t.GifReader=r}catch(a){}},function(e,t,o){var n;!function(r,i,a,s,l,c,u,h,g){function d(e){if("[object Array]"===Object.prototype.toString.apply(e)){if("string"==typeof e[0]&&"function"==typeof d[e[0]])return new d[e[0]](e.slice(1,e.length));if(4===e.length)return new d.RGB(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}else if("string"==typeof e){var t=e.toLowerCase();b[t]&&(e="#"+b[t]),"transparent"===t&&(e="rgba(0,0,0,0)");var o=e.match(k);if(o){var n=o[1].toUpperCase(),r=_(o[8])?o[8]:a(o[8]),l="H"===n[0],c=o[3]?100:l?360:255,u=o[5]||l?100:255,h=o[7]||l?100:255;if(_(d[n]))throw new Error("one.color."+n+" is not installed.");return new d[n](a(o[2])/c,a(o[4])/u,a(o[6])/h,r)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var g=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(g)return new d.RGB(s(g[1],16)/255,s(g[2],16)/255,s(g[3],16)/255);if(d.CMYK){var f=e.match(new i("^cmyk\\("+v.source+","+v.source+","+v.source+","+v.source+"\\)$","i"));if(f)return new d.CMYK(a(f[1])/100,a(f[2])/100,a(f[3])/100,a(f[4])/100)}}else if("object"==typeof e&&e.isColor)return e;return!1}function f(e,t,o){function n(e,t){var o={};o[t.toLowerCase()]=new l("return this.rgb()."+t.toLowerCase()+"();"),d[t].propertyNames.forEach(function(e,n){o[e]=o["black"===e?"k":e[0]]=new l("value","isDelta","return this."+t.toLowerCase()+"()."+e+"(value, isDelta);")});for(var n in o)o.hasOwnProperty(n)&&void 0===d[e].prototype[n]&&(d[e].prototype[n]=o[n])}d[e]=new l(t.join(","),"if (Object.prototype.toString.apply("+t[0]+") === '[object Array]') {"+t.map(function(e,o){return e+"="+t[0]+"["+o+"];"}).reverse().join("")+"}if ("+t.filter(function(e){return"alpha"!==e}).map(function(e){return"isNaN("+e+")"}).join("||")+'){throw new Error("['+e+']: Invalid color: ("+'+t.join('+","+')+'+")");}'+t.map(function(e){return"hue"===e?"this._hue=hue<0?hue-Math.floor(hue):hue%1":"alpha"===e?"this._alpha=(isNaN(alpha)||alpha>1)?1:(alpha<0?0:alpha);":"this._"+e+"="+e+"<0?0:("+e+">1?1:"+e+")"}).join(";")+";"),d[e].propertyNames=t;var i=d[e].prototype;["valueOf","hex","hexa","css","cssa"].forEach(function(t){i[t]=i[t]||("RGB"===e?i.hex:new l("return this.rgb()."+t+"();"))}),i.isColor=!0,i.equals=function(o,n){_(n)&&(n=1e-10),o=o[e.toLowerCase()]();for(var i=0;i<t.length;i+=1)if(r.abs(this["_"+t[i]]-o["_"+t[i]])>n)return!1;return!0},i.toJSON=new l("return ['"+e+"', "+t.map(function(e){return"this._"+e},this).join(", ")+"];");for(var a in o)if(o.hasOwnProperty(a)){var s=a.match(/^from(.*)$/);s?d[s[1].toUpperCase()].prototype[e.toLowerCase()]=o[a]:i[a]=o[a]}i[e.toLowerCase()]=function(){return this},i.toString=new l('return "[one.color.'+e+':"+'+t.map(function(e,o){return'" '+t[o]+'="+this._'+e}).join("+")+'+"]";'),t.forEach(function(e,o){i[e]=i["black"===e?"k":e[0]]=new l("value","isDelta","if (typeof value === 'undefined') {return this._"+e+";}if (isDelta) {return new this.constructor("+t.map(function(t,o){return"this._"+t+(e===t?"+value":"")}).join(", ")+");}return new this.constructor("+t.map(function(t,o){return e===t?"value":"this._"+t}).join(", ")+");")}),y.forEach(function(t){n(e,t),n(t,e)}),y.push(e)}function p(){var e=this.rgb(),t=.3*e._red+.59*e._green+.11*e._blue;return new d.RGB(t,t,t,this._alpha)}var y=[],b={},_=function(e){return"undefined"==typeof e},m=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,v=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,E=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,k=new i("^(rgb|hsl|hsv)a?\\("+m.source+","+m.source+","+m.source+"(?:,"+E.source+")?\\)$","i");d.installMethod=function(e,t){y.forEach(function(o){d[o].prototype[e]=t})},f("RGB",["red","green","blue","alpha"],{hex:function(){var e=(65536*u(255*this._red)+256*u(255*this._green)+u(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=u(255*this._alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+u(255*this._red)+","+u(255*this._green)+","+u(255*this._blue)+")"},cssa:function(){return"rgba("+u(255*this._red)+","+u(255*this._green)+","+u(255*this._blue)+","+this._alpha+")"}}),_(o(881))?e.exports=d:(n=function(){return d}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))),"undefined"!=typeof jQuery&&_(jQuery.color)&&(jQuery.color=d),b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},f("XYZ",["x","y","z","alpha"],{fromRgb:function(){var e=function(e){return e>.04045?h((e+.055)/1.055,2.4):e/12.92},t=e(this._red),o=e(this._green),n=e(this._blue);return new d.XYZ(.4124564*t+.3575761*o+.1804375*n,.2126729*t+.7151522*o+.072175*n,.0193339*t+.119192*o+.9503041*n,this._alpha)},rgb:function(){var e=this._x,t=this._y,o=this._z,n=function(e){return e>.0031308?1.055*h(e,1/2.4)-.055:12.92*e};return new d.RGB(n(3.2404542*e+t*-1.5371385+o*-.4985314),n(e*-.969266+1.8760108*t+.041556*o),n(.0556434*e+t*-.2040259+1.0572252*o),this._alpha)},lab:function(){var e=function(e){return e>.008856?h(e,1/3):7.787037*e+4/29},t=e(this._x/95.047),o=e(this._y/100),n=e(this._z/108.883);return new d.LAB(116*o-16,500*(t-o),200*(o-n),this._alpha)}}),f("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var e=function(e){var t=h(e,3);return t>.008856?t:(e-16/116)/7.87},t=(this._l+16)/116,o=this._a/500+t,n=t-this._b/200;return new d.XYZ(95.047*e(o),100*e(t),108.883*e(n),this._alpha)}}),f("HSV",["hue","saturation","value","alpha"],{rgb:function(){var e,t,o,n=this._hue,i=this._saturation,a=this._value,s=g(5,r.floor(6*n)),l=6*n-s,c=a*(1-i),u=a*(1-l*i),h=a*(1-(1-l)*i);switch(s){case 0:e=a,t=h,o=c;break;case 1:e=u,t=a,o=c;break;case 2:e=c,t=a,o=h;break;case 3:e=c,t=u,o=a;break;case 4:e=h,t=c,o=a;break;case 5:e=a,t=c,o=u}return new d.RGB(e,t,o,this._alpha)},hsl:function(){var e,t=(2-this._saturation)*this._value,o=this._saturation*this._value,n=t<=1?t:2-t;return e=n<1e-9?0:o/n,new d.HSL(this._hue,e,t/2,this._alpha)},fromRgb:function(){var e,t=this._red,o=this._green,n=this._blue,i=r.max(t,o,n),a=g(t,o,n),s=i-a,l=0===i?0:s/i,c=i;if(0===s)e=0;else switch(i){case t:e=(o-n)/s/6+(o<n?1:0);break;case o:e=(n-t)/s/6+1/3;break;case n:e=(t-o)/s/6+2/3}return new d.HSV(e,l,c,this._alpha)}}),f("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var e,t=2*this._lightness,o=this._saturation*(t<=1?t:2-t);return e=t+o<1e-9?0:2*o/(t+o),new d.HSV(this._hue,e,(t+o)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}}),f("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new d.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var e=this._red,t=this._green,o=this._blue,n=1-e,r=1-t,i=1-o,a=1;return e||t||o?(a=g(n,g(r,i)),n=(n-a)/(1-a),r=(r-a)/(1-a),i=(i-a)/(1-a)):a=1,new d.CMYK(n,r,i,a,this._alpha)}}),d.installMethod("clearer",function(e){return this.alpha(c(e)?-.1:-e,!0)}),d.installMethod("darken",function(e){return this.lightness(c(e)?-.1:-e,!0)}),d.installMethod("desaturate",function(e){return this.saturation(c(e)?-.1:-e,!0)}),d.installMethod("greyscale",p),d.installMethod("grayscale",p),d.installMethod("lighten",function(e){return this.lightness(c(e)?.1:e,!0)}),d.installMethod("mix",function(e,t){e=d(e).rgb(),t=1-(c(t)?.5:t);var o=2*t-1,n=this._alpha-e._alpha,r=((o*n===-1?o:(o+n)/(1+o*n))+1)/2,i=1-r,a=this.rgb();return new d.RGB(a._red*r+e._red*i,a._green*r+e._green*i,a._blue*r+e._blue*i,a._alpha*t+e._alpha*(1-t))}),d.installMethod("negate",function(){var e=this.rgb();return new d.RGB(1-e._red,1-e._green,1-e._blue,this._alpha)}),d.installMethod("opaquer",function(e){return this.alpha(c(e)?.1:e,!0)}),d.installMethod("rotate",function(e){return this.hue((e||0)/360,!0)}),d.installMethod("saturate",function(e){return this.saturation(c(e)?.1:e,!0)}),d.installMethod("toAlpha",function(e){var t=this.rgb(),o=d(e).rgb(),n=1e-10,r=new d.RGB(0,0,0,t._alpha),i=["_red","_green","_blue"];return i.forEach(function(e){t[e]<n?r[e]=t[e]:t[e]>o[e]?r[e]=(t[e]-o[e])/(1-o[e]):t[e]>o[e]?r[e]=(o[e]-t[e])/o[e]:r[e]=0}),r._red>r._green?r._red>r._blue?t._alpha=r._red:t._alpha=r._blue:r._green>r._blue?t._alpha=r._green:t._alpha=r._blue,t._alpha<n?t:(i.forEach(function(e){t[e]=(t[e]-o[e])/t._alpha+o[e]}),t._alpha*=r._alpha,t)})}(Math,RegExp,parseFloat,parseInt,Function,isNaN,Math.round,Math.pow,Math.min)},[1240,1094],[1241,55,1071,1072,383],[1242,1073,55,381,208,385],[1243,1076,55,381,383,208,385,1074],[1166,55,1078,382,384,208],740,535,[1167,55,382,384,1075,1077],[1168,55],[1169,55],function(e,t,o){(function(t){"use strict";var n=o(92);e.exports=function(e,o,r,i){var a=i.colorType===n.COLORTYPE_COLOR_ALPHA;if(i.inputHasAlpha&&a)return e;if(!i.inputHasAlpha&&!a)return e;var s=a?4:3,l=new t(o*r*s),c=i.inputHasAlpha?4:3,u=0,h=0,g=i.bgColor||{};void 0===g.red&&(g.red=255),void 0===g.green&&(g.green=255),void 0===g.blue&&(g.blue=255);for(var d=0;d<r;d++)for(var f=0;f<o;f++){var p,y=e[u],b=e[u+1],_=e[u+2];i.inputHasAlpha?(p=e[u+3],a||(p/=255,y=Math.min(Math.max(Math.round((1-p)*g.red+p*y),0),255),b=Math.min(Math.max(Math.round((1-p)*g.green+p*b),0),255),_=Math.min(Math.max(Math.round((1-p)*g.blue+p*_),0),255))):p=255,l[h]=y,l[h+1]=b,l[h+2]=_,a&&(l[h+3]=p),u+=c,h+=s}return l}}).call(t,o(1).Buffer)},function(e,t,o){(function(t){"use strict";function n(e,t,o,n,r){e.copy(n,r,t,t+o)}function r(e,t,o){for(var n=0,r=t+o,i=t;i<r;i++)n+=Math.abs(e[i]);return n}function i(e,t,o,n,r,i){for(var a=0;a<o;a++){var s=a>=i?e[t+a-i]:0,l=e[t+a]-s;n[r+a]=l}}function a(e,t,o,n){for(var r=0,i=0;i<o;i++){var a=i>=n?e[t+i-n]:0,s=e[t+i]-a;r+=Math.abs(s)}return r}function s(e,t,o,n,r){for(var i=0;i<o;i++){var a=t>0?e[t+i-o]:0,s=e[t+i]-a;n[r+i]=s}}function l(e,t,o){for(var n=0,r=t+o,i=t;i<r;i++){var a=t>0?e[i-o]:0,s=e[i]-a;n+=Math.abs(s)}return n}function c(e,t,o,n,r,i){for(var a=0;a<o;a++){var s=a>=i?e[t+a-i]:0,l=t>0?e[t+a-o]:0,c=e[t+a]-(s+l>>1);n[r+a]=c}}function u(e,t,o,n){for(var r=0,i=0;i<o;i++){var a=i>=n?e[t+i-n]:0,s=t>0?e[t+i-o]:0,l=e[t+i]-(a+s>>1);r+=Math.abs(l)}return r}function h(e,t,o,n,r,i){for(var a=0;a<o;a++){var s=a>=i?e[t+a-i]:0,l=t>0?e[t+a-o]:0,c=t>0&&a>=i?e[t+a-(o+i)]:0,u=e[t+a]-d(s,l,c);n[r+a]=u}}function g(e,t,o,n){for(var r=0,i=0;i<o;i++){var a=i>=n?e[t+i-n]:0,s=t>0?e[t+i-o]:0,l=t>0&&i>=n?e[t+i-(o+n)]:0,c=e[t+i]-d(a,s,l);r+=Math.abs(c)}return r}var d=o(393),f={0:n,1:i,2:s,3:c,4:h},p={0:r,1:a,2:l,3:u,4:g};e.exports=function(e,o,n,r,i){var a;if("filterType"in r&&r.filterType!==-1){if("number"!=typeof r.filterType)throw new Error("unrecognised filter types");a=[r.filterType]}else a=[0,1,2,3,4];for(var s=o*i,l=0,c=0,u=new t((s+1)*n),h=a[0],g=0;g<n;g++){if(a.length>1)for(var d=1/0,y=0;y<a.length;y++){var b=p[a[y]](e,c,s,i);b<d&&(h=a[y],d=b)}u[l]=h,l++,f[h](e,c,s,u,l,i),l+=s,c+=s}return u}}).call(t,o(1).Buffer)},function(e,t,o){(function(t){"use strict";var n=o(13),r=o(387),i=o(389),a=e.exports=function(e){r.call(this);var o=[],n=this;this._filter=new i(e,{read:this.read.bind(this),write:function(e){o.push(e)},complete:function(){n.emit("complete",t.concat(o))}}),this._filter.start()};n.inherits(a,r)}).call(t,o(1).Buffer)},function(e,t,o){(function(e){"use strict";var n=o(395),r=o(389);t.process=function(t,o){var i=[],a=new n(t),s=new r(o,{read:a.read.bind(a),write:function(e){i.push(e)},complete:function(){}});return s.start(),a.process(),e.concat(i)}}).call(t,o(1).Buffer)},function(e,t,o){(function(t){"use strict";var n=o(13),r=o(8),i=o(92),a=o(392),s=e.exports=function(e){r.call(this);var t=e||{};this._packer=new a(t),this._deflate=this._packer.createDeflate(),this.readable=!0};n.inherits(s,r),s.prototype.pack=function(e,o,n,r){this.emit("data",new t(i.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(o,n)),r&&this.emit("data",this._packer.packGAMA(r));var a=this._packer.filterData(e,o,n);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(a)}}).call(t,o(1).Buffer)},function(e,t,o){(function(t){"use strict";var n=!0,r=o(60);r.deflateSync||(n=!1);var i=o(92),a=o(392);e.exports=function(e,o){if(!n)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var s=o||{},l=new a(s),c=[];c.push(new t(i.PNG_SIGNATURE)),c.push(l.packIHDR(e.width,e.height)),e.gamma&&c.push(l.packGAMA(e.gamma));var u=l.filterData(e.data,e.width,e.height),h=r.deflateSync(u,l.getDeflateOptions());if(u=null,!h||!h.length)throw new Error("bad png - invalid compressed data response");return c.push(l.packIDAT(h)),c.push(l.packIEND()),t.concat(c)}}).call(t,o(1).Buffer)},function(e,t,o){"use strict";var n=o(13),r=o(60),i=o(387),a=o(1081),s=o(394),l=o(386),c=o(390),u=e.exports=function(e){i.call(this),this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};n.inherits(u,i),u.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this.errord=!0},u.prototype._inflateData=function(e){this._inflate||(this._inflate=r.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter)),this._inflate.write(e)},u.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new a(this._bitmapInfo)},u.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},u.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},u.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},u.prototype._complete=function(e){if(!this.errord){try{var t=l.dataToBitMap(e,this._bitmapInfo),o=c(t,this._bitmapInfo);t=null}catch(n){return void this._handleError(n)}this.emit("parsed",o)}}},function(e,t,o){(function(t){"use strict";var n=!0,r=o(60);r.deflateSync||(n=!1);var i=o(395),a=o(1082),s=o(394),l=o(386),c=o(390);e.exports=function(e,o){function u(e){y=e}function h(e){b=e}function g(e){b.transColor=e}function d(e){b.palette=e}function f(e){_=e}function p(e){m.push(e)}if(!n)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var y,b,_,m=[],v=new i(e),E=new s(o,{read:v.read.bind(v),error:u,metadata:h,gamma:f,palette:d,transColor:g,inflateData:p});if(E.start(),v.process(),y)throw y;var k=t.concat(m);m.length=0;var T=r.inflateSync(k);if(k=null,!T||!T.length)throw new Error("bad png - invalid inflate data response");var S=a.process(T,b);k=null;var C=l.dataToBitMap(S,b);S=null;var B=c(C,b);return b.data=B,b.gamma=_||0,b}}).call(t,o(1).Buffer)},function(e,t,o){"use strict";var n=o(1086),r=o(1084);t.read=function(e,t){return n(e,t||{})},t.write=function(e){return r(e)}},function(e,t,o){(function(e,n){"use strict";var r=o(13),i=o(8),a=o(1085),s=o(1083),l=o(1087),c=t.PNG=function(t){i.call(this),t=t||{},this.width=t.width||0,this.height=t.height||0,this.data=this.width>0&&this.height>0?new e(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new s(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};r.inherits(c,i),c.sync=l,c.prototype.pack=function(){return this.data&&this.data.length?(n.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(e,t){if(t){var o,n;o=function(e){this.removeListener("error",n),this.data=e,t(null,this)}.bind(this),n=function(e){this.removeListener("parsed",o),t(e,null)}.bind(this),this.once("parsed",o),this.once("error",n)}return this.end(e),this},c.prototype.write=function(e){return this._parser.write(e),!0},c.prototype.end=function(e){this._parser.end(e)},c.prototype._metadata=function(e){
this.width=e.width,this.height=e.height,this.emit("metadata",e)},c.prototype._gamma=function(e){this.gamma=e},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(e,t,o,n,r,i,a,s){if(o>e.width||n>e.height||o+r>e.width||n+i>e.height)throw new Error("bitblt reading outside image");if(a>t.width||s>t.height||a+r>t.width||s+i>t.height)throw new Error("bitblt writing outside image");for(var l=0;l<i;l++)e.data.copy(t.data,(s+l)*t.width+a<<2,(n+l)*e.width+o<<2,(n+l)*e.width+o+r<<2)},c.prototype.bitblt=function(e,t,o,n,r,i,a){return c.bitblt(this,e,t,o,n,r,i,a),this},c.adjustGamma=function(e){if(e.gamma){for(var t=0;t<e.height;t++)for(var o=0;o<e.width;o++)for(var n=e.width*t+o<<2,r=0;r<3;r++){var i=e.data[n+r]/255;i=Math.pow(i,1/2.2/e.gamma),e.data[n+r]=Math.round(255*i)}e.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(t,o(1).Buffer,o(5))},function(e,t,o){e.exports=o(981)},[1245,1091],782,[1246,397,36,38],[1250,396,398,209,397,1092],868,function(e,t,o){var n=o(1097),r=o(1096);e.exports={encode:n,decode:r}},function(e,t,o){(function(t){function o(e){var o=new Uint8Array(e),r=new n;r.parse(o);for(var i=r.getData(r.width,r.height),a=new t(r.width*r.height*4),s=0,l=0;l<a.length;l++)a[l+(l/3|0)]=i[s++],l%4==3&&(a[l]=255);return{data:a,width:r.width,height:r.height}}var n=function(){"use strict";function e(){}function t(e,t){for(var o,n,r=0,i=[],a=16;a>0&&!e[a-1];)a--;i.push({children:[],index:0});var s,l=i[0];for(o=0;o<a;o++){for(n=0;n<e[o];n++){for(l=i.pop(),l.children[l.index]=t[r];l.index>0;)l=i.pop();for(l.index++,i.push(l);i.length<=o;)i.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;r++}o+1<a&&(i.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return i[0].children}function o(e,t,o,n,r,a,s,l,c){function u(){if(M>0)return M--,R>>M&1;if(R=e[t++],255==R){var o=e[t++];if(o)throw"unexpected marker: "+(R<<8|o).toString(16)}return M=7,R>>>7}function h(e){for(var t,o=e;null!==(t=u());){if(o=o[t],"number"==typeof o)return o;if("object"!=typeof o)throw"invalid huffman sequence"}return null}function g(e){for(var t=0;e>0;){var o=u();if(null===o)return;t=t<<1|o,e--}return t}function d(e){var t=g(e);return t>=1<<e-1?t:t+(-1<<e)+1}function f(e,t){var o=h(e.huffmanTableDC),n=0===o?0:d(o);t[0]=e.pred+=n;for(var r=1;r<64;){var a=h(e.huffmanTableAC),s=15&a,l=a>>4;if(0!==s){r+=l;var c=i[r];t[c]=d(s),r++}else{if(l<15)break;r+=16}}}function p(e,t){var o=h(e.huffmanTableDC),n=0===o?0:d(o)<<c;t[0]=e.pred+=n}function y(e,t){t[0]|=u()<<c}function b(e,t){if(x>0)return void x--;for(var o=a,n=s;o<=n;){var r=h(e.huffmanTableAC),l=15&r,u=r>>4;if(0!==l){o+=u;var f=i[o];t[f]=d(l)*(1<<c),o++}else{if(u<15){x=g(u)+(1<<u)-1;break}o+=16}}}function _(e,t){for(var o=a,n=s,r=0;o<=n;){var l=i[o];switch(N){case 0:var f=h(e.huffmanTableAC),p=15&f,r=f>>4;if(0===p)r<15?(x=g(r)+(1<<r),N=4):(r=16,N=1);else{if(1!==p)throw"invalid ACn encoding";E=d(p),N=r?2:3}continue;case 1:case 2:t[l]?t[l]+=u()<<c:(r--,0===r&&(N=2==N?3:0));break;case 3:t[l]?t[l]+=u()<<c:(t[l]=E<<c,N=0);break;case 4:t[l]&&(t[l]+=u()<<c)}o++}4===N&&(x--,0===x&&(N=0))}function m(e,t,o,n,r){var i=o/w|0,a=o%w,s=i*e.v+n,l=a*e.h+r;t(e,e.blocks[s][l])}function v(e,t,o){var n=o/e.blocksPerLine|0,r=o%e.blocksPerLine;t(e,e.blocks[n][r])}var E,k,T,S,C,B,A,w=(o.precision,o.samplesPerLine,o.scanLines,o.mcusPerLine),I=o.progressive,O=(o.maxH,o.maxV,t),R=0,M=0,x=0,N=0,L=n.length;A=I?0===a?0===l?p:y:0===l?b:_:f;var D,P,F=0;P=1==L?n[0].blocksPerLine*n[0].blocksPerColumn:w*o.mcusPerColumn,r||(r=P);for(var U,H;F<P;){for(T=0;T<L;T++)n[T].pred=0;if(x=0,1==L)for(k=n[0],B=0;B<r;B++)v(k,A,F),F++;else for(B=0;B<r;B++){for(T=0;T<L;T++)for(k=n[T],U=k.h,H=k.v,S=0;S<H;S++)for(C=0;C<U;C++)m(k,A,F,S,C);if(F++,F===P)break}if(M=0,D=e[t]<<8|e[t+1],D<65280)throw"marker was not found";if(!(D>=65488&&D<=65495))break;t+=2}return t-O}function n(e,t){function o(e,o,n){var r,i,f,p,y,b,_,m,v,E,k=t.quantizationTable,T=n;for(E=0;E<64;E++)T[E]=e[E]*k[E];for(E=0;E<8;++E){var S=8*E;0!=T[1+S]||0!=T[2+S]||0!=T[3+S]||0!=T[4+S]||0!=T[5+S]||0!=T[6+S]||0!=T[7+S]?(r=g*T[0+S]+128>>8,i=g*T[4+S]+128>>8,f=T[2+S],p=T[6+S],y=d*(T[1+S]-T[7+S])+128>>8,m=d*(T[1+S]+T[7+S])+128>>8,b=T[3+S]<<4,_=T[5+S]<<4,v=r-i+1>>1,r=r+i+1>>1,i=v,v=f*h+p*u+128>>8,f=f*u-p*h+128>>8,p=v,v=y-_+1>>1,y=y+_+1>>1,_=v,v=m+b+1>>1,b=m-b+1>>1,m=v,v=r-p+1>>1,r=r+p+1>>1,p=v,v=i-f+1>>1,i=i+f+1>>1,f=v,v=y*c+m*l+2048>>12,y=y*l-m*c+2048>>12,m=v,v=b*s+_*a+2048>>12,b=b*a-_*s+2048>>12,_=v,T[0+S]=r+m,T[7+S]=r-m,T[1+S]=i+_,T[6+S]=i-_,T[2+S]=f+b,T[5+S]=f-b,T[3+S]=p+y,T[4+S]=p-y):(v=g*T[0+S]+512>>10,T[0+S]=v,T[1+S]=v,T[2+S]=v,T[3+S]=v,T[4+S]=v,T[5+S]=v,T[6+S]=v,T[7+S]=v)}for(E=0;E<8;++E){var C=E;0!=T[8+C]||0!=T[16+C]||0!=T[24+C]||0!=T[32+C]||0!=T[40+C]||0!=T[48+C]||0!=T[56+C]?(r=g*T[0+C]+2048>>12,i=g*T[32+C]+2048>>12,f=T[16+C],p=T[48+C],y=d*(T[8+C]-T[56+C])+2048>>12,m=d*(T[8+C]+T[56+C])+2048>>12,b=T[24+C],_=T[40+C],v=r-i+1>>1,r=r+i+1>>1,i=v,v=f*h+p*u+2048>>12,f=f*u-p*h+2048>>12,p=v,v=y-_+1>>1,y=y+_+1>>1,_=v,v=m+b+1>>1,b=m-b+1>>1,m=v,v=r-p+1>>1,r=r+p+1>>1,p=v,v=i-f+1>>1,i=i+f+1>>1,f=v,v=y*c+m*l+2048>>12,y=y*l-m*c+2048>>12,m=v,v=b*s+_*a+2048>>12,b=b*a-_*s+2048>>12,_=v,T[0+C]=r+m,T[56+C]=r-m,T[8+C]=i+_,T[48+C]=i-_,T[16+C]=f+b,T[40+C]=f-b,T[24+C]=p+y,T[32+C]=p-y):(v=g*n[E+0]+8192>>14,T[0+C]=v,T[8+C]=v,T[16+C]=v,T[24+C]=v,T[32+C]=v,T[40+C]=v,T[48+C]=v,T[56+C]=v)}for(E=0;E<64;++E){var B=128+(T[E]+8>>4);o[E]=B<0?0:B>255?255:B}}for(var n,r,i=[],f=t.blocksPerLine,p=t.blocksPerColumn,y=f<<3,b=new Int32Array(64),_=new Uint8Array(64),m=0;m<p;m++){var v=m<<3;for(n=0;n<8;n++)i.push(new Uint8Array(y));for(var E=0;E<f;E++){o(t.blocks[m][E],_,b);var k=0,T=E<<3;for(r=0;r<8;r++){var S=i[v+r];for(n=0;n<8;n++)S[T+n]=_[k++]}}}return i}function r(e){return e<0?0:e>255?255:e}var i=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),a=4017,s=799,l=3406,c=2276,u=1567,h=3784,g=5793,d=2896;return e.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(e){function r(){var t=e[u]<<8|e[u+1];return u+=2,t}function a(){var t=r(),o=e.subarray(u,u+t-2);return u+=o.length,o}function s(e){var t,o,n=0,r=0;for(o in e.components)e.components.hasOwnProperty(o)&&(t=e.components[o],n<t.h&&(n=t.h),r<t.v&&(r=t.v));var i=Math.ceil(e.samplesPerLine/8/n),a=Math.ceil(e.scanLines/8/r);for(o in e.components)if(e.components.hasOwnProperty(o)){t=e.components[o];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/r),c=i*t.h,u=a*t.v,h=[],g=0;g<u;g++){for(var d=[],f=0;f<c;f++)d.push(new Int32Array(64));h.push(d)}t.blocksPerLine=s,t.blocksPerColumn=l,t.blocks=h}e.maxH=n,e.maxV=r,e.mcusPerLine=i,e.mcusPerColumn=a}var l,c,u=0,h=(e.length,null),g=null,d=[],f=[],p=[],y=[],b=r();if(65496!=b)throw"SOI not found";for(b=r();65497!=b;){var _,m;switch(b){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=a();65504===b&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(h={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65518===b&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(g={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var E=r(),k=E+u-2;u<k;){var T=e[u++],S=new Int32Array(64);if(T>>4===0)for(m=0;m<64;m++){var C=i[m];S[C]=e[u++]}else{if(T>>4!==1)throw"DQT: invalid table spec";for(m=0;m<64;m++){var C=i[m];S[C]=r()}}d[15&T]=S}break;case 65472:case 65473:case 65474:r(),l={},l.extended=65473===b,l.progressive=65474===b,l.precision=e[u++],l.scanLines=r(),l.samplesPerLine=r(),l.components={},l.componentsOrder=[];var B,A=e[u++];for(_=0;_<A;_++){B=e[u];var w=e[u+1]>>4,I=15&e[u+1],O=e[u+2];l.componentsOrder.push(B),l.components[B]={h:w,v:I,quantizationTable:d[O]},u+=3}s(l),f.push(l);break;case 65476:var R=r();for(_=2;_<R;){var M=e[u++],x=new Uint8Array(16),N=0;for(m=0;m<16;m++,u++)N+=x[m]=e[u];var L=new Uint8Array(N);for(m=0;m<N;m++,u++)L[m]=e[u];_+=17+N,(M>>4===0?y:p)[15&M]=t(x,L)}break;case 65501:r(),c=r();break;case 65498:var D,P=(r(),e[u++]),F=[];for(_=0;_<P;_++){D=l.components[e[u++]];var U=e[u++];D.huffmanTableDC=y[U>>4],D.huffmanTableAC=p[15&U],F.push(D)}var H=e[u++],V=e[u++],j=e[u++],G=o(e,u,l,F,c,H,V,j>>4,15&j);u+=G;break;default:if(255==e[u-3]&&e[u-2]>=192&&e[u-2]<=254){u-=3;break}throw"unknown JPEG marker "+b.toString(16)}b=r()}if(1!=f.length)throw"only single frame JPEGs supported";this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=h,this.adobe=g,this.components=[];for(var _=0;_<l.componentsOrder.length;_++){var D=l.components[l.componentsOrder[_]];this.components.push({lines:n(l,D),scaleX:D.h/l.maxH,scaleY:D.v/l.maxV})}},getData:function(e,t){var o,n,i,a,s,l,c,u,h,g,d,f,p,y,b,_,m,v,E,k,T,S=this.width/e,C=this.height/t,B=0,A=e*t*this.components.length,w=new Uint8Array(A);switch(this.components.length){case 1:for(o=this.components[0],g=0;g<t;g++)for(s=o.lines[0|g*o.scaleY*C],h=0;h<e;h++)d=s[0|h*o.scaleX*S],w[B++]=d;break;case 2:for(o=this.components[0],n=this.components[1],g=0;g<t;g++)for(s=o.lines[0|g*o.scaleY*C],l=n.lines[0|g*n.scaleY*C],h=0;h<e;h++)d=s[0|h*o.scaleX*S],w[B++]=d,d=l[0|h*n.scaleX*S],w[B++]=d;break;case 3:for(T=!0,this.adobe&&this.adobe.transformCode?T=!0:"undefined"!=typeof this.colorTransform&&(T=!!this.colorTransform),o=this.components[0],n=this.components[1],i=this.components[2],g=0;g<t;g++)for(s=o.lines[0|g*o.scaleY*C],l=n.lines[0|g*n.scaleY*C],c=i.lines[0|g*i.scaleY*C],h=0;h<e;h++)T?(d=s[0|h*o.scaleX*S],f=l[0|h*n.scaleX*S],p=c[0|h*i.scaleX*S],v=r(d+1.402*(p-128)),E=r(d-.3441363*(f-128)-.71413636*(p-128)),k=r(d+1.772*(f-128))):(v=s[0|h*o.scaleX*S],E=l[0|h*n.scaleX*S],k=c[0|h*i.scaleX*S]),w[B++]=v,w[B++]=E,w[B++]=k;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(T=!1,this.adobe&&this.adobe.transformCode?T=!0:"undefined"!=typeof this.colorTransform&&(T=!!this.colorTransform),o=this.components[0],n=this.components[1],i=this.components[2],a=this.components[3],g=0;g<t;g++)for(s=o.lines[0|g*o.scaleY*C],l=n.lines[0|g*n.scaleY*C],c=i.lines[0|g*i.scaleY*C],u=a.lines[0|g*a.scaleY*C],h=0;h<e;h++)T?(d=s[0|h*o.scaleX*S],f=l[0|h*n.scaleX*S],p=c[0|h*i.scaleX*S],y=u[0|h*a.scaleX*S],b=255-r(d+1.402*(p-128)),_=255-r(d-.3441363*(f-128)-.71413636*(p-128)),m=255-r(d+1.772*(f-128))):(b=s[0|h*o.scaleX*S],_=l[0|h*n.scaleX*S],m=c[0|h*i.scaleX*S],y=u[0|h*a.scaleX*S]),w[B++]=b,w[B++]=_,w[B++]=m,w[B++]=y;break;default:throw"Unsupported color mode"}return w},copyToImageData:function(e){var t,o,n,i,a,s,l,c,u,h=e.width,g=e.height,d=e.data,f=this.getData(h,g),p=0,y=0;switch(this.components.length){case 1:for(o=0;o<g;o++)for(t=0;t<h;t++)n=f[p++],d[y++]=n,d[y++]=n,d[y++]=n,d[y++]=255;break;case 3:for(o=0;o<g;o++)for(t=0;t<h;t++)l=f[p++],c=f[p++],u=f[p++],d[y++]=l,d[y++]=c,d[y++]=u,d[y++]=255;break;case 4:for(o=0;o<g;o++)for(t=0;t<h;t++)a=f[p++],s=f[p++],n=f[p++],i=f[p++],l=255-r(a*(1-i/255)+i),c=255-r(s*(1-i/255)+i),u=255-r(n*(1-i/255)+i),d[y++]=l,d[y++]=c,d[y++]=u,d[y++]=255;break;default:throw"Unsupported color mode"}}},e}();e.exports=o}).call(t,o(1).Buffer)},function(e,t,o){(function(t){function o(e){function o(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],o=0;o<64;o++){var n=C((t[o]*e+50)/100);n<1?n=1:n>255&&(n=255),B[j[o]]=n}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var a=C((r[i]*e+50)/100);a<1?a=1:a>255&&(a=255),A[j[i]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;c<8;c++)for(var u=0;u<8;u++)w[l]=1/(B[j[l]]*s[c]*s[u]*8),I[l]=1/(A[j[l]]*s[c]*s[u]*8),l++}function n(e,t){for(var o=0,n=0,r=new Array,i=1;i<=16;i++){for(var a=1;a<=e[i];a++)r[t[n]]=[],r[t[n]][0]=o,r[t[n]][1]=i,n++,o++;o*=2}return r}function r(){v=n(G,W),E=n(X,Y),k=n(z,K),T=n(J,q)}function i(){for(var e=1,t=2,o=1;o<=15;o++){for(var n=e;n<t;n++)R[32767+n]=o,O[32767+n]=[],O[32767+n][1]=o,O[32767+n][0]=n;for(var r=-(t-1);r<=-e;r++)R[32767+r]=o,O[32767+r]=[],O[32767+r][1]=o,O[32767+r][0]=t-1+r;e<<=1,t<<=1}}function a(){for(var e=0;e<256;e++)V[e]=19595*e,V[e+256>>0]=38470*e,V[e+512>>0]=7471*e+32768,V[e+768>>0]=-11059*e,V[e+1024>>0]=-21709*e,V[e+1280>>0]=32768*e+8421375,V[e+1536>>0]=-27439*e,V[e+1792>>0]=-5329*e}function s(e){for(var t=e[0],o=e[1]-1;o>=0;)t&1<<o&&(L|=1<<D),o--,D--,D<0&&(255==L?(l(255),l(0)):l(L),D=7,L=0)}function l(e){N.push(e)}function c(e){l(e>>8&255),l(255&e)}function u(e,t){var o,n,r,i,a,s,l,c,u,h=0;const g=8,d=64;for(u=0;u<g;++u){o=e[h],n=e[h+1],r=e[h+2],i=e[h+3],a=e[h+4],s=e[h+5],l=e[h+6],c=e[h+7];var f=o+c,p=o-c,y=n+l,b=n-l,_=r+s,m=r-s,v=i+a,E=i-a,k=f+v,T=f-v,S=y+_,C=y-_;e[h]=k+S,e[h+4]=k-S;var B=.707106781*(C+T);e[h+2]=T+B,e[h+6]=T-B,k=E+m,S=m+b,C=b+p;var A=.382683433*(k-C),w=.5411961*k+A,I=1.306562965*C+A,O=.707106781*S,R=p+O,x=p-O;e[h+5]=x+w,e[h+3]=x-w,e[h+1]=R+I,e[h+7]=R-I,h+=8}for(h=0,u=0;u<g;++u){o=e[h],n=e[h+8],r=e[h+16],i=e[h+24],a=e[h+32],s=e[h+40],l=e[h+48],c=e[h+56];var N=o+c,L=o-c,D=n+l,P=n-l,F=r+s,U=r-s,H=i+a,V=i-a,j=N+H,G=N-H,W=D+F,z=D-F;e[h]=j+W,e[h+32]=j-W;var K=.707106781*(z+G);e[h+16]=G+K,e[h+48]=G-K,j=V+U,W=U+P,z=P+L;var X=.382683433*(j-z),Y=.5411961*j+X,J=1.306562965*z+X,q=.707106781*W,Z=L+q,Q=L-q;e[h+40]=Q+Y,e[h+24]=Q-Y,e[h+8]=Z+J,e[h+56]=Z-J,h++}var $;for(u=0;u<d;++u)$=e[u]*t[u],M[u]=$>0?$+.5|0:$-.5|0;return M}function h(){c(65504),c(16),l(74),l(70),l(73),l(70),l(0),l(1),l(1),l(0),c(1),c(1),l(0),l(0)}function g(e,t){c(65472),c(17),l(8),c(t),c(e),l(3),l(1),l(17),l(0),l(2),l(17),l(1),l(3),l(17),l(1)}function d(){c(65499),c(132),l(0);for(var e=0;e<64;e++)l(B[e]);l(1);for(var t=0;t<64;t++)l(A[t])}function f(){c(65476),c(418),l(0);for(var e=0;e<16;e++)l(G[e+1]);for(var t=0;t<=11;t++)l(W[t]);l(16);for(var o=0;o<16;o++)l(z[o+1]);for(var n=0;n<=161;n++)l(K[n]);l(1);for(var r=0;r<16;r++)l(X[r+1]);for(var i=0;i<=11;i++)l(Y[i]);l(17);for(var a=0;a<16;a++)l(J[a+1]);for(var s=0;s<=161;s++)l(q[s])}function p(){c(65498),c(12),l(3),l(1),l(0),l(2),l(17),l(3),l(17),l(0),l(63),l(0)}function y(e,t,o,n,r){var i,a=r[0],l=r[240];const c=16,h=63,g=64;for(var d=u(e,t),f=0;f<g;++f)x[j[f]]=d[f];var p=x[0]-o;o=x[0],0==p?s(n[0]):(i=32767+p,s(n[R[i]]),s(O[i]));for(var y=63;y>0&&0==x[y];y--);if(0==y)return s(a),o;for(var b,_=1;_<=y;){for(var m=_;0==x[_]&&_<=y;++_);var v=_-m;if(v>=c){b=v>>4;for(var E=1;E<=b;++E)s(l);v=15&v}i=32767+x[_],s(r[(v<<4)+R[i]]),s(O[i]),_++}return y!=h&&s(a),o}function b(){for(var e=String.fromCharCode,t=0;t<256;t++)H[t]=e(t)}function _(e){if(e<=0&&(e=1),e>100&&(e=100),S!=e){var t=0;t=e<50?Math.floor(5e3/e):Math.floor(200-2*e),o(t),S=e}}function m(){var t=(new Date).getTime();e||(e=50),b(),r(),i(),a(),_(e);(new Date).getTime()-t}var v,E,k,T,S,C=(Math.round,Math.floor),B=new Array(64),A=new Array(64),w=new Array(64),I=new Array(64),O=new Array(65535),R=new Array(65535),M=new Array(64),x=new Array(64),N=[],L=0,D=7,P=new Array(64),F=new Array(64),U=new Array(64),H=new Array(256),V=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,o){(new Date).getTime();o&&_(o),N=new Array,L=0,D=7,c(65496),h(),d(),g(e.width,e.height),f(),p();var n=0,r=0,i=0;L=0,D=7,this.encode.displayName="_encode_";for(var a,l,u,b,m,S,C,B,A,O=e.data,R=e.width,M=e.height,x=4*R,H=0;H<M;){for(a=0;a<x;){for(m=x*H+a,S=m,C=-1,B=0,A=0;A<64;A++)B=A>>3,C=4*(7&A),S=m+B*x+C,H+B>=M&&(S-=x*(H+1+B-M)),a+C>=x&&(S-=a+C-x+4),l=O[S++],u=O[S++],b=O[S++],P[A]=(V[l]+V[u+256>>0]+V[b+512>>0]>>16)-128,F[A]=(V[l+768>>0]+V[u+1024>>0]+V[b+1280>>0]>>16)-128,U[A]=(V[l+1280>>0]+V[u+1536>>0]+V[b+1792>>0]>>16)-128;n=y(P,w,n,v,k),r=y(F,I,r,E,T),i=y(U,I,i,E,T),a+=32}H+=8}if(D>=0){var j=[];j[1]=D+1,j[0]=(1<<D+1)-1,s(j)}return c(65497),new t(N)},m()}function n(e,t){"undefined"==typeof t&&(t=50);var n=new o(t),r=n.encode(e,t);return{data:r,width:e.width,height:e.height}}e.exports=n}).call(t,o(1).Buffer)},function(e,t,o){function n(){this.root=null,this.infinites={}}function r(e){return isFinite(e.x0())&&isFinite(e.x1())&&isFinite(e.y0())&&isFinite(e.y1())&&isFinite(e.z0())&&isFinite(e.z1())}e.exports=n;var i=[].slice,a=o(1099),s=o(198),l=n,c=l.prototype;c.size=16,c.addListener=c.addEventListener=c.on=function(e,t,o){return"function"==typeof t&&(o=t,t=s([-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0])),r(t)?((this.root=this.root||this.create_root(t)).add(e,t,o),this):((this.infinites[e]=this.infinites[e]||[]).push({bbox:t,func:o}),this)},c.once=function(e,t,o){var n=this;return n.on(e,t,function t(){o.apply(null,arguments),n.remove(e,t)}),n},c.removeListener=c.removeEventListener=c.remove=function(e,t){if(this.root&&this.root.remove(e,t),!this.infinites[e])return this;for(var o=0,n=this.infinites[e].length;o<n&&this.infinites[e][o].func!==t;++o);return o!==n&&this.infinites[e].splice(o,1),this},c.emit=function(e,t){var o=i.call(arguments,2);if("0"in t&&(t=s(t,[0,0,0])),this.root&&this.root.send(e,t,o),!this.infinites[e])return this;for(var n=this.infinites[e].slice(),r=0,a=n.length;r<a;++r)n[r].bbox.intersects(t)&&n[r].func.apply(null,o);return this},c.rootSize=function(e){c.size=e},c.create_root=function(e){function t(e,t){a.call(this,e,t,null)}var o=this,n=o.size,r=[Math.floor(e.x0()/n)*n,Math.floor(e.y0()/n)*n,Math.floor(e.z0()/n)*n],i=new e.constructor(r,[n,n,n]);return t.prototype=Object.create(a.prototype),t.prototype.constructor=t,t.prototype.grow=function(e){o.root=e},t.prototype.min_size=n,new t(n,i)}},function(e,t,o){function n(e,t,o){this.listeners={},this.size=e,this.bbox=t,this.parent=o,this.children=[]}e.exports=n;var r=o(198),i=n,a=i.prototype;a.add=function(e,t,o){if(!this.parent&&!this.contains(t))return this.expand(t).add(e,t,o);for(var n=0,i=this.children.length;n<i;++n)if(this.children[n].contains(t))return this.children[n].add(e,t,o);var a=this.size/2;if(a>this.min_size&&t.vec[0]<a&&t.vec[1]<a&&t.vec[2]<a&&Math.floor(t.x0()/a)===Math.floor(t.x1()/a)&&Math.floor(t.y0()/a)===Math.floor(t.y1()/a)&&Math.floor(t.z0()/a)===Math.floor(t.z1()/a)){var s=new this.constructor(a,r([Math.floor(t.x0()/a)*a,Math.floor(t.y0()/a)*a,Math.floor(t.z0()/a)*a],[a,a,a]),this);return this.children.push(s),s.add(e,t,o)}(this.listeners[e]=this.listeners[e]||[]).push({bbox:t,func:o})},a.contains=function(e){return e.x0()>=this.bbox.x0()&&e.y0()>=this.bbox.y0()&&e.z0()>=this.bbox.z0()&&e.x1()<=this.bbox.x1()&&e.y1()<=this.bbox.y1()&&e.z1()<=this.bbox.z1()},a.expand=function(e){var t=this.size,o=2*t,n=(this.bbox.expand(e),Math.floor(e.x0()/t)),i=Math.floor(e.y0()/t),a=Math.floor(e.z0()/t),s=Math.floor(this.bbox.x0()/t),l=Math.floor(this.bbox.y0()/t),c=Math.floor(this.bbox.z0()/t),u=[n-s>=0?s:s-1,i-l>=0?l:l-1,a-c>=0?c:c-1].map(function(e){return e*t}),h=r(u,[o,o,o]),g=new this.constructor(o,h),d=this;return this.parent=g,this.grow(this.parent),g.children.push(d),g},a.remove=function(e,t){var o=this.listeners[e];if(o){for(var n=0,r=o.length;n<r&&o[n].func!==t;++n);n!==r&&o.splice(n,1)}for(var n=0,r=this.children.length;n<r;++n)this.children[n].remove(e,t)},a.send=function(e,t,o){for(var n=0,r=this.children.length;n<r;++n)t.intersects(this.children[n].bbox)&&this.children[n].send(e,t,o);var i=this.listeners[e];if(i)for(var n=0,r=i.length;n<r;++n)i[n].bbox.intersects(t)&&i[n].func.apply(null,o)}},872,function(e,t,o){"use strict";function n(e){var t=e.width/2,o=document.createElement("canvas");o.id=e.id||"",o.width=e.width+e.width,o.height=e.height+e.height;var n=o.getContext("2d"),r=n.createPattern(e,"repeat");return n.fillStyle=r,n.translate(t,t),n.fillRect(-t,-t,o.width+t,o.height+t),n.translate(-t,-t),o}function r(e,t,o,n){var r=t?e.rect.w/4:0;return[[e.rect.x+r,e.rect.y+r],[e.rect.x+r+(e.rect.w-2*r),e.rect.y+r],[e.rect.x+r+(e.rect.w-2*r),e.rect.y+r+(e.rect.h-2*r)],[e.rect.x+r,e.rect.y+r+(e.rect.h-2*r)]].map(function(e){return 0!==e[0]&&(e[0]=e[0]/o),0!==e[1]&&(e[1]=e[1]/n),e})}function i(e,t,o,n){var r=t?e.rect.w/4:0,i=new Float32Array(8);return i[0]=(e.rect.x+r)/o,i[1]=(e.rect.y+r)/n,i[2]=(e.rect.x+r+(e.rect.w-2*r))/o,i[3]=(e.rect.y+r)/n,i[4]=(e.rect.x+r+(e.rect.w-2*r))/o,i[5]=(e.rect.y+r+(e.rect.h-2*r))/n,i[6]=(e.rect.x+r)/o,i[7]=(e.rect.y+r+(e.rect.h-2*r))/n,i}var a=o(400),s=function(){function e(e,t,o,n){this.left=this.right=null,this.rect=new a.default(e,t,o,n),this.filled=!1}return e.prototype.pack=function(t){return null!==this.left?this.left.pack(t)||this.right.pack(t):this.filled||!t.fitsIn(this.rect)?null:t.sameSizeAs(this.rect)?(this.filled=!0,this):(this.rect.w-t.w>this.rect.h-t.h?(this.left=new e(this.rect.x,this.rect.y,t.w,this.rect.h),this.right=new e(this.rect.x+t.w,this.rect.y,this.rect.w-t.w,this.rect.h)):(this.left=new e(this.rect.x,this.rect.y,this.rect.w,t.h),this.right=new e(this.rect.x,this.rect.y+t.h,this.rect.w,this.rect.h-t.h)),this.left.pack(t))},e}();t.AtlasNode=s;var l=function(){function e(e,t){void 0===t&&(t={}),this.tilepad=t.tilepad||!1,this.canvas=e,this.context=e.getContext("2d"),this._rootNode=new s(0,0,this.canvas.width,this.canvas.height),this._terminalNodes={},this.invalidateUvIndices()}return e.prototype.pack=function(e,t){return this._checkId(e),this._pack(e,this.tilepad?n(t):t)},e.prototype.expand=function(e,t){return this._checkId(e),this.invalidateUvIndices(),this._expand(e,this.tilepad?n(t):t)},e.prototype.index=function(){var e=this;return Object.keys(this._terminalNodes).map(function(t){return e._terminalNodes[t].rect})},e.prototype.uv=function(){return this._uvs?this._uvs:(this._uvs=this.buildUvIndex(),this._uvs)},e.prototype.uv2=function(){return this._uvs2?this._uvs2:(this._uvs2=this.buildUvIndex2(),this._uvs2)},e.prototype.invalidateUvIndices=function(){this._uvs=null,this._uvs2=null},e.prototype._checkId=function(e){if(this._terminalNodes[e])throw new Error("Duplicated texture id "+e)},e.prototype._pack=function(e,t){var o=new a.default(0,0,t.width,t.height),n=this._rootNode.pack(o);return n?(this._ontoCanvas(e,t,n.rect),this._terminalNodes[e]=n,this._uvs&&(this._uvs[e]=r(n,this.tilepad,this.canvas.width,this.canvas.height)),this._uvs2&&(this._uvs2[e]=i(n,this.tilepad,this.canvas.width,this.canvas.height)),n):null},e.prototype._expand=function(e,t){var o,n=new a.default(0,0,t.width,t.height),r=this.context.getImageData(0,0,this.canvas.width,this.canvas.height);this._rootNode.rect.w<this._rootNode.rect.h?(this.canvas.width=this._rootNode.rect.w+n.w,o=new s(this._rootNode.rect.w,0,n.w,this._rootNode.rect.h)):(this.canvas.height=this._rootNode.rect.h+n.h,o=new s(0,this._rootNode.rect.h,this._rootNode.rect.w,n.h)),this.context.putImageData(r,0,0);var i=this._rootNode;return this._rootNode=new s(0,0,this.canvas.width,this.canvas.height),this._rootNode.left=i,this._rootNode.right=o,this._pack(e,t)?this:this._expand(e,t)},e.prototype.buildUvIndex=function(){var e=this,t={};return Object.keys(this._terminalNodes).map(function(o){var n=e._terminalNodes[o];t[o]=r(n,e.tilepad,e.canvas.width,e.canvas.height)}),t},e.prototype.buildUvIndex2=function(){var e=this,t={};return Object.keys(this._terminalNodes).map(function(o){var n=e._terminalNodes[o];t[o]=i(n,e.tilepad,e.canvas.width,e.canvas.height)}),t},e.prototype._ontoCanvas=function(e,t,o){this.context.clearRect(o.x,o.y,o.w,o.h),this.context.drawImage(t,o.x,o.y,o.w,o.h)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,o){"use strict";var n=o(400);t.Rect=n.default;var r=o(1101);t.Atlas=r.default},function(e,t){function o(){this._things=[],this._dt=-1}var n=function(){var e=window.performance||Object.create(null);return function(){var t=e.now||e.webkitNow||e.mozNow||e.msNow||e.oNow||function(){return(new Date).getTime()};return t.call(e)}}();e.exports=function(){return new o},o.prototype._stack=function(e){var t=this;t._things.push(e);var o=t._things.length-1;return function(){delete t._things[o]}},o.prototype.interval=o.prototype.setInterval=function(e,t){return this._stack({fn:e,at:t,args:Array.prototype.slice.call(arguments,2),elapsed:0,once:!1})},o.prototype.timeout=o.prototype.setTimeout=function(e,t){return this._stack({fn:e,at:t,args:Array.prototype.slice.call(arguments,2),elapsed:0,once:!0})},o.prototype.tick=function(e){var t=this;if(arguments.length<1){var o=n();this._dt<0&&(this._dt=o),e=o-this._dt,this._dt=o}t._things.forEach(function(o,n){o.elapsed+=e,o.elapsed>o.at&&(o.elapsed-=o.at,o.fn.apply(o.fn,o.args||[]),o.once&&delete t._things[n])})}},function(e,t){e.exports=function(e){return void 0===e?[]:"[object Array]"===Object.prototype.toString.call(e)?e:[e]}},function(e,t,o){function n(){this.nodes={}}var r=o(13);e.exports=function(e){var t=new n;return e&&e.forEach(function(e){n.prototype.add.apply(t,e)}),t},n.prototype.add=function(){var e=this,t=[].slice.call(arguments);1==t.length&&r.isArray(t[0])&&(t=t[0]),t.forEach(function(t){e.nodes[t]||(e.nodes[t]=[])});for(var o=1;o<t.length;o++){var n=t[o],i=t[o-1];e.nodes[n].push(i)}return e},n.prototype.sort=function(){function e(o){if("temp"===r[o])throw new Error("There is a cycle in the graph. It is not possible to derive a topological sort.");r[o]||(r[o]="temp",t.nodes[o].forEach(e),r[o]="perm",n.push(o))}for(var t=this,o=Object.keys(this.nodes),n=[],r={},i=0;i<o.length;i++){var a=o[i];r[a]||e(a)}return n}},function(e,t){var o,n="undefined"!=typeof window?window.navigator.userAgent:"",r=/OS X/.test(n),i=/Opera/.test(n),a=!/like Gecko/.test(n)&&!i,s=e.exports={0:r?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:r?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num-->",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:r&&a?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:i?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(o=58;o<65;++o)s[o]=String.fromCharCode(o);for(o=48;o<58;++o)s[o]=o-48+"";for(o=65;o<91;++o)s[o]=String.fromCharCode(o);for(o=96;o<106;++o)s[o]="<num-"+(o-96)+">";for(o=112;o<136;++o)s[o]="F"+(o-111)},function(e,t){"use strict";function o(e,t,o,n,r,i,a,s,l,c,u){for(var h,g,d,f,p,y,b,_,m,v,E,k,T,S,C,B=0,A=0,w=0,I=0,O=Math.floor;B<=s;){if(b=t+B*r,_=o+B*i,m=n+B*a,h=0|O(b),g=0|O(_),d=0|O(m),f=b-h,p=_-g,y=m-d,T=e.getBlock(h,g,d))return l&&(l[0]=f<u?+h:f>1-u?h+1-u:b,l[1]=p<u?+g:p>1-u?g+1-u:_,l[2]=y<u?+d:y>1-u?d+1-u:m),c&&(c[0]=A,c[1]=w,c[2]=I),T;if(C=+(u*(1+B)),B>C){if(v=A<0?f<=C:f>=1-C,E=w<0?p<=C:p>=1-C,k=I<0?y<=C:y>=1-C,v&&E&&k&&(T=e.getBlock(h+A,g+w,d)||e.getBlock(h,g+w,d+I)||e.getBlock(h+A,g,d+I)))return l&&(l[0]=A<0?h-u:h+1-u,l[1]=w<0?g-u:g+1-u,l[2]=I<0?d-u:d+1-u),c&&(c[0]=A,c[1]=w,c[2]=I),T;if(v&&(E||k)&&(T=e.getBlock(h+A,g,d)))return l&&(l[0]=A<0?h-u:h+1-u,l[1]=p<u?+g:_,l[2]=y<u?+d:m),c&&(c[0]=A,c[1]=w,c[2]=I),T;if(E&&(v||k)&&(T=e.getBlock(h,g+w,d)))return l&&(l[0]=f<u?+h:b,l[1]=w<0?g-u:g+1-u,l[2]=y<u?+d:m),c&&(c[0]=A,c[1]=w,c[2]=I),T;if(k&&(v||E)&&(T=e.getBlock(h,g,d+I)))return l&&(l[0]=f<u?+h:b,l[1]=p<u?+g:_,l[2]=I<0?d-u:d+1-u),c&&(c[0]=A,c[1]=w,c[2]=I),T}if(A=w=I=0,S=2,r<-u){var R=-f/r;A=1,S=R}if(r>u){var R=(1-f)/r;A=-1,S=R}if(i<-u){var R=-p/i;R<S-C?(A=0,w=1,S=R):R<S+C&&(w=1)}if(i>u){var R=(1-p)/i;R<S-C?(A=0,w=-1,S=R):R<S+C&&(w=-1)}if(a<-u){var R=-y/a;R<S-C?(A=w=0,I=1,S=R):R<S+C&&(I=1)}if(a>u){var R=(1-y)/a;R<S-C?(A=w=0,I=-1,S=R):R<S+C&&(I=-1)}S>s-B&&(S=s-B-C),S<C&&(S=C),B+=S}return l&&(l[0]=b,l[1]=_,l[2]=m),c&&(c[0]=c[1]=c[2]=0),0}function n(e,t,n,r,i,a,s){var l=+t[0],c=+t[1],u=+t[2],h=+n[0],g=+n[1],d=+n[2],f=Math.sqrt(h*h+g*g+d*d);return"undefined"==typeof s&&(s=1e-8),f<s?(i&&(i[0]=i[1]=i[2]),a&&(a[0]=a[1]=a[2]),0):(h/=f,g/=f,d/=f,r="undefined"==typeof r?64:+r,o(e,l,c,u,h,g,d,r,i,a,s))}e.exports=n},function(e,t,o){function n(e,t,o){function n(e){a=[Math.floor(e[0]/o),Math.floor(e[1]/o),Math.floor(e[2]/o)],a[0]===l[0]&&a[1]===l[1]&&a[2]===l[2]||s.emit("change",a),l=a}var a,s=new i.EventEmitter,l=[NaN,NaN,NaN];return 2===arguments.length&&(o=t,t=r([-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0])),e.on("position",t,n),s}e.exports=n;var r=o(1109),i=o(11)},function(e,t,o){function n(e,t){return this instanceof n?(this.base=e,this.vec=t,this.mag=r.length(this.vec),this.max=r.create(),void r.add(this.max,this.base,this.vec)):new n(e,t)}e.exports=n;var r=o(349).vec3,i=n,a=i.prototype;a.width=function(){return this.vec[0]},a.height=function(){return this.vec[1]},a.depth=function(){return this.vec[2]},a.x0=function(){return this.base[0]},a.y0=function(){return this.base[1]},a.z0=function(){return this.base[2]},a.x1=function(){return this.max[0]},a.y1=function(){return this.max[1]},a.z1=function(){return this.max[2]},a.translate=function(e){return r.add(this.max,this.max,e),r.add(this.base,this.base,e),this},a.expand=function(e){
var t=r.create(),o=r.create();return r.max(t,e.max,this.max),r.min(o,e.base,this.base),r.sub(t,t,o),new n(o,t)},a.intersects=function(e){return!(e.base[0]>this.max[0])&&(!(e.base[1]>this.max[1])&&(!(e.base[2]>this.max[2])&&(!(e.max[0]<this.base[0])&&(!(e.max[1]<this.base[1])&&!(e.max[2]<this.base[2])))))},a.union=function(e){if(!this.intersects(e))return null;var t=Math.max(e.base[0],this.base[0]),o=Math.max(e.base[1],this.base[1]),r=Math.max(e.base[2],this.base[2]),i=Math.min(e.max[0],this.max[0]),a=Math.min(e.max[1],this.max[1]),s=Math.min(e.max[2],this.max[2]);return new n([t,o,r],[i-t,a-o,s-r])}},function(e,t){!function(){"use strict";function t(e){e.permitHostObjects___&&e.permitHostObjects___(t)}function o(e){return!(e.substr(0,d.length)==d&&"___"===e.substr(e.length-3))}function n(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[f];if(t&&t.key===e)return t;if(g(e)){t={key:e};try{return h(e,f,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(o){return}}}function r(e){return e.prototype=null,Object.freeze(e)}function i(){_||"undefined"==typeof console||(_=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=t);var a=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var l=new s,c=Object.freeze({});if(l.set(c,1),1===l.get(c))return void(e.exports=WeakMap);a=!0}}var u=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),h=Object.defineProperty,g=Object.isExtensible,d="weakmap:",f=d+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var p=new ArrayBuffer(25),y=new Uint8Array(p);crypto.getRandomValues(y),f=d+"rand:"+Array.prototype.map.call(y,function(e){return(e%36).toString(36)}).join("")+"___"}if(h(Object,"getOwnPropertyNames",{value:function(e){return u(e).filter(o)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;h(Object,"getPropertyNames",{value:function(e){return b(e).filter(o)}})}!function(){var e=Object.freeze;h(Object,"freeze",{value:function(t){return n(t),e(t)}});var t=Object.seal;h(Object,"seal",{value:function(e){return n(e),t(e)}});var o=Object.preventExtensions;h(Object,"preventExtensions",{value:function(e){return n(e),o(e)}})}();var _=!1,m=0,v=function(){function e(e,t){var o,r=n(e);return r?c in r?r[c]:t:(o=s.indexOf(e),o>=0?l[o]:t)}function t(e){var t=n(e);return t?c in t:s.indexOf(e)>=0}function o(e,t){var o,r=n(e);return r?r[c]=t:(o=s.indexOf(e),o>=0?l[o]=t:(o=s.length,l[o]=t,s[o]=e)),this}function a(e){var t,o,r=n(e);return r?c in r&&delete r[c]:(t=s.indexOf(e),!(t<0)&&(o=s.length-1,s[t]=void 0,l[t]=l[o],s[t]=s[o],s.length=o,l.length=o,!0))}this instanceof v||i();var s=[],l=[],c=m++;return Object.create(v.prototype,{get___:{value:r(e)},has___:{value:r(t)},set___:{value:r(o)},delete___:{value:r(a)}})};v.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof s?!function(){function o(){function e(e,t){return u?c.has(e)?c.get(e):u.get___(e,t):c.get(e,t)}function o(e){return c.has(e)||!!u&&u.has___(e)}function n(e){var t=!!c.delete(e);return u?u.delete___(e)||t:t}this instanceof v||i();var l,c=new s,u=void 0,h=!1;return l=a?function(e,t){return c.set(e,t),c.has(e)||(u||(u=new v),u.set(e,t)),this}:function(e,t){if(h)try{c.set(e,t)}catch(o){u||(u=new v),u.set___(e,t)}else c.set(e,t);return this},Object.create(v.prototype,{get___:{value:r(e)},has___:{value:r(o)},set___:{value:r(l)},delete___:{value:r(n)},permitHostObjects___:{value:r(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");h=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),o.prototype=v.prototype,e.exports=o,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=v)}}()},[1251,1112],878,[1252,1111],function(e,t,o){"use strict";function n(e){return e.replace(/^[A-Z]+_/,"")}function r(e){var t=a.get(e);if(t)return t;for(var o={},r=e.getSupportedExtensions(),i=0;i<r.length;++i){var s=r[i];if(0!==s.indexOf("MOZ_")){var l=e.getExtension(r[i]);if(l)for(;;){o[s]=l;var c=n(s);if(c===s)break;s=c}}}return a.set(e,o),o}var i="undefined"==typeof WeakMap?o(1110):WeakMap,a=new i;e.exports=r},function(e,t,o){"use strict";var n=o(1126),r=o(1124),i=o(1125),a=o(1121),s=function(){function e(e){void 0===e&&(e={}),this.z=0,this.u=0,this.v=0,this.d=0,this.meshSlice=a({order:[1,0],append:this.append.bind(this)});var t=e.margin||0;this.padSize=2+t,this.unpadSize=e.openEnd?2:1,this.planarOffset=2-this.unpadSize}return e.prototype.pad=function(e,t){var o=[e.shape[0]+this.padSize,e.shape[1]+this.padSize,e.shape[2]+this.padSize],a=n(new Int32Array(o[0]*o[1]*o[2]),o),s=a.lo(1,1,1).hi(e.shape[0],e.shape[1],e.shape[2]);return t?i.default(s,e,t):r.default(s,e),a.hi(e.shape[0]+2,e.shape[1]+2,e.shape[2]+2)},e.prototype.unpad=function(e){return e.hi(e.shape[0]-this.unpadSize,e.shape[1]-this.unpadSize,e.shape[2]-this.unpadSize)},e.prototype.computeSurface=function(e,t){var o=(e+1)%3,n=(e+2)%3,r=t.transpose(e,o,n).hi(t.shape[e],t.shape[o]-this.planarOffset,t.shape[n]-this.planarOffset),i=r.pick(0),a=r.shape[0];this.d=e,this.u=n,this.v=o;for(var s=0;s<a;++s)this.z=s,this.meshSlice(i),i.offset+=r.stride[0]},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},336,[1174,1119],[1175,403],[1176,1118],560,[1253,1127,403,401],667,728,[1231,402],function(e,t,o){"use strict";var n=o(402);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n.default({args:["array","array","scalar"],body:{args:["a","b","f"],body:"a=f(b)"},funcName:"map"})},[1234,401,1122],[1180,1116,1120],function(e,t,o){"use strict";function n(e,t,o){var n=t[0]-e[0],r=t[2]-e[2],i=o[0]-e[0],a=o[2]-e[2];return i*r-n*a}function r(e,t){return i.sqrDist(e,t)<1e-5}var i=o(406),a=function(){function e(){this.portals=[]}return e.prototype.push=function(e,t){void 0===t&&(t=e),this.portals.push({left:e,right:t})},e.prototype.stringPull=function(){var e=this.portals,t=[],o=0,i=0,a=0,s=e[0].left,l=e[0].left,c=e[0].right;t.push(s);for(var u=1,h=e.length;u<h;u++){var g=e[u].left,d=e[u].right;if(n(s,c,d)>=0){if(!(r(s,c)||n(s,l,d)<0)){t.push(l),s=l,o=i,l=s,c=s,i=o,a=o,u=o;continue}c=d,a=u}if(n(s,l,g)<=0){if(!(r(s,l)||n(s,c,g)>0)){t.push(c),s=c,o=a,l=s,c=s,i=o,a=o,u=o;continue}l=g,i=u}}return 0!==t.length&&r(t[t.length-1],e[e.length-1].left)||t.push(e[e.length-1].left),this.path=t,t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=o(1144),i=o(1145),a=o(1136),s=o(1115),l=o(211),c=a({args:["array","array",{offset:[1,0,1],array:1},{offset:[1,1,1],array:1}],body:function(e,t,o,n){e=n?0:o}}),u=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.append=function(e,t,o,n,r){var i=this.z;this.navmesh.addPolygon(e,t,o,n,i)},t.prototype.build=function(e,t,o,n){var a=this.unpad(e),s=a.shape,u=s[0]*s[1]*s[2],h=i.mallocInt32(u),g=r(h,a.shape);c(g,a),this.navmesh=new l.default(t,o,n,s[0]-1,s[1]-1,s[2]-1),this.computeSurface(1,g),i.freeInt32(h);var d=this.navmesh;return this.navmesh=null,d.computeEdges(),d},t}(s.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,o){"use strict";function n(e,t){return i.Node.getDistance(e,t)}var r=o(1140),i=o(211),a=function(){function e(){}return e.prototype.findPath=function(e,t){var o=new r.FastPriorityQueue,i=new Set,a=new WeakMap,s=new WeakMap;for(a.set(e,null),s.set(e,0),o.add(e,0+n(e,t));!o.isEmpty();){var l=o.peek();if(l.object===t){for(var c=[],u=a.get(t);null!=u;)c.push(u),u=a.get(u.src);return c}o.poll(),i.add(l.object);for(var h=0,g=l.object.edges.length;h<g;++h){var d=l.object.edges[h],f=d.dest;i.has(f)||o.has(f)||(s.set(f,s.get(l.object)+d.length),a.set(f,d),o.add(f,s.get(f)+n(f,t)))}}return null},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},336,[1174,1134],[1175,407],[1176,1133],[1177,1138,407],[1178,1135,1132],560,561,function(e,t){"use strict";var o=function(e,t){return e<t},n=function(){function e(e){this.array=[],this.size=0,this.compare=e||o}return e.prototype.add=function(e,t){var o=this.size,n={object:e,priority:t};for(this.array[this.size++]=n;o>0;){var r=o-1>>1,i=this.array[r];if(!this.compare(t,i.priority))break;this.array[o]=i,o=r}return this.array[o]=n},e.prototype.heapify=function(e){this.array=e,this.size=e.length;for(var t=this.size>>1;t>=0;t--)this._percolateDown(t)},e.prototype.peek=function(){return this.array[0]},e.prototype.poll=function(){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):--this.size,e},e.prototype.trim=function(){this.array=this.array.slice(0,this.size)},e.prototype.isEmpty=function(){return 0==this.size},e.prototype.has=function(e){for(var t=0;t<this.size;++t)if(e===this.array[t].object)return!0;return!1},e.prototype._percolateUp=function(e){for(var t=this.array[e];e>0;){var o=e-1>>1,n=this.array[o];if(!this.compare(t.priority,n.priority))break;this.array[e]=n,e=o}this.array[e]=t},e.prototype._percolateDown=function(e){for(var t=this.size,o=this.size>>>1,n=this.array[e];e<o;){var r=(e<<1)+1,i=r+1,a=this.array[r];if(i<t&&this.compare(this.array[i].priority,a.priority)&&(r=i,a=this.array[i]),!this.compare(a.priority,n.priority))break;this.array[e]=a,e=r}this.array[e]=n},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,o){"use strict";var n=o(1139);t.FastPriorityQueue=n.default},[1186,405],205,667,[1234,1142,1143],[1180,1131,1137],function(e,t){"use strict";var o=function(){function e(e){this.axis=e,this.bodies=[],this.resting=null}return e.prototype.add=function(e){this.bodies.push(e)},e.prototype.getAverageVelocity=function(){for(var e=0,t=0,o=0,n=this.bodies;o<n.length;o++){var r=n[o];r.mass===1/0?t+=1:e+=r.mass}for(var i=0,a=0,s=0,l=this.bodies;s<l.length;s++){var r=l[s];r.mass===1/0?a+=r.velocity[this.axis]:i+=r.mass*r.velocity[this.axis]}return t?a/t:i/e},e.prototype.reset=function(){this.bodies.length=0,this.resting=null},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,o){"use strict";function n(e,t,o,n){if(!(t.resting[1]>=0)||t.inFluid){var i=0!==t.resting[0],a=0!==t.resting[2];if(i||a){var u=Math.abs(n[0]/n[2]),h=4;if((i||!(u>h))&&(a||!(u<1/h))){r.add(y,o.base,n);var g=e.testSolid;s.default(c,g,o,n,function(e,t,o,n){return 1!==t||void(n[t]=0)}),o.translate(c);var d=t.aabb.base[1],f=Math.floor(d+1.001)-d;r.set(b,0,f,0);var m=!1;s.default(c,g,o,b,function(e,t,o,n){return m=!0,!0}),o.translate(c),m||(r.subtract(_,y,o.base),_[1]=0,r.set(p,0,0,0),s.default(c,e.testSolid,o,_,function(e,t,o,n){p[t]=o,n[t]=0}),o.translate(c),i&&!l.equals(o.base[0],y[0])||a&&!l.equals(o.base[2],y[2])||(l.cloneAABB(t.aabb,o),t.resting[0]=p[0],t.resting[2]=p[2],t.onStep&&t.onStep()))}}}}var r=o(93),i=o(1146),a=o(1152),s=o(1149),l=o(1150),c=r.create(),u=r.create(),h=r.create(),g=r.create(),d=r.create(),f=r.create(),p=r.create(),y=r.create(),b=r.create(),_=r.create(),m={gravity:r.fromValues(0,-10,0),airFriction:.995,minBounceImpulse:.5,fluidDensity:1.2,fluidDrag:4},v=function(){function e(e,t,o){var n=a({},m,e);this.gravity=n.gravity,this.airFriction=n.airFriction,this.fluidDensity=n.fluidDensity,this.fluidDrag=n.fluidDrag,this.minBounceImpulse=n.minBounceImpulse,this.bodies=[],this.testSolid=t,this.testFluid=o}return e.prototype.add=function(e){var t=this.bodies.indexOf(e);t>=0||this.bodies.push(e)},e.prototype.remove=function(e){var t=this.bodies.indexOf(e);t<0||(this.bodies.splice(t,1),e.aabb=e.onCollide=null)},e.prototype.tick=function(e){for(var t=e/1e3,o=this.bodies.length,a=0;a<o;++a){var p=this.bodies[a];if(r.copy(p._oldResting,p.resting),r.set(p.resting,0,0,0),p.autoStep&&l.cloneAABB(p._tmpBox,p.aabb),r.scale(h,p._forces,1/p.mass),r.scale(g,this.gravity,p.gravityMultiplier),r.add(h,h,g),r.scale(d,p._impulses,1/p.mass),r.add(p.velocity,p.velocity,d),r.scale(d,h,t),r.add(p.velocity,p.velocity,d),r.set(p._forces,0,0,0),r.set(p._impulses,0,0,0),p._oldResting[1]<0){var y=t*p.friction;r.scale(u,p.velocity,-1),u[1]=0;var b=r.length(u);b>y?(r.scale(u,u,y/b),r.add(p.velocity,p.velocity,u)):p.velocity[0]=p.velocity[2]=0}else r.scale(p.velocity,p.velocity,this.airFriction)}for(var _=[[],[],[]],a=0;a<o;++a)for(var m=this.bodies[a],v=m.velocity,E=m.aabb.center,k=a+1;k<o;++k){var T=this.bodies[k],S=T.velocity,C=T.aabb.center;if(m.aabb.intersects(T.aabb))for(var B=m.aabb.unionSize(c,T.aabb),A=0;A<3;++A)if(!((E[A]-C[A])*(v[A]-S[A])>0)){var w=(A+1)%3,I=(A+2)%3,O=Math.min(m.aabb.area[A],T.aabb.area[A]);if(!(B[w]*B[I]/O<.2)){var R=_[A],M=m._merged[A];M||(M=m._merged[A]=new i.default(A),M.add(m),R.push(M)),T._merged[A]=M,M.add(T)}}}for(var a=0;a<3;++a)for(var R=_[a],x=0,N=R;x<N.length;x++)for(var M=N[x],I=M.getAverageVelocity(),L=0,D=M.bodies;L<D.length;L++){var p=D[L];p.velocity[a]=I}for(var P=function(e){var o=F.bodies[e];r.scale(o._dx,o.velocity,t),s.default(o._out,F.testSolid,o.aabb,o._dx,function(e,t,n,r){o.resting[t]=n,o._merged[t]&&(o._merged[t].resting=o),r[t]=0})},F=this,a=0;a<o;++a)P(a);for(var a=0;a<3;++a)for(var R=_[a],U=0,H=R;U<H.length;U++){var M=H[U],V=M.resting;if(V)for(var j=0,G=M.bodies;j<G.length;j++){var p=G[j];p._out[a]=V._out[a],p.resting[a]=V.resting[a]}M.reset()}for(var a=0;a<o;++a){for(var p=this.bodies[a],W=0;W<3;++W)p._merged[W]=null;p.aabb.translate(p._out),p.autoStep&&n(this,p,p._tmpBox,p._dx);for(var k=0;k<3;++k)f[k]=0,p.resting[k]&&(p._oldResting[k]||(f[k]=-p.velocity[k]),p.velocity[k]=0);var z=r.length(f);z>.001&&(z>this.minBounceImpulse&&p.restitution&&(r.scale(f,f,p.restitution*p.mass),p.applyImpulse(f)),p.onCollide&&p.onCollide(f));for(var K=p.aabb,X=Math.floor(K.center[0]),Y=Math.floor(K.center[2]),J=Math.floor(K.base[1]),q=Math.floor(K.max[1]),Z=0,Q=J;Q<=q&&this.testFluid(X,Q,Y);++Q)++Z;if(Z>0){var $=J+Z,ee=$-K.base[1],te=ee/K.size[1];te>1&&(te=1);var oe=K.size[0]*K.size[1]*K.size[2],ne=oe*te;r.scale(g,this.gravity,-p.gravityMultiplier*this.fluidDensity*ne),r.scale(u,p.velocity,-this.fluidDrag*te),r.add(g,g,u),p.applyForce(g),p.inFluid=!0}else p.inFluid=!1}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=v},function(e,t,o){"use strict";var n=o(93),r=o(408),i=n.create(),a=function(){function e(e,t,o,a,s,l,c,u,h){this.aabb=new r.default(e,t,c.onMove),this.mass=o,this.friction=a,this.restitution=s,this.gravityMultiplier=l,this.onCollide=u,this.autoStep=h,this.onStep=null,this.velocity=n.create(),this.resting=n.fromValues(0,0,0),this.inFluid=!1,this._forces=n.create(),this._impulses=n.create(),this._oldResting=n.create(),this._tmpBox=new r.default(i,i),this._dx=n.create(),this._merged=[null,null,null],this._out=n.create()}return e.prototype.applyForce=function(e){n.add(this._forces,this._forces,e)},e.prototype.applyImpulse=function(e){n.add(this._impulses,this._impulses,e)},e.prototype.atRestX=function(){return this.resting[0]},e.prototype.atRestY=function(){return this.resting[1]},e.prototype.atRestZ=function(){return this.resting[2]},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,o){"use strict";function n(e,t,o,n,r,g){function f(){if(O=0,R=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]),0!==R)for(var e=0;e<3;e++){var t=o[e]>=0;C[e]=t?1:-1;var i=t?r[e]:n[e];k[e]=t?n[e]:r[e],T[e]=v(i,C[e]),S[e]=E(k[e],C[e]),w[e]=o[e]/R,B[e]=Math.abs(1/w[e]);var a=t?T[e]+1-i:i-T[e];A[e]=B[e]<1/0?B[e]*a:1/0}}function p(t){for(var o=C[0],n=0===t?T[0]:S[0],r=T[0]+o,i=C[1],a=1===t?T[1]:S[1],s=T[1]+i,l=C[2],c=2===t?T[2]:S[2],u=T[2]+l,h=n;h!==r;h+=o)for(var g=a;g!==s;g+=i)for(var d=c;d!==u;d+=l)if(e(h,g,d))return!0;return!1}function _(){I+=O;var e=C[M],a=O/R,s=y;i.scale(b,o,a),i.add(n,n,b),i.add(r,r,b),i.sub(s,o,b),e>0?r[M]=Math.round(r[M]):n[M]=Math.round(n[M]);var l=t(I,M,e,s);return!!l||(i.copy(o,s),f(),0===R)}function m(){var e=A[0]<A[1]?A[0]<A[2]?0:2:A[1]<A[2]?1:2,t=A[e]-O;O=A[e],T[e]+=C[e],A[e]+=B[e];for(var o=0;o<3;o++)k[o]+=t*w[o],S[o]=E(k[o],C[o]);return e}function v(e,t){return Math.floor(e-t*g)}function E(e,t){return Math.floor(e+t*g)}var k=a,T=s,S=l,C=c,B=u,A=h,w=d,I=0,O=0,R=0,M=0;if(f(),0===R)return 0;for(M=m();O<=R;){if(p(M)){var x=_();if(x)return I}M=m()}return I+=R,i.add(n,n,o),i.add(r,r,o),I}function r(e,t,o,r,a,s){var l=g,c=f,u=p;i.copy(l,r),i.copy(u,o.max),i.copy(c,o.base),s||(s=1e-10);for(var h=n(t,a,l,c,u,s),d=0;d<3;d++)e[d]=r[d]>0?u[d]-o.max[d]:c[d]-o.base[d];return h}var i=o(93),a=i.create(),s=i.create(),l=i.create(),c=i.create(),u=i.create(),h=i.create(),g=i.create(),d=i.create(),f=i.create(),p=i.create(),y=i.create(),b=i.create();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,o){"use strict";function n(e,t){return Math.abs(e-t)<1e-5}function r(e,t){i.copy(e.base,t.base),i.copy(e.max,t.max),i.copy(e.size,t.size),i.copy(e.area,t.area)}var i=o(93);t.equals=n,t.cloneAABB=r},42,7,function(e,t){},1153,function(e,t,o,n){function r(e,t,o){t="number"==typeof t?t:1,o=o||": ";var n=e.split(/\r?\n/),r=String(n.length+t-1).length;return n.map(function(e,n){var a=n+t,s=String(a).length,l=i(a,r-s);return l+o+e}).join("\n")}var i=o(n);e.exports=r},function(e,t,o,n){function r(e,t){if(t=t||"float32",!e[0]||!e[0].length)return e;for(var o="string"==typeof t?i(t):t,n=e[0].length,r=new o(e.length*n),a=0,s=0;s<e.length;s++)for(var l=0;l<n;l++)r[a++]=e[s][l];return r}var i=o(n);e.exports=r},function(e,t,o,n){var r=o(n);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,o,n){var r=o(n);e.exports=function(e,t,o){if(r(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,r){return e.call(t,o,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,o,n){e.exports=!o(n)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,o,n,r){var i=o(n),a=o(r).document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},function(e,t,o,n,r,i,a){var s=o(n),l=o(r),c=o(i),u=o(a),h="prototype",g=function(e,t,o){var n,r,i,a=e&g.F,d=e&g.G,f=e&g.S,p=e&g.P,y=e&g.B,b=e&g.W,_=d?l:l[t]||(l[t]={}),m=_[h],v=d?s:f?s[t]:(s[t]||{})[h];d&&(o=t);for(n in o)r=!a&&v&&void 0!==v[n],r&&n in _||(i=r?v[n]:o[n],_[n]=d&&"function"!=typeof v[n]?o[n]:y&&r?c(i,s):b&&v[n]==i?function(e){var t=function(t,o,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,n)}return e.apply(this,arguments)};return t[h]=e[h],t}(i):p&&"function"==typeof i?c(Function.call,i):i,p&&((_.virtual||(_.virtual={}))[n]=i,e&g.R&&m&&!m[n]&&u(m,n,i)))};g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,e.exports=g},function(e,t,o,n,r,i){var a=o(n),s=o(r);e.exports=o(i)?function(e,t,o){return a.f(e,t,s(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t,o,n){e.exports=o(n).document&&document.documentElement},function(e,t,o,n,r,i,a){var s=o(n),l=o(r),c=o(i),u=Object.defineProperty;t.f=o(a)?Object.defineProperty:function(e,t,o){if(s(e),t=c(t,!0),s(o),l)try{return u(e,t,o)}catch(n){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},function(e,t,o,n){var r=o(n);e.exports=function(e,t){if(!r(e))return e;var o,n;if(t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;if("function"==typeof(o=e.valueOf)&&!r(n=o.call(e)))return n;if(!t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,o,n,r,i,a,s){"use strict";function l(e,t){return e.msg=U[t],t}function c(e){return(e<<1)-(e>4?9:0)}function u(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,o=t.pending;o>e.avail_out&&(o=e.avail_out),0!==o&&(L.arraySet(e.output,t.pending_buf,t.pending_out,o,e.next_out),e.next_out+=o,t.pending_out+=o,e.total_out+=o,e.avail_out-=o,t.pending-=o,0===t.pending&&(t.pending_out=0))}function g(e,t){D._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function d(e,t){e.pending_buf[e.pending++]=t}function f(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function p(e,t,o,n){var r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,L.arraySet(t,e.input,e.next_in,r,o),1===e.state.wrap?e.adler=P(e.adler,t,r,o):2===e.state.wrap&&(e.adler=F(e.adler,t,r,o)),e.next_in+=r,e.total_in+=r,r)}function y(e,t){var o,n,r=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-ye?e.strstart-(e.w_size-ye):0,c=e.window,u=e.w_mask,h=e.prev,g=e.strstart+pe,d=c[i+a-1],f=c[i+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(o=t,c[o+a]===f&&c[o+a-1]===d&&c[o]===c[i]&&c[++o]===c[i+1]){i+=2,o++;do;while(c[++i]===c[++o]&&c[++i]===c[++o]&&c[++i]===c[++o]&&c[++i]===c[++o]&&c[++i]===c[++o]&&c[++i]===c[++o]&&c[++i]===c[++o]&&c[++i]===c[++o]&&i<g);if(n=pe-(g-i),i=g-pe,n>a){if(e.match_start=t,a=n,n>=s)break;d=c[i+a-1],f=c[i+a]}}while((t=h[t&u])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function b(e){var t,o,n,r,i,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-ye)){L.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,o=e.hash_size,t=o;do n=e.head[--t],e.head[t]=n>=a?n-a:0;while(--o);o=a,t=o;do n=e.prev[--t],e.prev[t]=n>=a?n-a:0;while(--o);r+=a}if(0===e.strm.avail_in)break;if(o=p(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=o,e.lookahead+e.insert>=fe)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+fe-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<fe)););}while(e.lookahead<ye&&0!==e.strm.avail_in)}function _(e,t){var o=65535;for(o>e.pending_buf_size-5&&(o=e.pending_buf_size-5);;){if(e.lookahead<=1){if(b(e),0===e.lookahead&&t===H)return Ce;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+o;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,g(e,!1),0===e.strm.avail_out))return Ce;if(e.strstart-e.block_start>=e.w_size-ye&&(g(e,!1),0===e.strm.avail_out))return Ce}return e.insert=0,t===G?(g(e,!0),0===e.strm.avail_out?Ae:we):e.strstart>e.block_start&&(g(e,!1),0===e.strm.avail_out)?Ce:Ce}function m(e,t){for(var o,n;;){if(e.lookahead<ye){if(b(e),e.lookahead<ye&&t===H)return Ce;if(0===e.lookahead)break}if(o=0,e.lookahead>=fe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==o&&e.strstart-o<=e.w_size-ye&&(e.match_length=y(e,o)),e.match_length>=fe)if(n=D._tr_tally(e,e.strstart-e.match_start,e.match_length-fe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=fe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(g(e,!1),0===e.strm.avail_out))return Ce}return e.insert=e.strstart<fe-1?e.strstart:fe-1,t===G?(g(e,!0),0===e.strm.avail_out?Ae:we):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?Ce:Be}function v(e,t){for(var o,n,r;;){if(e.lookahead<ye){if(b(e),e.lookahead<ye&&t===H)return Ce;if(0===e.lookahead)break}if(o=0,e.lookahead>=fe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=fe-1,0!==o&&e.prev_length<e.max_lazy_match&&e.strstart-o<=e.w_size-ye&&(e.match_length=y(e,o),e.match_length<=5&&(e.strategy===Z||e.match_length===fe&&e.strstart-e.match_start>4096)&&(e.match_length=fe-1)),e.prev_length>=fe&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-fe,n=D._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-fe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=fe-1,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return Ce}else if(e.match_available){if(n=D._tr_tally(e,0,e.window[e.strstart-1]),n&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Ce}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=D._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<fe-1?e.strstart:fe-1,t===G?(g(e,!0),0===e.strm.avail_out?Ae:we):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?Ce:Be}function E(e,t){for(var o,n,r,i,a=e.window;;){if(e.lookahead<=pe){if(b(e),e.lookahead<=pe&&t===H)return Ce;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=fe&&e.strstart>0&&(r=e.strstart-1,n=a[r],n===a[++r]&&n===a[++r]&&n===a[++r])){i=e.strstart+pe;do;while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<i);e.match_length=pe-(i-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=fe?(o=D._tr_tally(e,1,e.match_length-fe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(o=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),o&&(g(e,!1),0===e.strm.avail_out))return Ce}return e.insert=0,t===G?(g(e,!0),0===e.strm.avail_out?Ae:we):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?Ce:Be}function k(e,t){for(var o;;){if(0===e.lookahead&&(b(e),0===e.lookahead)){if(t===H)return Ce;break}if(e.match_length=0,o=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,o&&(g(e,!1),0===e.strm.avail_out))return Ce}return e.insert=0,t===G?(g(e,!0),0===e.strm.avail_out?Ae:we):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?Ce:Be}function T(e,t,o,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=o,this.max_chain=n,this.func=r}function S(e){e.window_size=2*e.w_size,u(e.head),e.max_lazy_match=N[e.level].max_lazy,e.good_match=N[e.level].good_length,e.nice_match=N[e.level].nice_length,e.max_chain_length=N[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=fe-1,e.match_available=0,e.ins_h=0}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ne,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new L.Buf16(2*ge),this.dyn_dtree=new L.Buf16(2*(2*ue+1)),this.bl_tree=new L.Buf16(2*(2*he+1)),u(this.dyn_ltree),u(this.dyn_dtree),u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new L.Buf16(de+1),this.heap=new L.Buf16(2*ce+1),u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new L.Buf16(2*ce+1),u(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=oe,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?_e:Te,e.adler=2===t.wrap?0:1,t.last_flush=H,D._tr_init(t),z):l(e,X)}function A(e){var t=B(e);return t===z&&S(e.state),t}function w(e,t){return e&&e.state?2!==e.state.wrap?X:(e.state.gzhead=t,z):X}function I(e,t,o,n,r,i){if(!e)return X;var a=1;if(t===q&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),r<1||r>re||o!==ne||n<8||n>15||t<0||t>9||i<0||i>ee)return l(e,X);8===n&&(n=9);var s=new C;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+fe-1)/fe),s.window=new L.Buf8(2*s.w_size),s.head=new L.Buf16(s.hash_size),s.prev=new L.Buf16(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new L.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=o,A(e)}function O(e,t){return I(e,t,ne,ie,ae,te)}function R(e,t){var o,n,r,i;if(!e||!e.state||t>W||t<0)return e?l(e,X):X;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===Se&&t!==G)return l(e,0===e.avail_out?J:X);if(n.strm=e,o=n.last_flush,n.last_flush=t,n.status===_e)if(2===n.wrap)e.adler=0,d(n,31),d(n,139),d(n,8),n.gzhead?(d(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),d(n,255&n.gzhead.time),d(n,n.gzhead.time>>8&255),d(n,n.gzhead.time>>16&255),d(n,n.gzhead.time>>24&255),d(n,9===n.level?2:n.strategy>=Q||n.level<2?4:0),d(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(d(n,255&n.gzhead.extra.length),d(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=F(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=me):(d(n,0),d(n,0),d(n,0),d(n,0),d(n,0),d(n,9===n.level?2:n.strategy>=Q||n.level<2?4:0),d(n,Ie),n.status=Te);else{var a=ne+(n.w_bits-8<<4)<<8,s=-1;s=n.strategy>=Q||n.level<2?0:n.level<6?1:6===n.level?2:3,a|=s<<6,0!==n.strstart&&(a|=be),a+=31-a%31,n.status=Te,f(n,a),0!==n.strstart&&(f(n,e.adler>>>16),f(n,65535&e.adler)),e.adler=1}if(n.status===me)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(e.adler=F(e.adler,n.pending_buf,n.pending-r,r)),h(e),r=n.pending,n.pending!==n.pending_buf_size));)d(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(e.adler=F(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=ve)}else n.status=ve;if(n.status===ve)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(e.adler=F(e.adler,n.pending_buf,n.pending-r,r)),h(e),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,d(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(e.adler=F(e.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=Ee)}else n.status=Ee;if(n.status===Ee)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(e.adler=F(e.adler,n.pending_buf,n.pending-r,r)),h(e),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,d(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(e.adler=F(e.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=ke)}else n.status=ke;if(n.status===ke&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&h(e),n.pending+2<=n.pending_buf_size&&(d(n,255&e.adler),
d(n,e.adler>>8&255),e.adler=0,n.status=Te)):n.status=Te),0!==n.pending){if(h(e),0===e.avail_out)return n.last_flush=-1,z}else if(0===e.avail_in&&c(t)<=c(o)&&t!==G)return l(e,J);if(n.status===Se&&0!==e.avail_in)return l(e,J);if(0!==e.avail_in||0!==n.lookahead||t!==H&&n.status!==Se){var g=n.strategy===Q?k(n,t):n.strategy===$?E(n,t):N[n.level].func(n,t);if(g!==Ae&&g!==we||(n.status=Se),g===Ce||g===Ae)return 0===e.avail_out&&(n.last_flush=-1),z;if(g===Be&&(t===V?D._tr_align(n):t!==W&&(D._tr_stored_block(n,0,0,!1),t===j&&(u(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),h(e),0===e.avail_out))return n.last_flush=-1,z}return t!==G?z:n.wrap<=0?K:(2===n.wrap?(d(n,255&e.adler),d(n,e.adler>>8&255),d(n,e.adler>>16&255),d(n,e.adler>>24&255),d(n,255&e.total_in),d(n,e.total_in>>8&255),d(n,e.total_in>>16&255),d(n,e.total_in>>24&255)):(f(n,e.adler>>>16),f(n,65535&e.adler)),h(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?z:K)}function M(e){var t;return e&&e.state?(t=e.state.status,t!==_e&&t!==me&&t!==ve&&t!==Ee&&t!==ke&&t!==Te&&t!==Se?l(e,X):(e.state=null,t===Te?l(e,Y):z)):X}function x(e,t){var o,n,r,i,a,s,l,c,h=t.length;if(!e||!e.state)return X;if(o=e.state,i=o.wrap,2===i||1===i&&o.status!==_e||o.lookahead)return X;for(1===i&&(e.adler=P(e.adler,t,h,0)),o.wrap=0,h>=o.w_size&&(0===i&&(u(o.head),o.strstart=0,o.block_start=0,o.insert=0),c=new L.Buf8(o.w_size),L.arraySet(c,t,h-o.w_size,o.w_size,0),t=c,h=o.w_size),a=e.avail_in,s=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,b(o);o.lookahead>=fe;){n=o.strstart,r=o.lookahead-(fe-1);do o.ins_h=(o.ins_h<<o.hash_shift^o.window[n+fe-1])&o.hash_mask,o.prev[n&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=n,n++;while(--r);o.strstart=n,o.lookahead=fe-1,b(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=fe-1,o.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,o.wrap=i,z}var N,L=o(n),D=o(r),P=o(i),F=o(a),U=o(s),H=0,V=1,j=3,G=4,W=5,z=0,K=1,X=-2,Y=-3,J=-5,q=-1,Z=1,Q=2,$=3,ee=4,te=0,oe=2,ne=8,re=9,ie=15,ae=8,se=29,le=256,ce=le+1+se,ue=30,he=19,ge=2*ce+1,de=15,fe=3,pe=258,ye=pe+fe+1,be=32,_e=42,me=69,ve=73,Ee=91,ke=103,Te=113,Se=666,Ce=1,Be=2,Ae=3,we=4,Ie=3;N=[new T(0,0,0,0,_),new T(4,4,8,4,m),new T(4,5,16,8,m),new T(4,6,32,32,m),new T(4,4,16,16,v),new T(8,16,32,32,v),new T(8,16,128,128,v),new T(8,32,128,256,v),new T(32,128,258,1024,v),new T(32,258,258,4096,v)],t.deflateInit=O,t.deflateInit2=I,t.deflateReset=A,t.deflateResetKeep=B,t.deflateSetHeader=w,t.deflate=R,t.deflateEnd=M,t.deflateSetDictionary=x,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,o,n,r,i,a,s){"use strict";function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new T.Buf16(320),this.work=new T.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=j,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new T.Buf32(ve),t.distcode=t.distdyn=new T.Buf32(Ee),t.sane=1,t.back=-1,N):P}function h(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,u(e)):P}function g(e,t){var o,n;return e&&e.state?(n=e.state,t<0?(o=0,t=-t):(o=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?P:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=o,n.wbits=t,h(e))):P}function d(e,t){var o,n;return e?(n=new c,e.state=n,n.window=null,o=g(e,t),o!==N&&(e.state=null),o):P}function f(e){return d(e,Te)}function p(e){if(Se){var t;for(E=new T.Buf32(512),k=new T.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(A(I,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;A(O,e.lens,0,32,k,0,e.work,{bits:5}),Se=!1}e.lencode=E,e.lenbits=9,e.distcode=k,e.distbits=5}function y(e,t,o,n){var r,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new T.Buf8(i.wsize)),n>=i.wsize?(T.arraySet(i.window,t,o-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(r=i.wsize-i.wnext,r>n&&(r=n),T.arraySet(i.window,t,o-n,r,i.wnext),n-=r,n?(T.arraySet(i.window,t,o-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=r,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=r))),0}function b(e,t){var o,n,r,i,a,s,c,u,h,g,d,f,b,_,m,v,E,k,ve,Ee,ke,Te,Se,Ce,Be=0,Ae=new T.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return P;o=e.state,o.mode===$&&(o.mode=ee),a=e.next_out,r=e.output,c=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,u=o.hold,h=o.bits,g=s,d=c,Te=N;e:for(;;)switch(o.mode){case j:if(0===o.wrap){o.mode=ee;break}for(;h<16;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(2&o.wrap&&35615===u){o.check=0,Ae[0]=255&u,Ae[1]=u>>>8&255,o.check=C(o.check,Ae,2,0),u=0,h=0,o.mode=G;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",o.mode=be;break}if((15&u)!==V){e.msg="unknown compression method",o.mode=be;break}if(u>>>=4,h-=4,ke=(15&u)+8,0===o.wbits)o.wbits=ke;else if(ke>o.wbits){e.msg="invalid window size",o.mode=be;break}o.dmax=1<<ke,e.adler=o.check=1,o.mode=512&u?Z:$,u=0,h=0;break;case G:for(;h<16;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(o.flags=u,(255&o.flags)!==V){e.msg="unknown compression method",o.mode=be;break}if(57344&o.flags){e.msg="unknown header flags set",o.mode=be;break}o.head&&(o.head.text=u>>8&1),512&o.flags&&(Ae[0]=255&u,Ae[1]=u>>>8&255,o.check=C(o.check,Ae,2,0)),u=0,h=0,o.mode=W;case W:for(;h<32;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}o.head&&(o.head.time=u),512&o.flags&&(Ae[0]=255&u,Ae[1]=u>>>8&255,Ae[2]=u>>>16&255,Ae[3]=u>>>24&255,o.check=C(o.check,Ae,4,0)),u=0,h=0,o.mode=z;case z:for(;h<16;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}o.head&&(o.head.xflags=255&u,o.head.os=u>>8),512&o.flags&&(Ae[0]=255&u,Ae[1]=u>>>8&255,o.check=C(o.check,Ae,2,0)),u=0,h=0,o.mode=K;case K:if(1024&o.flags){for(;h<16;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}o.length=u,o.head&&(o.head.extra_len=u),512&o.flags&&(Ae[0]=255&u,Ae[1]=u>>>8&255,o.check=C(o.check,Ae,2,0)),u=0,h=0}else o.head&&(o.head.extra=null);o.mode=X;case X:if(1024&o.flags&&(f=o.length,f>s&&(f=s),f&&(o.head&&(ke=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),T.arraySet(o.head.extra,n,i,f,ke)),512&o.flags&&(o.check=C(o.check,n,f,i)),s-=f,i+=f,o.length-=f),o.length))break e;o.length=0,o.mode=Y;case Y:if(2048&o.flags){if(0===s)break e;f=0;do ke=n[i+f++],o.head&&ke&&o.length<65536&&(o.head.name+=String.fromCharCode(ke));while(ke&&f<s);if(512&o.flags&&(o.check=C(o.check,n,f,i)),s-=f,i+=f,ke)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=J;case J:if(4096&o.flags){if(0===s)break e;f=0;do ke=n[i+f++],o.head&&ke&&o.length<65536&&(o.head.comment+=String.fromCharCode(ke));while(ke&&f<s);if(512&o.flags&&(o.check=C(o.check,n,f,i)),s-=f,i+=f,ke)break e}else o.head&&(o.head.comment=null);o.mode=q;case q:if(512&o.flags){for(;h<16;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(u!==(65535&o.check)){e.msg="header crc mismatch",o.mode=be;break}u=0,h=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),e.adler=o.check=0,o.mode=$;break;case Z:for(;h<32;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}e.adler=o.check=l(u),u=0,h=0,o.mode=Q;case Q:if(0===o.havedict)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,o.hold=u,o.bits=h,D;e.adler=o.check=1,o.mode=$;case $:if(t===M||t===x)break e;case ee:if(o.last){u>>>=7&h,h-=7&h,o.mode=fe;break}for(;h<3;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}switch(o.last=1&u,u>>>=1,h-=1,3&u){case 0:o.mode=te;break;case 1:if(p(o),o.mode=se,t===x){u>>>=2,h-=2;break e}break;case 2:o.mode=re;break;case 3:e.msg="invalid block type",o.mode=be}u>>>=2,h-=2;break;case te:for(u>>>=7&h,h-=7&h;h<32;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",o.mode=be;break}if(o.length=65535&u,u=0,h=0,o.mode=oe,t===x)break e;case oe:o.mode=ne;case ne:if(f=o.length){if(f>s&&(f=s),f>c&&(f=c),0===f)break e;T.arraySet(r,n,i,f,a),s-=f,i+=f,c-=f,a+=f,o.length-=f;break}o.mode=$;break;case re:for(;h<14;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(o.nlen=(31&u)+257,u>>>=5,h-=5,o.ndist=(31&u)+1,u>>>=5,h-=5,o.ncode=(15&u)+4,u>>>=4,h-=4,o.nlen>286||o.ndist>30){e.msg="too many length or distance symbols",o.mode=be;break}o.have=0,o.mode=ie;case ie:for(;o.have<o.ncode;){for(;h<3;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}o.lens[we[o.have++]]=7&u,u>>>=3,h-=3}for(;o.have<19;)o.lens[we[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,Se={bits:o.lenbits},Te=A(w,o.lens,0,19,o.lencode,0,o.work,Se),o.lenbits=Se.bits,Te){e.msg="invalid code lengths set",o.mode=be;break}o.have=0,o.mode=ae;case ae:for(;o.have<o.nlen+o.ndist;){for(;Be=o.lencode[u&(1<<o.lenbits)-1],m=Be>>>24,v=Be>>>16&255,E=65535&Be,!(m<=h);){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(E<16)u>>>=m,h-=m,o.lens[o.have++]=E;else{if(16===E){for(Ce=m+2;h<Ce;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(u>>>=m,h-=m,0===o.have){e.msg="invalid bit length repeat",o.mode=be;break}ke=o.lens[o.have-1],f=3+(3&u),u>>>=2,h-=2}else if(17===E){for(Ce=m+3;h<Ce;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}u>>>=m,h-=m,ke=0,f=3+(7&u),u>>>=3,h-=3}else{for(Ce=m+7;h<Ce;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}u>>>=m,h-=m,ke=0,f=11+(127&u),u>>>=7,h-=7}if(o.have+f>o.nlen+o.ndist){e.msg="invalid bit length repeat",o.mode=be;break}for(;f--;)o.lens[o.have++]=ke}}if(o.mode===be)break;if(0===o.lens[256]){e.msg="invalid code -- missing end-of-block",o.mode=be;break}if(o.lenbits=9,Se={bits:o.lenbits},Te=A(I,o.lens,0,o.nlen,o.lencode,0,o.work,Se),o.lenbits=Se.bits,Te){e.msg="invalid literal/lengths set",o.mode=be;break}if(o.distbits=6,o.distcode=o.distdyn,Se={bits:o.distbits},Te=A(O,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,Se),o.distbits=Se.bits,Te){e.msg="invalid distances set",o.mode=be;break}if(o.mode=se,t===x)break e;case se:o.mode=le;case le:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,o.hold=u,o.bits=h,B(e,d),a=e.next_out,r=e.output,c=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,u=o.hold,h=o.bits,o.mode===$&&(o.back=-1);break}for(o.back=0;Be=o.lencode[u&(1<<o.lenbits)-1],m=Be>>>24,v=Be>>>16&255,E=65535&Be,!(m<=h);){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(v&&0===(240&v)){for(k=m,ve=v,Ee=E;Be=o.lencode[Ee+((u&(1<<k+ve)-1)>>k)],m=Be>>>24,v=Be>>>16&255,E=65535&Be,!(k+m<=h);){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}u>>>=k,h-=k,o.back+=k}if(u>>>=m,h-=m,o.back+=m,o.length=E,0===v){o.mode=de;break}if(32&v){o.back=-1,o.mode=$;break}if(64&v){e.msg="invalid literal/length code",o.mode=be;break}o.extra=15&v,o.mode=ce;case ce:if(o.extra){for(Ce=o.extra;h<Ce;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}o.length+=u&(1<<o.extra)-1,u>>>=o.extra,h-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=ue;case ue:for(;Be=o.distcode[u&(1<<o.distbits)-1],m=Be>>>24,v=Be>>>16&255,E=65535&Be,!(m<=h);){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(0===(240&v)){for(k=m,ve=v,Ee=E;Be=o.distcode[Ee+((u&(1<<k+ve)-1)>>k)],m=Be>>>24,v=Be>>>16&255,E=65535&Be,!(k+m<=h);){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}u>>>=k,h-=k,o.back+=k}if(u>>>=m,h-=m,o.back+=m,64&v){e.msg="invalid distance code",o.mode=be;break}o.offset=E,o.extra=15&v,o.mode=he;case he:if(o.extra){for(Ce=o.extra;h<Ce;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}o.offset+=u&(1<<o.extra)-1,u>>>=o.extra,h-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){e.msg="invalid distance too far back",o.mode=be;break}o.mode=ge;case ge:if(0===c)break e;if(f=d-c,o.offset>f){if(f=o.offset-f,f>o.whave&&o.sane){e.msg="invalid distance too far back",o.mode=be;break}f>o.wnext?(f-=o.wnext,b=o.wsize-f):b=o.wnext-f,f>o.length&&(f=o.length),_=o.window}else _=r,b=a-o.offset,f=o.length;f>c&&(f=c),c-=f,o.length-=f;do r[a++]=_[b++];while(--f);0===o.length&&(o.mode=le);break;case de:if(0===c)break e;r[a++]=o.length,c--,o.mode=le;break;case fe:if(o.wrap){for(;h<32;){if(0===s)break e;s--,u|=n[i++]<<h,h+=8}if(d-=c,e.total_out+=d,o.total+=d,d&&(e.adler=o.check=o.flags?C(o.check,r,d,a-d):S(o.check,r,d,a-d)),d=c,(o.flags?u:l(u))!==o.check){e.msg="incorrect data check",o.mode=be;break}u=0,h=0}o.mode=pe;case pe:if(o.wrap&&o.flags){for(;h<32;){if(0===s)break e;s--,u+=n[i++]<<h,h+=8}if(u!==(4294967295&o.total)){e.msg="incorrect length check",o.mode=be;break}u=0,h=0}o.mode=ye;case ye:Te=L;break e;case be:Te=F;break e;case _e:return U;case me:default:return P}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,o.hold=u,o.bits=h,(o.wsize||d!==e.avail_out&&o.mode<be&&(o.mode<fe||t!==R))&&y(e,e.output,e.next_out,d-e.avail_out)?(o.mode=_e,U):(g-=e.avail_in,d-=e.avail_out,e.total_in+=g,e.total_out+=d,o.total+=d,o.wrap&&d&&(e.adler=o.check=o.flags?C(o.check,r,d,e.next_out-d):S(o.check,r,d,e.next_out-d)),e.data_type=o.bits+(o.last?64:0)+(o.mode===$?128:0)+(o.mode===se||o.mode===oe?256:0),(0===g&&0===d||t===R)&&Te===N&&(Te=H),Te)}function _(e){if(!e||!e.state)return P;var t=e.state;return t.window&&(t.window=null),e.state=null,N}function m(e,t){var o;return e&&e.state?(o=e.state,0===(2&o.wrap)?P:(o.head=t,t.done=!1,N)):P}function v(e,t){var o,n,r,i=t.length;return e&&e.state?(o=e.state,0!==o.wrap&&o.mode!==Q?P:o.mode===Q&&(n=1,n=S(n,t,i,0),n!==o.check)?F:(r=y(e,t,i,i))?(o.mode=_e,U):(o.havedict=1,N)):P}var E,k,T=o(n),S=o(r),C=o(i),B=o(a),A=o(s),w=0,I=1,O=2,R=4,M=5,x=6,N=0,L=1,D=2,P=-2,F=-3,U=-4,H=-5,V=8,j=1,G=2,W=3,z=4,K=5,X=6,Y=7,J=8,q=9,Z=10,Q=11,$=12,ee=13,te=14,oe=15,ne=16,re=17,ie=18,ae=19,se=20,le=21,ce=22,ue=23,he=24,ge=25,de=26,fe=27,pe=28,ye=29,be=30,_e=31,me=32,ve=852,Ee=592,ke=15,Te=ke,Se=!0;t.inflateReset=h,t.inflateReset2=g,t.inflateResetKeep=u,t.inflateInit=f,t.inflateInit2=d,t.inflate=b,t.inflateEnd=_,t.inflateGetHeader=m,t.inflateSetDictionary=v,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,o,n){"use strict";var r=o(n),i=15,a=852,s=592,l=0,c=1,u=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,o,n,p,y,b,_){var m,v,E,k,T,S,C,B,A,w=_.bits,I=0,O=0,R=0,M=0,x=0,N=0,L=0,D=0,P=0,F=0,U=null,H=0,V=new r.Buf16(i+1),j=new r.Buf16(i+1),G=null,W=0;for(I=0;I<=i;I++)V[I]=0;for(O=0;O<n;O++)V[t[o+O]]++;for(x=w,M=i;M>=1&&0===V[M];M--);if(x>M&&(x=M),0===M)return p[y++]=20971520,p[y++]=20971520,_.bits=1,0;for(R=1;R<M&&0===V[R];R++);for(x<R&&(x=R),D=1,I=1;I<=i;I++)if(D<<=1,D-=V[I],D<0)return-1;if(D>0&&(e===l||1!==M))return-1;for(j[1]=0,I=1;I<i;I++)j[I+1]=j[I]+V[I];for(O=0;O<n;O++)0!==t[o+O]&&(b[j[t[o+O]]++]=O);if(e===l?(U=G=b,S=19):e===c?(U=h,H-=257,G=g,W-=257,S=256):(U=d,G=f,S=-1),F=0,O=0,I=R,T=y,N=x,L=0,E=-1,P=1<<x,k=P-1,e===c&&P>a||e===u&&P>s)return 1;for(var z=0;;){z++,C=I-L,b[O]<S?(B=0,A=b[O]):b[O]>S?(B=G[W+b[O]],A=U[H+b[O]]):(B=96,A=0),m=1<<I-L,v=1<<N,R=v;do v-=m,p[T+(F>>L)+v]=C<<24|B<<16|A|0;while(0!==v);for(m=1<<I-1;F&m;)m>>=1;if(0!==m?(F&=m-1,F+=m):F=0,O++,0===--V[I]){if(I===M)break;I=t[o+b[O]]}if(I>x&&(F&k)!==E){for(0===L&&(L=x),T+=R,N=I-L,D=1<<N;N+L<M&&(D-=V[N+L],!(D<=0));)N++,D<<=1;if(P+=1<<N,e===c&&P>a||e===u&&P>s)return 1;E=F&k,p[E]=x<<24|N<<16|T-y|0}}return 0!==F&&(p[T+F]=I-L<<24|64<<16|0),_.bits=x,0}},function(e,t,o,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,o,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=o,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?ce[e]:ce[256+(e>>>7)]}function l(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,o){e.bi_valid>q-o?(e.bi_buf|=t<<e.bi_valid&65535,l(e,e.bi_buf),e.bi_buf=t>>q-e.bi_valid,e.bi_valid+=o-q):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=o)}function u(e,t,o){c(e,o[2*t],o[2*t+1])}function h(e,t){var o=0;do o|=1&e,e>>>=1,o<<=1;while(--t>0);return o>>>1}function g(e){16===e.bi_valid?(l(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function d(e,t){var o,n,r,i,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,g=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,f=t.stat_desc.max_length,p=0;for(i=0;i<=J;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,o=e.heap_max+1;o<Y;o++)n=e.heap[o],i=l[2*l[2*n+1]+1]+1,i>f&&(i=f,p++),l[2*n+1]=i,n>c||(e.bl_count[i]++,a=0,n>=d&&(a=g[n-d]),s=l[2*n],e.opt_len+=s*(i+a),h&&(e.static_len+=s*(u[2*n+1]+a)));if(0!==p){do{for(i=f-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[f]--,p-=2}while(p>0);for(i=f;0!==i;i--)for(n=e.bl_count[i];0!==n;)r=e.heap[--o],r>c||(l[2*r+1]!==i&&(e.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}function f(e,t,o){var n,r,i=new Array(J+1),a=0;for(n=1;n<=J;n++)i[n]=a=a+o[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=h(i[s]++,s))}}function p(){var e,t,o,n,r,a=new Array(J+1);for(o=0,n=0;n<G-1;n++)for(he[n]=o,e=0;e<1<<oe[n];e++)ue[o++]=n;for(ue[o-1]=n,r=0,n=0;n<16;n++)for(ge[n]=r,e=0;e<1<<ne[n];e++)ce[r++]=n;for(r>>=7;n<K;n++)for(ge[n]=r<<7,e=0;e<1<<ne[n]-7;e++)ce[256+r++]=n;for(t=0;t<=J;t++)a[t]=0;for(e=0;e<=143;)se[2*e+1]=8,e++,a[8]++;for(;e<=255;)se[2*e+1]=9,e++,a[9]++;for(;e<=279;)se[2*e+1]=7,e++,a[7]++;for(;e<=287;)se[2*e+1]=8,e++,a[8]++;for(f(se,z+1,a),e=0;e<K;e++)le[2*e+1]=5,le[2*e]=h(e,5);de=new i(se,oe,W+1,z,J),fe=new i(le,ne,0,K,J),pe=new i(new Array(0),re,0,X,Z)}function y(e){var t;for(t=0;t<z;t++)e.dyn_ltree[2*t]=0;for(t=0;t<K;t++)e.dyn_dtree[2*t]=0;for(t=0;t<X;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Q]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function b(e){e.bi_valid>8?l(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function _(e,t,o,n){b(e),n&&(l(e,o),l(e,~o)),x.arraySet(e.pending_buf,e.window,t,o,e.pending),e.pending+=o}function m(e,t,o,n){var r=2*t,i=2*o;return e[r]<e[i]||e[r]===e[i]&&n[t]<=n[o]}function v(e,t,o){for(var n=e.heap[o],r=o<<1;r<=e.heap_len&&(r<e.heap_len&&m(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!m(t,n,e.heap[r],e.depth));)e.heap[o]=e.heap[r],o=r,r<<=1;e.heap[o]=n}function E(e,t,o){var n,r,i,a,l=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===n?u(e,r,t):(i=ue[r],u(e,i+W+1,t),a=oe[i],0!==a&&(r-=he[i],c(e,r,a)),n--,i=s(n),u(e,i,o),a=ne[i],0!==a&&(n-=ge[i],c(e,n,a)));while(l<e.last_lit);u(e,Q,t)}function k(e,t){var o,n,r,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=Y,o=0;o<l;o++)0!==i[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):i[2*o+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=c<2?++c:0,i[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)v(e,i,o);r=l;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],v(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=n,i[2*r]=i[2*o]+i[2*n],e.depth[r]=(e.depth[o]>=e.depth[n]?e.depth[o]:e.depth[n])+1,i[2*o+1]=i[2*n+1]=r,e.heap[1]=r++,v(e,i,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d(e,t),f(i,c,e.bl_count)}function T(e,t,o){var n,r,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(o+1)+1]=65535,n=0;n<=o;n++)r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==i&&e.bl_tree[2*r]++,e.bl_tree[2*$]++):s<=10?e.bl_tree[2*ee]++:e.bl_tree[2*te]++,s=0,i=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function S(e,t,o){var n,r,i=-1,a=t[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),n=0;n<=o;n++)if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<h)do u(e,r,e.bl_tree);while(0!==--s);else 0!==r?(r!==i&&(u(e,r,e.bl_tree),s--),u(e,$,e.bl_tree),c(e,s-3,2)):s<=10?(u(e,ee,e.bl_tree),c(e,s-3,3)):(u(e,te,e.bl_tree),c(e,s-11,7));s=0,i=r,0===a?(l=138,h=3):r===a?(l=6,h=3):(l=7,h=4)}}function C(e){var t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),k(e,e.bl_desc),t=X-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function B(e,t,o,n){var r;for(c(e,t-257,5),c(e,o-1,5),c(e,n-4,4),r=0;r<n;r++)c(e,e.bl_tree[2*ie[r]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,o-1)}function A(e){var t,o=4093624447;for(t=0;t<=31;t++,o>>>=1)if(1&o&&0!==e.dyn_ltree[2*t])return L;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return D;for(t=32;t<W;t++)if(0!==e.dyn_ltree[2*t])return D;return L}function w(e){ye||(p(),ye=!0),e.l_desc=new a(e.dyn_ltree,de),e.d_desc=new a(e.dyn_dtree,fe),e.bl_desc=new a(e.bl_tree,pe),e.bi_buf=0,e.bi_valid=0,y(e)}function I(e,t,o,n){c(e,(F<<1)+(n?1:0),3),_(e,t,o,!0)}function O(e){c(e,U<<1,3),u(e,Q,se),g(e)}function R(e,t,o,n){var r,i,a=0;e.level>0?(e.strm.data_type===P&&(e.strm.data_type=A(e)),k(e,e.l_desc),k(e,e.d_desc),a=C(e),r=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=r&&(r=i)):r=i=o+5,o+4<=r&&t!==-1?I(e,t,o,n):e.strategy===N||i===r?(c(e,(U<<1)+(n?1:0),3),E(e,se,le)):(c(e,(H<<1)+(n?1:0),3),B(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),E(e,e.dyn_ltree,e.dyn_dtree)),y(e),n&&b(e)}function M(e,t,o){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&o,e.last_lit++,0===t?e.dyn_ltree[2*o]++:(e.matches++,t--,e.dyn_ltree[2*(ue[o]+W+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1}var x=o(n),N=4,L=0,D=1,P=2,F=0,U=1,H=2,V=3,j=258,G=29,W=256,z=W+1+G,K=30,X=19,Y=2*z+1,J=15,q=16,Z=7,Q=256,$=16,ee=17,te=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=512,se=new Array(2*(z+2));r(se);var le=new Array(2*K);r(le);var ce=new Array(ae);r(ce);var ue=new Array(j-V+1);r(ue);var he=new Array(G);r(he);var ge=new Array(K);r(ge);var de,fe,pe,ye=!1;t._tr_init=w,t._tr_stored_block=I,t._tr_flush_block=R,t._tr_tally=M,t._tr_align=O},function(e,t,o,n,r){o(n),e.exports=o(r).setImmediate},function(e,t,o,n,r,i){e.exports=!o(n)&&!o(r)(function(){return 7!=Object.defineProperty(o(i)("div"),"a",{get:function(){return 7}}).a})},function(e,t,o,n,r,i,a,s,l){var c,u,h,g=o(n),d=o(r),f=o(i),p=o(a),y=o(s),b=y.process,_=y.setImmediate,m=y.clearImmediate,v=y.MessageChannel,E=0,k={},T="onreadystatechange",S=function(){var e=+this;if(k.hasOwnProperty(e)){var t=k[e];delete k[e],t()}},C=function(e){S.call(e.data)};_&&m||(_=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return k[++E]=function(){d("function"==typeof e?e:Function(e),t)},c(E),E},m=function(e){delete k[e]},"process"==o(l)(b)?c=function(e){b.nextTick(g(S,e,1))}:v?(u=new v,h=u.port2,u.port1.onmessage=C,c=g(h.postMessage,h,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(c=function(e){y.postMessage(e+"","*")},y.addEventListener("message",C,!1)):c=T in p("script")?function(e){f.appendChild(p("script"))[T]=function(){f.removeChild(this),S.call(e)}}:function(e){setTimeout(g(S,e,1),0)}),e.exports={set:_,clear:m}},function(e,t,o,n,r){var i=o(n),a=o(r);i(i.G+i.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,o,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(e){var t=new r;t.pre=e.pre,t.body=e.body,t.post=e.post;var o=e.args.slice(0);t.argTypes=o;for(var n=0;n<o.length;++n){var i=o[n];if("array"===i||"object"==typeof i&&i.blockIndices){if(t.argTypes[n]="array",t.arrayArgs.push(n),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array args");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)t.scalarArgs.push(n),t.shimArgs.push("scalar"+n);else if("index"===i){if(t.indexArgs.push(n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array index");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array index");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(t.shapeArgs.push(n),n<t.pre.args.length&&t.pre.args[n].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array shape");if(n<t.post.args.length&&t.post.args[n].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+o[n]);t.argTypes[n]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(n)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>o.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>o.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>o.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,a(t)}var a=o(n);e.exports=i},function(e,t,o,n){"use strict";function r(e,t,o){var n,r,i=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],c=[],u=0,h=0;for(n=0;n<i;++n)c.push(["i",n,"=0"].join(""));for(r=0;r<a;++r)for(n=0;n<i;++n)h=u,u=e[n],0===n?c.push(["d",r,"s",n,"=t",r,"p",u].join("")):c.push(["d",r,"s",n,"=(t",r,"p",u,"-s",h,"*t",r,"p",h,")"].join(""));for(l.push("var "+c.join(",")),n=i-1;n>=0;--n)u=e[n],l.push(["for(i",n,"=0;i",n,"<s",u,";++i",n,"){"].join(""));for(l.push(o),n=0;n<i;++n){for(h=u,u=e[n],r=0;r<a;++r)l.push(["p",r,"+=d",r,"s",n].join(""));s&&(n>0&&l.push(["index[",h,"]-=s",h].join("")),l.push(["++index[",u,"]"].join(""))),l.push("}")}return l.join("\n")}function i(e,t,o,n){for(var i=t.length,a=o.arrayArgs.length,s=o.blockSize,l=o.indexArgs.length>0,c=[],u=0;u<a;++u)c.push(["var offset",u,"=p",u].join(""));for(var u=e;u<i;++u)c.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),c.push(["if(j",u,"<",s,"){"].join("")),c.push(["s",t[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",t[u],"=",s].join("")),c.push(["j",u,"-=",s,"}"].join("")),l&&c.push(["index[",t[u],"]=j",u].join(""));for(var u=0;u<a;++u){for(var h=["offset"+u],g=e;g<i;++g)h.push(["j",g,"*t",u,"p",t[g]].join(""));c.push(["p",u,"=(",h.join("+"),")"].join(""))}c.push(r(t,o,n));for(var u=e;u<i;++u)c.push("}");return c.join("\n")}function a(e){for(var t=0,o=e[0].length;t<o;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function s(e,t,o){for(var n=e.body,r=[],i=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),c="",u=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var h=t.offsetArgIndex.indexOf(a),g=t.offsetArgs[h];u=g.array,c="+q"+h;case"array":c="p"+u+c;var d="l"+a,f="a"+u;if(0===t.arrayBlockIndices[u])1===s.count?"generic"===o[u]?s.lvalue?(r.push(["var ",d,"=",f,".get(",c,")"].join("")),n=n.replace(l,d),i.push([f,".set(",c,",",d,")"].join(""))):n=n.replace(l,[f,".get(",c,")"].join("")):n=n.replace(l,[f,"[",c,"]"].join("")):"generic"===o[u]?(r.push(["var ",d,"=",f,".get(",c,")"].join("")),n=n.replace(l,d),s.lvalue&&i.push([f,".set(",c,",",d,")"].join(""))):(r.push(["var ",d,"=",f,"[",c,"]"].join("")),n=n.replace(l,d),s.lvalue&&i.push([f,"[",c,"]=",d].join("")));else{for(var p=[s.name],y=[c],b=0;b<Math.abs(t.arrayBlockIndices[u]);b++)p.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(b+1)+"*t"+u+"b"+b);if(l=new RegExp(p.join(""),"g"),c=y.join("+"),"generic"===o[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(l,[f,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":n=n.replace(l,"index");break;case"shape":n=n.replace(l,"shape")}}}return[r.join("\n"),n,i.join("\n")].join("\n").trim()}function l(e){for(var t=new Array(e.length),o=!0,n=0;n<e.length;++n){var r=e[n],i=r.match(/\d+/);i=i?i[0]:"",0===r.charAt(0)?t[n]="u"+r.charAt(1)+i:t[n]=r.charAt(0)+i,n>0&&(o=o&&t[n]===t[n-1])}return o?t[0]:t.join("")}function c(e,t){for(var o=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,n=new Array(e.arrayArgs.length),c=new Array(e.arrayArgs.length),h=0;h<e.arrayArgs.length;++h)c[h]=t[2*h],n[h]=t[2*h+1];for(var g=[],d=[],f=[],p=[],y=[],h=0;h<e.arrayArgs.length;++h){e.arrayBlockIndices[h]<0?(f.push(0),p.push(o),g.push(o),d.push(o+e.arrayBlockIndices[h])):(f.push(e.arrayBlockIndices[h]),p.push(e.arrayBlockIndices[h]+o),g.push(0),d.push(e.arrayBlockIndices[h]));for(var b=[],_=0;_<n[h].length;_++)f[h]<=n[h][_]&&n[h][_]<p[h]&&b.push(n[h][_]-f[h]);y.push(b)}for(var m=["SS"],v=["'use strict'"],E=[],_=0;_<o;++_)E.push(["s",_,"=SS[",_,"]"].join(""));for(var h=0;h<e.arrayArgs.length;++h){m.push("a"+h),m.push("t"+h),m.push("p"+h);for(var _=0;_<o;++_)E.push(["t",h,"p",_,"=t",h,"[",f[h]+_,"]"].join(""));for(var _=0;_<Math.abs(e.arrayBlockIndices[h]);++_)E.push(["t",h,"b",_,"=t",h,"[",g[h]+_,"]"].join(""))}for(var h=0;h<e.scalarArgs.length;++h)m.push("Y"+h);if(e.shapeArgs.length>0&&E.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var k=new Array(o),h=0;h<o;++h)k[h]="0";E.push(["index=[",k.join(","),"]"].join(""))}for(var h=0;h<e.offsetArgs.length;++h){for(var T=e.offsetArgs[h],S=[],_=0;_<T.offset.length;++_)0!==T.offset[_]&&(1===T.offset[_]?S.push(["t",T.array,"p",_].join("")):S.push([T.offset[_],"*t",T.array,"p",_].join("")));0===S.length?E.push("q"+h+"=0"):E.push(["q",h,"=",S.join("+")].join(""))}var C=u([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));E=E.concat(C),v.push("var "+E.join(","));for(var h=0;h<e.arrayArgs.length;++h)v.push("p"+h+"|=0");e.pre.body.length>3&&v.push(s(e.pre,e,c));var B=s(e.body,e,c),A=a(y);A<o?v.push(i(A,y[0],e,B)):v.push(r(y[0],e,B)),e.post.body.length>3&&v.push(s(e.post,e,c)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+v.join("\n")+"\n----------");var w=[e.funcName||"unnamed","_cwise_loop_",n[0].join("s"),"m",A,l(c)].join(""),I=new Function(["function ",w,"(",m.join(","),"){",v.join("\n"),"} return ",w].join(""));return I()}var u=o(n);e.exports=c},function(e,t,o,n){"use strict";function r(e){var t=["'use strict'","var CACHED={}"],o=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var r=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],c=[],u=0;u<e.arrayArgs.length;++u){var h=e.arrayArgs[u];o.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),r.push("t"+h),r.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),u>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),c.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),
t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var u=0;u<e.scalarArgs.length;++u)s.push("scalar"+e.scalarArgs[u]);o.push(["type=[",a.join(","),"].join()"].join("")),o.push("proc=CACHED[type]"),t.push("var "+o.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",r.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------");var g=new Function("compile",t.join("\n"));return g(i.bind(void 0,e))}var i=o(n);e.exports=r},function(e,t,o,n,r){(function(t){"use strict";function i(e,t,o){this.name=e,this.lvalue=t,this.rvalue=o,this.count=0}function a(e,t,o,n){this.body=e,this.args=t,this.thisVars=o,this.localVars=n}function s(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:"undefined"!=typeof t?e in t:"undefined"!=typeof self&&e in self}function l(e){for(var t=e.body[0].expression.callee.params,o=new Array(t.length),n=0;n<t.length;++n)o[n]=t[n].name;return o}function c(e){function t(e){var t=y+e.replace(/\_/g,"__");return k.push(t),t}function o(e){var t="this_"+e.replace(/\_/g,"__");return T.push(t),t}function n(e,t){for(var o=e.range[0],n=e.range[1],r=o+1;r<n;++r)v[r]="";v[o]=t}function r(e){return"'"+e.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function c(e){return v.slice(e.range[0],e.range[1]).join("")}function d(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?S:S|C:"UpdateExpression"===e.parent.type?S|C:C}for(var f=["(",e,")()"].join(""),p=u.parse(f,{range:!0}),y="_inline_"+g++ +"_",b=l(p),_=new Array(b.length),m=0;m<b.length;++m)_[m]=new i([y,"arg",m,"_"].join(""),(!1),(!1));for(var v=new Array(f.length),m=0,E=f.length;m<E;++m)v[m]=f.charAt(m);var k=[],T=[],S=1,C=2;!function e(i,a){if(i.parent=a,"MemberExpression"===i.type)i.computed?(e(i.object,i),e(i.property,i)):"ThisExpression"===i.object.type?n(i,o(i.property.name)):e(i.object,i);else{if("ThisExpression"===i.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===i.type){var l=i.name,c=b.indexOf(l);if(c>=0){var u=_[c],h=d(i);h&S&&(u.lvalue=!0),h&C&&(u.rvalue=!0),++u.count,n(i,u.name)}else s(l)||n(i,t(l))}else if("Literal"===i.type)"string"==typeof i.value&&n(i,r(i.value));else{if("WithStatement"===i.type)throw new Error("cwise-parser: with() statements not allowed");for(var g=Object.keys(i),f=0,p=g.length;f<p;++f)if("parent"!==g[f]){var y=i[g[f]];if(y)if(y instanceof Array)for(var m=0;m<y.length;++m)y[m]&&"string"==typeof y[m].type&&e(y[m],i);else"string"==typeof y.type&&e(y,i)}}}}(p.body[0].expression.callee.body,void 0),h(k),h(T);var B=new a(c(p.body[0].expression.callee.body),_,T,k);return B}var u=o(n),h=o(r),g=0;e.exports=c}).call(t,function(){return this}())},function(e,t,o,n,r){"use strict";function i(e){for(var t in e)l.indexOf(t)<0&&c.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var o=0;o<l.length;++o)if(!e[l[o]])throw new Error("cwise: Missing argument: "+l[o]);return s({args:e.args,pre:a(e.pre||function(){}),body:a(e.body),post:a(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var a=o(n),s=o(r),l=["args","body"],c=["pre","post","printCode","funcName","blockSize"];e.exports=i},function(e,t,o,n,r,i){"use strict";function a(e,t,o,n,r){this.gl=e,this.type=t,this.handle=o,this.length=n,this.usage=r}function s(e,t,o,n,r,i){var a=r.length*r.BYTES_PER_ELEMENT;if(i<0)return e.bufferData(t,r,n),a;if(a+i>o)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,i,r),o}function l(e,t){for(var o=h.malloc(e.length,t),n=e.length,r=0;r<n;++r)o[r]=e[r];return o}function c(e,t){for(var o=1,n=t.length-1;n>=0;--n){if(t[n]!==o)return!1;o*=e[n]}return!0}function u(e,t,o,n){if(o=o||e.ARRAY_BUFFER,n=n||e.DYNAMIC_DRAW,o!==e.ARRAY_BUFFER&&o!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==e.DYNAMIC_DRAW&&n!==e.STATIC_DRAW&&n!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var r=e.createBuffer(),i=new a(e,o,r,0,n);return i.update(t),i}var h=o(n),g=o(r),d=o(i),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],p=a.prototype;p.bind=function(){this.gl.bindBuffer(this.type,this.handle)},p.unbind=function(){this.gl.bindBuffer(this.type,null)},p.dispose=function(){this.gl.deleteBuffer(this.handle)},p.update=function(e,t){if("number"!=typeof t&&(t=-1),this.bind(),"object"==typeof e&&"undefined"!=typeof e.shape){var o=e.dtype;if(f.indexOf(o)<0&&(o="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var n=gl.getExtension("OES_element_index_uint");o=n&&"uint16"!==o?"uint32":"uint16"}if(o===e.dtype&&c(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=s(this.gl,this.type,this.length,this.usage,e.data,t):this.length=s(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var r=h.malloc(e.size,o),i=d(r,e.shape);g.assign(i,e),t<0?this.length=s(this.gl,this.type,this.length,this.usage,r,t):this.length=s(this.gl,this.type,this.length,this.usage,r.subarray(0,e.size),t),h.free(r)}}else if(Array.isArray(e)){var a;a=this.type===this.gl.ELEMENT_ARRAY_BUFFER?l(e,"uint16"):l(e,"float32"),t<0?this.length=s(this.gl,this.type,this.length,this.usage,a,t):this.length=s(this.gl,this.type,this.length,this.usage,a.subarray(0,e.length),t),h.free(a)}else if("object"==typeof e&&"number"==typeof e.length)this.length=s(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!=typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");e=0|e,e<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},e.exports=u},function(e,t,o,n,r){(function(e,i){"use strict";function a(e){if(e){var t=e.length||e.byteLength,o=v.log2(t);S[o].push(e)}}function s(e){a(e.buffer)}function l(e){var e=v.nextPow2(e),t=v.log2(e),o=S[t];return o.length>0?o.pop():new ArrayBuffer(e)}function c(e){return new Uint8Array(l(e),0,e)}function u(e){return new Uint16Array(l(2*e),0,e)}function h(e){return new Uint32Array(l(4*e),0,e)}function g(e){return new Int8Array(l(e),0,e)}function d(e){return new Int16Array(l(2*e),0,e)}function f(e){return new Int32Array(l(4*e),0,e)}function p(e){return new Float32Array(l(4*e),0,e)}function y(e){return new Float64Array(l(8*e),0,e)}function b(e){return k?new Uint8ClampedArray(l(e),0,e):c(e)}function _(e){return new DataView(l(e),0,e)}function m(e){e=v.nextPow2(e);var t=v.log2(e),o=C[t];return o.length>0?o.pop():new i(e)}var v=o(n),E=o(r);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var k="undefined"!=typeof Uint8ClampedArray,T=e.__TYPEDARRAY_POOL;T.UINT8C||(T.UINT8C=E([32,0])),T.BUFFER||(T.BUFFER=E([32,0]));var S=T.DATA,C=T.BUFFER;t.free=function(e){if(i.isBuffer(e))C[v.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,o=0|v.log2(t);S[o].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=s,t.freeArrayBuffer=a,t.freeBuffer=function(e){C[v.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return l(e);switch(t){case"uint8":return c(e);case"uint16":return u(e);case"uint32":return h(e);case"int8":return g(e);case"int16":return d(e);case"int32":return f(e);case"float":case"float32":return p(e);case"double":case"float64":return y(e);case"uint8_clamped":return b(e);case"buffer":return m(e);case"data":case"dataview":return _(e);default:return null}return null},t.mallocArrayBuffer=l,t.mallocUint8=c,t.mallocUint16=u,t.mallocUint32=h,t.mallocInt8=g,t.mallocInt16=d,t.mallocInt32=f,t.mallocFloat32=t.mallocFloat=p,t.mallocFloat64=t.mallocDouble=y,t.mallocUint8Clamped=b,t.mallocDataView=_,t.mallocBuffer=m,t.clearCache=function(){for(var e=0;e<32;++e)T.UINT8[e].length=0,T.UINT16[e].length=0,T.UINT32[e].length=0,T.INT8[e].length=0,T.INT16[e].length=0,T.INT32[e].length=0,T.FLOAT[e].length=0,T.DOUBLE[e].length=0,T.UINT8C[e].length=0,S[e].length=0,C[e].length=0}}).call(t,function(){return this}(),o(1).Buffer)},function(e,t,o,n){var r=o(n);e.exports=function(e){return r[e]}},function(e,t,o,n,r,i,a){function s(e,t,o){"use strict";var n=u(t)||"of unknown name (see npm glsl-shader-name)",r="unknown type";void 0!==o&&(r=o===c.FRAGMENT_SHADER?"fragment":"vertex");for(var i=l("Error compiling %s shader %s:\n",r,n),a=l("%s%s",i,e),s=e.split("\n"),g={},d=0;d<s.length;d++){var f=s[d];if(""!==f){var p=parseInt(f.split(":")[2]);if(isNaN(p))throw new Error(l("Could not parse error: %s",f));g[p]=f}}for(var y=h(t).split("\n"),d=0;d<y.length;d++)if(g[d+3]||g[d+2]||g[d+1]){var b=y[d];if(i+=b+"\n",g[d+1]){var _=g[d+1];_=_.substr(_.split(":",3).join(":").length+1).trim(),i+=l("^^^ %s\n\n",_)}}return{long:i.trim(),short:a.trim()}}var l=o(n).sprintf,c=o(r),u=o(i),h=o(a);e.exports=s},function(e,t,o,n,r,i,a){function s(e){return this instanceof s?(this._elementsType=5123,this._elementsBytes=2,this._attributes=[],this._dirty=!0,this._attrLength=0,this._facesLength=0,this._index=null,this._vao=null,this._keys=[],void(this.gl=e)):new s(e)}var l=o(n),c=o(r),u=o(i),h=o(a);e.exports=s,s.prototype.dispose=function(){for(var e=0;e<this._attributes.length;e++)this._attributes[e].buffer.dispose();this._attributes=[],this._keys=[],this._attrLength=0,this._facesLength=0,this._dirty=!0,this._index&&(this._index.dispose(),this._index=null),this._vao&&(this._vao.dispose(),this._vao=null)},s.prototype.faces=function(e,t){var o=t&&t.size||3;return e=e.cells?e.cells:e,this._dirty=!0,this._index&&this._index.dispose(),this._index=l.create(this.gl,e,o,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._facesLength=this._index.length*o,this._index=this._index.buffer,this},s.prototype.attr=function(e,t,o){if(t.cells&&t.positions)return this.attr(e,t.positions).faces(t.cells,o);o=o||{};var n=o.size||3,r=this._keys.indexOf(e);if(r>-1){var i=this._attributes[r].buffer,a=o.offset||void 0;return l.update(i,t,n,"float32",a),this._attrLength=i.length/n/4,this}this._dirty=!0;var s=this.gl,c=!this._attributes.length,u=l.create(s,t,n,s.ARRAY_BUFFER,"float32");if(!u)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var h=u.buffer,g=u.length;return this._keys.push(e),this._attributes.push({size:n,buffer:h}),c&&(this._attrLength=g),this},s.prototype.bind=function(e){if(this.update(),this._vao.bind(),this._keys&&e){for(var t=0;t<this._keys.length;t++){var o=e.attributes[this._keys[t]];o&&(o.location=t)}e.bind()}},s.prototype.draw=function(e,t,o){t="undefined"==typeof t?0:t,e="undefined"==typeof e?this.gl.TRIANGLES:e,this.update(),this._vao._useElements?(o="undefined"==typeof o?this._facesLength:o,this.gl.drawElements(e,o-t,this._elementsType,t*this._elementsBytes)):(o="undefined"==typeof o?this._attrLength:o,this.gl.drawArrays(e,t,o-t))},s.prototype.unbind=function(){this.update(),this._vao.unbind()},s.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=u(this.gl,this._attributes,this._index),this._elementsType=this._vao._elementsType,this._elementsBytes=h(c(this._elementsType)||"array").BYTES_PER_ELEMENT||2)}},function(e,t,o,n,r,i,a,s){function l(e,t,o,n,r){if(t.handle instanceof WebGLBuffer)return{buffer:t,length:t.length/o/4};var i=u(t,o,r);return{buffer:p(e,i.data,n),length:i.length}}function c(e,t,o,n,r){if(t.handle instanceof WebGLBuffer)throw new Error("Unhandled update case: WebGLBuffer");var i=u(t,o,n);e.update(i.data,r)}function u(e,t,o){return Array.isArray(e)&&Array.isArray(e[0])?{data:d(e,o),length:e.length}:Array.isArray(e)&&f(e[0])?{data:d(e,o),length:e.length*e[0].length/t}:Array.isArray(e)?{data:new(b(o))(e),length:e.length/t}:y(e)?{data:e,length:h(e.shape)/t}:f(e)?(!o||e instanceof b(o)||(e=g(e,b(o))),{data:e,length:e.length/t}):void 0}function h(e){for(var t=1,o=0;o<e.length;o++)t*=e[o];return t}function g(e,t){for(var o=new t(e.length),n=0;n<e.length;n++)o[n]=e[n];return o}var d=o(n),f=o(r),p=o(i),y=o(a),b=o(s);e.exports.create=l,e.exports.update=c},function(e,t,o,n){var r=o(n),i={scalar:{},SIMD:{}};i.create=function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.clone=function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.fromValues=function(e,t,o,n,i,a,s,l,c,u,h,g,d,f,p,y){var b=new r.ARRAY_TYPE(16);return b[0]=e,b[1]=t,b[2]=o,b[3]=n,b[4]=i,b[5]=a,b[6]=s,b[7]=l,b[8]=c,b[9]=u,b[10]=h,b[11]=g,b[12]=d,b[13]=f,b[14]=p,b[15]=y,b},i.set=function(e,t,o,n,r,i,a,s,l,c,u,h,g,d,f,p,y){return e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=i,e[5]=a,e[6]=s,e[7]=l,e[8]=c,e[9]=u,e[10]=h,e[11]=g,e[12]=d,e[13]=f,e[14]=p,e[15]=y,e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.scalar.transpose=function(e,t){if(e===t){var o=t[1],n=t[2],r=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=o,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=r,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},i.SIMD.transpose=function(e,t){var o,n,r,i,a,s,l,c,u,h;return o=SIMD.Float32x4.load(t,0),n=SIMD.Float32x4.load(t,4),r=SIMD.Float32x4.load(t,8),i=SIMD.Float32x4.load(t,12),a=SIMD.Float32x4.shuffle(o,n,0,1,4,5),s=SIMD.Float32x4.shuffle(r,i,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),c=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(e,0,l),SIMD.Float32x4.store(e,4,c),a=SIMD.Float32x4.shuffle(o,n,2,3,6,7),s=SIMD.Float32x4.shuffle(r,i,2,3,6,7),u=SIMD.Float32x4.shuffle(a,s,0,2,4,6),h=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(e,8,u),SIMD.Float32x4.store(e,12,h),e},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],g=t[10],d=t[11],f=t[12],p=t[13],y=t[14],b=t[15],_=o*s-n*a,m=o*l-r*a,v=o*c-i*a,E=n*l-r*s,k=n*c-i*s,T=r*c-i*l,S=u*p-h*f,C=u*y-g*f,B=u*b-d*f,A=h*y-g*p,w=h*b-d*p,I=g*b-d*y,O=_*I-m*w+v*A+E*B-k*C+T*S;return O?(O=1/O,e[0]=(s*I-l*w+c*A)*O,e[1]=(r*w-n*I-i*A)*O,e[2]=(p*T-y*k+b*E)*O,e[3]=(g*k-h*T-d*E)*O,e[4]=(l*B-a*I-c*C)*O,e[5]=(o*I-r*B+i*C)*O,e[6]=(y*v-f*T-b*m)*O,e[7]=(u*T-g*v+d*m)*O,e[8]=(a*w-s*B+c*S)*O,e[9]=(n*B-o*w-i*S)*O,e[10]=(f*k-p*v+b*_)*O,e[11]=(h*v-u*k-d*_)*O,e[12]=(s*C-a*A-l*S)*O,e[13]=(o*A-n*C+r*S)*O,e[14]=(p*m-f*E-y*_)*O,e[15]=(u*E-h*m+g*_)*O,e):null},i.SIMD.invert=function(e,t){var o,n,r,i,a,s,l,c,u,h,g=SIMD.Float32x4.load(t,0),d=SIMD.Float32x4.load(t,4),f=SIMD.Float32x4.load(t,8),p=SIMD.Float32x4.load(t,12);return a=SIMD.Float32x4.shuffle(g,d,0,1,4,5),n=SIMD.Float32x4.shuffle(f,p,0,1,4,5),o=SIMD.Float32x4.shuffle(a,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,a,1,3,5,7),a=SIMD.Float32x4.shuffle(g,d,2,3,6,7),i=SIMD.Float32x4.shuffle(f,p,2,3,6,7),r=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(n,a),l=SIMD.Float32x4.mul(o,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),u=SIMD.Float32x4.mul(o,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),s),c=SIMD.Float32x4.mul(o,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(o,n),a=SIMD.Float32x4.swizzle(a,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),c),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.mul(o,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),u),h=SIMD.Float32x4.mul(o,s),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,2,3,0,1),h),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,1,0,3,2),h),a=SIMD.Float32x4.reciprocalApproximation(h),h=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(h,SIMD.Float32x4.mul(a,a))),(h=SIMD.Float32x4.swizzle(h,0,0,0,0))?(SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(h,s)),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(h,l)),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(h,c)),SIMD.Float32x4.store(e,12,SIMD.Float32x4.mul(h,u)),e):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],g=t[10],d=t[11],f=t[12],p=t[13],y=t[14],b=t[15];return e[0]=s*(g*b-d*y)-h*(l*b-c*y)+p*(l*d-c*g),e[1]=-(n*(g*b-d*y)-h*(r*b-i*y)+p*(r*d-i*g)),e[2]=n*(l*b-c*y)-s*(r*b-i*y)+p*(r*c-i*l),e[3]=-(n*(l*d-c*g)-s*(r*d-i*g)+h*(r*c-i*l)),e[4]=-(a*(g*b-d*y)-u*(l*b-c*y)+f*(l*d-c*g)),e[5]=o*(g*b-d*y)-u*(r*b-i*y)+f*(r*d-i*g),e[6]=-(o*(l*b-c*y)-a*(r*b-i*y)+f*(r*c-i*l)),e[7]=o*(l*d-c*g)-a*(r*d-i*g)+u*(r*c-i*l),e[8]=a*(h*b-d*p)-u*(s*b-c*p)+f*(s*d-c*h),e[9]=-(o*(h*b-d*p)-u*(n*b-i*p)+f*(n*d-i*h)),e[10]=o*(s*b-c*p)-a*(n*b-i*p)+f*(n*c-i*s),e[11]=-(o*(s*d-c*h)-a*(n*d-i*h)+u*(n*c-i*s)),e[12]=-(a*(h*y-g*p)-u*(s*y-l*p)+f*(s*g-l*h)),e[13]=o*(h*y-g*p)-u*(n*y-r*p)+f*(n*g-r*h),e[14]=-(o*(s*y-l*p)-a*(n*y-r*p)+f*(n*l-r*s)),e[15]=o*(s*g-l*h)-a*(n*g-r*h)+u*(n*l-r*s),e},i.SIMD.adjoint=function(e,t){var o,n,r,i,a,s,l,c,u,h,g,d,f,o=SIMD.Float32x4.load(t,0),n=SIMD.Float32x4.load(t,4),r=SIMD.Float32x4.load(t,8),i=SIMD.Float32x4.load(t,12);return u=SIMD.Float32x4.shuffle(o,n,0,1,4,5),s=SIMD.Float32x4.shuffle(r,i,0,1,4,5),a=SIMD.Float32x4.shuffle(u,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,u,1,3,5,7),u=SIMD.Float32x4.shuffle(o,n,2,3,6,7),c=SIMD.Float32x4.shuffle(r,i,2,3,6,7),l=SIMD.Float32x4.shuffle(u,c,0,2,4,6),c=SIMD.Float32x4.shuffle(c,u,1,3,5,7),u=SIMD.Float32x4.mul(l,c),u=SIMD.Float32x4.swizzle(u,1,0,3,2),h=SIMD.Float32x4.mul(s,u),g=SIMD.Float32x4.mul(a,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,u),h),g=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,u),g),g=SIMD.Float32x4.swizzle(g,2,3,0,1),u=SIMD.Float32x4.mul(s,l),u=SIMD.Float32x4.swizzle(u,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,u),h),f=SIMD.Float32x4.mul(a,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(c,u)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,u),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),u=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),c),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,u),h),d=SIMD.Float32x4.mul(a,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,u)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,u),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),u=SIMD.Float32x4.mul(a,s),u=SIMD.Float32x4.swizzle(u,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,u),d),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,u),f),u=SIMD.Float32x4.swizzle(u,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,u),d),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,u)),u=SIMD.Float32x4.mul(a,c),u=SIMD.Float32x4.swizzle(u,1,0,3,2),g=SIMD.Float32x4.sub(g,SIMD.Float32x4.mul(l,u)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,u),d),u=SIMD.Float32x4.swizzle(u,2,3,0,1),g=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,u),g),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,u)),u=SIMD.Float32x4.mul(a,l),u=SIMD.Float32x4.swizzle(u,1,0,3,2),g=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,u),g),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,u)),u=SIMD.Float32x4.swizzle(u,2,3,0,1),g=SIMD.Float32x4.sub(g,SIMD.Float32x4.mul(c,u)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,u),f),SIMD.Float32x4.store(e,0,h),SIMD.Float32x4.store(e,4,g),SIMD.Float32x4.store(e,8,d),SIMD.Float32x4.store(e,12,f),e},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(e){var t=e[0],o=e[1],n=e[2],r=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],g=e[11],d=e[12],f=e[13],p=e[14],y=e[15],b=t*a-o*i,_=t*s-n*i,m=t*l-r*i,v=o*s-n*a,E=o*l-r*a,k=n*l-r*s,T=c*f-u*d,S=c*p-h*d,C=c*y-g*d,B=u*p-h*f,A=u*y-g*f,w=h*y-g*p;return b*w-_*A+m*B+v*C-E*S+k*T},i.SIMD.multiply=function(e,t,o){var n=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),i=SIMD.Float32x4.load(t,8),a=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4.load(o,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(e,0,l);var c=SIMD.Float32x4.load(o,4),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),a))));SIMD.Float32x4.store(e,4,u);var h=SIMD.Float32x4.load(o,8),g=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),a))));SIMD.Float32x4.store(e,8,g);var d=SIMD.Float32x4.load(o,12),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(e,12,f),e},i.scalar.multiply=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=t[9],d=t[10],f=t[11],p=t[12],y=t[13],b=t[14],_=t[15],m=o[0],v=o[1],E=o[2],k=o[3];return e[0]=m*n+v*s+E*h+k*p,e[1]=m*r+v*l+E*g+k*y,e[2]=m*i+v*c+E*d+k*b,e[3]=m*a+v*u+E*f+k*_,m=o[4],v=o[5],E=o[6],k=o[7],e[4]=m*n+v*s+E*h+k*p,e[5]=m*r+v*l+E*g+k*y,e[6]=m*i+v*c+E*d+k*b,e[7]=m*a+v*u+E*f+k*_,m=o[8],v=o[9],E=o[10],k=o[11],e[8]=m*n+v*s+E*h+k*p,e[9]=m*r+v*l+E*g+k*y,e[10]=m*i+v*c+E*d+k*b,e[11]=m*a+v*u+E*f+k*_,m=o[12],v=o[13],E=o[14],k=o[15],e[12]=m*n+v*s+E*h+k*p,e[13]=m*r+v*l+E*g+k*y,e[14]=m*i+v*c+E*d+k*b,e[15]=m*a+v*u+E*f+k*_,e},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(e,t,o){var n,r,i,a,s,l,c,u,h,g,d,f,p=o[0],y=o[1],b=o[2];return t===e?(e[12]=t[0]*p+t[4]*y+t[8]*b+t[12],e[13]=t[1]*p+t[5]*y+t[9]*b+t[13],e[14]=t[2]*p+t[6]*y+t[10]*b+t[14],e[15]=t[3]*p+t[7]*y+t[11]*b+t[15]):(n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],g=t[9],d=t[10],f=t[11],e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=g,e[10]=d,e[11]=f,e[12]=n*p+s*y+h*b+t[12],e[13]=r*p+l*y+g*b+t[13],e[14]=i*p+c*y+d*b+t[14],e[15]=a*p+u*y+f*b+t[15]),e},i.SIMD.translate=function(e,t,o){var n=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),i=SIMD.Float32x4.load(t,8),a=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4(o[0],o[1],o[2],0);t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,1,1,1,1)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(n,SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,a)));return SIMD.Float32x4.store(e,12,l),e},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(e,t,o){var n=o[0],r=o[1],i=o[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.SIMD.scale=function(e,t,o){var n,r,i,a=SIMD.Float32x4(o[0],o[1],o[2],0);return n=SIMD.Float32x4.load(t,0),SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(a,0,0,0,0))),r=SIMD.Float32x4.load(t,4),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,1,1,1,1))),i=SIMD.Float32x4.load(t,8),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,2,2,2,2))),e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(e,t,o,n){var i,a,s,l,c,u,h,g,d,f,p,y,b,_,m,v,E,k,T,S,C,B,A,w,I=n[0],O=n[1],R=n[2],M=Math.sqrt(I*I+O*O+R*R);return Math.abs(M)<r.EPSILON?null:(M=1/M,I*=M,O*=M,R*=M,i=Math.sin(o),a=Math.cos(o),s=1-a,l=t[0],c=t[1],u=t[2],h=t[3],g=t[4],d=t[5],f=t[6],p=t[7],y=t[8],b=t[9],_=t[10],m=t[11],v=I*I*s+a,E=O*I*s+R*i,k=R*I*s-O*i,T=I*O*s-R*i,S=O*O*s+a,C=R*O*s+I*i,B=I*R*s+O*i,A=O*R*s-I*i,w=R*R*s+a,e[0]=l*v+g*E+y*k,e[1]=c*v+d*E+b*k,e[2]=u*v+f*E+_*k,e[3]=h*v+p*E+m*k,e[4]=l*T+g*S+y*C,e[5]=c*T+d*S+b*C,e[6]=u*T+f*S+_*C,e[7]=h*T+p*S+m*C,e[8]=l*B+g*A+y*w,e[9]=c*B+d*A+b*w,e[10]=u*B+f*A+_*w,e[11]=h*B+p*A+m*w,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},i.scalar.rotateX=function(e,t,o){var n=Math.sin(o),r=Math.cos(o),i=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],g=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*r+c*n,e[5]=a*r+u*n,e[6]=s*r+h*n,e[7]=l*r+g*n,e[8]=c*r-i*n,e[9]=u*r-a*n,e[10]=h*r-s*n,e[11]=g*r-l*n,e},i.SIMD.rotateX=function(e,t,o){var n=SIMD.Float32x4.splat(Math.sin(o)),r=SIMD.Float32x4.splat(Math.cos(o));t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var i=SIMD.Float32x4.load(t,4),a=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(i,n))),e},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(e,t,o){var n=Math.sin(o),r=Math.cos(o),i=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],g=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r-c*n,e[1]=a*r-u*n,e[2]=s*r-h*n,e[3]=l*r-g*n,e[8]=i*n+c*r,e[9]=a*n+u*r,e[10]=s*n+h*r,e[11]=l*n+g*r,e},i.SIMD.rotateY=function(e,t,o){var n=SIMD.Float32x4.splat(Math.sin(o)),r=SIMD.Float32x4.splat(Math.cos(o));t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var i=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,n),SIMD.Float32x4.mul(a,r))),e},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(e,t,o){var n=Math.sin(o),r=Math.cos(o),i=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],g=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r+c*n,e[1]=a*r+u*n,e[2]=s*r+h*n,e[3]=l*r+g*n,e[4]=c*r-i*n,e[5]=u*r-a*n,e[6]=h*r-s*n,e[7]=g*r-l*n,e},i.SIMD.rotateZ=function(e,t,o){var n=SIMD.Float32x4.splat(Math.sin(o)),r=SIMD.Float32x4.splat(Math.cos(o));t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var i=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,4);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(e,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(i,n))),e},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotation=function(e,t,o){var n,i,a,s=o[0],l=o[1],c=o[2],u=Math.sqrt(s*s+l*l+c*c);return Math.abs(u)<r.EPSILON?null:(u=1/u,s*=u,l*=u,c*=u,n=Math.sin(t),i=Math.cos(t),a=1-i,e[0]=s*s*a+i,e[1]=l*s*a+c*n,e[2]=c*s*a-l*n,e[3]=0,e[4]=s*l*a-c*n,e[5]=l*l*a+i,e[6]=c*l*a+s*n,e[7]=0,e[8]=s*c*a+l*n,e[9]=l*c*a-s*n,e[10]=c*c*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},i.fromXRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=o,e[7]=0,e[8]=0,e[9]=-o,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromYRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-o,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=o,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromZRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=o,e[2]=0,e[3]=0,e[4]=-o,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotationTranslation=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,l=r+r,c=i+i,u=n*s,h=n*l,g=n*c,d=r*l,f=r*c,p=i*c,y=a*s,b=a*l,_=a*c;return e[0]=1-(d+p),e[1]=h+_,e[2]=g-b,e[3]=0,e[4]=h-_,e[5]=1-(u+p),e[6]=f+y,e[7]=0,e[8]=g+b,e[9]=f-y,e[10]=1-(u+d),e[11]=0,e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e},i.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},i.getRotation=function(e,t){var o=t[0]+t[5]+t[10],n=0;return o>0?(n=2*Math.sqrt(o+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e},i.fromRotationTranslationScale=function(e,t,o,n){var r=t[0],i=t[1],a=t[2],s=t[3],l=r+r,c=i+i,u=a+a,h=r*l,g=r*c,d=r*u,f=i*c,p=i*u,y=a*u,b=s*l,_=s*c,m=s*u,v=n[0],E=n[1],k=n[2];return e[0]=(1-(f+y))*v,e[1]=(g+m)*v,e[2]=(d-_)*v,e[3]=0,e[4]=(g-m)*E,e[5]=(1-(h+y))*E,e[6]=(p+b)*E,
e[7]=0,e[8]=(d+_)*k,e[9]=(p-b)*k,e[10]=(1-(h+f))*k,e[11]=0,e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e},i.fromRotationTranslationScaleOrigin=function(e,t,o,n,r){var i=t[0],a=t[1],s=t[2],l=t[3],c=i+i,u=a+a,h=s+s,g=i*c,d=i*u,f=i*h,p=a*u,y=a*h,b=s*h,_=l*c,m=l*u,v=l*h,E=n[0],k=n[1],T=n[2],S=r[0],C=r[1],B=r[2];return e[0]=(1-(p+b))*E,e[1]=(d+v)*E,e[2]=(f-m)*E,e[3]=0,e[4]=(d-v)*k,e[5]=(1-(g+b))*k,e[6]=(y+_)*k,e[7]=0,e[8]=(f+m)*T,e[9]=(y-_)*T,e[10]=(1-(g+p))*T,e[11]=0,e[12]=o[0]+S-(e[0]*S+e[4]*C+e[8]*B),e[13]=o[1]+C-(e[1]*S+e[5]*C+e[9]*B),e[14]=o[2]+B-(e[2]*S+e[6]*C+e[10]*B),e[15]=1,e},i.fromQuat=function(e,t){var o=t[0],n=t[1],r=t[2],i=t[3],a=o+o,s=n+n,l=r+r,c=o*a,u=n*a,h=n*s,g=r*a,d=r*s,f=r*l,p=i*a,y=i*s,b=i*l;return e[0]=1-h-f,e[1]=u+b,e[2]=g-y,e[3]=0,e[4]=u-b,e[5]=1-c-f,e[6]=d+p,e[7]=0,e[8]=g+y,e[9]=d-p,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.frustum=function(e,t,o,n,r,i,a){var s=1/(o-t),l=1/(r-n),c=1/(i-a);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*l,e[6]=0,e[7]=0,e[8]=(o+t)*s,e[9]=(r+n)*l,e[10]=(a+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*c,e[15]=0,e},i.perspective=function(e,t,o,n,r){var i=1/Math.tan(t/2),a=1/(n-r);return e[0]=i/o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(r+n)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*r*n*a,e[15]=0,e},i.perspectiveFromFieldOfView=function(e,t,o,n){var r=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(r+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((a-s)*l*.5),e[9]=(r-i)*c*.5,e[10]=n/(o-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*o/(o-n),e[15]=0,e},i.ortho=function(e,t,o,n,r,i,a){var s=1/(t-o),l=1/(n-r),c=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+o)*s,e[13]=(r+n)*l,e[14]=(a+i)*c,e[15]=1,e},i.lookAt=function(e,t,o,n){var a,s,l,c,u,h,g,d,f,p,y=t[0],b=t[1],_=t[2],m=n[0],v=n[1],E=n[2],k=o[0],T=o[1],S=o[2];return Math.abs(y-k)<r.EPSILON&&Math.abs(b-T)<r.EPSILON&&Math.abs(_-S)<r.EPSILON?i.identity(e):(g=y-k,d=b-T,f=_-S,p=1/Math.sqrt(g*g+d*d+f*f),g*=p,d*=p,f*=p,a=v*f-E*d,s=E*g-m*f,l=m*d-v*g,p=Math.sqrt(a*a+s*s+l*l),p?(p=1/p,a*=p,s*=p,l*=p):(a=0,s=0,l=0),c=d*l-f*s,u=f*a-g*l,h=g*s-d*a,p=Math.sqrt(c*c+u*u+h*h),p?(p=1/p,c*=p,u*=p,h*=p):(c=0,u=0,h=0),e[0]=a,e[1]=c,e[2]=g,e[3]=0,e[4]=s,e[5]=u,e[6]=d,e[7]=0,e[8]=l,e[9]=h,e[10]=f,e[11]=0,e[12]=-(a*y+s*b+l*_),e[13]=-(c*y+u*b+h*_),e[14]=-(g*y+d*b+f*_),e[15]=1,e)},i.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},i.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e[4]=t[4]+o[4],e[5]=t[5]+o[5],e[6]=t[6]+o[6],e[7]=t[7]+o[7],e[8]=t[8]+o[8],e[9]=t[9]+o[9],e[10]=t[10]+o[10],e[11]=t[11]+o[11],e[12]=t[12]+o[12],e[13]=t[13]+o[13],e[14]=t[14]+o[14],e[15]=t[15]+o[15],e},i.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e[4]=t[4]-o[4],e[5]=t[5]-o[5],e[6]=t[6]-o[6],e[7]=t[7]-o[7],e[8]=t[8]-o[8],e[9]=t[9]-o[9],e[10]=t[10]-o[10],e[11]=t[11]-o[11],e[12]=t[12]-o[12],e[13]=t[13]-o[13],e[14]=t[14]-o[14],e[15]=t[15]-o[15],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12]*o,e[13]=t[13]*o,e[14]=t[14]*o,e[15]=t[15]*o,e},i.multiplyScalarAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e[3]=t[3]+o[3]*n,e[4]=t[4]+o[4]*n,e[5]=t[5]+o[5]*n,e[6]=t[6]+o[6]*n,e[7]=t[7]+o[7]*n,e[8]=t[8]+o[8]*n,e[9]=t[9]+o[9]*n,e[10]=t[10]+o[10]*n,e[11]=t[11]+o[11]*n,e[12]=t[12]+o[12]*n,e[13]=t[13]+o[13]*n,e[14]=t[14]+o[14]*n,e[15]=t[15]+o[15]*n,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},i.equals=function(e,t){var o=e[0],n=e[1],i=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],g=e[9],d=e[10],f=e[11],p=e[12],y=e[13],b=e[14],_=e[15],m=t[0],v=t[1],E=t[2],k=t[3],T=t[4],S=t[5],C=t[6],B=t[7],A=t[8],w=t[9],I=t[10],O=t[11],R=t[12],M=t[13],x=t[14],N=t[15];return Math.abs(o-m)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(n-v)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(i-E)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(a-k)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(k))&&Math.abs(s-T)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-C)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(u-B)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(g-w)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(d-I)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(f-O)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-R)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(y-M)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(b-x)<=r.EPSILON*Math.max(1,Math.abs(b),Math.abs(x))&&Math.abs(_-N)<=r.EPSILON*Math.max(1,Math.abs(_),Math.abs(N))},e.exports=i},function(e,t,o,n){var r=o(n),i={};i.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},i.fromValues=function(e,t){var o=new r.ARRAY_TYPE(2);return o[0]=e,o[1]=t,o},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},i.set=function(e,t,o){return e[0]=t,e[1]=o,e},i.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e},i.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e},i.sub=i.subtract,i.multiply=function(e,t,o){return e[0]=t[0]*o[0],e[1]=t[1]*o[1],e},i.mul=i.multiply,i.divide=function(e,t,o){return e[0]=t[0]/o[0],e[1]=t[1]/o[1],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},i.min=function(e,t,o){return e[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e},i.max=function(e,t,o){return e[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},i.scale=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e},i.scaleAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e},i.distance=function(e,t){var o=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(o*o+n*n)},i.dist=i.distance,i.squaredDistance=function(e,t){var o=t[0]-e[0],n=t[1]-e[1];return o*o+n*n},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],o=e[1];return Math.sqrt(t*t+o*o)},i.len=i.length,i.squaredLength=function(e){var t=e[0],o=e[1];return t*t+o*o},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},i.normalize=function(e,t){var o=t[0],n=t[1],r=o*o+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},i.cross=function(e,t,o){var n=t[0]*o[1]-t[1]*o[0];return e[0]=e[1]=0,e[2]=n,e},i.lerp=function(e,t,o,n){var r=t[0],i=t[1];return e[0]=r+n*(o[0]-r),e[1]=i+n*(o[1]-i),e},i.random=function(e,t){t=t||1;var o=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(o)*t,e[1]=Math.sin(o)*t,e},i.transformMat2=function(e,t,o){var n=t[0],r=t[1];return e[0]=o[0]*n+o[2]*r,e[1]=o[1]*n+o[3]*r,e},i.transformMat2d=function(e,t,o){var n=t[0],r=t[1];return e[0]=o[0]*n+o[2]*r+o[4],e[1]=o[1]*n+o[3]*r+o[5],e},i.transformMat3=function(e,t,o){var n=t[0],r=t[1];return e[0]=o[0]*n+o[3]*r+o[6],e[1]=o[1]*n+o[4]*r+o[7],e},i.transformMat4=function(e,t,o){var n=t[0],r=t[1];return e[0]=o[0]*n+o[4]*r+o[12],e[1]=o[1]*n+o[5]*r+o[13],e},i.forEach=function(){var e=i.create();return function(t,o,n,r,i,a){var s,l;for(o||(o=2),n||(n=0),l=r?Math.min(r*o+n,t.length):t.length,s=n;s<l;s+=o)e[0]=t[s],e[1]=t[s+1],i(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}(),i.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i.equals=function(e,t){var o=e[0],n=e[1],i=t[0],a=t[1];return Math.abs(o-i)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))},e.exports=i},function(e,t,o,n){var r=o(n),i={};i.create=function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.fromValues=function(e,t,o){var n=new r.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=o,n},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.set=function(e,t,o,n){return e[0]=t,e[1]=o,e[2]=n,e},i.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e},i.subtract=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e},i.sub=i.subtract,i.multiply=function(e,t,o){return e[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e},i.mul=i.multiply,i.divide=function(e,t,o){return e[0]=t[0]/o[0],e[1]=t[1]/o[1],e[2]=t[2]/o[2],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},i.min=function(e,t,o){return e[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e[2]=Math.min(t[2],o[2]),e},i.max=function(e,t,o){return e[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e[2]=Math.max(t[2],o[2]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},i.scale=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},i.scaleAndAdd=function(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e},i.distance=function(e,t){var o=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(o*o+n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(e,t){var o=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return o*o+n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],o=e[1],n=e[2];return Math.sqrt(t*t+o*o+n*n)},i.len=i.length,i.squaredLength=function(e){var t=e[0],o=e[1],n=e[2];return t*t+o*o+n*n},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},i.normalize=function(e,t){var o=t[0],n=t[1],r=t[2],i=o*o+n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.cross=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[0],s=o[1],l=o[2];return e[0]=r*l-i*s,e[1]=i*a-n*l,e[2]=n*s-r*a,e},i.lerp=function(e,t,o,n){var r=t[0],i=t[1],a=t[2];return e[0]=r+n*(o[0]-r),e[1]=i+n*(o[1]-i),e[2]=a+n*(o[2]-a),e},i.hermite=function(e,t,o,n,r,i){var a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,c=a*(i-1),u=a*(3-2*i);return e[0]=t[0]*s+o[0]*l+n[0]*c+r[0]*u,e[1]=t[1]*s+o[1]*l+n[1]*c+r[1]*u,e[2]=t[2]*s+o[2]*l+n[2]*c+r[2]*u,e},i.bezier=function(e,t,o,n,r,i){var a=1-i,s=a*a,l=i*i,c=s*a,u=3*i*s,h=3*l*a,g=l*i;return e[0]=t[0]*c+o[0]*u+n[0]*h+r[0]*g,e[1]=t[1]*c+o[1]*u+n[1]*h+r[1]*g,e[2]=t[2]*c+o[2]*u+n[2]*h+r[2]*g,e},i.random=function(e,t){t=t||1;var o=2*r.RANDOM()*Math.PI,n=2*r.RANDOM()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(o)*i,e[1]=Math.sin(o)*i,e[2]=n*t,e},i.transformMat4=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[3]*n+o[7]*r+o[11]*i+o[15];return a=a||1,e[0]=(o[0]*n+o[4]*r+o[8]*i+o[12])/a,e[1]=(o[1]*n+o[5]*r+o[9]*i+o[13])/a,e[2]=(o[2]*n+o[6]*r+o[10]*i+o[14])/a,e},i.transformMat3=function(e,t,o){var n=t[0],r=t[1],i=t[2];return e[0]=n*o[0]+r*o[3]+i*o[6],e[1]=n*o[1]+r*o[4]+i*o[7],e[2]=n*o[2]+r*o[5]+i*o[8],e},i.transformQuat=function(e,t,o){var n=t[0],r=t[1],i=t[2],a=o[0],s=o[1],l=o[2],c=o[3],u=c*n+s*i-l*r,h=c*r+l*n-a*i,g=c*i+a*r-s*n,d=-a*n-s*r-l*i;return e[0]=u*c+d*-a+h*-l-g*-s,e[1]=h*c+d*-s+g*-a-u*-l,e[2]=g*c+d*-l+u*-s-h*-a,e},i.rotateX=function(e,t,o,n){var r=[],i=[];return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],i[0]=r[0],i[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),i[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),e[0]=i[0]+o[0],e[1]=i[1]+o[1],e[2]=i[2]+o[2],e},i.rotateY=function(e,t,o,n){var r=[],i=[];return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],i[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),i[1]=r[1],i[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),e[0]=i[0]+o[0],e[1]=i[1]+o[1],e[2]=i[2]+o[2],e},i.rotateZ=function(e,t,o,n){var r=[],i=[];return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],i[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),i[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),i[2]=r[2],e[0]=i[0]+o[0],e[1]=i[1]+o[1],e[2]=i[2]+o[2],e},i.forEach=function(){var e=i.create();return function(t,o,n,r,i,a){var s,l;for(o||(o=3),n||(n=0),l=r?Math.min(r*o+n,t.length):t.length,s=n;s<l;s+=o)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),i.angle=function(e,t){var o=i.fromValues(e[0],e[1],e[2]),n=i.fromValues(t[0],t[1],t[2]);i.normalize(o,o),i.normalize(n,n);var r=i.dot(o,n);return r>1?0:Math.acos(r)},i.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},i.equals=function(e,t){var o=e[0],n=e[1],i=e[2],a=t[0],s=t[1],l=t[2];return Math.abs(o-a)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},e.exports=i},function(e,t,o,n,r,i,a,s,l){"use strict";function c(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function u(e,t){return e.name<t.name?-1:1}function h(e,t,o,n,r){var i=new c(e);return i.update(t,o,n,r),i}var g=o(n),d=o(r),f=o(i),p=o(a),y=o(s),b=o(l),_=c.prototype;_.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),o=this.gl.lastAttribCount;if(t>o)for(e=o;e<t;e++)this.gl.enableVertexAttribArray(e);else if(o>t)for(e=t;e<o;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},_.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},_.update=function(e,t,o,n){function r(){a.program=p.program(s,a._vref,a._fref,E,k);for(var e=0;e<o.length;++e)w[e]=s.getUniformLocation(a.program,o[e].name)}if(!t||1===arguments.length){var i=e;e=i.vertex,t=i.fragment,o=i.uniforms,n=i.attributes}var a=this,s=a.gl,l=a._vref;a._vref=p.shader(s,s.VERTEX_SHADER,e),l&&l.dispose(),a.vertShader=a._vref.shader;var c=this._fref;if(a._fref=p.shader(s,s.FRAGMENT_SHADER,t),c&&c.dispose(),a.fragShader=a._fref.shader,!o||!n){var h=s.createProgram();if(s.attachShader(h,a.fragShader),s.attachShader(h,a.vertShader),s.linkProgram(h),!s.getProgramParameter(h,s.LINK_STATUS)){var _=s.getProgramInfoLog(h);throw new b(_,"Error linking program:"+_)}o=o||y.uniforms(s,h),n=n||y.attributes(s,h),s.deleteProgram(h)}n=n.slice(),n.sort(u);var m,v=[],E=[],k=[];for(m=0;m<n.length;++m){var T=n[m];if(T.type.indexOf("mat")>=0){for(var S=0|T.type.charAt(T.type.length-1),C=new Array(S),B=0;B<S;++B)C[B]=k.length,E.push(T.name+"["+B+"]"),"number"==typeof T.location?k.push(T.location+B):Array.isArray(T.location)&&T.location.length===S&&"number"==typeof T.location[B]?k.push(0|T.location[B]):k.push(-1);v.push({name:T.name,type:T.type,locations:C})}else v.push({name:T.name,type:T.type,locations:[k.length]}),E.push(T.name),"number"==typeof T.location?k.push(0|T.location):k.push(-1)}var A=0;for(m=0;m<k.length;++m)if(k[m]<0){for(;k.indexOf(A)>=0;)A+=1;k[m]=A}var w=new Array(o.length);r(),a._relink=r,a.types={uniforms:f(o),attributes:f(n)},a.attributes=d(s,a,v,k),Object.defineProperty(a,"uniforms",g(s,a,o,w))},e.exports=h},function(e,t,o,n){"use strict";function r(e,t,o,n,r,i){this._gl=e,this._wrapper=t,this._index=o,this._locations=n,this._dimension=r,this._constFunc=i}function i(e,t,o,n,i,a,s){for(var l=["gl","v"],c=[],u=0;u<i;++u)l.push("x"+u),c.push("x"+u);l.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var h=Function.apply(null,l),g=new r(e,t,o,n,i,h);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(n[o]),h(e,n[o],t),t},get:function(){return g},enumerable:!0})}function a(e,t,o,n,r,a,s){for(var l=new Array(r),c=new Array(r),u=0;u<r;++u)i(e,t,o[u],n,r,l,u),c[u]=l[u];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<r;++t)c[t].location=e[t];else for(var t=0;t<r;++t)c[t].location=e+t;return e},get:function(){for(var e=new Array(r),t=0;t<r;++t)e[t]=n[o[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||r*r,s=s||0;for(var l=0;l<r;++l){var c=n[o[l]];e.vertexAttribPointer(c,r,t,i,a,s+l*r),e.enableVertexAttribArray(c)}};var h=new Array(r),g=e["vertexAttrib"+r+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<r;++i){var a=n[o[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))g.call(e,a,t[i]);else{for(var s=0;s<r;++s)h[s]=t[r*i+s];g.call(e,a,h)}}return t},get:function(){return l},enumerable:!0})}function s(e,t,o,n){for(var r={},s=0,c=o.length;s<c;++s){var u=o[s],h=u.name,g=u.type,d=u.locations;switch(g){case"bool":case"int":case"float":i(e,t,d[0],n,1,r,h);break;default:if(g.indexOf("vec")>=0){var f=g.charCodeAt(g.length-1)-48;if(f<2||f>4)throw new l("","Invalid data type for attribute "+h+": "+g);i(e,t,d[0],n,f,r,h)}else{if(!(g.indexOf("mat")>=0))throw new l("","Unknown data type for attribute "+h+": "+g);var f=g.charCodeAt(g.length-1)-48;if(f<2||f>4)throw new l("","Invalid data type for attribute "+h+": "+g);a(e,t,d,n,f,r,h)}}}return r}e.exports=s;var l=o(n),c=r.prototype;c.pointer=function(e,t,o,n){var r=this,i=r._gl,a=r._locations[r._index];i.vertexAttribPointer(a,r._dimension,e||i.FLOAT,!!t,o||0,n||0),i.enableVertexAttribArray(a)},c.set=function(e,t,o,n){return this._constFunc(this._locations[this._index],e,t,o,n)},Object.defineProperty(c,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,o,n,r){"use strict";function i(e){var t=new Function("y","return function(){return y}");return t(e)}function a(e,t){for(var o=new Array(e),n=0;n<e;++n)o[n]=t;return o}function s(e,t,o,n){function r(o){var r=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+o+"])}");return r(e,t,n)}function s(e,t,o){switch(o){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var n=o.indexOf("vec");if(!(0<=n&&n<=1&&o.length===4+n)){if(0===o.indexOf("mat")&&4===o.length){var r=o.charCodeAt(o.length-1)-48;if(r<2||r>4)throw new c("","Invalid uniform dimension type for matrix "+name+": "+o);return"gl.uniformMatrix"+r+"fv(locations["+t+"],false,obj"+e+")"}throw new c("","Unknown uniform data type for "+name+": "+o)}var r=o.charCodeAt(o.length-1)-48;if(r<2||r>4)throw new c("","Invalid data type");switch(o.charAt(0)){case"b":case"i":return"gl.uniform"+r+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+r+"fv(locations["+t+"],obj"+e+")";default:throw new c("","Unrecognized data type for vector "+name+": "+o)}}}function u(e,t){if("object"!=typeof t)return[[e,t]];var o=[];for(var n in t){var r=t[n],i=e;i+=parseInt(n)+""===n?"["+n+"]":"."+n,"object"==typeof r?o.push.apply(o,u(i,r)):o.push([i,r])}return o}function h(t){for(var r=["return function updateProperty(obj){"],i=u("",t),a=0;a<i.length;++a){var l=i[a],c=l[0],h=l[1];n[h]&&r.push(s(c,h,o[h].type))}r.push("return obj}");var g=new Function("gl","locations",r.join("\n"));return g(e,n)}function g(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var o=e.charCodeAt(e.length-1)-48;if(o<2||o>4)throw new c("","Invalid data type");return"b"===e.charAt(0)?a(o,!1):a(o,0)}if(0===e.indexOf("mat")&&4===e.length){var o=e.charCodeAt(e.length-1)-48;if(o<2||o>4)throw new c("","Invalid uniform dimension type for matrix "+name+": "+e);return a(o*o,0)}throw new c("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,a){if("object"==typeof a){var s=f(a);Object.defineProperty(e,t,{get:i(s),set:h(a),enumerable:!0,configurable:!1})}else n[a]?Object.defineProperty(e,t,{get:r(a),set:h(a),enumerable:!0,configurable:!1}):e[t]=g(o[a].type)}function f(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var o=0;o<e.length;++o)d(t,o,e[o])}else{t={};for(var n in e)d(t,n,e[n])}return t}var p=l(o,!0);return{get:i(f(p)),set:h(p),enumerable:!0,configurable:!0}}var l=o(n),c=o(r);e.exports=s},function(e,t,o,n,r,i){"use strict";function a(e,t,o,n,r,i,a){this.id=e,this.src=t,this.type=o,this.shader=n,this.count=i,this.programs=[],this.cache=a}function s(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function l(e,t,o){var n=e.createShader(t);if(e.shaderSource(n,o),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(n);try{var i=f(r,o,t)}catch(a){throw console.warn("Failed to format compiler error: "+a),new d(r,"Error compiling shader:\n"+r)}throw new d(r,i.short,i.long)}return n}function c(e,t,o,n,r){var i=e.createProgram();e.attachShader(i,t),e.attachShader(i,o);for(var a=0;a<n.length;++a)e.bindAttribLocation(i,r[a],n[a]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var s=e.getProgramInfoLog(i);throw new d(s,"Error linking program: "+s)}return i}function u(e){var t=y.get(e);return t||(t=new s(e),y.set(e,t)),t}function h(e,t,o){return u(e).getShaderReference(t,o)}function g(e,t,o,n,r){return u(e).getProgram(t,o,n,r)}t.shader=h,t.program=g;var d=o(n),f=o(r),p="undefined"==typeof WeakMap?o(i):WeakMap,y=new p,b=0;a.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,o=this.programs,n=0,r=o.length;n<r;++n){var i=e.programs[o[n]];i&&(delete e.programs[n],t.deleteProgram(i))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var _=s.prototype;_.getShaderReference=function(e,t){var o=this.gl,n=this.shaders[e===o.FRAGMENT_SHADER|0],r=n[t];if(r&&o.isShader(r.shader))r.count+=1;else{var i=l(o,e,t);r=n[t]=new a((b++),t,e,i,[],1,this)}return r},_.getProgram=function(e,t,o,n){var r=[e.id,t.id,o.join(":"),n.join(":")].join("@"),i=this.programs[r];return i&&this.gl.isProgram(i)||(this.programs[r]=i=c(this.gl,e.shader,t.shader,o,n),e.programs.push(r),t.programs.push(r)),i}},function(e,t,o,n){"use strict";function r(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}function i(e){return new r(e)}var a=o(n);r.prototype.bind=function(){a(this.gl,this._elements,this._attributes)},r.prototype.update=function(e,t,o){this._elements=t,this._attributes=e,this._elementsType=o||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(e,t,o){o=o||0;var n=this.gl;this._elements?n.drawElements(e,t,this._elementsType,o):n.drawArrays(e,o,t)},e.exports=i},function(e,t,o,n){"use strict";function r(e,t,o,n,r,i){this.location=e,this.dimension=t,this.a=o,this.b=n,this.c=r,this.d=i}function i(e,t,o){this.gl=e,this._ext=t,this.handle=o,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}function a(e,t){return new i(e,t,t.createVertexArrayOES())}var s=o(n);r.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(e,t,o){if(this.bind(),s(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var n=0;n<e.length;++n){var i=e[n];"number"==typeof i?this._attribs.push(new r(n,1,i)):Array.isArray(i)&&this._attribs.push(new r(n,i.length,i[0],i[1],i[2],i[3]))}this._useElements=!!t,this._elementsType=o||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(e,t,o){o=o||0;var n=this.gl;this._useElements?n.drawElements(e,t,this._elementsType,o):n.drawArrays(e,o,t)},e.exports=a},function(e,t,o,n,r){"use strict";function i(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}function a(e,t,o,n){var r,a=e.createVertexArray?new i(e):e.getExtension("OES_vertex_array_object");return r=a?s(e,a):l(e),r.update(t,o,n),r}var s=o(n),l=o(r);e.exports=a},function(e,t,o,n,r){function i(e){for(var t=Array.isArray(e)?e:a(e),o=0;o<t.length;o++){var n=t[o];if("preprocessor"===n.type){var r=n.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(r&&r[2]){var i=r[1],l=r[2];return(i?s(l):l).trim()}}}}var a=o(n),s=o(r);e.exports=i},function(e,t,o,n,r,i,a,s){function l(e){function t(e){e.length&&j.push({type:w[H],data:e,position:z,line:G,column:W})}function o(e){F=0,Y+=e,P=Y.length;for(var t;L=Y[F],F<P;){switch(t=F,H){case y:F=l();break;case b:F=s();break;case _:F=a();break;case m:F=I();break;case v:F=M();break;case A:F=R();break;case E:F=x();break;case p:F=N();break;case C:F=i();break;case f:F=r()}if(t!==F)switch(Y[t]){case"\n":W=0,++G;break;default:++W}}return U+=F,Y=Y.slice(F),j}function n(e){return V.length&&t(V.join("")),H=B,t("(eof)"),j}function r(){return V=V.length?[]:V,"/"===D&&"*"===L?(z=U+F-1,H=y,D=L,F+1):"/"===D&&"/"===L?(z=U+F-1,H=b,D=L,F+1):"#"===L?(H=_,z=U+F,F):/\s/.test(L)?(H=C,z=U+F,F):(K=/\d/.test(L),X=/[^\w_]/.test(L),z=U+F,H=K?v:X?m:p,F)}function i(){return/[^\s]/g.test(L)?(t(V.join("")),H=f,F):(V.push(L),D=L,F+1)}function a(){return"\r"!==L&&"\n"!==L||"\\"===D?(V.push(L),D=L,F+1):(t(V.join("")),H=f,F)}function s(){return a()}function l(){return"/"===L&&"*"===D?(V.push(L),t(V.join("")),H=f,F+1):(V.push(L),D=L,F+1)}function I(){if("."===D&&/\d/.test(L))return H=E,F;if("/"===D&&"*"===L)return H=y,F;if("/"===D&&"/"===L)return H=b,F;if("."===L&&V.length){for(;O(V););return H=E,F}if(";"===L||")"===L||"("===L){if(V.length)for(;O(V););return t(L),H=f,F+1}var e=2===V.length&&"="!==L;if(/[\w_\d\s]/.test(L)||e){for(;O(V););return H=f,F}return V.push(L),D=L,F+1}function O(e){for(var o,n,r=0;;){if(o=u.indexOf(e.slice(0,e.length+r).join("")),n=u[o],o===-1){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return t(n),z+=n.length,V=V.slice(n.length),V.length}}function R(){return/[^a-fA-F0-9]/.test(L)?(t(V.join("")),H=f,F):(V.push(L),D=L,F+1)}function M(){return"."===L?(V.push(L),H=E,D=L,F+1):/[eE]/.test(L)?(V.push(L),H=E,D=L,F+1):"x"===L&&1===V.length&&"0"===V[0]?(H=A,V.push(L),D=L,F+1):/[^\d]/.test(L)?(t(V.join("")),H=f,F):(V.push(L),D=L,F+1)}function x(){return"f"===L&&(V.push(L),D=L,F+=1),/[eE]/.test(L)?(V.push(L),D=L,F+1):"-"===L&&/[eE]/.test(D)?(V.push(L),D=L,F+1):/[^\d]/.test(L)?(t(V.join("")),H=f,F):(V.push(L),D=L,F+1)}function N(){if(/[^\d\w_]/.test(L)){var e=V.join("");return H=q.indexOf(e)>-1?S:J.indexOf(e)>-1?T:k,t(V.join("")),H=f,F}return V.push(L),D=L,F+1}var L,D,P,F=0,U=0,H=f,V=[],j=[],G=1,W=0,z=0,K=!1,X=!1,Y="";e=e||{};var J=h,q=c;return"300 es"===e.version&&(J=d,q=g),function(e){return j=[],null!==e?o(e.replace?e.replace(/\r\n/g,"\n"):e):n()}}e.exports=l;var c=o(n),u=o(r),h=o(i),g=o(a),d=o(s),f=999,p=9999,y=0,b=1,_=2,m=3,v=4,E=5,k=6,T=7,S=8,C=9,B=10,A=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(e,t,o,n){var r=o(n);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(e,t,o,n){var r=o(n);e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(e,t,o,n){function r(e,t){var o=i(t),n=[];return n=n.concat(o(e)),n=n.concat(o(null))}var i=o(n);e.exports=r},function(e,t,o,n,r){"use strict";var i=o(n),a=o(r),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,o,n,r,a,l,c,u=[],h=0,g=e.length,d=g,f="string"!==i.getTypeOf(e);h<e.length;)d=g-h,f?(t=e[h++],o=h<g?e[h++]:0,n=h<g?e[h++]:0):(t=e.charCodeAt(h++),o=h<g?e.charCodeAt(h++):0,n=h<g?e.charCodeAt(h++):0),r=t>>2,a=(3&t)<<4|o>>4,l=d>1?(15&o)<<2|n>>6:64,c=d>2?63&n:64,u.push(s.charAt(r)+s.charAt(a)+s.charAt(l)+s.charAt(c));return u.join("")},t.decode=function(e){var t,o,n,r,i,l,c,u=0,h=0,g="data:";if(e.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d=3*e.length/4;if(e.charAt(e.length-1)===s.charAt(64)&&d--,e.charAt(e.length-2)===s.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;for(f=a.uint8array?new Uint8Array(0|d):new Array(0|d);u<e.length;)r=s.indexOf(e.charAt(u++)),i=s.indexOf(e.charAt(u++)),l=s.indexOf(e.charAt(u++)),c=s.indexOf(e.charAt(u++)),
t=r<<2|i>>4,o=(15&i)<<4|l>>2,n=(3&l)<<6|c,f[h++]=t,64!==l&&(f[h++]=o),64!==c&&(f[h++]=n);return f}},function(e,t,o,n,r,i,a,s){"use strict";function l(e,t,o,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=o,this.compression=n,this.compressedContent=r}var c=o(n),u=o(r),h=o(i),g=o(a),h=o(s);l.prototype={getContentWorker:function(){var e=new u(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new u(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(e,t,o){return e.pipe(new g).pipe(new h("uncompressedSize")).pipe(t.compressWorker(o)).pipe(new h("compressedSize")).withStreamInfo("compression",t)},e.exports=l},function(e,t,o,n,r){"use strict";var i=o(n);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=o(r)},function(e,t,o,n){"use strict";function r(){for(var e,t=[],o=0;o<256;o++){e=o;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[o]=e}return t}function i(e,t,o,n){var r=l,i=n+o;e^=-1;for(var a=n;a<i;a++)e=e>>>8^r[255&(e^t[a])];return e^-1}function a(e,t,o,n){var r=l,i=n+o;e^=-1;for(var a=n;a<i;a++)e=e>>>8^r[255&(e^t.charCodeAt(a))];return e^-1}var s=o(n),l=r();e.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var o="string"!==s.getTypeOf(e);return o?i(0|t,e,e.length,0):a(0|t,e,e.length,0)}},function(e,t,o,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:o(n),e.exports={Promise:r}},function(e,t,o,n,r,i){"use strict";function a(e,t){u.call(this,"FlateWorker/"+e),this._pako=new l[e]({raw:!0,level:t.level||-1}),this.meta={};var o=this;this._pako.onData=function(e){o.push({data:e,meta:o.meta})}}var s="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,l=o(n),c=o(r),u=o(i),h=s?"uint8array":"array";t.magic="\b\0",c.inherits(a,u),a.prototype.processChunk=function(e){this.meta=e.meta,this._pako.push(c.transformTo(h,e.data),!1)},a.prototype.flush=function(){u.prototype.flush.call(this),this._pako.push([],!0)},a.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},t.compressWorker=function(e){return new a("Deflate",e)},t.uncompressWorker=function(){return new a("Inflate",{})}},function(e,t,o,n,r,i,a,s){"use strict";function l(e,t,o,n){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=o,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var c=o(n),u=o(r),h=o(i),g=o(a),d=o(s),f=function(e,t){var o,n="";for(o=0;o<t;o++)n+=String.fromCharCode(255&e),e>>>=8;return n},p=function(e,t){var o=e;return e||(o=t?16893:33204),(65535&o)<<16},y=function(e,t){return 63&(e||0)},b=function(e,t,o,n,r,i){var a,s,l=e.file,u=e.compression,b=i!==h.utf8encode,_=c.transformTo("string",i(l.name)),m=c.transformTo("string",h.utf8encode(l.name)),v=l.comment,E=c.transformTo("string",i(v)),k=c.transformTo("string",h.utf8encode(v)),T=m.length!==l.name.length,S=k.length!==v.length,C="",B="",A="",w=l.dir,I=l.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!o||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),b||!T&&!S||(R|=2048);var M=0,x=0;w&&(M|=16),"UNIX"===r?(x=798,M|=p(l.unixPermissions,w)):(x=20,M|=y(l.dosPermissions,w)),a=I.getUTCHours(),a<<=6,a|=I.getUTCMinutes(),a<<=5,a|=I.getUTCSeconds()/2,s=I.getUTCFullYear()-1980,s<<=4,s|=I.getUTCMonth()+1,s<<=5,s|=I.getUTCDate(),T&&(B=f(1,1)+f(g(_),4)+m,C+="up"+f(B.length,2)+B),S&&(A=f(1,1)+f(g(E),4)+k,C+="uc"+f(A.length,2)+A);var N="";N+="\n\0",N+=f(R,2),N+=u.magic,N+=f(a,2),N+=f(s,2),N+=f(O.crc32,4),N+=f(O.compressedSize,4),N+=f(O.uncompressedSize,4),N+=f(_.length,2),N+=f(C.length,2);var L=d.LOCAL_FILE_HEADER+N+_+C,D=d.CENTRAL_FILE_HEADER+f(x,2)+N+f(E.length,2)+"\0\0\0\0"+f(M,4)+f(n,4)+_+C+E;return{fileRecord:L,dirRecord:D}},_=function(e,t,o,n,r){var i="",a=c.transformTo("string",r(n));return i=d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(e,2)+f(e,2)+f(t,4)+f(o,4)+f(a.length,2)+a},m=function(e){var t="";return t=d.DATA_DESCRIPTOR+f(e.crc32,4)+f(e.compressedSize,4)+f(e.uncompressedSize,4)};c.inherits(l,u),l.prototype.push=function(e){var t=e.meta.percent||0,o=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,u.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:o?(t+100*(o-n-1))/o:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var o=b(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,o=b(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),t)this.push({data:m(e),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var o=this.bytesWritten-e,n=_(this.dirRecords.length,o,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},l.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!u.prototype.error.call(this,e))return!1;for(var o=0;o<t.length;o++)try{t[o].error(e)}catch(e){}return!0},l.prototype.lock=function(){u.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=l},function(e,t,o,n,r){"use strict";var i=o(n),a=o(r),s=function(e,t){var o=e||t,n=i[o];if(!n)throw new Error(o+" is not a valid compression method !");return n};t.generateWorker=function(e,t,o){var n=new a(t.streamFiles,o,t.platform,t.encodeFileName),r=0;try{e.forEach(function(e,o){r++;var i=s(o.options.compression,t.compression),a=o.options.compressionOptions||t.compressionOptions||{},l=o.dir,c=o.date;o._compressWorker(i,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(n)}),n.entriesCount=r}catch(i){n.error(i)}return n}},function(e,t,o,n,r,i,a,s){"use strict";function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new l;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}l.prototype=o(n),l.prototype.loadAsync=o(r),l.support=o(i),l.defaults=o(a),l.version="3.1.3",l.loadAsync=function(e,t){return(new l).loadAsync(e,t)},l.external=o(s),e.exports=l},function(e,t,o,n,r,i,a,s,l,c){"use strict";function u(e){return new g.Promise(function(t,o){var n=e.decompressed.getContentWorker().pipe(new p);n.on("error",function(e){o(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?o(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var h=o(n),g=o(r),d=o(i),h=o(a),f=o(s),p=o(l),y=o(c);e.exports=function(e,t){var o=this;return t=h.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),y.isNode&&y.isStream(e)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var o=new f(t);return o.load(e),o}).then(function(e){var o=[g.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var r=0;r<n.length;r++)o.push(u(n[r]));return g.Promise.all(o)}).then(function(e){for(var n=e.shift(),r=n.files,i=0;i<r.length;i++){var a=r[i];o.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(o.comment=n.zipComment),o})}},function(e,t,o,n,r){"use strict";function i(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var a=o(n),s=o(r);a.inherits(i,s),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},function(e,t,o,n){"use strict";function r(e,t,o){i.call(this,t),this._helper=e;var n=this;e.on("data",function(e,t){n.push(e)||n._helper.pause(),o&&o(t)}).on("error",function(e){n.emit("error",e)}).on("end",function(){n.push(null)})}var i=o(n).Readable,a=o(13);a.inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},function(e,t,o,n,r,i,a,s,l,c,u,h,g){"use strict";function d(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var f=o(n),p=o(r),y=o(i),b=o(a),_=o(s),m=o(l),v=o(c),E=o(u),k=o(h),T=o(g),S=function(e,t,o){var n,r=p.getTypeOf(t),i=p.extend(o||{},_);i.date=i.date||new Date,null!==i.compression&&(i.compression=i.compression.toUpperCase()),"string"==typeof i.unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(e=B(e)),i.createFolders&&(n=C(e))&&A.call(this,n,!0);var a="string"===r&&i.binary===!1&&i.base64===!1;o&&"undefined"!=typeof o.binary||(i.binary=!a);var s=t instanceof m&&0===t.uncompressedSize;(s||i.dir||!t||0===t.length)&&(i.base64=!1,i.binary=!0,t="",i.compression="STORE",r="string");var l=null;l=t instanceof m||t instanceof y?t:k.isNode&&k.isStream(t)?new T(e,t):p.prepareContent(e,t,i.binary,i.optimizedBinaryString,i.base64);var c=new v(e,l,i);this.files[e]=c},C=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},B=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},A=function(e,t){return t="undefined"!=typeof t?t:_.createFolders,e=B(e),this.files[e]||S.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,o,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],o=t.slice(this.root.length,t.length),o&&t.slice(0,this.root.length)===this.root&&e(o,n))},filter:function(e){var t=[];return this.forEach(function(o,n){e(o,n)&&t.push(n)}),t},file:function(e,t,o){if(1===arguments.length){if(d(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,S.call(this,e,t,o),this},folder:function(e){if(!e)return this;if(d(e))return this.filter(function(t,o){return o.dir&&e.test(t)});var t=this.root+e,o=A.call(this,t),n=this.clone();return n.root=o.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var o=this.filter(function(t,o){return o.name.slice(0,e.length)===e}),n=0;n<o.length;n++)delete this.files[o[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,o={};try{if(o=p.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode}),o.type=o.type.toLowerCase(),o.compression=o.compression.toUpperCase(),"binarystring"===o.type&&(o.type="string"),!o.type)throw new Error("No output type specified.");p.checkSupport(o.type),"darwin"!==o.platform&&"freebsd"!==o.platform&&"linux"!==o.platform&&"sunos"!==o.platform||(o.platform="UNIX"),"win32"===o.platform&&(o.platform="DOS");var n=o.comment||this.comment||"";t=E.generateWorker(this,o,n)}catch(r){t=new y("error"),t.error(r)}return new b(t,o.type||"string",o.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=w},function(e,t,o,n,r){"use strict";function i(e){a.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var a=o(n),s=o(r);s.inherits(i,a),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),o=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===t&&this.data[i+1]===o&&this.data[i+2]===n&&this.data[i+3]===r)return i-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),o=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&o===i[1]&&n===i[2]&&r===i[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,o,n){"use strict";function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var i=o(n);r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,o=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)o=(o<<8)+this.byteAt(t);return this.index+=e,o},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=r},function(e,t,o,n,r){"use strict";function i(e){a.call(this,e)}var a=o(n),s=o(r);s.inherits(i,a),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,o,n,r){"use strict";function i(e){a.call(this,e)}var a=o(n),s=o(r);s.inherits(i,a),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,o,n,r){"use strict";function i(e){a.call(this,e)}var a=o(n),s=o(r);s.inherits(i,a),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,o,n,r,i,a,s,l){"use strict";var c=o(n),u=o(r),h=o(i),g=o(a),d=o(s),f=o(l);e.exports=function(e){var t=c.getTypeOf(e);return c.checkSupport(t),"string"!==t||u.uint8array?"nodebuffer"===t?new d(e):u.uint8array?new f(c.transformTo("uint8array",e)):new h(c.transformTo("array",e)):new g(e)}},function(e,t,o,n,r){"use strict";function i(e){a.call(this,"ConvertWorker to "+e),this.destType=e}var a=o(n),s=o(r);s.inherits(i,a),i.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},e.exports=i},function(e,t,o,n,r,i){"use strict";function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var s=o(n),l=o(r),c=o(i);c.inherits(a,s),a.prototype.processChunk=function(e){this.streamInfo.crc32=l(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=a},function(e,t,o,n,r){"use strict";function i(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var a=o(n),s=o(r);a.inherits(i,s),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},e.exports=i},function(e,t,o,n,r){"use strict";function i(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=a.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var a=o(n),s=o(r),l=16384;a.inherits(i,s),i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=l,t=null,o=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,o);break;case"uint8array":t=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":t=this.data.slice(this.index,o)}return this.index=o,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},function(e,t,o,n,r,i,a,s,l,c){(function(t){"use strict";function u(e,t,o,n){var r=null;switch(e){case"blob":return f.newBlob(o,n);case"base64":return r=h(t,o),b.encode(r);default:return r=h(t,o),f.transformTo(e,r)}}function h(e,o){var n,r=0,i=null,a=0;for(n=0;n<o.length;n++)a+=o[n].length;switch(e){case"string":return o.join("");case"array":return Array.prototype.concat.apply([],o);case"uint8array":for(i=new Uint8Array(a),n=0;n<o.length;n++)i.set(o[n],r),r+=o[n].length;return i;case"nodebuffer":return t.concat(o);default:throw new Error("concat : unsupported type '"+e+"'")}}function g(e,t){return new m.Promise(function(o,n){var r=[],i=e._internalType,a=e._outputType,s=e._mimeType;e.on("data",function(e,o){r.push(e),t&&t(o)}).on("error",function(e){r=[],n(e)}).on("end",function(){try{var e=u(a,i,r,s);o(e)}catch(t){n(t)}r=[]}).resume()})}function d(e,t,o){var n=t;switch(t){case"blob":n="arraybuffer";break;case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=o,f.checkSupport(n),this._worker=e.pipe(new p(n)),e.lock()}catch(r){this._worker=new y("error"),this._worker.error(r)}}var f=o(n),p=o(r),y=o(i),b=o(a),_=o(s),m=o(l),v=null;if(_.nodestream)try{v=o(c)}catch(E){}d.prototype={accumulate:function(e){return g(this,e)},on:function(e,t){var o=this;return"data"===e?this._worker.on(e,function(e){t.call(o,e.data,e.meta)}):this._worker.on(e,function(){f.delay(t,arguments,o)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(f.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=d}).call(t,o(1).Buffer)},function(e,t,o,n){(function(e){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(i){try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,s=new a;s.append(r),t.blob=0===s.getBlob("application/zip").size}catch(i){t.blob=!1}}}try{t.nodestream=!!o(n).Readable}catch(i){t.nodestream=!1}}).call(t,o(1).Buffer)},function(e,t,o,n,r,i,a){"use strict";function s(){g.call(this,"utf-8 decode"),this.leftOver=null}function l(){g.call(this,"utf-8 encode")}for(var c=o(n),u=o(r),h=o(i),g=o(a),d=new Array(256),f=0;f<256;f++)d[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;d[254]=d[254]=1;var p=function(e){var t,o,n,r,i,a=e.length,s=0;for(r=0;r<a;r++)o=e.charCodeAt(r),55296===(64512&o)&&r+1<a&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(o=65536+(o-55296<<10)+(n-56320),r++)),s+=o<128?1:o<2048?2:o<65536?3:4;for(t=u.uint8array?new Uint8Array(s):new Array(s),i=0,r=0;i<s;r++)o=e.charCodeAt(r),55296===(64512&o)&&r+1<a&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(o=65536+(o-55296<<10)+(n-56320),r++)),o<128?t[i++]=o:o<2048?(t[i++]=192|o>>>6,t[i++]=128|63&o):o<65536?(t[i++]=224|o>>>12,t[i++]=128|o>>>6&63,t[i++]=128|63&o):(t[i++]=240|o>>>18,t[i++]=128|o>>>12&63,t[i++]=128|o>>>6&63,t[i++]=128|63&o);return t},y=function(e,t){var o;for(t=t||e.length,t>e.length&&(t=e.length),o=t-1;o>=0&&128===(192&e[o]);)o--;return o<0?t:0===o?t:o+d[e[o]]>t?o:t},b=function(e){var t,o,n,r,i=e.length,a=new Array(2*i);for(o=0,t=0;t<i;)if(n=e[t++],n<128)a[o++]=n;else if(r=d[n],r>4)a[o++]=65533,t+=r-1;else{for(n&=2===r?31:3===r?15:7;r>1&&t<i;)n=n<<6|63&e[t++],r--;r>1?a[o++]=65533:n<65536?a[o++]=n:(n-=65536,a[o++]=55296|n>>10&1023,a[o++]=56320|1023&n)}return a.length!==o&&(a.subarray?a=a.subarray(0,o):a.length=o),c.applyFromCharCode(a)};t.utf8encode=function(e){return u.nodebuffer?h.newBuffer(e,"utf-8"):p(e)},t.utf8decode=function(e){return u.nodebuffer?c.transformTo("nodebuffer",e).toString("utf-8"):(e=c.transformTo(u.uint8array?"uint8array":"array",e),b(e))},c.inherits(s,g),s.prototype.processChunk=function(e){var o=c.transformTo(u.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var n=o;o=new Uint8Array(n.length+this.leftOver.length),o.set(this.leftOver,0),o.set(n,this.leftOver.length)}else o=this.leftOver.concat(o);this.leftOver=null}var r=y(o),i=o;r!==o.length&&(u.uint8array?(i=o.subarray(0,r),this.leftOver=o.subarray(r,o.length)):(i=o.slice(0,r),this.leftOver=o.slice(r,o.length))),this.push({data:t.utf8decode(i),meta:e.meta})},s.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=s,c.inherits(l,g),l.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=l},function(e,t,o,n,r,i,a,s){"use strict";function l(e){var t=null;return t=d.uint8array?new Uint8Array(e.length):new Array(e.length),u(e,t)}function c(e){return e}function u(e,t){for(var o=0;o<e.length;++o)t[o]=255&e.charCodeAt(o);return t}function h(e){var o=65536,n=t.getTypeOf(e),r=!0;if("uint8array"===n?r=_.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=_.applyCanBeUsed.nodebuffer),r)for(;o>1;)try{return _.stringifyByChunk(e,n,o)}catch(i){o=Math.floor(o/2)}return _.stringifyByChar(e)}function g(e,t){for(var o=0;o<e.length;o++)t[o]=e[o];return t}var d=o(n),f=o(r),p=o(i),y=o(a),b=o(s);t.newBlob=function(e,o){t.checkSupport("blob");try{return new Blob(e,{type:o})}catch(n){try{for(var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r,a=0;a<e.length;a++)i.append(e[a]);return i.getBlob(o)}catch(n){throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(e,t,o){var n=[],r=0,i=e.length;if(i<=o)return String.fromCharCode.apply(null,e);for(;r<i;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+o,i)))):n.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+o,i)))),r+=o;return n.join("")},stringifyByChar:function(e){for(var t="",o=0;o<e.length;o++)t+=String.fromCharCode(e[o]);return t},applyCanBeUsed:{uint8array:function(){try{return d.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return d.nodebuffer&&1===String.fromCharCode.apply(null,p.newBuffer(1)).length}catch(e){return!1}}()}};t.applyFromCharCode=h;var m={};m.string={string:c,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return m.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,p.newBuffer(e.length))}},m.array={string:h,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return p.newBuffer(e)}},m.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return g(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return p.newBuffer(new Uint8Array(e))}},m.uint8array={string:h,array:function(e){return g(e,new Array(e.length))},arraybuffer:function(e){var t=new Uint8Array(e.length);return e.length&&t.set(e,0),t.buffer},uint8array:c,nodebuffer:function(e){return p.newBuffer(e)}},m.nodebuffer={string:h,array:function(e){return g(e,new Array(e.length))},arraybuffer:function(e){return m.nodebuffer.uint8array(e).buffer},uint8array:function(e){return g(e,new Uint8Array(e.length))},nodebuffer:c},t.transformTo=function(e,o){if(o||(o=""),!e)return o;t.checkSupport(e);var n=t.getTypeOf(o),r=m[n][e](o);return r},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":d.nodebuffer&&p.isBuffer(e)?"nodebuffer":d.uint8array&&e instanceof Uint8Array?"uint8array":d.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){var t=d[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,o,n="";for(o=0;o<(e||"").length;o++)t=e.charCodeAt(o),n+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return n},t.delay=function(e,t,o){y(function(){e.apply(o||null,t||[])})},t.inherits=function(e,t){var o=function(){};o.prototype=t.prototype,e.prototype=new o},t.extend=function(){var e,t,o={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof o[t]&&(o[t]=arguments[e][t]);return o},t.prepareContent=function(e,o,n,r,i){var a=b.Promise.resolve(o).then(function(e){var t=d.blob&&(e instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e))!==-1);return t&&"undefined"!=typeof FileReader?new b.Promise(function(t,o){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){o(e.target.error)},n.readAsArrayBuffer(e)}):e});return a.then(function(o){var a=t.getTypeOf(o);return a?("arraybuffer"===a?o=t.transformTo("uint8array",o):"string"===a&&(i?o=f.decode(o):n&&r!==!0&&(o=l(o))),o):b.Promise.reject(new Error("The data of '"+e+"' is in an unsupported format !"))})}},function(e,t,o,n,r,i,a,s,l){"use strict";function c(e){this.files=[],this.loadOptions=e}var u=o(n),h=o(r),g=o(i),d=o(a),f=(o(s),o(l));c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+h.pretty(t)+", expected "+h.pretty(e)+")")}},isSignature:function(e,t){var o=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4),r=n===t;return this.reader.setIndex(o),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=f.uint8array?"uint8array":"array",o=h.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,o,n=this.zip64EndOfCentralSize-44,r=0;r<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),o=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)e=new d({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,g.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var o=e;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),
this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=o-n;if(r>0)this.isSignature(o,g.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=u(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},function(e,t,o,n,r,i,a,s,l,c){"use strict";function u(e,t){this.options=e,this.loadOptions=t}var h=o(n),g=o(r),d=o(i),f=o(a),p=o(s),y=o(l),b=o(c),_=0,m=3,v=function(e){for(var t in y)if(y.hasOwnProperty(t)&&y[t].magic===e)return y[t];return null};u.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,o;if(e.skip(22),this.fileNameLength=e.readInt(2),o=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=v(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===_&&(this.dosPermissions=63&this.externalFileAttributes),e===m&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=h(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,o,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),o=e.readInt(2),n=e.readData(o),this.extraFields[t]={id:t,length:o,value:n}},handleUTF8:function(){var e=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var o=g.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=g.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=h(e.value);return 1!==t.readInt(1)?null:f(this.fileName)!==t.readInt(4)?null:p.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=h(e.value);return 1!==t.readInt(1)?null:f(this.fileComment)!==t.readInt(4)?null:p.utf8decode(t.readData(e.length-5))}return null}},e.exports=u},function(e,t,o,n,r,i,a,s){"use strict";var l=o(n),c=o(r),u=o(i),h=o(a),g=o(s),d=function(e,t,o){this.name=e,this.dir=o.dir,this.date=o.date,this.comment=o.comment,this.unixPermissions=o.unixPermissions,this.dosPermissions=o.dosPermissions,this._data=t,this._dataBinary=o.binary,this.options={compression:o.compression,compressionOptions:o.compressionOptions}};d.prototype={internalStream:function(e){var t=e.toLowerCase(),o="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var n=this._decompressWorker(),r=!this._dataBinary;return r&&!o&&(n=n.pipe(new u.Utf8EncodeWorker)),!r&&o&&(n=n.pipe(new u.Utf8DecodeWorker)),new l(n,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof h&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var o=this._decompressWorker();return this._dataBinary||(o=o.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(o,e,t)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof g?this._data:new c(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<f.length;y++)d.prototype[f[y]]=p;e.exports=d},function(e,t,o,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==r&&c(this,e)}function a(e,t,o){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof o&&(this.onRejected=o,this.callRejected=this.otherCallRejected)}function s(e,t,o){p(function(){var n;try{n=t(o)}catch(r){return y.reject(e,r)}n===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,n)})}function l(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function o(t){i||(i=!0,y.reject(e,t))}function n(t){i||(i=!0,y.resolve(e,t))}function r(){t(n,o)}var i=!1,a=u(r);"error"===a.status&&o(a.value)}function u(e,t){var o={};try{o.value=e(t),o.status="success"}catch(n){o.status="error",o.value=n}return o}function h(e){return e instanceof this?e:y.resolve(new this(r),e)}function g(e){var t=new this(r);return y.reject(t,e)}function d(e){function t(e,t){function r(e){a[t]=e,++s!==n||i||(i=!0,y.resolve(c,a))}o.resolve(e).then(r,function(e){i||(i=!0,y.reject(c,e))})}var o=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(r);++l<n;)t(e[l],l);return c}function f(e){function t(e){o.resolve(e).then(function(e){i||(i=!0,y.resolve(s,e))},function(e){i||(i=!0,y.reject(s,e))})}var o=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(r);++a<n;)t(e[a]);return s}var p=o(n),y={},b=["REJECTED"],_=["FULFILLED"],m=["PENDING"];e.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===_||"function"!=typeof t&&this.state===b)return this;var o=new this.constructor(r);if(this.state!==m){var n=this.state===_?e:t;s(o,n,this.outcome)}else this.queue.push(new a(o,e,t));return o},a.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){y.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},y.resolve=function(e,t){var o=u(l,t);if("error"===o.status)return y.reject(e,o.value);var n=o.value;if(n)c(e,n);else{e.state=_,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callFulfilled(t)}return e},y.reject=function(e,t){e.state=b,e.outcome=t;for(var o=-1,n=e.queue.length;++o<n;)e.queue[o].callRejected(t);return e},i.resolve=h,i.reject=g,i.all=d,i.race=f},function(e,t,o,n){"use strict";var r=o(n);Object.defineProperty(t,"__esModule",{value:!0}),t.default=r.default({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"})},function(e,t,o,n,r){"use strict";function i(e){if(!e)return c.default;for(var t=0;t<e.args.length;++t){var o=e.args[t];0===t?e.args[t]={name:o,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[t]={name:o,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function a(e){return l({args:e.args,pre:i(e.pre),body:i(e.body),post:i(e.proc),funcName:e.funcName})}function s(e){for(var t=[],o=0;o<e.args.length;++o)t.push("a"+o);var n=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return n(a(e))}var l=o(n),c=o(r);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,o,n){"use strict";function r(e){if(!e)return l;for(var t=0;t<e.args.length;++t){var o=e.args[t];0===t?e.args[t]={name:o,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[t]={name:o,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){return s({args:e.args,pre:r(e.pre),body:r(e.body),post:r(e.proc),funcName:e.funcName})}function a(e){for(var t=[],o=0;o<e.args.length;++o)t.push("a"+o);var n=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return n(i(e))}var s=o(n),l={body:"",args:[],thisVars:[],localVars:[]},c={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in c){var o=c[e];t[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+o+"c"},funcName:e}),t[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+o+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+o+"s"},funcName:e+"s"}),t[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+o+"=s"},rvalue:!0,funcName:e+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in u){var o=u[e];t[e]=a({args:["array","array"],body:{args:["a","b"],body:"a="+o+"b"},funcName:e}),t[e+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+o+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in h){var o=h[e];t[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+o+"c"},funcName:e}),t[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+o+"s"},funcName:e+"s"}),t[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+o+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+o+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var g=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<g.length;++e){var o=g[e];t[o]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:o}),t[o+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:o+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var e=0;e<d.length;++e){var o=d[e];t[o]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:o}),t[o+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:o+"s"}),t[o+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:o+"eq"}),t[o+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:o+"seq"})}}();var f=["atan2","pow"];!function(){for(var e=0;e<f.length;++e){var o=f[e];t[o+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:o+"op"}),t[o+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:o+"ops"}),t[o+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:o+"opeq"}),t[o+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+o,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:o+"opseq"})}}(),t.any=s({args:["array"],pre:l,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=s({args:["array"],pre:l,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=s({args:["array","array"],pre:l,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(e,t,o,n,r){function i(e,t){return e[0]-t[0]}function a(){var e,t=this.stride,o=new Array(t.length);for(e=0;e<o.length;++e)o[e]=[Math.abs(t[e]),e];o.sort(i);var n=new Array(o.length);for(e=0;e<n.length;++e)n[e]=o[e][1];return n}function s(e,t){var o=["View",t,"d",e].join("");t<0&&(o="View_Nil"+e);var n="generic"===e;if(t===-1){var r="function "+o+"(a){this.data=a;};\tvar proto="+o+".prototype;\tproto.dtype='"+e+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+o+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+o+"(a){return new "+o+"(a);}",i=new Function(r);return i()}if(0===t){var r="function "+o+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+o+".prototype;\tproto.dtype='"+e+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+o+"_copy() {\treturn new "+o+"(this.data,this.offset)\t};\tproto.pick=function "+o+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+o+"_get(){\treturn "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+o+"_set(v){\treturn "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+o+"(a,b,c,d){return new "+o+"(a,d)}",i=new Function("TrivialArray",r);return i(d[e][0])}var r=["'use strict'"],s=u(t),l=s.map(function(e){return"i"+e}),c="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),h=s.map(function(e){return"b"+e}).join(","),g=s.map(function(e){return"c"+e}).join(",");r.push("function "+o+"(a,"+h+","+g+",d){this.data=a","this.shape=["+h+"]","this.stride=["+g+"]","this.offset=d|0}","var proto="+o+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),r.push("Object.defineProperty(proto,'size',{get:function "+o+"_size(){\treturn "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?r.push("proto.order=[0]"):(r.push("Object.defineProperty(proto,'order',{get:"),t<4?(r.push("function "+o+"_order(){"),2===t?r.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&r.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):r.push("ORDER})")),r.push("proto.set=function "+o+"_set("+l.join(",")+",v){"),n?r.push("return this.data.set("+c+",v)}"):r.push("return this.data["+c+"]=v}"),r.push("proto.get=function "+o+"_get("+l.join(",")+"){"),n?r.push("return this.data.get("+c+")}"):r.push("return this.data["+c+"]}"),r.push("proto.index=function "+o+"_index(",l.join(),"){return "+c+"}"),r.push("proto.hi=function "+o+"_hi("+l.join(",")+"){return new "+o+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var f=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),p=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});r.push("proto.lo=function "+o+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+p.join(","));for(var y=0;y<t;++y)r.push("if(typeof i"+y+"==='number'&&i"+y+">=0){\td=i"+y+"|0;\tb+=c"+y+"*d;\ta"+y+"-=d}");r.push("return new "+o+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),r.push("proto.step=function "+o+"_step("+l.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;y<t;++y)r.push("if(typeof i"+y+"==='number'){\td=i"+y+"|0;\tif(d<0){\tc+=b"+y+"*(a"+y+"-1);\ta"+y+"=ceil(-a"+y+"/d)\t}else{\ta"+y+"=ceil(a"+y+"/d)\t}\tb"+y+"*=d\t}");r.push("return new "+o+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");for(var b=new Array(t),_=new Array(t),y=0;y<t;++y)b[y]="a[i"+y+"]",_[y]="b[i"+y+"]";r.push("proto.transpose=function "+o+"_transpose("+l+"){"+l.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+o+"(this.data,"+b.join(",")+","+_.join(",")+",this.offset)}"),r.push("proto.pick=function "+o+"_pick("+l+"){var a=[],b=[],c=this.offset");for(var y=0;y<t;++y)r.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");r.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),r.push("return function construct_"+o+"(data,shape,stride,offset){return new "+o+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",r.join("\n"));return i(d[e],a)}function l(e){if(h(e))return"buffer";if(g)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function c(e,t,o,n){if(void 0===e){var r=d.array[0];return r([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===o){o=new Array(i);for(var a=i-1,c=1;a>=0;--a)o[a]=c,c*=t[a]}if(void 0===n){n=0;for(var a=0;a<i;++a)o[a]<0&&(n-=(t[a]-1)*o[a])}for(var u=l(e),h=d[u];h.length<=i+1;)h.push(s(u,h.length-1));var r=h[i+1];return r(e,t,o,n)}var u=o(n),h=o(r),g="undefined"!=typeof Float64Array,d={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=c},function(e,t,o,n,r,i,a){(function(t){function s(e){return this instanceof s?(g.call(this,e),d.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",l)):new s(e)}function l(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function c(e,t){for(var o=0,n=e.length;o<n;o++)t(e[o],o)}e.exports=s;var u=Object.keys||function(e){var t=[];for(var o in e)t.push(o);return t},h=o(n);h.inherits=o(r);var g=o(i),d=o(a);h.inherits(s,g),c(u(d.prototype),function(e){s.prototype[e]||(s.prototype[e]=d.prototype[e])})}).call(t,o(5))},function(e,t,o,n,r,i,a,s,l,c,u){(function(t){function h(e,t){var n=o(s);e=e||{};var r=e.highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(D||(D=o(l).StringDecoder),this.decoder=new D(e.encoding),this.encoding=e.encoding)}function g(e){o(c);return this instanceof g?(this._readableState=new h(e,this),this.readable=!0,void N.call(this)):new g(e)}function d(e,t,o,n,r){var i=b(t,o);if(i)e.emit("error",i);else if(L.isNullOrUndefined(o))t.reading=!1,t.ended||_(e,t);else if(t.objectMode||o&&o.length>0)if(t.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||r||n||(o=t.decoder.write(o)),r||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",o),e.read(0)):(t.length+=t.objectMode?1:o.length,r?t.buffer.unshift(o):t.buffer.push(o),t.needReadable&&m(e)),E(e,t);else r||(t.reading=!1);return f(t)}function f(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){if(e>=F)e=F;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function y(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||L.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=p(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function b(e,t){var o=null;return L.isBuffer(t)||L.isString(t)||L.isNullOrUndefined(t)||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o}function _(e,t){if(t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&(t.buffer.push(o),t.length+=t.objectMode?1:o.length)}t.ended=!0,m(e)}function m(e){var o=e._readableState;o.needReadable=!1,o.emittedReadable||(P("emitReadable",o.flowing),o.emittedReadable=!0,o.sync?t.nextTick(function(){v(e)}):v(e))}function v(e){P("emit readable"),e.emit("readable"),B(e)}function E(e,o){o.readingMore||(o.readingMore=!0,t.nextTick(function(){k(e,o)}))}function k(e,t){for(var o=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(P("maybeReadMore read 0"),e.read(0),o!==t.length);)o=t.length;t.readingMore=!1}function T(e){return function(){var t=e._readableState;P("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&x.listenerCount(e,"data")&&(t.flowing=!0,B(e))}}function S(e,o){o.resumeScheduled||(o.resumeScheduled=!0,t.nextTick(function(){C(e,o)}))}function C(e,t){t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;if(P("flow",t.flowing),t.flowing)do var o=e.read();while(null!==o&&t.flowing)}function A(e,t){var o,n=t.buffer,r=t.length,i=!!t.decoder,a=!!t.objectMode;if(0===n.length)return null;if(0===r)o=null;else if(a)o=n.shift();else if(!e||e>=r)o=i?n.join(""):M.concat(n,r),n.length=0;else if(e<n[0].length){var s=n[0];o=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)o=n.shift();else{o=i?"":new M(e);for(var l=0,c=0,u=n.length;c<u&&l<e;c++){var s=n[0],h=Math.min(e-l,s.length);i?o+=s.slice(0,h):s.copy(o,l,0,h),h<s.length?n[0]=s.slice(h):n.shift(),l+=h}}return o}function w(e){var o=e._readableState;if(o.length>0)throw new Error("endReadable called on non-empty stream");o.endEmitted||(o.ended=!0,t.nextTick(function(){o.endEmitted||0!==o.length||(o.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function I(e,t){for(var o=0,n=e.length;o<n;o++)t(e[o],o)}function O(e,t){for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1}e.exports=g;var R=o(n),M=o(1).Buffer;g.ReadableState=h;var x=o(11).EventEmitter;x.listenerCount||(x.listenerCount=function(e,t){return e.listeners(t).length});var N=o(8),L=o(r);L.inherits=o(i);var D,P=o(a);P=P&&P.debuglog?P.debuglog("stream"):function(){},L.inherits(g,N),g.prototype.push=function(e,t){var o=this._readableState;return L.isString(e)&&!o.objectMode&&(t=t||o.defaultEncoding,t!==o.encoding&&(e=new M(e,t),t="")),d(this,o,e,t,!1)},g.prototype.unshift=function(e){var t=this._readableState;return d(this,t,e,"",!0)},g.prototype.setEncoding=function(e){return D||(D=o(u).StringDecoder),this._readableState.decoder=new D(e),this._readableState.encoding=e,this};var F=8388608;g.prototype.read=function(e){P("read",e);var t=this._readableState,o=e;if((!L.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return P("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):m(this),null;if(e=y(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var n=t.needReadable;P("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,P("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,P("reading or ended",n)),n&&(P("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=y(o,t));var r;return r=e>0?A(e,t):null,L.isNull(r)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),o!==e&&t.ended&&0===t.length&&w(this),L.isNull(r)||this.emit("data",r),r},g.prototype._read=function(e){this.emit("error",new Error("not implemented"))},g.prototype.pipe=function(e,o){function n(e){P("onunpipe"),e===h&&i()}function r(){P("onend"),e.end()}function i(){P("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",p),e.removeListener("error",s),e.removeListener("unpipe",n),h.removeListener("end",r),h.removeListener("end",i),h.removeListener("data",a),!g.awaitDrain||e._writableState&&!e._writableState.needDrain||p()}function a(t){P("ondata");var o=e.write(t);!1===o&&(P("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,h.pause())}function s(t){P("onerror",t),
u(),e.removeListener("error",s),0===x.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),u()}function c(){P("onfinish"),e.removeListener("close",l),u()}function u(){P("unpipe"),h.unpipe(e)}var h=this,g=this._readableState;switch(g.pipesCount){case 0:g.pipes=e;break;case 1:g.pipes=[g.pipes,e];break;default:g.pipes.push(e)}g.pipesCount+=1,P("pipe count=%d opts=%j",g.pipesCount,o);var d=(!o||o.end!==!1)&&e!==t.stdout&&e!==t.stderr,f=d?r:i;g.endEmitted?t.nextTick(f):h.once("end",f),e.on("unpipe",n);var p=T(h);return e.on("drain",p),h.on("data",a),e._events&&e._events.error?R(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",l),e.once("finish",c),e.emit("pipe",h),g.flowing||(P("pipe resume"),h.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var o=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<n;r++)o[r].emit("unpipe",this);return this}var r=O(t.pipes,e);return r===-1?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},g.prototype.on=function(e,o){var n=N.prototype.on.call(this,e,o);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&m(this,r);else{var i=this;t.nextTick(function(){P("readable nexttick read 0"),i.read(0)})}}return n},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(P("resume"),e.flowing=!0,e.reading||(P("resume read 0"),this.read(0)),S(this,e)),this},g.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this._readableState,o=!1,n=this;e.on("end",function(){if(P("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(P("wrapped data"),t.decoder&&(r=t.decoder.write(r)),r&&(t.objectMode||r.length)){var i=n.push(r);i||(o=!0,e.pause())}});for(var r in e)L.isFunction(e[r])&&L.isUndefined(this[r])&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var i=["error","close","destroy","pause","resume"];return I(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){P("wrapped _read",t),o&&(o=!1,e.resume())},n},g._fromList=A}).call(t,o(5))},function(e,t,o,n,r,i){function a(e,t){this.afterTransform=function(e,o){return s(t,e,o)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(e,t,o){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,h.isNullOrUndefined(o)||e.push(o),r&&r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState=new a(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){h.isFunction(this._flush)?this._flush(function(e){c(t,e)}):c(t)})}function c(e,t){if(t)return e.emit("error",t);var o=e._writableState,n=e._transformState;if(o.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=l;var u=o(n),h=o(r);h.inherits=o(i),h.inherits(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,o){throw new Error("not implemented")},l.prototype._write=function(e,t,o){var n=this._transformState;if(n.writecb=o,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;h.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,o,n,r,i,a){(function(t){function s(e,t,o){this.chunk=e,this.encoding=t,this.callback=o}function l(e,t){var n=o(i);e=e||{};var r=e.highWaterMark,a=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:a,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){b(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function c(e){var t=o(a);return this instanceof c||this instanceof t?(this._writableState=new l(e,this),this.writable=!0,void A.call(this)):new c(e)}function u(e,o,n){var r=new Error("write after end");e.emit("error",r),t.nextTick(function(){n(r)})}function h(e,o,n,r){var i=!0;if(!(B.isBuffer(n)||B.isString(n)||B.isNullOrUndefined(n)||o.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),t.nextTick(function(){r(a)}),i=!1}return i}function g(e,t,o){return!e.objectMode&&e.decodeStrings!==!1&&B.isString(t)&&(t=new C(t,o)),t}function d(e,t,o,n,r){o=g(t,o,n),B.isBuffer(o)&&(n="buffer");var i=t.objectMode?1:o.length;t.length+=i;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new s(o,n,r)):f(e,t,!1,i,o,n,r),a}function f(e,t,o,n,r,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,o?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function p(e,o,n,r,i){n?t.nextTick(function(){o.pendingcb--,i(r)}):(o.pendingcb--,i(r)),e._writableState.errorEmitted=!0,e.emit("error",r)}function y(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function b(e,o){var n=e._writableState,r=n.sync,i=n.writecb;if(y(n),o)p(e,n,r,o,i);else{var a=E(e,n);a||n.corked||n.bufferProcessing||!n.buffer.length||v(e,n),r?t.nextTick(function(){_(e,n,a,i)}):_(e,n,a,i)}}function _(e,t,o,n){o||m(e,t),t.pendingcb--,n(),T(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var o=[],n=0;n<t.buffer.length;n++)o.push(t.buffer[n].callback);t.pendingcb++,f(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<o.length;n++)t.pendingcb--,o[n](e)}),t.buffer=[]}else{for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,a=r.encoding,s=r.callback,l=t.objectMode?1:i.length;if(f(e,t,!1,l,i,a,s),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function E(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function k(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function T(e,t){var o=E(e,t);return o&&(0===t.pendingcb?(k(e,t),t.finished=!0,e.emit("finish")):k(e,t)),o}function S(e,o,n){o.ending=!0,T(e,o),n&&(o.finished?t.nextTick(n):e.once("finish",n)),o.ended=!0}e.exports=c;var C=o(1).Buffer;c.WritableState=l;var B=o(n);B.inherits=o(r);var A=o(8);B.inherits(c,A),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(e,t,o){var n=this._writableState,r=!1;return B.isFunction(t)&&(o=t,t=null),B.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),B.isFunction(o)||(o=function(){}),n.ended?u(this,n,o):h(this,n,e,o)&&(n.pendingcb++,r=d(this,n,e,t,o)),r},c.prototype.cork=function(){var e=this._writableState;e.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},c.prototype._write=function(e,t,o){o(new Error("not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,o){var n=this._writableState;B.isFunction(e)?(o=e,e=null,t=null):B.isFunction(t)&&(o=t,t=null),B.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||S(this,n,o)}}).call(t,o(5))},function(e,t,o,n){e.exports=o(n)},function(e,t,o,n){"use strict";var r=o(n);e.exports=function(e,t,o){return o="undefined"!=typeof o?o+"":" ",r(o,t)+e}},function(e,t,o,n,r,i,a){"use strict";var s=o(n).assign,l=o(r),c=o(i),u=o(a),h={};s(h,l,c,u),e.exports=h},function(e,t,o,n,r,i,a,s){"use strict";function l(e){if(!(this instanceof l))return new l(e);this.options=d.assign({level:T,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var o=g.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(o!==v)throw new Error(p[o]);if(t.header&&g.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?f.string2buf(t.dictionary):"[object ArrayBuffer]"===b.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,o=g.deflateSetDictionary(this.strm,n),o!==v)throw new Error(p[o]);this._dict_set=!0}}function c(e,t){var o=new l(t);if(o.push(e,!0),o.err)throw o.msg;return o.result}function u(e,t){return t=t||{},t.raw=!0,c(e,t)}function h(e,t){return t=t||{},t.gzip=!0,c(e,t)}var g=o(n),d=o(r),f=o(i),p=o(a),y=o(s),b=Object.prototype.toString,_=0,m=4,v=0,E=1,k=2,T=-1,S=0,C=8;l.prototype.push=function(e,t){var o,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:t===!0?m:_,"string"==typeof e?r.input=f.string2buf(e):"[object ArrayBuffer]"===b.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new d.Buf8(i),r.next_out=0,r.avail_out=i),o=g.deflate(r,n),o!==E&&o!==v)return this.onEnd(o),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||n!==m&&n!==k)||("string"===this.options.to?this.onData(f.buf2binstring(d.shrinkBuf(r.output,r.next_out))):this.onData(d.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&o!==E);return n===m?(o=g.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===v):n!==k||(this.onEnd(v),r.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){e===v&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=u,t.gzip=h},function(e,t,o,n,r,i,a,s,l,c){"use strict";function u(e){if(!(this instanceof u))return new u(e);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var o=d.inflateInit2(this.strm,t.windowBits);if(o!==y.Z_OK)throw new Error(b[o]);this.header=new m,d.inflateGetHeader(this.strm,this.header)}function h(e,t){var o=new u(t);if(o.push(e,!0),o.err)throw o.msg;return o.result}function g(e,t){return t=t||{},t.raw=!0,h(e,t)}var d=o(n),f=o(r),p=o(i),y=o(a),b=o(s),_=o(l),m=o(c),v=Object.prototype.toString;u.prototype.push=function(e,t){var o,n,r,i,a,s,l=this.strm,c=this.options.chunkSize,u=this.options.dictionary,h=!1;if(this.ended)return!1;n=t===~~t?t:t===!0?y.Z_FINISH:y.Z_NO_FLUSH,"string"==typeof e?l.input=p.binstring2buf(e):"[object ArrayBuffer]"===v.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new f.Buf8(c),l.next_out=0,l.avail_out=c),o=d.inflate(l,y.Z_NO_FLUSH),o===y.Z_NEED_DICT&&u&&(s="string"==typeof u?p.string2buf(u):"[object ArrayBuffer]"===v.call(u)?new Uint8Array(u):u,o=d.inflateSetDictionary(this.strm,s)),o===y.Z_BUF_ERROR&&h===!0&&(o=y.Z_OK,h=!1),o!==y.Z_STREAM_END&&o!==y.Z_OK)return this.onEnd(o),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&o!==y.Z_STREAM_END&&(0!==l.avail_in||n!==y.Z_FINISH&&n!==y.Z_SYNC_FLUSH)||("string"===this.options.to?(r=p.utf8border(l.output,l.next_out),i=l.next_out-r,a=p.buf2string(l.output,r),l.next_out=i,l.avail_out=c-i,i&&f.arraySet(l.output,l.output,r,i,0),this.onData(a)):this.onData(f.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(h=!0)}while((l.avail_in>0||0===l.avail_out)&&o!==y.Z_STREAM_END);return o===y.Z_STREAM_END&&(n=y.Z_FINISH),n===y.Z_FINISH?(o=d.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===y.Z_OK):n!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),l.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===y.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=g,t.ungzip=h},function(e,t,o,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var o="",n=0;n<t;n++)o+=String.fromCharCode(e[n]);return o}var i=o(n),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(l){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){s=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;c[254]=c[254]=1,t.string2buf=function(e){var t,o,n,r,a,s=e.length,l=0;for(r=0;r<s;r++)o=e.charCodeAt(r),55296===(64512&o)&&r+1<s&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(o=65536+(o-55296<<10)+(n-56320),r++)),l+=o<128?1:o<2048?2:o<65536?3:4;for(t=new i.Buf8(l),a=0,r=0;a<l;r++)o=e.charCodeAt(r),55296===(64512&o)&&r+1<s&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(o=65536+(o-55296<<10)+(n-56320),r++)),o<128?t[a++]=o:o<2048?(t[a++]=192|o>>>6,t[a++]=128|63&o):o<65536?(t[a++]=224|o>>>12,t[a++]=128|o>>>6&63,t[a++]=128|63&o):(t[a++]=240|o>>>18,t[a++]=128|o>>>12&63,t[a++]=128|o>>>6&63,t[a++]=128|63&o);return t},t.buf2binstring=function(e){return r(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),o=0,n=t.length;o<n;o++)t[o]=e.charCodeAt(o);return t},t.buf2string=function(e,t){var o,n,i,a,s=t||e.length,l=new Array(2*s);for(n=0,o=0;o<s;)if(i=e[o++],i<128)l[n++]=i;else if(a=c[i],a>4)l[n++]=65533,o+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&o<s;)i=i<<6|63&e[o++],a--;a>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return r(l,n)},t.utf8border=function(e,t){var o;for(t=t||e.length,t>e.length&&(t=e.length),o=t-1;o>=0&&128===(192&e[o]);)o--;return o<0?t:0===o?t:o+c[e[o]]>t?o:t}},function(e,t,o,n){function r(e,t){this.ro=[0,0,0],this.rd=[0,0,0],this.update(e,t)}function i(e,t){return new r(e,t)}var a=o(n);e.exports=i;var s={},l=Math.max;Math.abs;s[a.MMM]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[1]<t[1]||n[2]<t[2]||e.jbyi*t[0]-o[1]+e.cxy>0||e.ibyj*t[1]-o[0]+e.cyx>0||e.jbyk*t[2]-o[1]+e.czy>0||e.kbyj*t[1]-o[2]+e.cyz>0||e.kbyi*t[0]-o[2]+e.cxz>0||e.ibyk*t[2]-o[0]+e.czx>0)},s[a.MMP]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[1]<t[1]||n[2]>o[2]||e.jbyi*t[0]-o[1]+e.cxy>0||e.ibyj*t[1]-o[0]+e.cyx>0||e.jbyk*o[2]-o[1]+e.czy>0||e.kbyj*t[1]-t[2]+e.cyz<0||e.kbyi*t[0]-t[2]+e.cxz<0||e.ibyk*o[2]-o[0]+e.czx>0)},s[a.MPM]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[1]>o[1]||n[2]<t[2]||e.jbyi*t[0]-t[1]+e.cxy<0||e.ibyj*o[1]-o[0]+e.cyx>0||e.jbyk*t[2]-t[1]+e.czy<0||e.kbyj*o[1]-o[2]+e.cyz>0||e.kbyi*t[0]-o[2]+e.cxz>0||e.ibyk*t[2]-o[0]+e.czx>0)},s[a.MPP]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[1]>o[1]||n[2]>o[2]||e.jbyi*t[0]-t[1]+e.cxy<0||e.ibyj*o[1]-o[0]+e.cyx>0||e.jbyk*o[2]-t[1]+e.czy<0||e.kbyj*o[1]-t[2]+e.cyz<0||e.kbyi*t[0]-t[2]+e.cxz<0||e.ibyk*o[2]-o[0]+e.czx>0)},s[a.PMM]=function(e,t,o){var n=e.ro;return!(n[0]>o[0]||n[1]<t[1]||n[2]<t[2]||e.jbyi*o[0]-o[1]+e.cxy>0||e.ibyj*t[1]-t[0]+e.cyx<0||e.jbyk*t[2]-o[1]+e.czy>0||e.kbyj*t[1]-o[2]+e.cyz>0||e.kbyi*o[0]-o[2]+e.cxz>0||e.ibyk*t[2]-t[0]+e.czx<0)},s[a.PMP]=function(e,t,o){var n=e.ro;return!(n[0]>o[0]||n[1]<t[1]||n[2]>o[2]||e.jbyi*o[0]-o[1]+e.cxy>0||e.ibyj*t[1]-t[0]+e.cyx<0||e.jbyk*o[2]-o[1]+e.czy>0||e.kbyj*t[1]-t[2]+e.cyz<0||e.kbyi*o[0]-t[2]+e.cxz<0||e.ibyk*o[2]-t[0]+e.czx<0)},s[a.PPM]=function(e,t,o){var n=e.ro;return!(n[0]>o[0]||n[1]>o[1]||n[2]<t[2]||e.jbyi*o[0]-t[1]+e.cxy<0||e.ibyj*o[1]-t[0]+e.cyx<0||e.jbyk*t[2]-t[1]+e.czy<0||e.kbyj*o[1]-o[2]+e.cyz>0||e.kbyi*o[0]-o[2]+e.cxz>0||e.ibyk*t[2]-t[0]+e.czx<0)},s[a.PPP]=function(e,t,o){var n=e.ro;return!(n[0]>o[0]||n[1]>o[1]||n[2]>o[2]||e.jbyi*o[0]-t[1]+e.cxy<0||e.ibyj*o[1]-t[0]+e.cyx<0||e.jbyk*o[2]-t[1]+e.czy<0||e.kbyj*o[1]-t[2]+e.cyz<0||e.kbyi*o[0]-t[2]+e.cxz<0||e.ibyk*o[2]-t[0]+e.czx<0)},s[a.POO]=function(e,t,o){var n=e.ro,r=n[1],i=n[2];return!(n[0]>o[0]||r<t[1]||r>o[1]||i<t[2]||i>o[2])},s[a.MOO]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[1]<t[1]||n[1]>o[1]||n[2]<t[2]||n[2]>o[2])},s[a.OPO]=function(e,t,o){var n=e.ro;return!(n[1]>o[1]||n[0]<t[0]||n[0]>o[0]||n[2]<t[2]||n[2]>o[2])},s[a.OMO]=function(e,t,o){var n=e.ro;return!(n[1]<t[1]||n[0]<t[0]||n[0]>o[0]||n[2]<t[2]||n[2]>o[2])},s[a.OOP]=function(e,t,o){var n=e.ro;return!(n[2]>o[2]||n[0]<t[0]||n[0]>o[0]||n[1]<t[1]||n[1]>o[1])},s[a.OOM]=function(e,t,o){var n=e.ro;return!(n[2]<t[2]||n[0]<t[0]||n[0]>o[0]||n[1]<t[1]||n[1]>o[1])},s[a.OMM]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[0]>o[0]||n[1]<t[1]||n[2]<t[2]||e.jbyk*t[2]-o[1]+e.czy>0||e.kbyj*t[1]-o[2]+e.cyz>0)},s[a.OMP]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[0]>o[0]||n[1]<t[1]||n[2]>o[2]||e.jbyk*o[2]-o[1]+e.czy>0||e.kbyj*t[1]-t[2]+e.cyz<0)},s[a.OPM]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[0]>o[0]||n[1]>o[1]||n[2]<t[2]||e.jbyk*t[2]-t[1]+e.czy<0||e.kbyj*o[1]-o[2]+e.cyz>0)},s[a.OPP]=function(e,t,o){var n=e.ro;return!(n[0]<t[0]||n[0]>o[0]||n[1]>o[1]||n[2]>o[2]||e.jbyk*o[2]-t[1]+e.czy<0||e.kbyj*o[1]-t[2]+e.cyz<0)},s[a.MOM]=function(e,t,o){var n=e.ro;return!(n[1]<t[1]||n[1]>o[1]||n[0]<t[0]||n[2]<t[2]||e.kbyi*t[0]-o[2]+e.cxz>0||e.ibyk*t[2]-o[0]+e.czx>0)},s[a.MOP]=function(e,t,o){var n=e.ro;return!(n[1]<t[1]||n[1]>o[1]||n[0]<t[0]||n[2]>o[2]||e.kbyi*t[0]-t[2]+e.cxz<0||e.ibyk*o[2]-o[0]+e.czx>0)},s[a.POM]=function(e,t,o){var n=e.ro;return!(n[1]<t[1]||n[1]>o[1]||n[0]>o[0]||n[2]<t[2]||e.kbyi*o[0]-o[2]+e.cxz>0||e.ibyk*t[2]-t[0]+e.czx<0)},s[a.POP]=function(e,t,o){var n=e.ro;return!(n[1]<t[1]||n[1]>o[1]||n[0]>o[0]||n[2]>o[2]||e.kbyi*o[0]-t[2]+e.cxz<0||e.ibyk*o[2]-t[0]+e.czx<0)},s[a.MMO]=function(e,t,o){var n=e.ro;return!(n[2]<t[2]||n[2]>o[2]||n[0]<t[0]||n[1]<t[1]||e.jbyi*t[0]-o[1]+e.cxy>0||e.ibyj*t[1]-o[0]+e.cyx>0)},s[a.MPO]=function(e,t,o){var n=e.ro;return!(n[2]<t[2]||n[2]>o[2]||n[0]<t[0]||n[1]>o[1]||e.jbyi*t[0]-t[1]+e.cxy<0||e.ibyj*o[1]-o[0]+e.cyx>0)},s[a.PMO]=function(e,t,o){var n=e.ro;return!(n[2]<t[2]||n[2]>o[2]||n[0]>o[0]||n[1]<t[1]||e.jbyi*o[0]-o[1]+e.cxy>0||e.ibyj*t[1]-t[0]+e.cyx<0)},s[a.PPO]=function(e,t,o){var n=e.ro;return!(n[2]<t[2]||n[2]>o[2]||n[0]>o[0]||n[1]>o[1]||e.jbyi*o[0]-t[1]+e.cxy<0||e.ibyj*o[1]-t[0]+e.cyx<0)};var c={};c[a.MMM]=function(e,t,o){var n=e.ro,r=t[1],i=(r[0]-n[0])*e.ii,a=(r[1]-n[1])*e.ij,s=(r[2]-n[2])*e.ik;return o[0]=i>=a&&i>=s?1:0,o[1]=a>=s&&a>=i?1:0,o[2]=s>=i&&s>=a?1:0,l(i,a,s)},c[a.MMP]=function(e,t,o){var n=e.ro,r=t[1],i=t[0],a=(r[0]-n[0])*e.ii,s=(r[1]-n[1])*e.ij,c=(i[2]-n[2])*e.ik;return o[0]=a>=s&&a>=c?1:0,o[1]=s>=c&&s>=a?1:0,o[2]=c>=a&&c>=s?-1:0,l(a,s,c)},c[a.MPM]=function(e,t,o){var n=e.ro,r=t[1],i=t[0],a=(r[0]-n[0])*e.ii,s=(i[1]-n[1])*e.ij,c=(r[2]-n[2])*e.ik;return o[0]=a>=s&&a>=c?1:0,o[1]=s>=c&&s>=a?-1:0,o[2]=c>=a&&c>=s?1:0,l(a,s,c)},c[a.MPP]=function(e,t,o){var n=e.ro,r=t[1],i=t[0],a=(r[0]-n[0])*e.ii,s=(i[1]-n[1])*e.ij,c=(i[2]-n[2])*e.ik;return o[0]=a>=s&&a>=c?1:0,o[1]=s>=c&&s>=a?-1:0,o[2]=c>=a&&c>=s?-1:0,l(a,s,c)},c[a.PMM]=function(e,t,o){var n=e.ro,r=t[1],i=t[0],a=(i[0]-n[0])*e.ii,s=(r[1]-n[1])*e.ij,c=(r[2]-n[2])*e.ik;return o[0]=a>=s&&a>=c?-1:0,o[1]=s>=c&&s>=a?1:0,o[2]=c>=a&&c>=s?1:0,l(a,s,c)},c[a.PMP]=function(e,t,o){var n=e.ro,r=t[1],i=t[0],a=(i[0]-n[0])*e.ii,s=(r[1]-n[1])*e.ij,c=(i[2]-n[2])*e.ik;return o[0]=a>=s&&a>=c?-1:0,o[1]=s>=c&&s>=a?1:0,o[2]=c>=a&&c>=s?-1:0,l(a,s,c)},c[a.PPM]=function(e,t,o){var n=e.ro,r=t[0],i=t[1],a=(r[0]-n[0])*e.ii,s=(r[1]-n[1])*e.ij,c=(i[2]-n[2])*e.ik;return o[0]=a>=s&&a>=c?-1:0,o[1]=s>=c&&s>=a?-1:0,o[2]=c>=a&&c>=s?1:0,l(a,s,c)},c[a.PPP]=function(e,t,o){var n=e.ro,r=t[0],i=(r[0]-n[0])*e.ii,a=(r[1]-n[1])*e.ij,s=(r[2]-n[2])*e.ik;return o[0]=i>=a&&i>=s?-1:0,o[1]=a>=s&&a>=i?-1:0,o[2]=s>=i&&s>=a?-1:0,l(i,a,s)},c[a.OMM]=function(e,t,o){var n=e.ro,r=t[1],i=(r[1]-n[1])*e.ij,a=(r[2]-n[2])*e.ik;return o[0]=0,o[1]=i>=a?1:0,o[2]=a>=i?1:0,l(i,a)},c[a.OMP]=function(e,t,o){var n=e.ro,r=(t[1][1]-n[1])*e.ij,i=(t[0][2]-n[2])*e.ik;return o[0]=0,o[1]=r>=i?1:0,o[2]=i>=r?-1:0,l(r,i)},c[a.OPM]=function(e,t,o){var n=e.ro,r=(t[0][1]-n[1])*e.ij,i=(t[1][2]-n[2])*e.ik;return o[0]=0,o[1]=r>=i?-1:0,o[2]=i>=r?1:0,l(r,i)},c[a.OPP]=function(e,t,o){var n=e.ro,r=t[0],i=(r[1]-n[1])*e.ij,a=(r[2]-n[2])*e.ik;return o[0]=0,o[1]=i>=a?-1:0,o[2]=a>=i?-1:0,l(i,a)},c[a.MOM]=function(e,t,o){var n=e.ro,r=t[1],i=(r[0]-n[0])*e.ii,a=(r[2]-n[2])*e.ik;return o[0]=i>=a?1:0,o[1]=0,o[2]=a>=i?1:0,l(i,a)},c[a.MOP]=function(e,t,o){var n=e.ro,r=(t[1][0]-n[0])*e.ii,i=(t[0][2]-n[2])*e.ik;return o[0]=r>=i?1:0,o[1]=0,o[2]=i>=r?-1:0,l(r,i)},c[a.POM]=function(e,t,o){var n=(e.ro,(t[0][0]-e.ro[0])*e.ii),r=(t[1][2]-e.ro[2])*e.ik;return o[0]=n>=r?-1:0,o[1]=0,o[2]=r>=n?1:0,l(n,r)},c[a.POP]=function(e,t,o){var n=e.ro,r=t[0],i=(r[0]-n[0])*e.ii,a=(r[2]-n[2])*e.ik;return o[0]=i>=a?-1:0,o[1]=0,o[2]=a>=i?-1:0,l(i,a)},c[a.MMO]=function(e,t,o){var n=e.ro,r=t[1],i=(r[0]-n[0])*e.ii,a=(r[1]-n[1])*e.ij;return o[0]=i>=a?1:0,o[1]=a>=i?1:0,o[2]=0,l(i,a)},c[a.MPO]=function(e,t,o){var n=e.ro,r=(t[1][0]-n[0])*e.ii,i=(t[0][1]-n[1])*e.ij;return o[0]=r>=i?1:0,o[1]=i>=r?-1:0,o[2]=0,l(r,i)},c[a.PMO]=function(e,t,o){var n=e.ro,r=(t[0][0]-n[0])*e.ii,i=(t[1][1]-n[1])*e.ij;return o[0]=r>=i?-1:0,o[1]=i>=r?1:0,o[2]=0,l(r,i)},c[a.PPO]=function(e,t,o){var n=e.ro,r=t[0],i=(r[0]-n[0])*e.ii,a=(r[1]-n[1])*e.ij;return o[0]=i>=a?-1:0,o[1]=a>=i?-1:0,o[2]=0,l(i,a)},c[a.MOO]=function(e,t,o){return o[0]=1,o[1]=o[2]=0,(t[1][0]-e.ro[0])*e.ii},c[a.POO]=function(e,t,o){return o[0]=-1,o[1]=o[2]=0,(t[0][0]-e.ro[0])*e.ii},c[a.OMO]=function(e,t,o){return o[0]=0,o[1]=1,o[2]=0,(t[1][1]-e.ro[1])*e.ij},c[a.OPO]=function(e,t,o){return o[0]=0,o[1]=-1,o[2]=0,(t[0][1]-e.ro[1])*e.ij},c[a.OOM]=function(e,t,o){return o[0]=o[1]=0,o[2]=1,(t[1][2]-e.ro[2])*e.ik},c[a.OOP]=function(e,t,o){return o[0]=o[1]=0,o[2]=-1,(t[0][2]-e.ro[2])*e.ik},r.prototype.ii=0,r.prototype.ij=0,r.prototype.ik=0,r.prototype.ibyj=0,r.prototype.jbyi=0,r.prototype.jbyk=0,r.prototype.kbyj=0,r.prototype.ibyk=0,r.prototype.kbyi=0,r.prototype.cxy=0,r.prototype.cxz=0,r.prototype.cyx=0,r.prototype.cyz=0,r.prototype.czx=0,r.prototype.czy=0,r.prototype.classification=0,r.prototype.result=null;var u=[0,0,0];r.prototype.intersects=function(e,t){var o=this.classification,n=s[o];if(n&&n(this,e[0],e[1])){if(!t)return!0;var r=c[o],i=Array.isArray(t)?t:u;return r&&r(this,e,i)}return!1},r.prototype.update=function(e,t){var o=this,n=t[0],r=t[1],i=t[2],s=e[0],l=e[1],c=e[2],u=o.ro,h=o.rd;if(n===h[0]&&r===h[1]&&i===h[2]&&s===u[0]&&l===u[1]&&c===u[2])return o;o.ro[0]=s,o.ro[1]=l,o.ro[2]=c,o.rd[0]=n,o.rd[1]=r,o.rd[2]=i;var g=o.ii=0===n?0:1/n,d=o.ij=0===r?0:1/r,f=o.ik=0===i?0:1/i,p=o.ibyj=n*d,y=o.jbyi=r*g,b=o.jbyk=r*f,_=o.kbyj=i*d,m=o.ibyk=n*f,v=o.kbyi=i*g;return o.cxy=l-y*s,o.cxz=c-v*s,o.cyx=s-p*l,o.cyz=c-_*l,o.czx=s-m*c,o.czy=l-b*c,o.classification=a(n,r,i),o}},function(e,t,o,n,r,i){function a(e){return this instanceof a?void s.call(this,e):new a(e)}e.exports=a;var s=o(n),l=o(r);l.inherits=o(i),l.inherits(a,s),a.prototype._transform=function(e,t,o){o(null,e)}},function(e,t,o,n,r,i,a,s){(function(t){function l(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(x||(x=o(a).StringDecoder),this.decoder=new x(e.encoding),this.encoding=e.encoding)}function c(e){return this instanceof c?(this._readableState=new l(e,this),this.readable=!0,void R.call(this)):new c(e)}function u(e,t,o,n,r){var i=f(t,o);if(i)e.emit("error",i);else if(null===o||void 0===o)t.reading=!1,t.ended||p(e,t);else if(t.objectMode||o&&o.length>0)if(t.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||r||n||(o=t.decoder.write(o)),t.length+=t.objectMode?1:o.length,r?t.buffer.unshift(o):(t.reading=!1,t.buffer.push(o)),t.needReadable&&y(e),_(e,t);else r||(t.reading=!1);return h(t)}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function g(e){if(e>=N)e=N;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function d(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=g(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function f(e,t){var o=null;return I.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o}function p(e,t){if(t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&(t.buffer.push(o),t.length+=t.objectMode?1:o.length)}t.ended=!0,t.length>0?y(e):C(e)}function y(e){var o=e._readableState;o.needReadable=!1,o.emittedReadable||(o.emittedReadable=!0,o.sync?t.nextTick(function(){b(e)}):b(e))}function b(e){e.emit("readable")}function _(e,o){o.readingMore||(o.readingMore=!0,t.nextTick(function(){m(e,o)}))}function m(e,t){for(var o=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),o!==t.length);)o=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&E(e)}}function E(e){function t(e,t,r){var i=e.write(o);!1===i&&n.awaitDrain++}var o,n=e._readableState;for(n.awaitDrain=0;n.pipesCount&&null!==(o=e.read());)if(1===n.pipesCount?t(n.pipes,0,null):B(n.pipes,t),e.emit("data",o),n.awaitDrain>0)return;return 0===n.pipesCount?(n.flowing=!1,void(O.listenerCount(e,"data")>0&&T(e))):void(n.ranOut=!0)}function k(){this._readableState.ranOut&&(this._readableState.ranOut=!1,E(this))}function T(e,o){var n=e._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var r=o||!1,i=!1;e.readable=!0,e.pipe=R.prototype.pipe,e.on=e.addListener=R.prototype.on,e.on("readable",function(){i=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,i?t.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function S(e,t){var o,n=t.buffer,r=t.length,i=!!t.decoder,a=!!t.objectMode;if(0===n.length)return null;if(0===r)o=null;else if(a)o=n.shift();else if(!e||e>=r)o=i?n.join(""):I.concat(n,r),n.length=0;else if(e<n[0].length){var s=n[0];o=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)o=n.shift();else{o=i?"":new I(e);for(var l=0,c=0,u=n.length;c<u&&l<e;c++){var s=n[0],h=Math.min(e-l,s.length);i?o+=s.slice(0,h):s.copy(o,l,0,h),h<s.length?n[0]=s.slice(h):n.shift(),l+=h}}return o}function C(e){var o=e._readableState;if(o.length>0)throw new Error("endReadable called on non-empty stream");!o.endEmitted&&o.calledRead&&(o.ended=!0,t.nextTick(function(){o.endEmitted||0!==o.length||(o.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function B(e,t){for(var o=0,n=e.length;o<n;o++)t(e[o],o)}function A(e,t){for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1}e.exports=c;var w=o(n),I=o(1).Buffer;c.ReadableState=l;var O=o(11).EventEmitter;O.listenerCount||(O.listenerCount=function(e,t){return e.listeners(t).length});var R=o(8),M=o(r);M.inherits=o(i);var x;M.inherits(c,R),c.prototype.push=function(e,t){var o=this._readableState;return"string"!=typeof e||o.objectMode||(t=t||o.defaultEncoding,t!==o.encoding&&(e=new I(e,t),t="")),u(this,o,e,t,!1)},c.prototype.unshift=function(e){var t=this._readableState;return u(this,t,e,"",!0)},c.prototype.setEncoding=function(e){x||(x=o(s).StringDecoder),this._readableState.decoder=new x(e),this._readableState.encoding=e};var N=8388608;c.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var o,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return y(this),null;if(e=d(e,t),0===e&&t.ended)return o=null,t.length>0&&t.decoder&&(o=S(e,t),t.length-=o.length),0===t.length&&C(this),o;var r=t.needReadable;return t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=d(n,t)),o=e>0?S(e,t):null,null===o&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&C(this),o},c.prototype._read=function(e){this.emit("error",new Error("not implemented"))},c.prototype.pipe=function(e,o){function n(e){e===u&&i()}function r(){e.end()}function i(){e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("drain",f),e.removeListener("error",a),e.removeListener("unpipe",n),u.removeListener("end",r),u.removeListener("end",i),e._writableState&&!e._writableState.needDrain||f()}function a(t){c(),e.removeListener("error",a),0===O.listenerCount(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",l),c()}function l(){e.removeListener("close",s),c()}function c(){u.unpipe(e)}var u=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1;var g=(!o||o.end!==!1)&&e!==t.stdout&&e!==t.stderr,d=g?r:i;h.endEmitted?t.nextTick(d):u.once("end",d),e.on("unpipe",n);var f=v(u);return e.on("drain",f),e._events&&e._events.error?w(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",s),e.once("finish",l),e.emit("pipe",u),h.flowing||(this.on("readable",k),h.flowing=!0,t.nextTick(function(){E(u)})),e},c.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",k),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var o=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",k),t.flowing=!1;for(var r=0;r<n;r++)o[r].emit("unpipe",this);return this}var r=A(t.pipes,e);return r===-1?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},c.prototype.on=function(e,t){var o=R.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||T(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&y(this,n):this.read(0))}return o},c.prototype.addListener=c.prototype.on,
c.prototype.resume=function(){T(this),this.read(0),this.emit("resume")},c.prototype.pause=function(){T(this,!0),this.emit("pause")},c.prototype.wrap=function(e){var t=this._readableState,o=!1,n=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var i=n.push(r);i||(o=!0,e.pause())}});for(var r in e)"function"==typeof e[r]&&"undefined"==typeof this[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var i=["error","close","destroy","pause","resume"];return B(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){o&&(o=!1,e.resume())},n},c._fromList=S}).call(t,o(5))},function(e,t,o,n,r,i){function a(e,t){this.afterTransform=function(e,o){return s(t,e,o)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(e,t,o){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==o&&void 0!==o&&e.push(o),r&&r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e);var t=(this._transformState=new a(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){c(t,e)}):c(t)})}function c(e,t){if(t)return e.emit("error",t);var o=e._writableState,n=(e._readableState,e._transformState);if(o.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=l;var u=o(n),h=o(r);h.inherits=o(i),h.inherits(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,o){throw new Error("not implemented")},l.prototype._write=function(e,t,o){var n=this._transformState;if(n.writecb=o,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,o,n,r,i){(function(t){function a(e,t,o){this.chunk=e,this.encoding=t,this.callback=o}function s(e,t){e=e||{};var o=e.highWaterMark;this.highWaterMark=o||0===o?o:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){y(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function l(e){var t=o(i);return this instanceof l||this instanceof t?(this._writableState=new s(e,this),this.writable=!0,void C.call(this)):new l(e)}function c(e,o,n){var r=new Error("write after end");e.emit("error",r),t.nextTick(function(){n(r)})}function u(e,o,n,r){var i=!0;if(!T.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!o.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),t.nextTick(function(){r(a)}),i=!1}return i}function h(e,t,o){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new T(t,o)),t}function g(e,t,o,n,r){o=h(t,o,n),T.isBuffer(o)&&(n="buffer");var i=t.objectMode?1:o.length;t.length+=i;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing?t.buffer.push(new a(o,n,r)):d(e,t,i,o,n,r),s}function d(e,t,o,n,r,i){t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1}function f(e,o,n,r,i){n?t.nextTick(function(){i(r)}):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function p(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function y(e,o){var n=e._writableState,r=n.sync,i=n.writecb;if(p(n),o)f(e,n,r,o,i);else{var a=v(e,n);a||n.bufferProcessing||!n.buffer.length||m(e,n),r?t.nextTick(function(){b(e,n,a,i)}):b(e,n,a,i)}}function b(e,t,o,n){o||_(e,t),n(),o&&E(e,t)}function _(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;for(var o=0;o<t.buffer.length;o++){var n=t.buffer[o],r=n.chunk,i=n.encoding,a=n.callback,s=t.objectMode?1:r.length;if(d(e,t,s,r,i,a),t.writing){o++;break}}t.bufferProcessing=!1,o<t.buffer.length?t.buffer=t.buffer.slice(o):t.buffer.length=0}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function E(e,t){var o=v(e,t);return o&&(t.finished=!0,e.emit("finish")),o}function k(e,o,n){o.ending=!0,E(e,o),n&&(o.finished?t.nextTick(n):e.once("finish",n)),o.ended=!0}e.exports=l;var T=o(1).Buffer;l.WritableState=s;var S=o(n);S.inherits=o(r);var C=o(8);S.inherits(l,C),l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},l.prototype.write=function(e,t,o){var n=this._writableState,r=!1;return"function"==typeof t&&(o=t,t=null),T.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof o&&(o=function(){}),n.ended?c(this,n,o):u(this,n,e,o)&&(r=g(this,n,e,t,o)),r},l.prototype._write=function(e,t,o){o(new Error("not implemented"))},l.prototype.end=function(e,t,o){var n=this._writableState;"function"==typeof e?(o=e,e=null,t=null):"function"==typeof t&&(o=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),n.ending||n.finished||k(this,n,o)}}).call(t,o(5))},function(e,t,o,n,r,i,a,s){(function(l){var c=o(8);t=e.exports=o(n),t.Stream=c,t.Readable=t,t.Writable=o(r),t.Duplex=o(i),t.Transform=o(a),t.PassThrough=o(s),l.browser||"disable"!=={NODE_ENV:"production",PUBLIC_URL:"/build-a-farm"}.READABLE_STREAM||(e.exports=o(8))}).call(t,o(5))},function(e,t,o,n){function r(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var o=t.valueOf(e);return o&&o.identity===e?o:i(t,e)}}var i=o(n);e.exports=r},function(e,t,o,n){function r(){var e=i();return{get:function(t,o){var n=e(t);return n.hasOwnProperty("value")?n.value:o},set:function(t,o){e(t).value=o},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}var i=o(n);e.exports=r},function(e,t,o,n,r,i){"use strict";function a(e,t,o,n,r,i,a){var s,u,h=[],g=e.length,d=new Array(2*g+1+r);for(s=0;s<g;++s)d[s]="i"+s;for(s=0;s<g;++s)d[s+g]="j"+s;d[2*g]="oval";var f=new Array(r);for(s=0;s<r;++s)f[s]="opt"+s,d[2*g+1+s]="opt"+s;h.push("var data=array.data,offset=array.offset,shape=array.shape,stride=array.stride");for(var s=0;s<g;++s)h.push(["var stride",s,"=stride[",e[s],"]|0,shape",s,"=shape[",e[s],"]|0"].join("")),s>0?h.push(["var astep",s,"=(stride",s,"-stride",s-1,"*shape",s-1,")|0"].join("")):h.push(["var astep",s,"=stride",s,"|0"].join("")),s>0?h.push(["var vstep",s,"=(vstep",s-1,"*shape",s-1,")|0"].join("")):h.push(["var vstep",s,"=1"].join("")),h.push(["var i",s,"=0,j",s,"=0,k",s,"=0,ustep",s,"=vstep",s,"|0,bstep",s,"=astep",s,"|0"].join(""));for(h.push("var a_ptr=offset>>>0,b_ptr=0,u_ptr=0,v_ptr=0,i=0,d=0,val=0,oval=0"),h.push("var count="+c(g).map(function(e){return"shape"+e}).join("*")),h.push("var visited=mallocUint8(count)"),h.push("for(;i<count;++i){visited[i]=0}"),s=g-1;s>=0;--s)h.push(["for(i",s,"=0;i",s,"<shape",s,";++i",s,"){"].join(""));for(h.push("if(!visited[v_ptr]){"),a?h.push("val=data.get(a_ptr)"):h.push("val=data[a_ptr]"),t?h.push("if(!skip(val)){"):h.push("if(val!==0){"),h.push("oval = val"),s=0;s<g;++s){for(h.push("u_ptr=v_ptr+vstep"+s),h.push("b_ptr=a_ptr+stride"+s),h.push(["j",s,"_loop: for(j",s,"=1+i",s,";j",s,"<shape",s,";++j",s,"){"].join("")),u=s-1;u>=0;--u)h.push(["for(k",u,"=i",u,";k",u,"<j",u,";++k",u,"){"].join(""));for(h.push("if(visited[u_ptr]) { break j"+s+"_loop; }"),a?h.push("val=data.get(b_ptr)"):h.push("val=data[b_ptr]"),t&&o?h.push("if(skip(val) || !merge(oval,val)){ break j"+s+"_loop; }"):t?h.push("if(skip(val) || val !== oval){ break j"+s+"_loop; }"):o?h.push("if(val === 0 || !merge(oval,val)){ break j"+s+"_loop; }"):h.push("if(val === 0 || val !== oval){ break j"+s+"_loop; }"),h.push("++u_ptr"),h.push("b_ptr+=stride0"),h.push("}"),u=1;u<=s;++u)h.push("u_ptr+=ustep"+u),h.push("b_ptr+=bstep"+u),h.push("}");s<g-1&&(h.push("d=j"+s+"-i"+s),h.push(["ustep",s+1,"=(vstep",s+1,"-vstep",s,"*d)|0"].join("")),h.push(["bstep",s+1,"=(stride",s+1,"-stride",s,"*d)|0"].join("")))}for(h.push("u_ptr=v_ptr"),s=g-1;s>=0;--s)h.push(["for(k",s,"=i",s,";k",s,"<j",s,";++k",s,"){"].join(""));for(h.push("visited[u_ptr++]=1"),h.push("}"),s=1;s<g;++s)h.push("u_ptr+=ustep"+s),h.push("}");h.push("append("+d.join(",")+")"),h.push("}"),h.push("}"),h.push("++v_ptr");for(var s=0;s<g;++s)h.push("a_ptr+=astep"+s),h.push("}");h.push("freeUint8(visited)"),i.debug&&(console.log("GENERATING MESHER:"),console.log(h.join("\n")));var p=["append","mallocUint8","freeUint8"];o&&p.unshift("merge"),t&&p.unshift("skip");var y=["array"].concat(f),b=["greedyMesher",g,"d_ord",e.join("s"),t?"skip":"",o?"merge":""].join(""),_=["'use strict';function ",b,"(",y.join(","),"){",h.join("\n"),"};return ",b].join("");p.push(_);var m=Function.apply(void 0,p);return t&&o?m(t,o,n,l.mallocUint8,l.freeUint8):t?m(t,n,l.mallocUint8,l.freeUint8):o?m(o,n,l.mallocUint8,l.freeUint8):m(n,l.mallocUint8,l.freeUint8)}function s(e){if(e=e||{},!e.order)throw new Error("greedy-mesher: Missing order field");if(!e.append)throw new Error("greedy-mesher: Missing append field");return a(e.order,e.skip,e.merge,e.append,0|e.extraArgs,e,!!e.useGetter)}var l=o(n),c=(o(r),o(i));e.exports=s}]));
//# sourceMappingURL=main.601157c8.js.map